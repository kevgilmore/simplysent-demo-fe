function DT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function MT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VT={exports:{}},zh={},LT={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),DR=Symbol.for("react.portal"),MR=Symbol.for("react.fragment"),VR=Symbol.for("react.strict_mode"),LR=Symbol.for("react.profiler"),OR=Symbol.for("react.provider"),FR=Symbol.for("react.context"),$R=Symbol.for("react.forward_ref"),BR=Symbol.for("react.suspense"),zR=Symbol.for("react.memo"),UR=Symbol.for("react.lazy"),mw=Symbol.iterator;function HR(t){return t===null||typeof t!="object"?null:(t=mw&&t[mw]||t["@@iterator"],typeof t=="function"?t:null)}var OT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FT=Object.assign,$T={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=$T,this.updater=n||OT}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BT(){}BT.prototype=Tl.prototype;function D0(t,e,n){this.props=t,this.context=e,this.refs=$T,this.updater=n||OT}var M0=D0.prototype=new BT;M0.constructor=D0;FT(M0,Tl.prototype);M0.isPureReactComponent=!0;var pw=Array.isArray,zT=Object.prototype.hasOwnProperty,V0={current:null},UT={key:!0,ref:!0,__self:!0,__source:!0};function HT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)zT.call(e,r)&&!UT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zu,type:t,key:i,ref:o,props:s,_owner:V0.current}}function WR(t,e){return{$$typeof:zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function L0(t){return typeof t=="object"&&t!==null&&t.$$typeof===zu}function qR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gw=/\/+/g;function Um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qR(""+t.key):e.toString(36)}function lf(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zu:case DR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Um(o,0):r,pw(s)?(n="",t!=null&&(n=t.replace(gw,"$&/")+"/"),lf(s,e,n,"",function(c){return c})):s!=null&&(L0(s)&&(s=WR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",pw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Um(i,a);o+=lf(i,e,n,l,s)}else if(l=HR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Um(i,a++),o+=lf(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sd(t,e,n){if(t==null)return t;var r=[],s=0;return lf(t,r,"","",function(i){return e.call(n,i,s++)}),r}function KR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},cf={transition:null},GR={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:cf,ReactCurrentOwner:V0};function WT(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Sd,forEach:function(t,e,n){Sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sd(t,function(){e++}),e},toArray:function(t){return Sd(t,function(e){return e})||[]},only:function(t){if(!L0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Tl;Fe.Fragment=MR;Fe.Profiler=LR;Fe.PureComponent=D0;Fe.StrictMode=VR;Fe.Suspense=BR;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GR;Fe.act=WT;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=FT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=V0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zT.call(e,l)&&!UT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zu,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:FR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OR,_context:t},t.Consumer=t};Fe.createElement=HT;Fe.createFactory=function(t){var e=HT.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:$R,render:t}};Fe.isValidElement=L0;Fe.lazy=function(t){return{$$typeof:UR,_payload:{_status:-1,_result:t},_init:KR}};Fe.memo=function(t,e){return{$$typeof:zR,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=cf.transition;cf.transition={};try{t()}finally{cf.transition=e}};Fe.unstable_act=WT;Fe.useCallback=function(t,e){return $n.current.useCallback(t,e)};Fe.useContext=function(t){return $n.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return $n.current.useEffect(t,e)};Fe.useId=function(){return $n.current.useId()};Fe.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return $n.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};Fe.useRef=function(t){return $n.current.useRef(t)};Fe.useState=function(t){return $n.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return $n.current.useTransition()};Fe.version="18.3.1";LT.exports=Fe;var T=LT.exports;const ln=MT(T),YR=DT({__proto__:null,default:ln},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR=T,QR=Symbol.for("react.element"),JR=Symbol.for("react.fragment"),ZR=Object.prototype.hasOwnProperty,e5=XR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t5={key:!0,ref:!0,__self:!0,__source:!0};function qT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZR.call(e,r)&&!t5.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:QR,type:t,key:i,ref:o,props:s,_owner:e5.current}}zh.Fragment=JR;zh.jsx=qT;zh.jsxs=qT;VT.exports=zh;var u=VT.exports,KT={exports:{}},hr={},GT={exports:{}},YT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,O){var K=L.length;L.push(O);e:for(;0<K;){var Z=K-1>>>1,se=L[Z];if(0<s(se,O))L[Z]=O,L[K]=se,K=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var O=L[0],K=L.pop();if(K!==O){L[0]=K;e:for(var Z=0,se=L.length,we=se>>>1;Z<we;){var ge=2*(Z+1)-1,Ee=L[ge],ke=ge+1,De=L[ke];if(0>s(Ee,K))ke<se&&0>s(De,Ee)?(L[Z]=De,L[ke]=K,Z=ke):(L[Z]=Ee,L[ge]=K,Z=ge);else if(ke<se&&0>s(De,K))L[Z]=De,L[ke]=K,Z=ke;else break e}}return O}function s(L,O){var K=L.sortIndex-O.sortIndex;return K!==0?K:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,m=3,p=!1,w=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=L)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function j(L){if(_=!1,E(L),!w)if(n(l)!==null)w=!0,z(C);else{var O=n(c);O!==null&&q(j,O.startTime-L)}}function C(L,O){w=!1,_&&(_=!1,v(S),S=-1),p=!0;var K=m;try{for(E(O),h=n(l);h!==null&&(!(h.expirationTime>O)||L&&!R());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var se=Z(h.expirationTime<=O);O=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(l)&&r(l),E(O)}else r(l);h=n(l)}if(h!==null)var we=!0;else{var ge=n(c);ge!==null&&q(j,ge.startTime-O),we=!1}return we}finally{h=null,m=K,p=!1}}var V=!1,x=null,S=-1,A=5,I=-1;function R(){return!(t.unstable_now()-I<A)}function M(){if(x!==null){var L=t.unstable_now();I=L;var O=!0;try{O=x(!0,L)}finally{O?N():(V=!1,x=null)}}else V=!1}var N;if(typeof y=="function")N=function(){y(M)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=M,N=function(){J.postMessage(null)}}else N=function(){P(M,0)};function z(L){x=L,V||(V=!0,N())}function q(L,O){S=P(function(){L(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,z(C))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var K=m;m=O;try{return L()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=m;m=L;try{return O()}finally{m=K}},t.unstable_scheduleCallback=function(L,O,K){var Z=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=K+se,L={id:d++,callback:O,priorityLevel:L,startTime:K,expirationTime:se,sortIndex:-1},K>Z?(L.sortIndex=K,e(c,L),n(l)===null&&L===n(c)&&(_?(v(S),S=-1):_=!0,q(j,K-Z))):(L.sortIndex=se,e(l,L),w||p||(w=!0,z(C))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var O=m;return function(){var K=m;m=O;try{return L.apply(this,arguments)}finally{m=K}}}})(YT);GT.exports=YT;var n5=GT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=T,dr=n5;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XT=new Set,Zc={};function Ko(t,e){el(t,e),el(t+"Capture",e)}function el(t,e){for(Zc[t]=e,t=0;t<e.length;t++)XT.add(e[t])}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=Object.prototype.hasOwnProperty,s5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yw={},vw={};function i5(t){return dg.call(vw,t)?!0:dg.call(yw,t)?!1:s5.test(t)?vw[t]=!0:(yw[t]=!0,!1)}function o5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a5(t,e,n,r){if(e===null||typeof e>"u"||o5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new Bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new Bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new Bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new Bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new Bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new Bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xn[t]=new Bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new Bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new Bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var O0=/[\-:]([a-z])/g;function F0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(O0,F0);xn[e]=new Bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(O0,F0);xn[e]=new Bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(O0,F0);xn[e]=new Bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!1,!1)});xn.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xn[t]=new Bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $0(t,e,n,r){var s=xn.hasOwnProperty(e)?xn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a5(e,n,s,r)&&(n=null),r||s===null?i5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qs=r5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ed=Symbol.for("react.element"),ha=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),fg=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),JT=Symbol.for("react.context"),z0=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),mg=Symbol.for("react.suspense_list"),U0=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),ZT=Symbol.for("react.offscreen"),xw=Symbol.iterator;function Gl(t){return t===null||typeof t!="object"?null:(t=xw&&t[xw]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,Hm;function cc(t){if(Hm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hm=e&&e[1]||""}return`
`+Hm+t}var Wm=!1;function qm(t,e){if(!t||Wm)return"";Wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cc(t):""}function l5(t){switch(t.tag){case 5:return cc(t.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return t=qm(t.type,!1),t;case 11:return t=qm(t.type.render,!1),t;case 1:return t=qm(t.type,!0),t;default:return""}}function pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ma:return"Fragment";case ha:return"Portal";case fg:return"Profiler";case B0:return"StrictMode";case hg:return"Suspense";case mg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case JT:return(t.displayName||"Context")+".Consumer";case QT:return(t._context.displayName||"Context")+".Provider";case z0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U0:return e=t.displayName||null,e!==null?e:pg(t.type)||"Memo";case fi:e=t._payload,t=t._init;try{return pg(t(e))}catch{}}return null}function c5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===B0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Di(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function u5(t){var e=eP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _d(t){t._valueTracker||(t._valueTracker=u5(t))}function tP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=eP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gg(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ww(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Di(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nP(t,e){e=e.checked,e!=null&&$0(t,"checked",e,!1)}function yg(t,e){nP(t,e);var n=Di(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vg(t,e.type,n):e.hasOwnProperty("defaultValue")&&vg(t,e.type,Di(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vg(t,e,n){(e!=="number"||Lf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var uc=Array.isArray;function Fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Di(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(uc(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Di(n)}}function rP(t,e){var n=Di(e.value),r=Di(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Td,iP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Td=Td||document.createElement("div"),Td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d5=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(t){d5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sc[e]=Sc[t]})});function oP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sc.hasOwnProperty(t)&&Sc[t]?(""+e).trim():e+"px"}function aP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=oP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var f5=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bg(t,e){if(e){if(f5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function Sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=null;function H0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _g=null,$a=null,Ba=null;function _w(t){if(t=Wu(t)){if(typeof _g!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Kh(e),_g(t.stateNode,t.type,e))}}function lP(t){$a?Ba?Ba.push(t):Ba=[t]:$a=t}function cP(){if($a){var t=$a,e=Ba;if(Ba=$a=null,_w(t),e)for(t=0;t<e.length;t++)_w(e[t])}}function uP(t,e){return t(e)}function dP(){}var Km=!1;function fP(t,e,n){if(Km)return t(e,n);Km=!0;try{return uP(t,e,n)}finally{Km=!1,($a!==null||Ba!==null)&&(dP(),cP())}}function tu(t,e){var n=t.stateNode;if(n===null)return null;var r=Kh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var Tg=!1;if(Vs)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Tg=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Tg=!1}function h5(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ec=!1,Of=null,Ff=!1,Pg=null,m5={onError:function(t){Ec=!0,Of=t}};function p5(t,e,n,r,s,i,o,a,l){Ec=!1,Of=null,h5.apply(m5,arguments)}function g5(t,e,n,r,s,i,o,a,l){if(p5.apply(this,arguments),Ec){if(Ec){var c=Of;Ec=!1,Of=null}else throw Error(re(198));Ff||(Ff=!0,Pg=c)}}function Go(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tw(t){if(Go(t)!==t)throw Error(re(188))}function y5(t){var e=t.alternate;if(!e){if(e=Go(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Tw(s),t;if(i===r)return Tw(s),e;i=i.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function mP(t){return t=y5(t),t!==null?pP(t):null}function pP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pP(t);if(e!==null)return e;t=t.sibling}return null}var gP=dr.unstable_scheduleCallback,Pw=dr.unstable_cancelCallback,v5=dr.unstable_shouldYield,x5=dr.unstable_requestPaint,$t=dr.unstable_now,w5=dr.unstable_getCurrentPriorityLevel,W0=dr.unstable_ImmediatePriority,yP=dr.unstable_UserBlockingPriority,$f=dr.unstable_NormalPriority,b5=dr.unstable_LowPriority,vP=dr.unstable_IdlePriority,Uh=null,ls=null;function S5(t){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(Uh,t,void 0,(t.current.flags&128)===128)}catch{}}var Wr=Math.clz32?Math.clz32:T5,E5=Math.log,_5=Math.LN2;function T5(t){return t>>>=0,t===0?32:31-(E5(t)/_5|0)|0}var Pd=64,Ad=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=dc(a):(i&=o,i!==0&&(r=dc(i)))}else o=n&~s,o!==0?r=dc(o):i!==0&&(r=dc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wr(e),s=1<<n,r|=t[n],e&=~s;return r}function P5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function A5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Wr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=P5(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ag(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xP(){var t=Pd;return Pd<<=1,!(Pd&4194240)&&(Pd=64),t}function Gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Wr(e),t[e]=n}function C5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Wr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function q0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Wr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ze=0;function wP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bP,K0,SP,EP,_P,Cg=!1,Cd=[],Si=null,Ei=null,_i=null,nu=new Map,ru=new Map,mi=[],I5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aw(t,e){switch(t){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(e.pointerId)}}function Xl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wu(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function k5(t,e,n,r,s){switch(e){case"focusin":return Si=Xl(Si,t,e,n,r,s),!0;case"dragenter":return Ei=Xl(Ei,t,e,n,r,s),!0;case"mouseover":return _i=Xl(_i,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return nu.set(i,Xl(nu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ru.set(i,Xl(ru.get(i)||null,t,e,n,r,s)),!0}return!1}function TP(t){var e=vo(t.target);if(e!==null){var n=Go(e);if(n!==null){if(e=n.tag,e===13){if(e=hP(n),e!==null){t.blockedOn=e,_P(t.priority,function(){SP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ig(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Eg=r,n.target.dispatchEvent(r),Eg=null}else return e=Wu(n),e!==null&&K0(e),t.blockedOn=n,!1;e.shift()}return!0}function Cw(t,e,n){uf(t)&&n.delete(e)}function N5(){Cg=!1,Si!==null&&uf(Si)&&(Si=null),Ei!==null&&uf(Ei)&&(Ei=null),_i!==null&&uf(_i)&&(_i=null),nu.forEach(Cw),ru.forEach(Cw)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,dr.unstable_scheduleCallback(dr.unstable_NormalPriority,N5)))}function su(t){function e(s){return Ql(s,t)}if(0<Cd.length){Ql(Cd[0],t);for(var n=1;n<Cd.length;n++){var r=Cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Si!==null&&Ql(Si,t),Ei!==null&&Ql(Ei,t),_i!==null&&Ql(_i,t),nu.forEach(e),ru.forEach(e),n=0;n<mi.length;n++)r=mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mi.length&&(n=mi[0],n.blockedOn===null);)TP(n),n.blockedOn===null&&mi.shift()}var za=Qs.ReactCurrentBatchConfig,zf=!0;function j5(t,e,n,r){var s=Ze,i=za.transition;za.transition=null;try{Ze=1,G0(t,e,n,r)}finally{Ze=s,za.transition=i}}function R5(t,e,n,r){var s=Ze,i=za.transition;za.transition=null;try{Ze=4,G0(t,e,n,r)}finally{Ze=s,za.transition=i}}function G0(t,e,n,r){if(zf){var s=Ig(t,e,n,r);if(s===null)sp(t,e,r,Uf,n),Aw(t,r);else if(k5(s,t,e,n,r))r.stopPropagation();else if(Aw(t,r),e&4&&-1<I5.indexOf(t)){for(;s!==null;){var i=Wu(s);if(i!==null&&bP(i),i=Ig(t,e,n,r),i===null&&sp(t,e,r,Uf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sp(t,e,r,null,n)}}var Uf=null;function Ig(t,e,n,r){if(Uf=null,t=H0(r),t=vo(t),t!==null)if(e=Go(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uf=t,null}function PP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w5()){case W0:return 1;case yP:return 4;case $f:case b5:return 16;case vP:return 536870912;default:return 16}default:return 16}}var gi=null,Y0=null,df=null;function AP(){if(df)return df;var t,e=Y0,n=e.length,r,s="value"in gi?gi.value:gi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return df=s.slice(t,1<r?1-r:void 0)}function ff(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Id(){return!0}function Iw(){return!1}function mr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Id:Iw,this.isPropagationStopped=Iw,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Id)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Id)},persist:function(){},isPersistent:Id}),e}var Pl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},X0=mr(Pl),Hu=It({},Pl,{view:0,detail:0}),D5=mr(Hu),Ym,Xm,Jl,Hh=It({},Hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jl&&(Jl&&t.type==="mousemove"?(Ym=t.screenX-Jl.screenX,Xm=t.screenY-Jl.screenY):Xm=Ym=0,Jl=t),Ym)},movementY:function(t){return"movementY"in t?t.movementY:Xm}}),kw=mr(Hh),M5=It({},Hh,{dataTransfer:0}),V5=mr(M5),L5=It({},Hu,{relatedTarget:0}),Qm=mr(L5),O5=It({},Pl,{animationName:0,elapsedTime:0,pseudoElement:0}),F5=mr(O5),$5=It({},Pl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B5=mr($5),z5=It({},Pl,{data:0}),Nw=mr(z5),U5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=W5[t])?!!e[t]:!1}function Q0(){return q5}var K5=It({},Hu,{key:function(t){if(t.key){var e=U5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ff(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?H5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q0,charCode:function(t){return t.type==="keypress"?ff(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ff(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),G5=mr(K5),Y5=It({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jw=mr(Y5),X5=It({},Hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q0}),Q5=mr(X5),J5=It({},Pl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z5=mr(J5),eD=It({},Hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tD=mr(eD),nD=[9,13,27,32],J0=Vs&&"CompositionEvent"in window,_c=null;Vs&&"documentMode"in document&&(_c=document.documentMode);var rD=Vs&&"TextEvent"in window&&!_c,CP=Vs&&(!J0||_c&&8<_c&&11>=_c),Rw=" ",Dw=!1;function IP(t,e){switch(t){case"keyup":return nD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function sD(t,e){switch(t){case"compositionend":return kP(e);case"keypress":return e.which!==32?null:(Dw=!0,Rw);case"textInput":return t=e.data,t===Rw&&Dw?null:t;default:return null}}function iD(t,e){if(pa)return t==="compositionend"||!J0&&IP(t,e)?(t=AP(),df=Y0=gi=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CP&&e.locale!=="ko"?null:e.data;default:return null}}var oD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oD[t.type]:e==="textarea"}function NP(t,e,n,r){lP(r),e=Hf(e,"onChange"),0<e.length&&(n=new X0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tc=null,iu=null;function aD(t){zP(t,0)}function Wh(t){var e=va(t);if(tP(e))return t}function lD(t,e){if(t==="change")return e}var jP=!1;if(Vs){var Jm;if(Vs){var Zm="oninput"in document;if(!Zm){var Vw=document.createElement("div");Vw.setAttribute("oninput","return;"),Zm=typeof Vw.oninput=="function"}Jm=Zm}else Jm=!1;jP=Jm&&(!document.documentMode||9<document.documentMode)}function Lw(){Tc&&(Tc.detachEvent("onpropertychange",RP),iu=Tc=null)}function RP(t){if(t.propertyName==="value"&&Wh(iu)){var e=[];NP(e,iu,t,H0(t)),fP(aD,e)}}function cD(t,e,n){t==="focusin"?(Lw(),Tc=e,iu=n,Tc.attachEvent("onpropertychange",RP)):t==="focusout"&&Lw()}function uD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(iu)}function dD(t,e){if(t==="click")return Wh(e)}function fD(t,e){if(t==="input"||t==="change")return Wh(e)}function hD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:hD;function ou(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!dg.call(e,s)||!Gr(t[s],e[s]))return!1}return!0}function Ow(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fw(t,e){var n=Ow(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ow(n)}}function DP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MP(){for(var t=window,e=Lf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lf(t.document)}return e}function Z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mD(t){var e=MP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DP(n.ownerDocument.documentElement,n)){if(r!==null&&Z0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Fw(n,i);var o=Fw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pD=Vs&&"documentMode"in document&&11>=document.documentMode,ga=null,kg=null,Pc=null,Ng=!1;function $w(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ng||ga==null||ga!==Lf(r)||(r=ga,"selectionStart"in r&&Z0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pc&&ou(Pc,r)||(Pc=r,r=Hf(kg,"onSelect"),0<r.length&&(e=new X0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ga)))}function kd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ya={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},ep={},VP={};Vs&&(VP=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function qh(t){if(ep[t])return ep[t];if(!ya[t])return t;var e=ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VP)return ep[t]=e[n];return t}var LP=qh("animationend"),OP=qh("animationiteration"),FP=qh("animationstart"),$P=qh("transitionend"),BP=new Map,Bw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,e){BP.set(t,e),Ko(e,[t])}for(var tp=0;tp<Bw.length;tp++){var np=Bw[tp],gD=np.toLowerCase(),yD=np[0].toUpperCase()+np.slice(1);Gi(gD,"on"+yD)}Gi(LP,"onAnimationEnd");Gi(OP,"onAnimationIteration");Gi(FP,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi($P,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vD=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function zw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,g5(r,e,void 0,t),t.currentTarget=null}function zP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;zw(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;zw(s,a,c),i=l}}}if(Ff)throw t=Pg,Ff=!1,Pg=null,t}function ut(t,e){var n=e[Vg];n===void 0&&(n=e[Vg]=new Set);var r=t+"__bubble";n.has(r)||(UP(e,t,2,!1),n.add(r))}function rp(t,e,n){var r=0;e&&(r|=4),UP(n,t,r,e)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function au(t){if(!t[Nd]){t[Nd]=!0,XT.forEach(function(n){n!=="selectionchange"&&(vD.has(n)||rp(n,!1,t),rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nd]||(e[Nd]=!0,rp("selectionchange",!1,e))}}function UP(t,e,n,r){switch(PP(e)){case 1:var s=j5;break;case 4:s=R5;break;default:s=G0}n=s.bind(null,e,n,t),s=void 0,!Tg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}fP(function(){var c=i,d=H0(n),h=[];e:{var m=BP.get(t);if(m!==void 0){var p=X0,w=t;switch(t){case"keypress":if(ff(n)===0)break e;case"keydown":case"keyup":p=G5;break;case"focusin":w="focus",p=Qm;break;case"focusout":w="blur",p=Qm;break;case"beforeblur":case"afterblur":p=Qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=V5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Q5;break;case LP:case OP:case FP:p=F5;break;case $P:p=Z5;break;case"scroll":p=D5;break;case"wheel":p=tD;break;case"copy":case"cut":case"paste":p=B5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jw}var _=(e&4)!==0,P=!_&&t==="scroll",v=_?m!==null?m+"Capture":null:m;_=[];for(var y=c,E;y!==null;){E=y;var j=E.stateNode;if(E.tag===5&&j!==null&&(E=j,v!==null&&(j=tu(y,v),j!=null&&_.push(lu(y,j,E)))),P)break;y=y.return}0<_.length&&(m=new p(m,w,null,n,d),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Eg&&(w=n.relatedTarget||n.fromElement)&&(vo(w)||w[Ls]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?vo(w):null,w!==null&&(P=Go(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=c),p!==w)){if(_=kw,j="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=jw,j="onPointerLeave",v="onPointerEnter",y="pointer"),P=p==null?m:va(p),E=w==null?m:va(w),m=new _(j,y+"leave",p,n,d),m.target=P,m.relatedTarget=E,j=null,vo(d)===c&&(_=new _(v,y+"enter",w,n,d),_.target=E,_.relatedTarget=P,j=_),P=j,p&&w)t:{for(_=p,v=w,y=0,E=_;E;E=na(E))y++;for(E=0,j=v;j;j=na(j))E++;for(;0<y-E;)_=na(_),y--;for(;0<E-y;)v=na(v),E--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=na(_),v=na(v)}_=null}else _=null;p!==null&&Uw(h,m,p,_,!1),w!==null&&P!==null&&Uw(h,P,w,_,!0)}}e:{if(m=c?va(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=lD;else if(Mw(m))if(jP)C=fD;else{C=uD;var V=cD}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=dD);if(C&&(C=C(t,c))){NP(h,C,n,d);break e}V&&V(t,m,c),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&vg(m,"number",m.value)}switch(V=c?va(c):window,t){case"focusin":(Mw(V)||V.contentEditable==="true")&&(ga=V,kg=c,Pc=null);break;case"focusout":Pc=kg=ga=null;break;case"mousedown":Ng=!0;break;case"contextmenu":case"mouseup":case"dragend":Ng=!1,$w(h,n,d);break;case"selectionchange":if(pD)break;case"keydown":case"keyup":$w(h,n,d)}var x;if(J0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else pa?IP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(CP&&n.locale!=="ko"&&(pa||S!=="onCompositionStart"?S==="onCompositionEnd"&&pa&&(x=AP()):(gi=d,Y0="value"in gi?gi.value:gi.textContent,pa=!0)),V=Hf(c,S),0<V.length&&(S=new Nw(S,t,null,n,d),h.push({event:S,listeners:V}),x?S.data=x:(x=kP(n),x!==null&&(S.data=x)))),(x=rD?sD(t,n):iD(t,n))&&(c=Hf(c,"onBeforeInput"),0<c.length&&(d=new Nw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=x))}zP(h,e)})}function lu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tu(t,n),i!=null&&r.unshift(lu(t,i,s)),i=tu(t,e),i!=null&&r.push(lu(t,i,s))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=tu(n,i),l!=null&&o.unshift(lu(n,l,a))):s||(l=tu(n,i),l!=null&&o.push(lu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xD=/\r\n?/g,wD=/\u0000|\uFFFD/g;function Hw(t){return(typeof t=="string"?t:""+t).replace(xD,`
`).replace(wD,"")}function jd(t,e,n){if(e=Hw(e),Hw(t)!==e&&n)throw Error(re(425))}function Wf(){}var jg=null,Rg=null;function Dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,bD=typeof clearTimeout=="function"?clearTimeout:void 0,Ww=typeof Promise=="function"?Promise:void 0,SD=typeof queueMicrotask=="function"?queueMicrotask:typeof Ww<"u"?function(t){return Ww.resolve(null).then(t).catch(ED)}:Mg;function ED(t){setTimeout(function(){throw t})}function ip(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);su(e)}function Ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Al=Math.random().toString(36).slice(2),ss="__reactFiber$"+Al,cu="__reactProps$"+Al,Ls="__reactContainer$"+Al,Vg="__reactEvents$"+Al,_D="__reactListeners$"+Al,TD="__reactHandles$"+Al;function vo(t){var e=t[ss];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ls]||n[ss]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qw(t);t!==null;){if(n=t[ss])return n;t=qw(t)}return e}t=n,n=t.parentNode}return null}function Wu(t){return t=t[ss]||t[Ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Kh(t){return t[cu]||null}var Lg=[],xa=-1;function Yi(t){return{current:t}}function dt(t){0>xa||(t.current=Lg[xa],Lg[xa]=null,xa--)}function st(t,e){xa++,Lg[xa]=t.current,t.current=e}var Mi={},Rn=Yi(Mi),Qn=Yi(!1),Vo=Mi;function tl(t,e){var n=t.type.contextTypes;if(!n)return Mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jn(t){return t=t.childContextTypes,t!=null}function qf(){dt(Qn),dt(Rn)}function Kw(t,e,n){if(Rn.current!==Mi)throw Error(re(168));st(Rn,e),st(Qn,n)}function HP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(re(108,c5(t)||"Unknown",s));return It({},n,r)}function Kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,Vo=Rn.current,st(Rn,t),st(Qn,Qn.current),!0}function Gw(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=HP(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,dt(Qn),dt(Rn),st(Rn,t)):dt(Qn),st(Qn,n)}var Es=null,Gh=!1,op=!1;function WP(t){Es===null?Es=[t]:Es.push(t)}function PD(t){Gh=!0,WP(t)}function Xi(){if(!op&&Es!==null){op=!0;var t=0,e=Ze;try{var n=Es;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Es=null,Gh=!1}catch(s){throw Es!==null&&(Es=Es.slice(t+1)),gP(W0,Xi),s}finally{Ze=e,op=!1}}return null}var wa=[],ba=0,Gf=null,Yf=0,_r=[],Tr=0,Lo=null,Ts=1,Ps="";function lo(t,e){wa[ba++]=Yf,wa[ba++]=Gf,Gf=t,Yf=e}function qP(t,e,n){_r[Tr++]=Ts,_r[Tr++]=Ps,_r[Tr++]=Lo,Lo=t;var r=Ts;t=Ps;var s=32-Wr(r)-1;r&=~(1<<s),n+=1;var i=32-Wr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ts=1<<32-Wr(e)+s|n<<s|r,Ps=i+t}else Ts=1<<i|n<<s|r,Ps=t}function ev(t){t.return!==null&&(lo(t,1),qP(t,1,0))}function tv(t){for(;t===Gf;)Gf=wa[--ba],wa[ba]=null,Yf=wa[--ba],wa[ba]=null;for(;t===Lo;)Lo=_r[--Tr],_r[Tr]=null,Ps=_r[--Tr],_r[Tr]=null,Ts=_r[--Tr],_r[Tr]=null}var cr=null,lr=null,vt=!1,Br=null;function KP(t,e){var n=Pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,lr=Ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lo!==null?{id:Ts,overflow:Ps}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,lr=null,!0):!1;default:return!1}}function Og(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fg(t){if(vt){var e=lr;if(e){var n=e;if(!Yw(t,e)){if(Og(t))throw Error(re(418));e=Ti(n.nextSibling);var r=cr;e&&Yw(t,e)?KP(r,n):(t.flags=t.flags&-4097|2,vt=!1,cr=t)}}else{if(Og(t))throw Error(re(418));t.flags=t.flags&-4097|2,vt=!1,cr=t}}}function Xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function Rd(t){if(t!==cr)return!1;if(!vt)return Xw(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dg(t.type,t.memoizedProps)),e&&(e=lr)){if(Og(t))throw GP(),Error(re(418));for(;e;)KP(t,e),e=Ti(e.nextSibling)}if(Xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=Ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=cr?Ti(t.stateNode.nextSibling):null;return!0}function GP(){for(var t=lr;t;)t=Ti(t.nextSibling)}function nl(){lr=cr=null,vt=!1}function nv(t){Br===null?Br=[t]:Br.push(t)}var AD=Qs.ReactCurrentBatchConfig;function Zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function Dd(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qw(t){var e=t._init;return e(t._payload)}function YP(t){function e(v,y){if(t){var E=v.deletions;E===null?(v.deletions=[y],v.flags|=16):E.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Ii(v,y),v.index=0,v.sibling=null,v}function i(v,y,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<y?(v.flags|=2,y):E):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,E,j){return y===null||y.tag!==6?(y=hp(E,v.mode,j),y.return=v,y):(y=s(y,E),y.return=v,y)}function l(v,y,E,j){var C=E.type;return C===ma?d(v,y,E.props.children,j,E.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===fi&&Qw(C)===y.type)?(j=s(y,E.props),j.ref=Zl(v,y,E),j.return=v,j):(j=xf(E.type,E.key,E.props,null,v.mode,j),j.ref=Zl(v,y,E),j.return=v,j)}function c(v,y,E,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=mp(E,v.mode,j),y.return=v,y):(y=s(y,E.children||[]),y.return=v,y)}function d(v,y,E,j,C){return y===null||y.tag!==7?(y=Io(E,v.mode,j,C),y.return=v,y):(y=s(y,E),y.return=v,y)}function h(v,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hp(""+y,v.mode,E),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ed:return E=xf(y.type,y.key,y.props,null,v.mode,E),E.ref=Zl(v,null,y),E.return=v,E;case ha:return y=mp(y,v.mode,E),y.return=v,y;case fi:var j=y._init;return h(v,j(y._payload),E)}if(uc(y)||Gl(y))return y=Io(y,v.mode,E,null),y.return=v,y;Dd(v,y)}return null}function m(v,y,E,j){var C=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:a(v,y,""+E,j);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ed:return E.key===C?l(v,y,E,j):null;case ha:return E.key===C?c(v,y,E,j):null;case fi:return C=E._init,m(v,y,C(E._payload),j)}if(uc(E)||Gl(E))return C!==null?null:d(v,y,E,j,null);Dd(v,E)}return null}function p(v,y,E,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(E)||null,a(y,v,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ed:return v=v.get(j.key===null?E:j.key)||null,l(y,v,j,C);case ha:return v=v.get(j.key===null?E:j.key)||null,c(y,v,j,C);case fi:var V=j._init;return p(v,y,E,V(j._payload),C)}if(uc(j)||Gl(j))return v=v.get(E)||null,d(y,v,j,C,null);Dd(y,j)}return null}function w(v,y,E,j){for(var C=null,V=null,x=y,S=y=0,A=null;x!==null&&S<E.length;S++){x.index>S?(A=x,x=null):A=x.sibling;var I=m(v,x,E[S],j);if(I===null){x===null&&(x=A);break}t&&x&&I.alternate===null&&e(v,x),y=i(I,y,S),V===null?C=I:V.sibling=I,V=I,x=A}if(S===E.length)return n(v,x),vt&&lo(v,S),C;if(x===null){for(;S<E.length;S++)x=h(v,E[S],j),x!==null&&(y=i(x,y,S),V===null?C=x:V.sibling=x,V=x);return vt&&lo(v,S),C}for(x=r(v,x);S<E.length;S++)A=p(x,v,S,E[S],j),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?S:A.key),y=i(A,y,S),V===null?C=A:V.sibling=A,V=A);return t&&x.forEach(function(R){return e(v,R)}),vt&&lo(v,S),C}function _(v,y,E,j){var C=Gl(E);if(typeof C!="function")throw Error(re(150));if(E=C.call(E),E==null)throw Error(re(151));for(var V=C=null,x=y,S=y=0,A=null,I=E.next();x!==null&&!I.done;S++,I=E.next()){x.index>S?(A=x,x=null):A=x.sibling;var R=m(v,x,I.value,j);if(R===null){x===null&&(x=A);break}t&&x&&R.alternate===null&&e(v,x),y=i(R,y,S),V===null?C=R:V.sibling=R,V=R,x=A}if(I.done)return n(v,x),vt&&lo(v,S),C;if(x===null){for(;!I.done;S++,I=E.next())I=h(v,I.value,j),I!==null&&(y=i(I,y,S),V===null?C=I:V.sibling=I,V=I);return vt&&lo(v,S),C}for(x=r(v,x);!I.done;S++,I=E.next())I=p(x,v,S,I.value,j),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?S:I.key),y=i(I,y,S),V===null?C=I:V.sibling=I,V=I);return t&&x.forEach(function(M){return e(v,M)}),vt&&lo(v,S),C}function P(v,y,E,j){if(typeof E=="object"&&E!==null&&E.type===ma&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ed:e:{for(var C=E.key,V=y;V!==null;){if(V.key===C){if(C=E.type,C===ma){if(V.tag===7){n(v,V.sibling),y=s(V,E.props.children),y.return=v,v=y;break e}}else if(V.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===fi&&Qw(C)===V.type){n(v,V.sibling),y=s(V,E.props),y.ref=Zl(v,V,E),y.return=v,v=y;break e}n(v,V);break}else e(v,V);V=V.sibling}E.type===ma?(y=Io(E.props.children,v.mode,j,E.key),y.return=v,v=y):(j=xf(E.type,E.key,E.props,null,v.mode,j),j.ref=Zl(v,y,E),j.return=v,v=j)}return o(v);case ha:e:{for(V=E.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(v,y.sibling),y=s(y,E.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=mp(E,v.mode,j),y.return=v,v=y}return o(v);case fi:return V=E._init,P(v,y,V(E._payload),j)}if(uc(E))return w(v,y,E,j);if(Gl(E))return _(v,y,E,j);Dd(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,E),y.return=v,v=y):(n(v,y),y=hp(E,v.mode,j),y.return=v,v=y),o(v)):n(v,y)}return P}var rl=YP(!0),XP=YP(!1),Xf=Yi(null),Qf=null,Sa=null,rv=null;function sv(){rv=Sa=Qf=null}function iv(t){var e=Xf.current;dt(Xf),t._currentValue=e}function $g(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ua(t,e){Qf=t,rv=Sa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function kr(t){var e=t._currentValue;if(rv!==t)if(t={context:t,memoizedValue:e,next:null},Sa===null){if(Qf===null)throw Error(re(308));Sa=t,Qf.dependencies={lanes:0,firstContext:t}}else Sa=Sa.next=t;return e}var xo=null;function ov(t){xo===null?xo=[t]:xo.push(t)}function QP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ov(e)):(n.next=s.next,s.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Os(t,n)}return s=r.interleaved,s===null?(e.next=e,ov(r)):(e.next=s.next,s.next=e),r.interleaved=e,Os(t,n)}function hf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,q0(t,n)}}function Jw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jf(t,e,n,r){var s=t.updateQueue;hi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,_=a;switch(m=e,p=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(p,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,m=typeof w=="function"?w.call(p,h,m):w,m==null)break e;h=It({},h,m);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Fo|=o,t.lanes=o,t.memoizedState=h}}function Zw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var qu={},cs=Yi(qu),uu=Yi(qu),du=Yi(qu);function wo(t){if(t===qu)throw Error(re(174));return t}function lv(t,e){switch(st(du,e),st(uu,t),st(cs,qu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wg(e,t)}dt(cs),st(cs,e)}function sl(){dt(cs),dt(uu),dt(du)}function ZP(t){wo(du.current);var e=wo(cs.current),n=wg(e,t.type);e!==n&&(st(uu,t),st(cs,n))}function cv(t){uu.current===t&&(dt(cs),dt(uu))}var _t=Yi(0);function Zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ap=[];function uv(){for(var t=0;t<ap.length;t++)ap[t]._workInProgressVersionPrimary=null;ap.length=0}var mf=Qs.ReactCurrentDispatcher,lp=Qs.ReactCurrentBatchConfig,Oo=0,At=null,Qt=null,on=null,eh=!1,Ac=!1,fu=0,CD=0;function En(){throw Error(re(321))}function dv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function fv(t,e,n,r,s,i){if(Oo=i,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mf.current=t===null||t.memoizedState===null?jD:RD,t=n(r,s),Ac){i=0;do{if(Ac=!1,fu=0,25<=i)throw Error(re(301));i+=1,on=Qt=null,e.updateQueue=null,mf.current=DD,t=n(r,s)}while(Ac)}if(mf.current=th,e=Qt!==null&&Qt.next!==null,Oo=0,on=Qt=At=null,eh=!1,e)throw Error(re(300));return t}function hv(){var t=fu!==0;return fu=0,t}function ts(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?At.memoizedState=on=t:on=on.next=t,on}function Nr(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=on===null?At.memoizedState:on.next;if(e!==null)on=e,Qt=t;else{if(t===null)throw Error(re(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},on===null?At.memoizedState=on=t:on=on.next=t}return on}function hu(t,e){return typeof e=="function"?e(t):e}function cp(t){var e=Nr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Qt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Oo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,At.lanes|=d,Fo|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Gr(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,At.lanes|=i,Fo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function up(t){var e=Nr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Gr(i,e.memoizedState)||(Yn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function eA(){}function tA(t,e){var n=At,r=Nr(),s=e(),i=!Gr(r.memoizedState,s);if(i&&(r.memoizedState=s,Yn=!0),r=r.queue,mv(sA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,mu(9,rA.bind(null,n,r,s,e),void 0,null),cn===null)throw Error(re(349));Oo&30||nA(n,e,s)}return s}function nA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rA(t,e,n,r){e.value=n,e.getSnapshot=r,iA(e)&&oA(t)}function sA(t,e,n){return n(function(){iA(e)&&oA(t)})}function iA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function oA(t){var e=Os(t,1);e!==null&&qr(e,t,1,-1)}function eb(t){var e=ts();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:t},e.queue=t,t=t.dispatch=ND.bind(null,At,t),[e.memoizedState,t]}function mu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function aA(){return Nr().memoizedState}function pf(t,e,n,r){var s=ts();At.flags|=t,s.memoizedState=mu(1|e,n,void 0,r===void 0?null:r)}function Yh(t,e,n,r){var s=Nr();r=r===void 0?null:r;var i=void 0;if(Qt!==null){var o=Qt.memoizedState;if(i=o.destroy,r!==null&&dv(r,o.deps)){s.memoizedState=mu(e,n,i,r);return}}At.flags|=t,s.memoizedState=mu(1|e,n,i,r)}function tb(t,e){return pf(8390656,8,t,e)}function mv(t,e){return Yh(2048,8,t,e)}function lA(t,e){return Yh(4,2,t,e)}function cA(t,e){return Yh(4,4,t,e)}function uA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dA(t,e,n){return n=n!=null?n.concat([t]):null,Yh(4,4,uA.bind(null,e,t),n)}function pv(){}function fA(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hA(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mA(t,e,n){return Oo&21?(Gr(n,e)||(n=xP(),At.lanes|=n,Fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function ID(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=lp.transition;lp.transition={};try{t(!1),e()}finally{Ze=n,lp.transition=r}}function pA(){return Nr().memoizedState}function kD(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},gA(t))yA(e,n);else if(n=QP(t,e,n,r),n!==null){var s=Fn();qr(n,t,r,s),vA(n,e,r)}}function ND(t,e,n){var r=Ci(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(gA(t))yA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Gr(a,o)){var l=e.interleaved;l===null?(s.next=s,ov(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=QP(t,e,s,r),n!==null&&(s=Fn(),qr(n,t,r,s),vA(n,e,r))}}function gA(t){var e=t.alternate;return t===At||e!==null&&e===At}function yA(t,e){Ac=eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,q0(t,n)}}var th={readContext:kr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},jD={readContext:kr,useCallback:function(t,e){return ts().memoizedState=[t,e===void 0?null:e],t},useContext:kr,useEffect:tb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pf(4194308,4,uA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pf(4194308,4,t,e)},useInsertionEffect:function(t,e){return pf(4,2,t,e)},useMemo:function(t,e){var n=ts();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ts();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kD.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=ts();return t={current:t},e.memoizedState=t},useState:eb,useDebugValue:pv,useDeferredValue:function(t){return ts().memoizedState=t},useTransition:function(){var t=eb(!1),e=t[0];return t=ID.bind(null,t[1]),ts().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,s=ts();if(vt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),cn===null)throw Error(re(349));Oo&30||nA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tb(sA.bind(null,r,i,t),[t]),r.flags|=2048,mu(9,rA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ts(),e=cn.identifierPrefix;if(vt){var n=Ps,r=Ts;n=(r&~(1<<32-Wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RD={readContext:kr,useCallback:fA,useContext:kr,useEffect:mv,useImperativeHandle:dA,useInsertionEffect:lA,useLayoutEffect:cA,useMemo:hA,useReducer:cp,useRef:aA,useState:function(){return cp(hu)},useDebugValue:pv,useDeferredValue:function(t){var e=Nr();return mA(e,Qt.memoizedState,t)},useTransition:function(){var t=cp(hu)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:eA,useSyncExternalStore:tA,useId:pA,unstable_isNewReconciler:!1},DD={readContext:kr,useCallback:fA,useContext:kr,useEffect:mv,useImperativeHandle:dA,useInsertionEffect:lA,useLayoutEffect:cA,useMemo:hA,useReducer:up,useRef:aA,useState:function(){return up(hu)},useDebugValue:pv,useDeferredValue:function(t){var e=Nr();return Qt===null?e.memoizedState=t:mA(e,Qt.memoizedState,t)},useTransition:function(){var t=up(hu)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:eA,useSyncExternalStore:tA,useId:pA,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?Go(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Ci(t),i=Is(r,s);i.payload=e,n!=null&&(i.callback=n),e=Pi(t,i,s),e!==null&&(qr(e,t,s,r),hf(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Ci(t),i=Is(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Pi(t,i,s),e!==null&&(qr(e,t,s,r),hf(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=Ci(t),s=Is(n,r);s.tag=2,e!=null&&(s.callback=e),e=Pi(t,s,r),e!==null&&(qr(e,t,r,n),hf(e,t,r))}};function nb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ou(n,r)||!ou(s,i):!0}function xA(t,e,n){var r=!1,s=Mi,i=e.contextType;return typeof i=="object"&&i!==null?i=kr(i):(s=Jn(e)?Vo:Rn.current,r=e.contextTypes,i=(r=r!=null)?tl(t,s):Mi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function rb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function zg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},av(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=kr(i):(i=Jn(e)?Vo:Rn.current,s.context=tl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xh.enqueueReplaceState(s,s.state,null),Jf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function il(t,e){try{var n="",r=e;do n+=l5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MD=typeof WeakMap=="function"?WeakMap:Map;function wA(t,e,n){n=Is(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rh||(rh=!0,Zg=r),Ug(t,e)},n}function bA(t,e,n){n=Is(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ug(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ug(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=YD.bind(null,t,e,n),e.then(t,t))}function ib(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ob(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Is(-1,1),e.tag=2,Pi(n,e,1))),n.lanes|=1),t)}var VD=Qs.ReactCurrentOwner,Yn=!1;function Ln(t,e,n,r){e.child=t===null?XP(e,null,n,r):rl(e,t.child,n,r)}function ab(t,e,n,r,s){n=n.render;var i=e.ref;return Ua(e,s),r=fv(t,e,n,r,i,s),n=hv(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fs(t,e,s)):(vt&&n&&ev(e),e.flags|=1,Ln(t,e,r,s),e.child)}function lb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ev(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,SA(t,e,i,r,s)):(t=xf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ou,n(o,r)&&t.ref===e.ref)return Fs(t,e,s)}return e.flags|=1,t=Ii(i,r),t.ref=e.ref,t.return=e,e.child=t}function SA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ou(i,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,Fs(t,e,s)}return Hg(t,e,n,r,s)}function EA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(_a,ir),ir|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(_a,ir),ir|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,st(_a,ir),ir|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,st(_a,ir),ir|=r;return Ln(t,e,s,n),e.child}function _A(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hg(t,e,n,r,s){var i=Jn(n)?Vo:Rn.current;return i=tl(e,i),Ua(e,s),n=fv(t,e,n,r,i,s),r=hv(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Fs(t,e,s)):(vt&&r&&ev(e),e.flags|=1,Ln(t,e,n,s),e.child)}function cb(t,e,n,r,s){if(Jn(n)){var i=!0;Kf(e)}else i=!1;if(Ua(e,s),e.stateNode===null)gf(t,e),xA(e,n,r),zg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=kr(c):(c=Jn(n)?Vo:Rn.current,c=tl(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&rb(e,o,r,c),hi=!1;var m=e.memoizedState;o.state=m,Jf(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Qn.current||hi?(typeof d=="function"&&(Bg(e,n,d,r),l=e.memoizedState),(a=hi||nb(e,n,a,r,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,JP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Or(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kr(l):(l=Jn(n)?Vo:Rn.current,l=tl(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&rb(e,o,r,l),hi=!1,m=e.memoizedState,o.state=m,Jf(e,r,o,s);var w=e.memoizedState;a!==h||m!==w||Qn.current||hi?(typeof p=="function"&&(Bg(e,n,p,r),w=e.memoizedState),(c=hi||nb(e,n,c,r,m,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Wg(t,e,n,r,i,s)}function Wg(t,e,n,r,s,i){_A(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gw(e,n,!1),Fs(t,e,i);r=e.stateNode,VD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=rl(e,t.child,null,i),e.child=rl(e,null,a,i)):Ln(t,e,a,i),e.memoizedState=r.state,s&&Gw(e,n,!0),e.child}function TA(t){var e=t.stateNode;e.pendingContext?Kw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kw(t,e.context,!1),lv(t,e.containerInfo)}function ub(t,e,n,r,s){return nl(),nv(s),e.flags|=256,Ln(t,e,n,r),e.child}var qg={dehydrated:null,treeContext:null,retryLane:0};function Kg(t){return{baseLanes:t,cachePool:null,transitions:null}}function PA(t,e,n){var r=e.pendingProps,s=_t.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),st(_t,s&1),t===null)return Fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zh(o,r,0,null),t=Io(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Kg(n),e.memoizedState=qg,t):gv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return LD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ii(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ii(a,i):(i=Io(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Kg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qg,r}return i=t.child,t=i.sibling,r=Ii(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gv(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Md(t,e,n,r){return r!==null&&nv(r),rl(e,t.child,null,n),t=gv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dp(Error(re(422))),Md(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zh({mode:"visible",children:r.children},s,0,null),i=Io(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&rl(e,t.child,null,o),e.child.memoizedState=Kg(o),e.memoizedState=qg,i);if(!(e.mode&1))return Md(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(re(419)),r=dp(i,r,void 0),Md(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yn||a){if(r=cn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(t,s),qr(r,t,s,-1))}return Sv(),r=dp(Error(re(421))),Md(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=XD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,lr=Ti(s.nextSibling),cr=e,vt=!0,Br=null,t!==null&&(_r[Tr++]=Ts,_r[Tr++]=Ps,_r[Tr++]=Lo,Ts=t.id,Ps=t.overflow,Lo=e),e=gv(e,r.children),e.flags|=4096,e)}function db(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$g(t.return,e,n)}function fp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function AA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ln(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&db(t,n,e);else if(t.tag===19)db(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(_t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fp(e,!0,n,null,i);break;case"together":fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OD(t,e,n){switch(e.tag){case 3:TA(e),nl();break;case 5:ZP(e);break;case 1:Jn(e.type)&&Kf(e);break;case 4:lv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;st(Xf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?PA(t,e,n):(st(_t,_t.current&1),t=Fs(t,e,n),t!==null?t.sibling:null);st(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return AA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),st(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,EA(t,e,n)}return Fs(t,e,n)}var CA,Gg,IA,kA;CA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};IA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wo(cs.current);var i=null;switch(n){case"input":s=gg(t,s),r=gg(t,r),i=[];break;case"select":s=It({},s,{value:void 0}),r=It({},r,{value:void 0}),i=[];break;case"textarea":s=xg(t,s),r=xg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wf)}bg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ut("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};kA=function(t,e,n,r){n!==r&&(e.flags|=4)};function ec(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FD(t,e,n){var r=e.pendingProps;switch(tv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(e),null;case 1:return Jn(e.type)&&qf(),_n(e),null;case 3:return r=e.stateNode,sl(),dt(Qn),dt(Rn),uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Br!==null&&(ny(Br),Br=null))),Gg(t,e),_n(e),null;case 5:cv(e);var s=wo(du.current);if(n=e.type,t!==null&&e.stateNode!=null)IA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return _n(e),null}if(t=wo(cs.current),Rd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ss]=e,r[cu]=i,t=(e.mode&1)!==0,n){case"dialog":ut("cancel",r),ut("close",r);break;case"iframe":case"object":case"embed":ut("load",r);break;case"video":case"audio":for(s=0;s<fc.length;s++)ut(fc[s],r);break;case"source":ut("error",r);break;case"img":case"image":case"link":ut("error",r),ut("load",r);break;case"details":ut("toggle",r);break;case"input":ww(r,i),ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ut("invalid",r);break;case"textarea":Sw(r,i),ut("invalid",r)}bg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&jd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&jd(r.textContent,a,t),s=["children",""+a]):Zc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",r)}switch(n){case"input":_d(r),bw(r,i,!0);break;case"textarea":_d(r),Ew(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ss]=e,t[cu]=r,CA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sg(n,r),n){case"dialog":ut("cancel",t),ut("close",t),s=r;break;case"iframe":case"object":case"embed":ut("load",t),s=r;break;case"video":case"audio":for(s=0;s<fc.length;s++)ut(fc[s],t);s=r;break;case"source":ut("error",t),s=r;break;case"img":case"image":case"link":ut("error",t),ut("load",t),s=r;break;case"details":ut("toggle",t),s=r;break;case"input":ww(t,r),s=gg(t,r),ut("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=It({},r,{value:void 0}),ut("invalid",t);break;case"textarea":Sw(t,r),s=xg(t,r),ut("invalid",t);break;default:s=r}bg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?aP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&eu(t,l):typeof l=="number"&&eu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ut("scroll",t):l!=null&&$0(t,i,l,o))}switch(n){case"input":_d(t),bw(t,r,!1);break;case"textarea":_d(t),Ew(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Di(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _n(e),null;case 6:if(t&&e.stateNode!=null)kA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=wo(du.current),wo(cs.current),Rd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ss]=e,(i=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:jd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=e,e.stateNode=r}return _n(e),null;case 13:if(dt(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&lr!==null&&e.mode&1&&!(e.flags&128))GP(),nl(),e.flags|=98560,i=!1;else if(i=Rd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[ss]=e}else nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_n(e),i=!1}else Br!==null&&(ny(Br),Br=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Zt===0&&(Zt=3):Sv())),e.updateQueue!==null&&(e.flags|=4),_n(e),null);case 4:return sl(),Gg(t,e),t===null&&au(e.stateNode.containerInfo),_n(e),null;case 10:return iv(e.type._context),_n(e),null;case 17:return Jn(e.type)&&qf(),_n(e),null;case 19:if(dt(_t),i=e.memoizedState,i===null)return _n(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ec(i,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zf(t),o!==null){for(e.flags|=128,ec(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(_t,_t.current&1|2),e.child}t=t.sibling}i.tail!==null&&$t()>ol&&(e.flags|=128,r=!0,ec(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ec(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return _n(e),null}else 2*$t()-i.renderingStartTime>ol&&n!==1073741824&&(e.flags|=128,r=!0,ec(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$t(),e.sibling=null,n=_t.current,st(_t,r?n&1|2:n&1),e):(_n(e),null);case 22:case 23:return bv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ir&1073741824&&(_n(e),e.subtreeFlags&6&&(e.flags|=8192)):_n(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function $D(t,e){switch(tv(e),e.tag){case 1:return Jn(e.type)&&qf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sl(),dt(Qn),dt(Rn),uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cv(e),null;case 13:if(dt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(_t),null;case 4:return sl(),null;case 10:return iv(e.type._context),null;case 22:case 23:return bv(),null;case 24:return null;default:return null}}var Vd=!1,Cn=!1,BD=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ea(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function Yg(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var fb=!1;function zD(t,e){if(jg=zf,t=MP(),Z0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rg={focusedElem:t,selectionRange:n},zf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,P=w.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Or(e.type,_),P);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(j){Mt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return w=fb,fb=!1,w}function Cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yg(e,n,i)}s=s.next}while(s!==r)}}function Qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NA(t){var e=t.alternate;e!==null&&(t.alternate=null,NA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ss],delete e[cu],delete e[Vg],delete e[_D],delete e[TD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jA(t){return t.tag===5||t.tag===3||t.tag===4}function hb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wf));else if(r!==4&&(t=t.child,t!==null))for(Qg(t,e,n),t=t.sibling;t!==null;)Qg(t,e,n),t=t.sibling}function Jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jg(t,e,n),t=t.sibling;t!==null;)Jg(t,e,n),t=t.sibling}var mn=null,Fr=!1;function ai(t,e,n){for(n=n.child;n!==null;)RA(t,e,n),n=n.sibling}function RA(t,e,n){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(Uh,n)}catch{}switch(n.tag){case 5:Cn||Ea(n,e);case 6:var r=mn,s=Fr;mn=null,ai(t,e,n),mn=r,Fr=s,mn!==null&&(Fr?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(Fr?(t=mn,n=n.stateNode,t.nodeType===8?ip(t.parentNode,n):t.nodeType===1&&ip(t,n),su(t)):ip(mn,n.stateNode));break;case 4:r=mn,s=Fr,mn=n.stateNode.containerInfo,Fr=!0,ai(t,e,n),mn=r,Fr=s;break;case 0:case 11:case 14:case 15:if(!Cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yg(n,e,o),s=s.next}while(s!==r)}ai(t,e,n);break;case 1:if(!Cn&&(Ea(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(Cn=(r=Cn)||n.memoizedState!==null,ai(t,e,n),Cn=r):ai(t,e,n);break;default:ai(t,e,n)}}function mb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BD),e.forEach(function(r){var s=QD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mn=a.stateNode,Fr=!1;break e;case 3:mn=a.stateNode.containerInfo,Fr=!0;break e;case 4:mn=a.stateNode.containerInfo,Fr=!0;break e}a=a.return}if(mn===null)throw Error(re(160));RA(i,o,s),mn=null,Fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Mt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DA(e,t),e=e.sibling}function DA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mr(e,t),Zr(t),r&4){try{Cc(3,t,t.return),Qh(3,t)}catch(_){Mt(t,t.return,_)}try{Cc(5,t,t.return)}catch(_){Mt(t,t.return,_)}}break;case 1:Mr(e,t),Zr(t),r&512&&n!==null&&Ea(n,n.return);break;case 5:if(Mr(e,t),Zr(t),r&512&&n!==null&&Ea(n,n.return),t.flags&32){var s=t.stateNode;try{eu(s,"")}catch(_){Mt(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&nP(s,i),Sg(a,o);var c=Sg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?aP(s,h):d==="dangerouslySetInnerHTML"?iP(s,h):d==="children"?eu(s,h):$0(s,d,h,c)}switch(a){case"input":yg(s,i);break;case"textarea":rP(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Fa(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Fa(s,!!i.multiple,i.defaultValue,!0):Fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[cu]=i}catch(_){Mt(t,t.return,_)}}break;case 6:if(Mr(e,t),Zr(t),r&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Mt(t,t.return,_)}}break;case 3:if(Mr(e,t),Zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{su(e.containerInfo)}catch(_){Mt(t,t.return,_)}break;case 4:Mr(e,t),Zr(t);break;case 13:Mr(e,t),Zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xv=$t())),r&4&&mb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Cn=(c=Cn)||d,Mr(e,t),Cn=c):Mr(e,t),Zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(h=me=d;me!==null;){switch(m=me,p=m.child,m.tag){case 0:case 11:case 14:case 15:Cc(4,m,m.return);break;case 1:Ea(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){Mt(r,n,_)}}break;case 5:Ea(m,m.return);break;case 22:if(m.memoizedState!==null){gb(h);continue}}p!==null?(p.return=m,me=p):gb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=oP("display",o))}catch(_){Mt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Mt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mr(e,t),Zr(t),r&4&&mb(t);break;case 21:break;default:Mr(e,t),Zr(t)}}function Zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jA(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(eu(s,""),r.flags&=-33);var i=hb(t);Jg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hb(t);Qg(t,a,o);break;default:throw Error(re(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UD(t,e,n){me=t,MA(t)}function MA(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var s=me,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Vd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Cn;a=Vd;var c=Cn;if(Vd=o,(Cn=l)&&!c)for(me=s;me!==null;)o=me,l=o.child,o.tag===22&&o.memoizedState!==null?yb(s):l!==null?(l.return=o,me=l):yb(s);for(;i!==null;)me=i,MA(i),i=i.sibling;me=s,Vd=a,Cn=c}pb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,me=i):pb(t)}}function pb(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cn||Qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Or(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Zw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&su(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Cn||e.flags&512&&Xg(e)}catch(m){Mt(e,e.return,m)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function gb(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function yb(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qh(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Mt(e,s,l)}}var i=e.return;try{Xg(e)}catch(l){Mt(e,i,l)}break;case 5:var o=e.return;try{Xg(e)}catch(l){Mt(e,o,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var HD=Math.ceil,nh=Qs.ReactCurrentDispatcher,yv=Qs.ReactCurrentOwner,Cr=Qs.ReactCurrentBatchConfig,Xe=0,cn=null,Gt=null,vn=0,ir=0,_a=Yi(0),Zt=0,pu=null,Fo=0,Jh=0,vv=0,Ic=null,Gn=null,xv=0,ol=1/0,Ss=null,rh=!1,Zg=null,Ai=null,Ld=!1,yi=null,sh=0,kc=0,ey=null,yf=-1,vf=0;function Fn(){return Xe&6?$t():yf!==-1?yf:yf=$t()}function Ci(t){return t.mode&1?Xe&2&&vn!==0?vn&-vn:AD.transition!==null?(vf===0&&(vf=xP()),vf):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:PP(t.type)),t):1}function qr(t,e,n,r){if(50<kc)throw kc=0,ey=null,Error(re(185));Uu(t,n,r),(!(Xe&2)||t!==cn)&&(t===cn&&(!(Xe&2)&&(Jh|=n),Zt===4&&pi(t,vn)),Zn(t,r),n===1&&Xe===0&&!(e.mode&1)&&(ol=$t()+500,Gh&&Xi()))}function Zn(t,e){var n=t.callbackNode;A5(t,e);var r=Bf(t,t===cn?vn:0);if(r===0)n!==null&&Pw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pw(n),e===1)t.tag===0?PD(vb.bind(null,t)):WP(vb.bind(null,t)),SD(function(){!(Xe&6)&&Xi()}),n=null;else{switch(wP(r)){case 1:n=W0;break;case 4:n=yP;break;case 16:n=$f;break;case 536870912:n=vP;break;default:n=$f}n=UA(n,VA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VA(t,e){if(yf=-1,vf=0,Xe&6)throw Error(re(327));var n=t.callbackNode;if(Ha()&&t.callbackNode!==n)return null;var r=Bf(t,t===cn?vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ih(t,r);else{e=r;var s=Xe;Xe|=2;var i=OA();(cn!==t||vn!==e)&&(Ss=null,ol=$t()+500,Co(t,e));do try{KD();break}catch(a){LA(t,a)}while(!0);sv(),nh.current=i,Xe=s,Gt!==null?e=0:(cn=null,vn=0,e=Zt)}if(e!==0){if(e===2&&(s=Ag(t),s!==0&&(r=s,e=ty(t,s))),e===1)throw n=pu,Co(t,0),pi(t,r),Zn(t,$t()),n;if(e===6)pi(t,r);else{if(s=t.current.alternate,!(r&30)&&!WD(s)&&(e=ih(t,r),e===2&&(i=Ag(t),i!==0&&(r=i,e=ty(t,i))),e===1))throw n=pu,Co(t,0),pi(t,r),Zn(t,$t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:co(t,Gn,Ss);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=xv+500-$t(),10<e)){if(Bf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Mg(co.bind(null,t,Gn,Ss),e);break}co(t,Gn,Ss);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Wr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HD(r/1960))-r,10<r){t.timeoutHandle=Mg(co.bind(null,t,Gn,Ss),r);break}co(t,Gn,Ss);break;case 5:co(t,Gn,Ss);break;default:throw Error(re(329))}}}return Zn(t,$t()),t.callbackNode===n?VA.bind(null,t):null}function ty(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=ih(t,e),t!==2&&(e=Gn,Gn=n,e!==null&&ny(e)),t}function ny(t){Gn===null?Gn=t:Gn.push.apply(Gn,t)}function WD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Gr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~vv,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wr(e),r=1<<n;t[n]=-1,e&=~r}}function vb(t){if(Xe&6)throw Error(re(327));Ha();var e=Bf(t,0);if(!(e&1))return Zn(t,$t()),null;var n=ih(t,e);if(t.tag!==0&&n===2){var r=Ag(t);r!==0&&(e=r,n=ty(t,r))}if(n===1)throw n=pu,Co(t,0),pi(t,e),Zn(t,$t()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,Gn,Ss),Zn(t,$t()),null}function wv(t,e){var n=Xe;Xe|=1;try{return t(e)}finally{Xe=n,Xe===0&&(ol=$t()+500,Gh&&Xi())}}function $o(t){yi!==null&&yi.tag===0&&!(Xe&6)&&Ha();var e=Xe;Xe|=1;var n=Cr.transition,r=Ze;try{if(Cr.transition=null,Ze=1,t)return t()}finally{Ze=r,Cr.transition=n,Xe=e,!(Xe&6)&&Xi()}}function bv(){ir=_a.current,dt(_a)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bD(n)),Gt!==null)for(n=Gt.return;n!==null;){var r=n;switch(tv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qf();break;case 3:sl(),dt(Qn),dt(Rn),uv();break;case 5:cv(r);break;case 4:sl();break;case 13:dt(_t);break;case 19:dt(_t);break;case 10:iv(r.type._context);break;case 22:case 23:bv()}n=n.return}if(cn=t,Gt=t=Ii(t.current,null),vn=ir=e,Zt=0,pu=null,vv=Jh=Fo=0,Gn=Ic=null,xo!==null){for(e=0;e<xo.length;e++)if(n=xo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xo=null}return t}function LA(t,e){do{var n=Gt;try{if(sv(),mf.current=th,eh){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}eh=!1}if(Oo=0,on=Qt=At=null,Ac=!1,fu=0,yv.current=null,n===null||n.return===null){Zt=1,pu=e,Gt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ib(o);if(p!==null){p.flags&=-257,ob(p,o,a,i,e),p.mode&1&&sb(i,c,e),e=p,l=c;var w=e.updateQueue;if(w===null){var _=new Set;_.add(l),e.updateQueue=_}else w.add(l);break e}else{if(!(e&1)){sb(i,c,e),Sv();break e}l=Error(re(426))}}else if(vt&&a.mode&1){var P=ib(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ob(P,o,a,i,e),nv(il(l,a));break e}}i=l=il(l,a),Zt!==4&&(Zt=2),Ic===null?Ic=[i]:Ic.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=wA(i,l,e);Jw(i,v);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ai===null||!Ai.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=bA(i,a,e);Jw(i,j);break e}}i=i.return}while(i!==null)}$A(n)}catch(C){e=C,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(!0)}function OA(){var t=nh.current;return nh.current=th,t===null?th:t}function Sv(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),cn===null||!(Fo&268435455)&&!(Jh&268435455)||pi(cn,vn)}function ih(t,e){var n=Xe;Xe|=2;var r=OA();(cn!==t||vn!==e)&&(Ss=null,Co(t,e));do try{qD();break}catch(s){LA(t,s)}while(!0);if(sv(),Xe=n,nh.current=r,Gt!==null)throw Error(re(261));return cn=null,vn=0,Zt}function qD(){for(;Gt!==null;)FA(Gt)}function KD(){for(;Gt!==null&&!v5();)FA(Gt)}function FA(t){var e=zA(t.alternate,t,ir);t.memoizedProps=t.pendingProps,e===null?$A(t):Gt=e,yv.current=null}function $A(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$D(n,e),n!==null){n.flags&=32767,Gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Gt=null;return}}else if(n=FD(n,e,ir),n!==null){Gt=n;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);Zt===0&&(Zt=5)}function co(t,e,n){var r=Ze,s=Cr.transition;try{Cr.transition=null,Ze=1,GD(t,e,n,r)}finally{Cr.transition=s,Ze=r}return null}function GD(t,e,n,r){do Ha();while(yi!==null);if(Xe&6)throw Error(re(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(C5(t,i),t===cn&&(Gt=cn=null,vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ld||(Ld=!0,UA($f,function(){return Ha(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cr.transition,Cr.transition=null;var o=Ze;Ze=1;var a=Xe;Xe|=4,yv.current=null,zD(t,n),DA(n,t),mD(Rg),zf=!!jg,Rg=jg=null,t.current=n,UD(n),x5(),Xe=a,Ze=o,Cr.transition=i}else t.current=n;if(Ld&&(Ld=!1,yi=t,sh=s),i=t.pendingLanes,i===0&&(Ai=null),S5(n.stateNode),Zn(t,$t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rh)throw rh=!1,t=Zg,Zg=null,t;return sh&1&&t.tag!==0&&Ha(),i=t.pendingLanes,i&1?t===ey?kc++:(kc=0,ey=t):kc=0,Xi(),null}function Ha(){if(yi!==null){var t=wP(sh),e=Cr.transition,n=Ze;try{if(Cr.transition=null,Ze=16>t?16:t,yi===null)var r=!1;else{if(t=yi,yi=null,sh=0,Xe&6)throw Error(re(331));var s=Xe;for(Xe|=4,me=t.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Cc(8,d,i)}var h=d.child;if(h!==null)h.return=d,me=h;else for(;me!==null;){d=me;var m=d.sibling,p=d.return;if(NA(d),d===c){me=null;break}if(m!==null){m.return=p,me=m;break}me=p}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,me=v;break e}me=i.return}}var y=t.current;for(me=y;me!==null;){o=me;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,me=E;else e:for(o=y;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qh(9,a)}}catch(C){Mt(a,a.return,C)}if(a===o){me=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,me=j;break e}me=a.return}}if(Xe=s,Xi(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(Uh,t)}catch{}r=!0}return r}finally{Ze=n,Cr.transition=e}}return!1}function xb(t,e,n){e=il(n,e),e=wA(t,e,1),t=Pi(t,e,1),e=Fn(),t!==null&&(Uu(t,1,e),Zn(t,e))}function Mt(t,e,n){if(t.tag===3)xb(t,t,n);else for(;e!==null;){if(e.tag===3){xb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=il(n,t),t=bA(e,t,1),e=Pi(e,t,1),t=Fn(),e!==null&&(Uu(e,1,t),Zn(e,t));break}}e=e.return}}function YD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(vn&n)===n&&(Zt===4||Zt===3&&(vn&130023424)===vn&&500>$t()-xv?Co(t,0):vv|=n),Zn(t,e)}function BA(t,e){e===0&&(t.mode&1?(e=Ad,Ad<<=1,!(Ad&130023424)&&(Ad=4194304)):e=1);var n=Fn();t=Os(t,e),t!==null&&(Uu(t,e,n),Zn(t,n))}function XD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),BA(t,n)}function QD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),BA(t,n)}var zA;zA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,OD(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,vt&&e.flags&1048576&&qP(e,Yf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gf(t,e),t=e.pendingProps;var s=tl(e,Rn.current);Ua(e,n),s=fv(null,e,r,t,s,n);var i=hv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jn(r)?(i=!0,Kf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,av(e),s.updater=Xh,e.stateNode=s,s._reactInternals=e,zg(e,r,t,n),e=Wg(null,e,r,!0,i,n)):(e.tag=0,vt&&i&&ev(e),Ln(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZD(r),t=Or(r,t),s){case 0:e=Hg(null,e,r,t,n);break e;case 1:e=cb(null,e,r,t,n);break e;case 11:e=ab(null,e,r,t,n);break e;case 14:e=lb(null,e,r,Or(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),Hg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),cb(t,e,r,s,n);case 3:e:{if(TA(e),t===null)throw Error(re(387));r=e.pendingProps,i=e.memoizedState,s=i.element,JP(t,e),Jf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=il(Error(re(423)),e),e=ub(t,e,r,n,s);break e}else if(r!==s){s=il(Error(re(424)),e),e=ub(t,e,r,n,s);break e}else for(lr=Ti(e.stateNode.containerInfo.firstChild),cr=e,vt=!0,Br=null,n=XP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===s){e=Fs(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return ZP(e),t===null&&Fg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Dg(r,s)?o=null:i!==null&&Dg(r,i)&&(e.flags|=32),_A(t,e),Ln(t,e,o,n),e.child;case 6:return t===null&&Fg(e),null;case 13:return PA(t,e,n);case 4:return lv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rl(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),ab(t,e,r,s,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,st(Xf,r._currentValue),r._currentValue=o,i!==null)if(Gr(i.value,o)){if(i.children===s.children&&!Qn.current){e=Fs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Is(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$g(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$g(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ln(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ua(e,n),s=kr(s),r=r(s),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,s=Or(r,e.pendingProps),s=Or(r.type,s),lb(t,e,r,s,n);case 15:return SA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),gf(t,e),e.tag=1,Jn(r)?(t=!0,Kf(e)):t=!1,Ua(e,n),xA(e,r,s),zg(e,r,s,n),Wg(null,e,r,!0,t,n);case 19:return AA(t,e,n);case 22:return EA(t,e,n)}throw Error(re(156,e.tag))};function UA(t,e){return gP(t,e)}function JD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(t,e,n,r){return new JD(t,e,n,r)}function Ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZD(t){if(typeof t=="function")return Ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===z0)return 11;if(t===U0)return 14}return 2}function Ii(t,e){var n=t.alternate;return n===null?(n=Pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ev(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ma:return Io(n.children,s,i,e);case B0:o=8,s|=8;break;case fg:return t=Pr(12,n,e,s|2),t.elementType=fg,t.lanes=i,t;case hg:return t=Pr(13,n,e,s),t.elementType=hg,t.lanes=i,t;case mg:return t=Pr(19,n,e,s),t.elementType=mg,t.lanes=i,t;case ZT:return Zh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QT:o=10;break e;case JT:o=9;break e;case z0:o=11;break e;case U0:o=14;break e;case fi:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Pr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Io(t,e,n,r){return t=Pr(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=Pr(22,t,r,e),t.elementType=ZT,t.lanes=n,t.stateNode={isHidden:!1},t}function hp(t,e,n){return t=Pr(6,t,null,e),t.lanes=n,t}function mp(t,e,n){return e=Pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _v(t,e,n,r,s,i,o,a,l){return t=new e3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},av(i),t}function t3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HA(t){if(!t)return Mi;t=t._reactInternals;e:{if(Go(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Jn(n))return HP(t,n,e)}return e}function WA(t,e,n,r,s,i,o,a,l){return t=_v(n,r,!0,t,s,i,o,a,l),t.context=HA(null),n=t.current,r=Fn(),s=Ci(n),i=Is(r,s),i.callback=e??null,Pi(n,i,s),t.current.lanes=s,Uu(t,s,r),Zn(t,r),t}function em(t,e,n,r){var s=e.current,i=Fn(),o=Ci(s);return n=HA(n),e.context===null?e.context=n:e.pendingContext=n,e=Is(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pi(s,e,o),t!==null&&(qr(t,s,o,i),hf(t,s,o)),o}function oh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tv(t,e){wb(t,e),(t=t.alternate)&&wb(t,e)}function n3(){return null}var qA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}tm.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));em(t,e,null,null)};tm.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$o(function(){em(null,t,null,null)}),e[Ls]=null}};function tm(t){this._internalRoot=t}tm.prototype.unstable_scheduleHydration=function(t){if(t){var e=EP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mi.length&&e!==0&&e<mi[n].priority;n++);mi.splice(n,0,t),n===0&&TP(t)}};function Av(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bb(){}function r3(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=oh(o);i.call(c)}}var o=WA(e,r,t,0,null,!1,!1,"",bb);return t._reactRootContainer=o,t[Ls]=o.current,au(t.nodeType===8?t.parentNode:t),$o(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=oh(l);a.call(c)}}var l=_v(t,0,!1,null,null,!1,!1,"",bb);return t._reactRootContainer=l,t[Ls]=l.current,au(t.nodeType===8?t.parentNode:t),$o(function(){em(e,l,n,r)}),l}function rm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oh(o);a.call(l)}}em(e,o,t,s)}else o=r3(n,e,t,s,r);return oh(o)}bP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dc(e.pendingLanes);n!==0&&(q0(e,n|1),Zn(e,$t()),!(Xe&6)&&(ol=$t()+500,Xi()))}break;case 13:$o(function(){var r=Os(t,1);if(r!==null){var s=Fn();qr(r,t,1,s)}}),Tv(t,1)}};K0=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=Fn();qr(e,t,134217728,n)}Tv(t,134217728)}};SP=function(t){if(t.tag===13){var e=Ci(t),n=Os(t,e);if(n!==null){var r=Fn();qr(n,t,e,r)}Tv(t,e)}};EP=function(){return Ze};_P=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};_g=function(t,e,n){switch(e){case"input":if(yg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Kh(r);if(!s)throw Error(re(90));tP(r),yg(r,s)}}}break;case"textarea":rP(t,n);break;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}};uP=wv;dP=$o;var s3={usingClientEntryPoint:!1,Events:[Wu,va,Kh,lP,cP,wv]},tc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i3={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mP(t),t===null?null:t.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||n3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Uh=Od.inject(i3),ls=Od}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s3;hr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Av(e))throw Error(re(200));return t3(t,e,null,n)};hr.createRoot=function(t,e){if(!Av(t))throw Error(re(299));var n=!1,r="",s=qA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=_v(t,1,!1,null,null,n,!1,r,s),t[Ls]=e.current,au(t.nodeType===8?t.parentNode:t),new Pv(e)};hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=mP(e),t=t===null?null:t.stateNode,t};hr.flushSync=function(t){return $o(t)};hr.hydrate=function(t,e,n){if(!nm(e))throw Error(re(200));return rm(null,t,e,!0,n)};hr.hydrateRoot=function(t,e,n){if(!Av(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=qA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WA(e,null,t,1,n??null,s,!1,i,o),t[Ls]=e.current,au(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tm(e)};hr.render=function(t,e,n){if(!nm(e))throw Error(re(200));return rm(null,t,e,!1,n)};hr.unmountComponentAtNode=function(t){if(!nm(t))throw Error(re(40));return t._reactRootContainer?($o(function(){rm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ls]=null})}),!0):!1};hr.unstable_batchedUpdates=wv;hr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nm(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return rm(t,e,n,!1,r)};hr.version="18.3.1-next-f1338f8080-20240426";function KA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KA)}catch(t){console.error(t)}}KA(),KT.exports=hr;var Ku=KT.exports;const o3=MT(Ku),a3=DT({__proto__:null,default:o3},[Ku]);var GA,Sb=Ku;GA=Sb.createRoot,Sb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gt.apply(this,arguments)}var qt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qt||(qt={}));const Eb="popstate";function l3(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return gu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bo(s)}return u3(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function al(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c3(){return Math.random().toString(36).substr(2,8)}function _b(t,e){return{usr:t.state,key:t.key,idx:e}}function gu(t,e,n,r){return n===void 0&&(n=null),gt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qi(e):e,{state:n,key:e&&e.key||r||c3()})}function Bo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function u3(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(gt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=qt.Pop;let P=d(),v=P==null?null:P-c;c=P,l&&l({action:a,location:_.location,delta:v})}function m(P,v){a=qt.Push;let y=gu(_.location,P,v);c=d()+1;let E=_b(y,c),j=_.createHref(y);try{o.pushState(E,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(j)}i&&l&&l({action:a,location:_.location,delta:1})}function p(P,v){a=qt.Replace;let y=gu(_.location,P,v);c=d();let E=_b(y,c),j=_.createHref(y);o.replaceState(E,"",j),i&&l&&l({action:a,location:_.location,delta:0})}function w(P){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof P=="string"?P:Bo(P);return y=y.replace(/ $/,"%20"),Be(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let _={get action(){return a},get location(){return t(s,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Eb,h),l=P,()=>{s.removeEventListener(Eb,h),l=null}},createHref(P){return e(s,P)},createURL:w,encodeLocation(P){let v=w(P);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(P){return o.go(P)}};return _}var Je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Je||(Je={}));const d3=new Set(["lazy","caseSensitive","path","id","index","children"]);function f3(t){return t.index===!0}function ah(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Be(s.index!==!0||!s.children,"Cannot specify children on an index route"),Be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),f3(s)){let l=gt({},s,e(s),{id:a});return r[a]=l,l}else{let l=gt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=ah(s.children,e,o,r)),l}})}function po(t,e,n){return n===void 0&&(n="/"),wf(t,e,n,!1)}function wf(t,e,n,r){let s=typeof e=="string"?Qi(e):e,i=Cl(s.pathname||"/",n);if(i==null)return null;let o=YA(t);m3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=T3(i);a=E3(o[l],c,r)}return a}function h3(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function YA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ks([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),YA(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:b3(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of XA(i.path))s(i,o,l)}),e}function XA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=XA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function m3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:S3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const p3=/^:[\w-]+$/,g3=3,y3=2,v3=1,x3=10,w3=-2,Tb=t=>t==="*";function b3(t,e){let n=t.split("/"),r=n.length;return n.some(Tb)&&(r+=w3),e&&(r+=y3),n.filter(s=>!Tb(s)).reduce((s,i)=>s+(p3.test(i)?g3:i===""?v3:x3),r)}function S3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function E3(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Pb({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Pb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ks([i,h.pathname]),pathnameBase:C3(ks([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=ks([i,h.pathnameBase]))}return o}function Pb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_3(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let _=a[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const w=a[h];return p&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function _3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),al(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function T3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return al(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Qi(t):t;return{pathname:n?n.startsWith("/")?n:A3(n,e):e,search:I3(r),hash:k3(s)}}function A3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cv(t,e){let n=QA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Iv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Qi(t):(s=gt({},t),Be(!s.pathname||!s.pathname.includes("?"),pp("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),pp("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),pp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=P3(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),C3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,k3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class lh{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JA=["post","put","patch","delete"],N3=new Set(JA),j3=["get",...JA],R3=new Set(j3),D3=new Set([301,302,303,307,308]),M3=new Set([307,308]),gp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},V3={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L3=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ZA="remix-router-transitions";function O3(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;s=F=>({hasErrorBoundary:D(F)})}else s=L3;let i={},o=ah(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.dataStrategy||z3,d=t.patchRoutesOnNavigation,h=gt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,p=new Set,w=null,_=null,P=null,v=t.hydrationData!=null,y=po(o,t.history.location,l),E=!1,j=null;if(y==null&&!d){let D=qn(404,{pathname:t.history.location.pathname}),{matches:F,route:B}=Lb(o);y=F,j={[B.id]:D}}y&&!t.hydrationData&&rt(y,o,t.history.location.pathname).active&&(y=null);let C;if(y)if(y.some(D=>D.route.lazy))C=!1;else if(!y.some(D=>D.route.loader))C=!0;else if(h.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null;if(F){let B=y.findIndex(X=>F[X.route.id]!==void 0);C=y.slice(0,B+1).every(X=>!sy(X.route,D,F))}else C=y.every(B=>!sy(B.route,D,F))}else C=t.hydrationData!=null;else if(C=!1,y=[],h.v7_partialHydration){let D=rt(null,o,t.history.location.pathname);D.active&&D.matches&&(E=!0,y=D.matches)}let V,x={historyAction:t.history.action,location:t.history.location,matches:y,initialized:C,navigation:gp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},S=qt.Pop,A=!1,I,R=!1,M=new Map,N=null,H=!1,J=!1,z=[],q=new Set,L=new Map,O=0,K=-1,Z=new Map,se=new Set,we=new Map,ge=new Map,Ee=new Set,ke=new Map,De=new Map,ve;function bt(){if(m=t.history.listen(D=>{let{action:F,location:B,delta:X}=D;if(ve){ve(),ve=void 0;return}al(De.size===0||X!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=ee({currentLocation:x.location,nextLocation:B,historyAction:F});if(te&&X!=null){let fe=new Promise(de=>{ve=de});t.history.go(X*-1),Y(te,{state:"blocked",location:B,proceed(){Y(te,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),fe.then(()=>t.history.go(X))},reset(){let de=new Map(x.blockers);de.set(te,nc),ze({blockers:de})}});return}return tn(F,B)}),n){nM(e,M);let D=()=>rM(e,M);e.addEventListener("pagehide",D),N=()=>e.removeEventListener("pagehide",D)}return x.initialized||tn(qt.Pop,x.location,{initialHydration:!0}),V}function zn(){m&&m(),N&&N(),p.clear(),I&&I.abort(),x.fetchers.forEach((D,F)=>vr(F)),x.blockers.forEach((D,F)=>W(F))}function dn(D){return p.add(D),()=>p.delete(D)}function ze(D,F){F===void 0&&(F={}),x=gt({},x,D);let B=[],X=[];h.v7_fetcherPersist&&x.fetchers.forEach((te,fe)=>{te.state==="idle"&&(Ee.has(fe)?X.push(fe):B.push(fe))}),Ee.forEach(te=>{!x.fetchers.has(te)&&!L.has(te)&&X.push(te)}),[...p].forEach(te=>te(x,{deletedFetchers:X,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),h.v7_fetcherPersist?(B.forEach(te=>x.fetchers.delete(te)),X.forEach(te=>vr(te))):X.forEach(te=>Ee.delete(te))}function et(D,F,B){var X,te;let{flushSync:fe}=B===void 0?{}:B,de=x.actionData!=null&&x.navigation.formMethod!=null&&$r(x.navigation.formMethod)&&x.navigation.state==="loading"&&((X=D.state)==null?void 0:X._isRedirect)!==!0,G;F.actionData?Object.keys(F.actionData).length>0?G=F.actionData:G=null:de?G=x.actionData:G=null;let ce=F.loaderData?Mb(x.loaderData,F.loaderData,F.matches||[],F.errors):x.loaderData,oe=x.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((Re,ot)=>oe.set(ot,nc)));let ne=A===!0||x.navigation.formMethod!=null&&$r(x.navigation.formMethod)&&((te=D.state)==null?void 0:te._isRedirect)!==!0;a&&(o=a,a=void 0),H||S===qt.Pop||(S===qt.Push?t.history.push(D,D.state):S===qt.Replace&&t.history.replace(D,D.state));let ye;if(S===qt.Pop){let Re=M.get(x.location.pathname);Re&&Re.has(D.pathname)?ye={currentLocation:x.location,nextLocation:D}:M.has(D.pathname)&&(ye={currentLocation:D,nextLocation:x.location})}else if(R){let Re=M.get(x.location.pathname);Re?Re.add(D.pathname):(Re=new Set([D.pathname]),M.set(x.location.pathname,Re)),ye={currentLocation:x.location,nextLocation:D}}ze(gt({},F,{actionData:G,loaderData:ce,historyAction:S,location:D,initialized:!0,navigation:gp,revalidation:"idle",restoreScrollPosition:Qe(D,F.matches||x.matches),preventScrollReset:ne,blockers:oe}),{viewTransitionOpts:ye,flushSync:fe===!0}),S=qt.Pop,A=!1,R=!1,H=!1,J=!1,z=[]}async function Ae(D,F){if(typeof D=="number"){t.history.go(D);return}let B=ry(x.location,x.matches,l,h.v7_prependBasename,D,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:X,submission:te,error:fe}=Ab(h.v7_normalizeFormMethod,!1,B,F),de=x.location,G=gu(x.location,X,F&&F.state);G=gt({},G,t.history.encodeLocation(G));let ce=F&&F.replace!=null?F.replace:void 0,oe=qt.Push;ce===!0?oe=qt.Replace:ce===!1||te!=null&&$r(te.formMethod)&&te.formAction===x.location.pathname+x.location.search&&(oe=qt.Replace);let ne=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,ye=(F&&F.flushSync)===!0,Re=ee({currentLocation:de,nextLocation:G,historyAction:oe});if(Re){Y(Re,{state:"blocked",location:G,proceed(){Y(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),Ae(D,F)},reset(){let ot=new Map(x.blockers);ot.set(Re,nc),ze({blockers:ot})}});return}return await tn(oe,G,{submission:te,pendingError:fe,preventScrollReset:ne,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:ye})}function Ut(){if(Vt(),ze({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){tn(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}tn(S||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:R===!0})}}async function tn(D,F,B){I&&I.abort(),I=null,S=D,H=(B&&B.startUninterruptedRevalidation)===!0,He(x.location,x.matches),A=(B&&B.preventScrollReset)===!0,R=(B&&B.enableViewTransition)===!0;let X=a||o,te=B&&B.overrideNavigation,fe=B!=null&&B.initialHydration&&x.matches&&x.matches.length>0&&!E?x.matches:po(X,F,l),de=(B&&B.flushSync)===!0;if(fe&&x.initialized&&!J&&G3(x.location,F)&&!(B&&B.submission&&$r(B.submission.formMethod))){et(F,{matches:fe},{flushSync:de});return}let G=rt(fe,X,F.pathname);if(G.active&&G.matches&&(fe=G.matches),!fe){let{error:Ve,notFoundMatches:Le,route:tt}=Pe(F.pathname);et(F,{matches:Le,loaderData:{},errors:{[tt.id]:Ve}},{flushSync:de});return}I=new AbortController;let ce=ra(t.history,F,I.signal,B&&B.submission),oe;if(B&&B.pendingError)oe=[go(fe).route.id,{type:Je.error,error:B.pendingError}];else if(B&&B.submission&&$r(B.submission.formMethod)){let Ve=await Xr(ce,F,B.submission,fe,G.active,{replace:B.replace,flushSync:de});if(Ve.shortCircuited)return;if(Ve.pendingActionResult){let[Le,tt]=Ve.pendingActionResult;if(or(tt)&&yu(tt.error)&&tt.error.status===404){I=null,et(F,{matches:Ve.matches,loaderData:{},errors:{[Le]:tt.error}});return}}fe=Ve.matches||fe,oe=Ve.pendingActionResult,te=yp(F,B.submission),de=!1,G.active=!1,ce=ra(t.history,ce.url,ce.signal)}let{shortCircuited:ne,matches:ye,loaderData:Re,errors:ot}=await gs(ce,F,fe,G.active,te,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,de,oe);ne||(I=null,et(F,gt({matches:ye||fe},Vb(oe),{loaderData:Re,errors:ot})))}async function Xr(D,F,B,X,te,fe){fe===void 0&&(fe={}),Vt();let de=eM(F,B);if(ze({navigation:de},{flushSync:fe.flushSync===!0}),te){let oe=await pt(X,F.pathname,D.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let ne=go(oe.partialMatches).route.id;return{matches:oe.partialMatches,pendingActionResult:[ne,{type:Je.error,error:oe.error}]}}else if(oe.matches)X=oe.matches;else{let{notFoundMatches:ne,error:ye,route:Re}=Pe(F.pathname);return{matches:ne,pendingActionResult:[Re.id,{type:Je.error,error:ye}]}}}let G,ce=hc(X,F);if(!ce.route.action&&!ce.route.lazy)G={type:Je.error,error:qn(405,{method:D.method,pathname:F.pathname,routeId:ce.route.id})};else if(G=(await Ue("action",x,D,[ce],X,null))[ce.route.id],D.signal.aborted)return{shortCircuited:!0};if(bo(G)){let oe;return fe&&fe.replace!=null?oe=fe.replace:oe=jb(G.response.headers.get("Location"),new URL(D.url),l)===x.location.pathname+x.location.search,await Ie(D,G,!0,{submission:B,replace:oe}),{shortCircuited:!0}}if(vi(G))throw qn(400,{type:"defer-action"});if(or(G)){let oe=go(X,ce.route.id);return(fe&&fe.replace)!==!0&&(S=qt.Push),{matches:X,pendingActionResult:[oe.route.id,G]}}return{matches:X,pendingActionResult:[ce.route.id,G]}}async function gs(D,F,B,X,te,fe,de,G,ce,oe,ne){let ye=te||yp(F,fe),Re=fe||de||Fb(ye),ot=!H&&(!h.v7_partialHydration||!ce);if(X){if(ot){let at=St(ne);ze(gt({navigation:ye},at!==void 0?{actionData:at}:{}),{flushSync:oe})}let $e=await pt(B,F.pathname,D.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let at=go($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[at]:$e.error}}}else if($e.matches)B=$e.matches;else{let{error:at,notFoundMatches:xs,route:ni}=Pe(F.pathname);return{matches:xs,loaderData:{},errors:{[ni.id]:at}}}}let Ve=a||o,[Le,tt]=Ib(t.history,x,B,Re,F,h.v7_partialHydration&&ce===!0,h.v7_skipActionErrorRevalidation,J,z,q,Ee,we,se,Ve,l,ne);if(_e($e=>!(B&&B.some(at=>at.route.id===$e))||Le&&Le.some(at=>at.route.id===$e)),K=++O,Le.length===0&&tt.length===0){let $e=vs();return et(F,gt({matches:B,loaderData:{},errors:ne&&or(ne[1])?{[ne[0]]:ne[1].error}:null},Vb(ne),$e?{fetchers:new Map(x.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(ot){let $e={};if(!X){$e.navigation=ye;let at=St(ne);at!==void 0&&($e.actionData=at)}tt.length>0&&($e.fetchers=Et(tt)),ze($e,{flushSync:oe})}tt.forEach($e=>{Lt($e.key),$e.controller&&L.set($e.key,$e.controller)});let fn=()=>tt.forEach($e=>Lt($e.key));I&&I.signal.addEventListener("abort",fn);let{loaderResults:Dr,fetcherResults:hn}=await Un(x,B,Le,tt,D);if(D.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",fn),tt.forEach($e=>L.delete($e.key));let Wn=Fd(Dr);if(Wn)return await Ie(D,Wn.result,!0,{replace:G}),{shortCircuited:!0};if(Wn=Fd(hn),Wn)return se.add(Wn.key),await Ie(D,Wn.result,!0,{replace:G}),{shortCircuited:!0};let{loaderData:Fl,errors:ei}=Db(x,B,Dr,ne,tt,hn,ke);ke.forEach(($e,at)=>{$e.subscribe(xs=>{(xs||$e.done)&&ke.delete(at)})}),h.v7_partialHydration&&ce&&x.errors&&(ei=gt({},x.errors,ei));let Qr=vs(),to=tr(K),ti=Qr||to||tt.length>0;return gt({matches:B,loaderData:Fl,errors:ei},ti?{fetchers:new Map(x.fetchers)}:{})}function St(D){if(D&&!or(D[1]))return{[D[0]]:D[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Et(D){return D.forEach(F=>{let B=x.fetchers.get(F.key),X=rc(void 0,B?B.data:void 0);x.fetchers.set(F.key,X)}),new Map(x.fetchers)}function Dn(D,F,B,X){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Lt(D);let te=(X&&X.flushSync)===!0,fe=a||o,de=ry(x.location,x.matches,l,h.v7_prependBasename,B,h.v7_relativeSplatPath,F,X==null?void 0:X.relative),G=po(fe,de,l),ce=rt(G,fe,de);if(ce.active&&ce.matches&&(G=ce.matches),!G){Sn(D,F,qn(404,{pathname:de}),{flushSync:te});return}let{path:oe,submission:ne,error:ye}=Ab(h.v7_normalizeFormMethod,!0,de,X);if(ye){Sn(D,F,ye,{flushSync:te});return}let Re=hc(G,oe),ot=(X&&X.preventScrollReset)===!0;if(ne&&$r(ne.formMethod)){jr(D,F,oe,Re,G,ce.active,te,ot,ne);return}we.set(D,{routeId:F,path:oe}),yr(D,F,oe,Re,G,ce.active,te,ot,ne)}async function jr(D,F,B,X,te,fe,de,G,ce){Vt(),we.delete(D);function oe(kt){if(!kt.route.action&&!kt.route.lazy){let Mn=qn(405,{method:ce.formMethod,pathname:B,routeId:F});return Sn(D,F,Mn,{flushSync:de}),!0}return!1}if(!fe&&oe(X))return;let ne=x.fetchers.get(D);nn(D,tM(ce,ne),{flushSync:de});let ye=new AbortController,Re=ra(t.history,B,ye.signal,ce);if(fe){let kt=await pt(te,new URL(Re.url).pathname,Re.signal,D);if(kt.type==="aborted")return;if(kt.type==="error"){Sn(D,F,kt.error,{flushSync:de});return}else if(kt.matches){if(te=kt.matches,X=hc(te,B),oe(X))return}else{Sn(D,F,qn(404,{pathname:B}),{flushSync:de});return}}L.set(D,ye);let ot=O,Le=(await Ue("action",x,Re,[X],te,D))[X.route.id];if(Re.signal.aborted){L.get(D)===ye&&L.delete(D);return}if(h.v7_fetcherPersist&&Ee.has(D)){if(bo(Le)||or(Le)){nn(D,ci(void 0));return}}else{if(bo(Le))if(L.delete(D),K>ot){nn(D,ci(void 0));return}else return se.add(D),nn(D,rc(ce)),Ie(Re,Le,!1,{fetcherSubmission:ce,preventScrollReset:G});if(or(Le)){Sn(D,F,Le.error);return}}if(vi(Le))throw qn(400,{type:"defer-action"});let tt=x.navigation.location||x.location,fn=ra(t.history,tt,ye.signal),Dr=a||o,hn=x.navigation.state!=="idle"?po(Dr,x.navigation.location,l):x.matches;Be(hn,"Didn't find any matches after fetcher action");let Wn=++O;Z.set(D,Wn);let Fl=rc(ce,Le.data);x.fetchers.set(D,Fl);let[ei,Qr]=Ib(t.history,x,hn,ce,tt,!1,h.v7_skipActionErrorRevalidation,J,z,q,Ee,we,se,Dr,l,[X.route.id,Le]);Qr.filter(kt=>kt.key!==D).forEach(kt=>{let Mn=kt.key,rr=x.fetchers.get(Mn),no=rc(void 0,rr?rr.data:void 0);x.fetchers.set(Mn,no),Lt(Mn),kt.controller&&L.set(Mn,kt.controller)}),ze({fetchers:new Map(x.fetchers)});let to=()=>Qr.forEach(kt=>Lt(kt.key));ye.signal.addEventListener("abort",to);let{loaderResults:ti,fetcherResults:$e}=await Un(x,hn,ei,Qr,fn);if(ye.signal.aborted)return;ye.signal.removeEventListener("abort",to),Z.delete(D),L.delete(D),Qr.forEach(kt=>L.delete(kt.key));let at=Fd(ti);if(at)return Ie(fn,at.result,!1,{preventScrollReset:G});if(at=Fd($e),at)return se.add(at.key),Ie(fn,at.result,!1,{preventScrollReset:G});let{loaderData:xs,errors:ni}=Db(x,hn,ti,void 0,Qr,$e,ke);if(x.fetchers.has(D)){let kt=ci(Le.data);x.fetchers.set(D,kt)}tr(Wn),x.navigation.state==="loading"&&Wn>K?(Be(S,"Expected pending action"),I&&I.abort(),et(x.navigation.location,{matches:hn,loaderData:xs,errors:ni,fetchers:new Map(x.fetchers)})):(ze({errors:ni,loaderData:Mb(x.loaderData,xs,hn,ni),fetchers:new Map(x.fetchers)}),J=!1)}async function yr(D,F,B,X,te,fe,de,G,ce){let oe=x.fetchers.get(D);nn(D,rc(ce,oe?oe.data:void 0),{flushSync:de});let ne=new AbortController,ye=ra(t.history,B,ne.signal);if(fe){let Le=await pt(te,new URL(ye.url).pathname,ye.signal,D);if(Le.type==="aborted")return;if(Le.type==="error"){Sn(D,F,Le.error,{flushSync:de});return}else if(Le.matches)te=Le.matches,X=hc(te,B);else{Sn(D,F,qn(404,{pathname:B}),{flushSync:de});return}}L.set(D,ne);let Re=O,Ve=(await Ue("loader",x,ye,[X],te,D))[X.route.id];if(vi(Ve)&&(Ve=await Nv(Ve,ye.signal,!0)||Ve),L.get(D)===ne&&L.delete(D),!ye.signal.aborted){if(Ee.has(D)){nn(D,ci(void 0));return}if(bo(Ve))if(K>Re){nn(D,ci(void 0));return}else{se.add(D),await Ie(ye,Ve,!1,{preventScrollReset:G});return}if(or(Ve)){Sn(D,F,Ve.error);return}Be(!vi(Ve),"Unhandled fetcher deferred data"),nn(D,ci(Ve.data))}}async function Ie(D,F,B,X){let{submission:te,fetcherSubmission:fe,preventScrollReset:de,replace:G}=X===void 0?{}:X;F.response.headers.has("X-Remix-Revalidate")&&(J=!0);let ce=F.response.headers.get("Location");Be(ce,"Expected a Location header on the redirect Response"),ce=jb(ce,new URL(D.url),l);let oe=gu(x.location,ce,{_isRedirect:!0});if(n){let Le=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Le=!0;else if(kv.test(ce)){const tt=t.history.createURL(ce);Le=tt.origin!==e.location.origin||Cl(tt.pathname,l)==null}if(Le){G?e.location.replace(ce):e.location.assign(ce);return}}I=null;let ne=G===!0||F.response.headers.has("X-Remix-Replace")?qt.Replace:qt.Push,{formMethod:ye,formAction:Re,formEncType:ot}=x.navigation;!te&&!fe&&ye&&Re&&ot&&(te=Fb(x.navigation));let Ve=te||fe;if(M3.has(F.response.status)&&Ve&&$r(Ve.formMethod))await tn(ne,oe,{submission:gt({},Ve,{formAction:ce}),preventScrollReset:de||A,enableViewTransition:B?R:void 0});else{let Le=yp(oe,te);await tn(ne,oe,{overrideNavigation:Le,fetcherSubmission:fe,preventScrollReset:de||A,enableViewTransition:B?R:void 0})}}async function Ue(D,F,B,X,te,fe){let de,G={};try{de=await U3(c,D,F,B,X,te,fe,i,s)}catch(ce){return X.forEach(oe=>{G[oe.route.id]={type:Je.error,error:ce}}),G}for(let[ce,oe]of Object.entries(de))if(Y3(oe)){let ne=oe.result;G[ce]={type:Je.redirect,response:q3(ne,B,ce,te,l,h.v7_relativeSplatPath)}}else G[ce]=await W3(oe);return G}async function Un(D,F,B,X,te){let fe=D.matches,de=Ue("loader",D,te,B,F,null),G=Promise.all(X.map(async ne=>{if(ne.matches&&ne.match&&ne.controller){let Re=(await Ue("loader",D,ra(t.history,ne.path,ne.controller.signal),[ne.match],ne.matches,ne.key))[ne.match.route.id];return{[ne.key]:Re}}else return Promise.resolve({[ne.key]:{type:Je.error,error:qn(404,{pathname:ne.path})}})})),ce=await de,oe=(await G).reduce((ne,ye)=>Object.assign(ne,ye),{});return await Promise.all([J3(F,ce,te.signal,fe,D.loaderData),Z3(F,oe,X)]),{loaderResults:ce,fetcherResults:oe}}function Vt(){J=!0,z.push(..._e()),we.forEach((D,F)=>{L.has(F)&&q.add(F),Lt(F)})}function nn(D,F,B){B===void 0&&(B={}),x.fetchers.set(D,F),ze({fetchers:new Map(x.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Sn(D,F,B,X){X===void 0&&(X={});let te=go(x.matches,F);vr(D),ze({errors:{[te.route.id]:B},fetchers:new Map(x.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function ys(D){return ge.set(D,(ge.get(D)||0)+1),Ee.has(D)&&Ee.delete(D),x.fetchers.get(D)||V3}function vr(D){let F=x.fetchers.get(D);L.has(D)&&!(F&&F.state==="loading"&&Z.has(D))&&Lt(D),we.delete(D),Z.delete(D),se.delete(D),h.v7_fetcherPersist&&Ee.delete(D),q.delete(D),x.fetchers.delete(D)}function er(D){let F=(ge.get(D)||0)-1;F<=0?(ge.delete(D),Ee.add(D),h.v7_fetcherPersist||vr(D)):ge.set(D,F),ze({fetchers:new Map(x.fetchers)})}function Lt(D){let F=L.get(D);F&&(F.abort(),L.delete(D))}function Rr(D){for(let F of D){let B=ys(F),X=ci(B.data);x.fetchers.set(F,X)}}function vs(){let D=[],F=!1;for(let B of se){let X=x.fetchers.get(B);Be(X,"Expected fetcher: "+B),X.state==="loading"&&(se.delete(B),D.push(B),F=!0)}return Rr(D),F}function tr(D){let F=[];for(let[B,X]of Z)if(X<D){let te=x.fetchers.get(B);Be(te,"Expected fetcher: "+B),te.state==="loading"&&(Lt(B),Z.delete(B),F.push(B))}return Rr(F),F.length>0}function eo(D,F){let B=x.blockers.get(D)||nc;return De.get(D)!==F&&De.set(D,F),B}function W(D){x.blockers.delete(D),De.delete(D)}function Y(D,F){let B=x.blockers.get(D)||nc;Be(B.state==="unblocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="blocked"||B.state==="blocked"&&F.state==="proceeding"||B.state==="blocked"&&F.state==="unblocked"||B.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+F.state);let X=new Map(x.blockers);X.set(D,F),ze({blockers:X})}function ee(D){let{currentLocation:F,nextLocation:B,historyAction:X}=D;if(De.size===0)return;De.size>1&&al(!1,"A router only supports one blocker at a time");let te=Array.from(De.entries()),[fe,de]=te[te.length-1],G=x.blockers.get(fe);if(!(G&&G.state==="proceeding")&&de({currentLocation:F,nextLocation:B,historyAction:X}))return fe}function Pe(D){let F=qn(404,{pathname:D}),B=a||o,{matches:X,route:te}=Lb(B);return _e(),{notFoundMatches:X,route:te,error:F}}function _e(D){let F=[];return ke.forEach((B,X)=>{(!D||D(X))&&(B.cancel(),F.push(X),ke.delete(X))}),F}function ue(D,F,B){if(w=D,P=F,_=B||null,!v&&x.navigation===gp){v=!0;let X=Qe(x.location,x.matches);X!=null&&ze({restoreScrollPosition:X})}return()=>{w=null,P=null,_=null}}function it(D,F){return _&&_(D,F.map(X=>h3(X,x.loaderData)))||D.key}function He(D,F){if(w&&P){let B=it(D,F);w[B]=P()}}function Qe(D,F){if(w){let B=it(D,F),X=w[B];if(typeof X=="number")return X}return null}function rt(D,F,B){if(d)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:wf(F,B,l,!0)}}else return{active:!0,matches:wf(F,B,l,!0)||[]};return{active:!1,matches:null}}async function pt(D,F,B,X){if(!d)return{type:"success",matches:D};let te=D;for(;;){let fe=a==null,de=a||o,G=i;try{await d({signal:B,path:F,matches:te,fetcherKey:X,patch:(ne,ye)=>{B.aborted||Nb(ne,ye,de,G,s)}})}catch(ne){return{type:"error",error:ne,partialMatches:te}}finally{fe&&!B.aborted&&(o=[...o])}if(B.aborted)return{type:"aborted"};let ce=po(de,F,l);if(ce)return{type:"success",matches:ce};let oe=wf(de,F,l,!0);if(!oe||te.length===oe.length&&te.every((ne,ye)=>ne.route.id===oe[ye].route.id))return{type:"success",matches:null};te=oe}}function Hn(D){i={},a=ah(D,s,void 0,i)}function nr(D,F){let B=a==null;Nb(D,F,a||o,i,s),B&&(o=[...o],ze({}))}return V={get basename(){return l},get future(){return h},get state(){return x},get routes(){return o},get window(){return e},initialize:bt,subscribe:dn,enableScrollRestoration:ue,navigate:Ae,fetch:Dn,revalidate:Ut,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:ys,deleteFetcher:er,dispose:zn,getBlocker:eo,deleteBlocker:W,patchRoutes:nr,_internalFetchControllers:L,_internalActiveDeferreds:ke,_internalSetRoutes:Hn},V}function F3(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ry(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let d=Iv(s||".",Cv(l,i),Cl(t.pathname,n)||t.pathname,a==="path");if(s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&c){let h=jv(d.search);if(c.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let m=new URLSearchParams(d.search),p=m.getAll("index");m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let w=m.toString();d.search=w?"?"+w:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:ks([n,d.pathname])),Bo(d)}function Ab(t,e,n,r){if(!r||!F3(r))return{path:n};if(r.formMethod&&!Q3(r.formMethod))return{path:n,error:qn(405,{method:r.formMethod})};let s=()=>({path:n,error:qn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=nC(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!$r(o))return s();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,w)=>{let[_,P]=w;return""+p+_+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!$r(o))return s();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return s()}}}Be(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=iy(r.formData),c=r.formData;else if(r.body instanceof FormData)l=iy(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Rb(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Rb(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if($r(d.formMethod))return{path:n,submission:d};let h=Qi(n);return e&&h.search&&jv(h.search)&&l.append("index",""),h.search="?"+l,{path:Bo(h),submission:d}}function Cb(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(s=>s.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Ib(t,e,n,r,s,i,o,a,l,c,d,h,m,p,w,_){let P=_?or(_[1])?_[1].error:_[1].data:void 0,v=t.createURL(e.location),y=t.createURL(s),E=n;i&&e.errors?E=Cb(n,Object.keys(e.errors)[0],!0):_&&or(_[1])&&(E=Cb(n,_[0]));let j=_?_[1].statusCode:void 0,C=o&&j&&j>=400,V=E.filter((S,A)=>{let{route:I}=S;if(I.lazy)return!0;if(I.loader==null)return!1;if(i)return sy(I,e.loaderData,e.errors);if($3(e.loaderData,e.matches[A],S)||l.some(N=>N===S.route.id))return!0;let R=e.matches[A],M=S;return kb(S,gt({currentUrl:v,currentParams:R.params,nextUrl:y,nextParams:M.params},r,{actionResult:P,actionStatus:j,defaultShouldRevalidate:C?!1:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||eC(R,M)}))}),x=[];return h.forEach((S,A)=>{if(i||!n.some(H=>H.route.id===S.routeId)||d.has(A))return;let I=po(p,S.path,w);if(!I){x.push({key:A,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(A),M=hc(I,S.path),N=!1;m.has(A)?N=!1:c.has(A)?(c.delete(A),N=!0):R&&R.state!=="idle"&&R.data===void 0?N=a:N=kb(M,gt({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:j,defaultShouldRevalidate:C?!1:a})),N&&x.push({key:A,routeId:S.routeId,path:S.path,matches:I,match:M,controller:new AbortController})}),[V,x]}function sy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function $3(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function eC(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function kb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Nb(t,e,n,r,s){var i;let o;if(t){let c=r[t];Be(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(d=>tC(c,d))),l=ah(a,s,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function tC(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>tC(n,i))}):!1}async function B3(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Be(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";al(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!d3.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,gt({},e(s),{lazy:void 0}))}async function z3(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function U3(t,e,n,r,s,i,o,a,l,c){let d=i.map(p=>p.route.lazy?B3(p.route,l,a):void 0),h=i.map((p,w)=>{let _=d[w],P=s.some(y=>y.route.id===p.route.id);return gt({},p,{shouldLoad:P,resolve:async y=>(y&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(P=!0),P?H3(e,r,p,_,y,c):Promise.resolve({type:Je.data,result:void 0}))})}),m=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return m}async function H3(t,e,n,r,s,i){let o,a,l=c=>{let d,h=new Promise((w,_)=>d=_);a=()=>d(),e.signal.addEventListener("abort",a);let m=w=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...w!==void 0?[w]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(_=>m(_)):m())}}catch(w){return{type:"error",result:w}}})();return Promise.race([p,h])};try{let c=n.route[t];if(r)if(c){let d,[h]=await Promise.all([l(c).catch(m=>{d=m}),r]);if(d!==void 0)throw d;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw qn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Je.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(e.url),h=d.pathname+d.search;throw qn(404,{pathname:h})}Be(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Je.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function W3(t){let{result:e,type:n}=t;if(rC(e)){let h;try{let m=e.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(m){return{type:Je.error,error:m}}return n===Je.error?{type:Je.error,error:new lh(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Je.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Je.error){if(Ob(e)){var r,s;if(e.data instanceof Error){var i,o;return{type:Je.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Je.error,error:new lh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:yu(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Je.error,error:e,statusCode:yu(e)?e.status:void 0}}if(X3(e)){var a,l;return{type:Je.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Ob(e)){var c,d;return{type:Je.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:Je.data,data:e}}function q3(t,e,n,r,s,i){let o=t.headers.get("Location");if(Be(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!kv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=ry(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function jb(t,e,n){if(kv.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Cl(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function ra(t,e,n,r){let s=t.createURL(nC(e)).toString(),i={signal:n};if(r&&$r(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=iy(r.formData):i.body=r.formData}return new Request(s,i)}function iy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Rb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function K3(t,e,n,r,s){let i={},o=null,a,l=!1,c={},d=n&&or(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let m=h.route.id,p=e[m];if(Be(!bo(p),"Cannot handle redirect results in processLoaderData"),or(p)){let w=p.error;d!==void 0&&(w=d,d=void 0),o=o||{};{let _=go(t,m);o[_.route.id]==null&&(o[_.route.id]=w)}i[m]=void 0,l||(l=!0,a=yu(p.error)?p.error.status:500),p.headers&&(c[m]=p.headers)}else vi(p)?(r.set(m,p.deferredData),i[m]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[m]=p.headers)):(i[m]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[m]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Db(t,e,n,r,s,i,o){let{loaderData:a,errors:l}=K3(e,n,r,o);return s.forEach(c=>{let{key:d,match:h,controller:m}=c,p=i[d];if(Be(p,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(or(p)){let w=go(t.matches,h==null?void 0:h.route.id);l&&l[w.route.id]||(l=gt({},l,{[w.route.id]:p.error})),t.fetchers.delete(d)}else if(bo(p))Be(!1,"Unhandled fetcher revalidation redirect");else if(vi(p))Be(!1,"Unhandled fetcher deferred data");else{let w=ci(p.data);t.fetchers.set(d,w)}}),{loaderData:a,errors:l}}function Mb(t,e,n,r){let s=gt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Vb(t){return t?or(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function go(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Lb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new lh(t||500,a,new Error(l),!0)}function Fd(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(bo(s))return{key:r,result:s}}}function nC(t){let e=typeof t=="string"?Qi(t):t;return Bo(gt({},e,{hash:""}))}function G3(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Y3(t){return rC(t.result)&&D3.has(t.result.status)}function vi(t){return t.type===Je.deferred}function or(t){return t.type===Je.error}function bo(t){return(t&&t.type)===Je.redirect}function Ob(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function X3(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Q3(t){return R3.has(t.toLowerCase())}function $r(t){return N3.has(t.toLowerCase())}async function J3(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(m=>(m==null?void 0:m.route.id)===a);if(!c)continue;let d=r.find(m=>m.route.id===c.route.id),h=d!=null&&!eC(d,c)&&(s&&s[c.route.id])!==void 0;vi(l)&&h&&await Nv(l,n,!1).then(m=>{m&&(e[a]=m)})}}async function Z3(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&vi(a)&&(Be(o,"Expected an AbortController for revalidating fetcher deferred result"),await Nv(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Nv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Je.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Je.error,error:s}}return{type:Je.data,data:t.deferredData.data}}}function jv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function hc(t,e){let n=typeof e=="string"?Qi(e).search:e.search;if(t[t.length-1].route.index&&jv(n||""))return t[t.length-1];let r=QA(t);return r[r.length-1]}function Fb(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function yp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ci(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nM(t,e){try{let n=t.sessionStorage.getItem(ZA);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function rM(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(ZA,JSON.stringify(n))}catch(r){al(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}const sm=T.createContext(null),sC=T.createContext(null),Yo=T.createContext(null),Rv=T.createContext(null),Js=T.createContext({outlet:null,matches:[],isDataRoute:!1}),iC=T.createContext(null);function sM(t,e){let{relative:n}=e===void 0?{}:e;Gu()||Be(!1);let{basename:r,navigator:s}=T.useContext(Yo),{hash:i,pathname:o,search:a}=lC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ks([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Gu(){return T.useContext(Rv)!=null}function Xo(){return Gu()||Be(!1),T.useContext(Rv).location}function oC(t){T.useContext(Yo).static||T.useLayoutEffect(t)}function Qo(){let{isDataRoute:t}=T.useContext(Js);return t?vM():iM()}function iM(){Gu()||Be(!1);let t=T.useContext(sm),{basename:e,future:n,navigator:r}=T.useContext(Yo),{matches:s}=T.useContext(Js),{pathname:i}=Xo(),o=JSON.stringify(Cv(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return oC(()=>{a.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Iv(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ks([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const oM=T.createContext(null);function aM(t){let e=T.useContext(Js).outlet;return e&&T.createElement(oM.Provider,{value:t},e)}function aC(){let{matches:t}=T.useContext(Js),e=t[t.length-1];return e?e.params:{}}function lC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Yo),{matches:s}=T.useContext(Js),{pathname:i}=Xo(),o=JSON.stringify(Cv(s,r.v7_relativeSplatPath));return T.useMemo(()=>Iv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function lM(t,e,n,r){Gu()||Be(!1);let{navigator:s}=T.useContext(Yo),{matches:i}=T.useContext(Js),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Xo(),d;d=c;let h=d.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=po(t,{pathname:m});return hM(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ks([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:ks([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r)}function cM(){let t=yM(),e=yu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const uM=T.createElement(cM,null);class dM extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Js.Provider,{value:this.props.routeContext},T.createElement(iC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fM(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(sm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Js.Provider,{value:e},r)}function hM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:p}=n,w=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let p,w=!1,_=null,P=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||uM,l&&(c<0&&m===0?(xM("route-fallback"),w=!0,P=null):c===m&&(w=!0,P=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),y=()=>{let E;return p?E=_:w?E=P:h.route.Component?E=T.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,T.createElement(fM,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?T.createElement(dM,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var cC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cC||{}),uC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uC||{});function mM(t){let e=T.useContext(sm);return e||Be(!1),e}function pM(t){let e=T.useContext(sC);return e||Be(!1),e}function gM(t){let e=T.useContext(Js);return e||Be(!1),e}function dC(t){let e=gM(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function yM(){var t;let e=T.useContext(iC),n=pM(uC.UseRouteError),r=dC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vM(){let{router:t}=mM(cC.UseNavigateStable),e=dC(),n=T.useRef(!1);return oC(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ch({fromRouteId:e},i)))},[t,e])}const $b={};function xM(t,e,n){$b[t]||($b[t]=!0)}function wM(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function bM(t){return aM(t.context)}function SM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=qt.Pop,navigator:i,static:o=!1,future:a}=t;Gu()&&Be(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:o,future:ch({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Qi(r));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:w="default"}=r,_=T.useMemo(()=>{let P=Cl(d,l);return P==null?null:{location:{pathname:P,search:h,hash:m,state:p,key:w},navigationType:s}},[l,d,h,m,p,w,s]);return _==null?null:T.createElement(Yo.Provider,{value:c},T.createElement(Rv.Provider,{children:n,value:_}))}new Promise(()=>{});function EM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vu(){return vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vu.apply(this,arguments)}function _M(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function TM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PM(t,e){return t.button===0&&(!e||e==="_self")&&!TM(t)}const AM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],CM="6";try{window.__reactRouterVersion=CM}catch{}function IM(t,e){return O3({basename:void 0,future:vu({},void 0,{v7_prependBasename:!0}),history:l3({window:void 0}),hydrationData:kM(),routes:t,mapRouteProperties:EM,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function kM(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=vu({},e,{errors:NM(e.errors)})),e}function NM(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new lh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const jM=T.createContext({isTransitioning:!1}),RM=T.createContext(new Map),DM="startTransition",Bb=YR[DM],MM="flushSync",zb=a3[MM];function VM(t){Bb?Bb(t):t()}function sc(t){zb?zb(t):t()}let LM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function OM(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=T.useState(n.state),[o,a]=T.useState(),[l,c]=T.useState({isTransitioning:!1}),[d,h]=T.useState(),[m,p]=T.useState(),[w,_]=T.useState(),P=T.useRef(new Map),{v7_startTransition:v}=r||{},y=T.useCallback(S=>{v?VM(S):S()},[v]),E=T.useCallback((S,A)=>{let{deletedFetchers:I,flushSync:R,viewTransitionOpts:M}=A;S.fetchers.forEach((H,J)=>{H.data!==void 0&&P.current.set(J,H.data)}),I.forEach(H=>P.current.delete(H));let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||N){R?sc(()=>i(S)):y(()=>i(S));return}if(R){sc(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let H=n.window.document.startViewTransition(()=>{sc(()=>i(S))});H.finished.finally(()=>{sc(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),sc(()=>p(H));return}m?(d&&d.resolve(),m.skipTransition(),_({state:S,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(S),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,m,d,P,y]);T.useLayoutEffect(()=>n.subscribe(E),[n,E]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new LM)},[l]),T.useEffect(()=>{if(d&&o&&n.window){let S=o,A=d.promise,I=n.window.document.startViewTransition(async()=>{y(()=>i(S)),await A});I.finished.finally(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(I)}},[y,o,d,n.window]),T.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,m,s.location,o]),T.useEffect(()=>{!l.isTransitioning&&w&&(a(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),_(void 0))},[l.isTransitioning,w]),T.useEffect(()=>{},[]);let j=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,A,I)=>n.navigate(S,{state:A,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(S,A,I)=>n.navigate(S,{replace:!0,state:A,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),C=n.basename||"/",V=T.useMemo(()=>({router:n,navigator:j,static:!1,basename:C}),[n,j,C]),x=T.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return T.useEffect(()=>wM(r,n.future),[r,n.future]),T.createElement(T.Fragment,null,T.createElement(sm.Provider,{value:V},T.createElement(sC.Provider,{value:s},T.createElement(RM.Provider,{value:P.current},T.createElement(jM.Provider,{value:l},T.createElement(SM,{basename:C,location:s.location,navigationType:s.historyAction,navigator:j,future:x},s.initialized||n.future.v7_partialHydration?T.createElement(FM,{routes:n.routes,future:n.future,state:s}):e))))),null)}const FM=T.memo($M);function $M(t){let{routes:e,future:n,state:r}=t;return lM(e,void 0,r,n)}const BM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dv=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,m=_M(e,AM),{basename:p}=T.useContext(Yo),w,_=!1;if(typeof c=="string"&&zM.test(c)&&(w=c,BM))try{let E=new URL(window.location.href),j=c.startsWith("//")?new URL(E.protocol+c):new URL(c),C=Cl(j.pathname,p);j.origin===E.origin&&C!=null?c=C+j.search+j.hash:_=!0}catch{}let P=sM(c,{relative:s}),v=UM(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function y(E){r&&r(E),E.defaultPrevented||v(E)}return T.createElement("a",vu({},m,{href:w||P,onClick:_||i?r:y,ref:n,target:l}))});var Ub;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ub||(Ub={}));var Hb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hb||(Hb={}));function UM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Qo(),c=Xo(),d=lC(t,{relative:o});return T.useCallback(h=>{if(PM(h,n)){h.preventDefault();let m=r!==void 0?r:Bo(c)===Bo(d);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}const Mv=T.createContext({});function Vv(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const im=T.createContext(null),Lv=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class HM extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function WM({children:t,isPresent:e}){const n=T.useId(),r=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=T.useContext(Lv);return T.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),u.jsx(HM,{isPresent:e,childRef:r,sizeRef:s,children:T.cloneElement(t,{ref:r})})}const qM=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Vv(KM),l=T.useId(),c=T.useCallback(h=>{a.set(h,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),d=T.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return T.useMemo(()=>{a.forEach((h,m)=>a.set(m,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(WM,{isPresent:n,children:t})),u.jsx(im.Provider,{value:d,children:t})};function KM(){return new Map}function fC(t=!0){const e=T.useContext(im);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{t&&s(i)},[t]);const o=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const $d=t=>t.key||"";function Wb(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const Ov=typeof window<"u",hC=Ov?T.useLayoutEffect:T.useEffect,xi=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=fC(o),c=T.useMemo(()=>Wb(t),[t]),d=o&&!a?[]:c.map($d),h=T.useRef(!0),m=T.useRef(c),p=Vv(()=>new Map),[w,_]=T.useState(c),[P,v]=T.useState(c);hC(()=>{h.current=!1,m.current=c;for(let j=0;j<P.length;j++){const C=$d(P[j]);d.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[P,d.length,d.join("-")]);const y=[];if(c!==w){let j=[...c];for(let C=0;C<P.length;C++){const V=P[C],x=$d(V);d.includes(x)||(j.splice(C,0,V),y.push(V))}i==="wait"&&y.length&&(j=y),v(Wb(j)),_(c);return}const{forceRender:E}=T.useContext(Mv);return u.jsx(u.Fragment,{children:P.map(j=>{const C=$d(j),V=o&&!a?!1:c===P||d.includes(C),x=()=>{if(p.has(C))p.set(C,!0);else return;let S=!0;p.forEach(A=>{A||(S=!1)}),S&&(E==null||E(),v(m.current),o&&(l==null||l()),r&&r())};return u.jsx(qM,{isPresent:V,initial:!h.current||n?void 0:!1,custom:V?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:V?void 0:x,children:j},C)})})},ur=t=>t;let mC=ur;function Fv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ll=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ns=t=>t*1e3,js=t=>t/1e3,GM={useManualTiming:!1};function YM(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const Bd=["read","resolveKeyframes","update","preRender","render","postRender"],XM=40;function pC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Bd.reduce((v,y)=>(v[y]=YM(i),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:m}=o,p=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,XM),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},w=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Bd.reduce((v,y)=>{const E=o[y];return v[y]=(j,C=!1,V=!1)=>(n||w(),E.schedule(j,C,V)),v},{}),cancel:v=>{for(let y=0;y<Bd.length;y++)o[Bd[y]].cancel(v)},state:s,steps:o}}const{schedule:mt,cancel:Vi,state:pn,steps:vp}=pC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ur,!0),gC=T.createContext({strict:!1}),qb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cl={};for(const t in qb)cl[t]={isEnabled:e=>qb[t].some(n=>!!e[n])};function QM(t){for(const e in t)cl[e]={...cl[e],...t[e]}}const JM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JM.has(t)}let yC=t=>!uh(t);function ZM(t){t&&(yC=e=>e.startsWith("on")?!uh(e):t(e))}try{ZM(require("@emotion/is-prop-valid").default)}catch{}function eV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(yC(s)||n===!0&&uh(s)||!e&&!uh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function tV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const om=T.createContext({});function xu(t){return typeof t=="string"||Array.isArray(t)}function am(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bv=["initial",...$v];function lm(t){return am(t.animate)||Bv.some(e=>xu(t[e]))}function vC(t){return!!(lm(t)||t.variants)}function nV(t,e){if(lm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xu(n)?n:void 0,animate:xu(r)?r:void 0}}return t.inherit!==!1?e:{}}function rV(t){const{initial:e,animate:n}=nV(t,T.useContext(om));return T.useMemo(()=>({initial:e,animate:n}),[Kb(e),Kb(n)])}function Kb(t){return Array.isArray(t)?t.join(" "):t}const sV=Symbol.for("motionComponentSymbol");function Ta(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iV(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ta(n)&&(n.current=r))},[e])}const zv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oV="framerAppearId",xC="data-"+zv(oV),{schedule:Uv}=pC(queueMicrotask,!1),wC=T.createContext({});function aV(t,e,n,r,s){var i,o;const{visualElement:a}=T.useContext(om),l=T.useContext(gC),c=T.useContext(im),d=T.useContext(Lv).reducedMotion,h=T.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=T.useContext(wC);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&lV(h.current,n,s,p);const w=T.useRef(!1);T.useInsertionEffect(()=>{m&&w.current&&m.update(n,c)});const _=n[xC],P=T.useRef(!!_&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return hC(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Uv.render(m.render),P.current&&m.animationState&&m.animationState.animateChanges())}),T.useEffect(()=>{m&&(!P.current&&m.animationState&&m.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,_)}),P.current=!1))}),m}function lV(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:bC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ta(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function bC(t){if(t)return t.options.allowProjection!==!1?t.projection:bC(t.parent)}function cV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&QM(t);function a(c,d){let h;const m={...T.useContext(Lv),...c,layoutId:uV(c)},{isStatic:p}=m,w=rV(c),_=r(c,p);if(!p&&Ov){dV();const P=fV(m);h=P.MeasureLayout,w.visualElement=aV(s,_,m,e,P.ProjectionNode)}return u.jsxs(om.Provider,{value:w,children:[h&&w.visualElement?u.jsx(h,{visualElement:w.visualElement,...m}):null,n(s,c,iV(_,w.visualElement,d),_,p,w.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[sV]=s,l}function uV({layoutId:t}){const e=T.useContext(Mv).id;return e&&t!==void 0?e+"-"+t:t}function dV(t,e){T.useContext(gC).strict}function fV(t){const{drag:e,layout:n}=cl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hv(t){return typeof t!="string"||t.includes("-")?!1:!!(hV.indexOf(t)>-1||/[A-Z]/u.test(t))}function Gb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Wv(t,e,n,r){if(typeof e=="function"){const[s,i]=Gb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Gb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const oy=t=>Array.isArray(t),mV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pV=t=>oy(t)?t[t.length-1]||0:t,Nn=t=>!!(t&&t.getVelocity);function bf(t){const e=Nn(t)?t.get():t;return mV(e)?e.toValue():e}function gV({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:yV(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const SC=t=>(e,n)=>{const r=T.useContext(om),s=T.useContext(im),i=()=>gV(t,e,r,s);return n?i():Vv(i)};function yV(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=bf(i[m]);let{initial:o,animate:a}=t;const l=lm(t),c=vC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!am(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const w=Wv(t,m[p]);if(w){const{transitionEnd:_,transition:P,...v}=w;for(const y in v){let E=v[y];if(Array.isArray(E)){const j=d?E.length-1:0;E=E[j]}E!==null&&(s[y]=E)}for(const y in _)s[y]=_[y]}}}return s}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Jo=new Set(Il),EC=t=>e=>typeof e=="string"&&e.startsWith(t),_C=EC("--"),vV=EC("var(--"),qv=t=>vV(t)?xV.test(t.split("/*")[0].trim()):!1,xV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,TC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$s=(t,e,n)=>n>e?e:n<t?t:n,kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wu={...kl,transform:t=>$s(0,1,t)},zd={...kl,default:1},Yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ui=Yu("deg"),us=Yu("%"),Te=Yu("px"),wV=Yu("vh"),bV=Yu("vw"),Yb={...us,parse:t=>us.parse(t)/100,transform:t=>us.transform(t*100)},SV={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},EV={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:ui,skewX:ui,skewY:ui,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:wu,originX:Yb,originY:Yb,originZ:Te},Xb={...kl,transform:Math.round},Kv={...SV,...EV,zIndex:Xb,size:Te,fillOpacity:wu,strokeOpacity:wu,numOctaves:Xb},_V={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TV=Il.length;function PV(t,e,n){let r="",s=!0;for(let i=0;i<TV;i++){const o=Il[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=TC(a,Kv[o]);if(!l){s=!1;const d=_V[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Gv(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Jo.has(l)){o=!0;continue}else if(_C(l)){s[l]=c;continue}else{const d=TC(c,Kv[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=PV(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const AV={offset:"stroke-dashoffset",array:"stroke-dasharray"},CV={offset:"strokeDashoffset",array:"strokeDasharray"};function IV(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?AV:CV;t[i.offset]=Te.transform(-r);const o=Te.transform(e),a=Te.transform(n);t[i.array]=`${o} ${a}`}function Qb(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function kV(t,e,n){const r=Qb(e,t.x,t.width),s=Qb(n,t.y,t.height);return`${r} ${s}`}function Yv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(Gv(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:w}=t;m.transform&&(w&&(p.transform=m.transform),delete m.transform),w&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=kV(w,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&IV(m,o,a,l,!1)}const Xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),PC=()=>({...Xv(),attrs:{}}),Qv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AC(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const CC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IC(t,e,n,r){AC(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(CC.has(s)?s:zv(s),e.attrs[s])}const dh={};function NV(t){Object.assign(dh,t)}function kC(t,{layout:e,layoutId:n}){return Jo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dh[t]||t==="opacity")}function Jv(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Nn(s[o])||e.style&&Nn(e.style[o])||kC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function NC(t,e,n){const r=Jv(t,e,n);for(const s in t)if(Nn(t[s])||Nn(e[s])){const i=Il.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function jV(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Jb=["x","y","width","height","cx","cy","r"],RV={useVisualState:SC({scrapeMotionValuesFromProps:NC,createRenderState:PC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Jo.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<Jb.length;a++){const l=Jb[a];t[l]!==e[l]&&(o=!0)}o&&mt.read(()=>{jV(n,r),mt.render(()=>{Yv(r,s,Qv(n.tagName),t.transformTemplate),IC(n,r)})})}})},DV={useVisualState:SC({scrapeMotionValuesFromProps:Jv,createRenderState:Xv})};function jC(t,e,n){for(const r in e)!Nn(e[r])&&!kC(r,n)&&(t[r]=e[r])}function MV({transformTemplate:t},e){return T.useMemo(()=>{const n=Xv();return Gv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function VV(t,e){const n=t.style||{},r={};return jC(r,n,t),Object.assign(r,MV(t,e)),r}function LV(t,e){const n={},r=VV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function OV(t,e,n,r){const s=T.useMemo(()=>{const i=PC();return Yv(i,e,Qv(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};jC(i,t.style,t),s.style={...i,...s.style}}return s}function FV(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Hv(n)?OV:LV)(r,i,o,n),c=eV(r,typeof n=="string",t),d=n!==T.Fragment?{...c,...l,ref:s}:{},{children:h}=r,m=T.useMemo(()=>Nn(h)?h.get():h,[h]);return T.createElement(n,{...d,children:m})}}function $V(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Hv(r)?RV:DV,preloadedFeatures:t,useRender:FV(s),createVisualElement:e,Component:r};return cV(o)}}function RC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function cm(t,e,n){const r=t.getProps();return Wv(r,e,n!==void 0?n:r.custom,t)}const BV=Fv(()=>window.ScrollTimeline!==void 0);class zV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(BV()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class UV extends zV{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Zv(t,e){return t?t[e]||t.default||t:void 0}const ay=2e4;function DC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ay;)e+=n,r=t.next(e);return e>=ay?1/0:e}function ex(t){return typeof t=="function"}function Zb(t,e){t.timeline=e,t.onfinish=null}const tx=t=>Array.isArray(t)&&typeof t[0]=="number",HV={linearEasing:void 0};function WV(t,e){const n=Fv(t);return()=>{var r;return(r=HV[e])!==null&&r!==void 0?r:n()}}const fh=WV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),MC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(ll(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function VC(t){return!!(typeof t=="function"&&fh()||!t||typeof t=="string"&&(t in ly||fh())||tx(t)||Array.isArray(t)&&t.every(VC))}const mc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ly={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mc([0,.65,.55,1]),circOut:mc([.55,0,1,.45]),backIn:mc([.31,.01,.66,-.59]),backOut:mc([.33,1.53,.69,.99])};function LC(t,e){if(t)return typeof t=="function"&&fh()?MC(t,e):tx(t)?mc(t):Array.isArray(t)?t.map(n=>LC(n,e)||ly.easeOut):ly[t]}const Vr={x:!1,y:!1};function OC(){return Vr.x||Vr.y}function qV(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function FC(t,e){const n=qV(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function eS(t){return e=>{e.pointerType==="touch"||OC()||t(e)}}function KV(t,e,n={}){const[r,s,i]=FC(t,n),o=eS(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const d=eS(h=>{c(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const $C=(t,e)=>e?t===e?!0:$C(t,e.parentElement):!1,nx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,GV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YV(t){return GV.has(t.tagName)||t.tabIndex!==-1}const pc=new WeakSet;function tS(t){return e=>{e.key==="Enter"&&t(e)}}function xp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=tS(()=>{if(pc.has(n))return;xp(n,"down");const s=tS(()=>{xp(n,"up")}),i=()=>xp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function nS(t){return nx(t)&&!OC()}function QV(t,e,n={}){const[r,s,i]=FC(t,n),o=a=>{const l=a.currentTarget;if(!nS(a)||pc.has(l))return;pc.add(l);const c=e(a),d=(p,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!nS(p)||!pc.has(l))&&(pc.delete(l),typeof c=="function"&&c(p,{success:w}))},h=p=>{d(p,n.useGlobalTarget||$C(l,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{!YV(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>XV(c,s),s)}),i}function JV(t){return t==="x"||t==="y"?Vr[t]?null:(Vr[t]=!0,()=>{Vr[t]=!1}):Vr.x||Vr.y?null:(Vr.x=Vr.y=!0,()=>{Vr.x=Vr.y=!1})}const BC=new Set(["width","height","top","left","right","bottom",...Il]);let Sf;function ZV(){Sf=void 0}const ds={now:()=>(Sf===void 0&&ds.set(pn.isProcessing||GM.useManualTiming?pn.timestamp:performance.now()),Sf),set:t=>{Sf=t,queueMicrotask(ZV)}};function rx(t,e){t.indexOf(e)===-1&&t.push(e)}function sx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let ix=class{constructor(){this.subscriptions=[]}add(e){return rx(this.subscriptions,e),()=>sx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function zC(t,e){return e?t*(1e3/e):0}const rS=30,e6=t=>!isNaN(parseFloat(t));let t6=class{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=ds.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ds.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=e6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ix);const r=this.events[e].add(n);return e==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ds.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rS);return zC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function bu(t,e){return new t6(t,e)}function n6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bu(n))}function r6(t,e){const n=cm(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=pV(i[o]);n6(t,o,a)}}function s6(t){return!!(Nn(t)&&t.add)}function cy(t,e){const n=t.getValue("willChange");if(s6(n))return n.add(e)}function UC(t){return t.props[xC]}const HC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i6=1e-7,o6=12;function a6(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=HC(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>i6&&++a<o6);return o}function Xu(t,e,n,r){if(t===e&&n===r)return ur;const s=i=>a6(i,0,1,t,n);return i=>i===0||i===1?i:HC(s(i),e,r)}const WC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,qC=t=>e=>1-t(1-e),KC=Xu(.33,1.53,.69,.99),ox=qC(KC),GC=WC(ox),YC=t=>(t*=2)<1?.5*ox(t):.5*(2-Math.pow(2,-10*(t-1))),ax=t=>1-Math.sin(Math.acos(t)),XC=qC(ax),QC=WC(ax),JC=t=>/^0[^.\s]+$/u.test(t);function l6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||JC(t):!0}const Nc=t=>Math.round(t*1e5)/1e5,lx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function c6(t){return t==null}const u6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cx=(t,e)=>n=>!!(typeof n=="string"&&u6.test(n)&&n.startsWith(t)||e&&!c6(n)&&Object.prototype.hasOwnProperty.call(n,e)),ZC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(lx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},d6=t=>$s(0,255,t),wp={...kl,transform:t=>Math.round(d6(t))},So={test:cx("rgb","red"),parse:ZC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wp.transform(t)+", "+wp.transform(e)+", "+wp.transform(n)+", "+Nc(wu.transform(r))+")"};function f6(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const uy={test:cx("#"),parse:f6,transform:So.transform},Pa={test:cx("hsl","hue"),parse:ZC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+us.transform(Nc(e))+", "+us.transform(Nc(n))+", "+Nc(wu.transform(r))+")"},Pn={test:t=>So.test(t)||uy.test(t)||Pa.test(t),parse:t=>So.test(t)?So.parse(t):Pa.test(t)?Pa.parse(t):uy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?So.transform(t):Pa.transform(t)},h6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(h6))===null||n===void 0?void 0:n.length)||0)>0}const eI="number",tI="color",p6="var",g6="var(",sS="${}",y6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Su(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(y6,l=>(Pn.test(l)?(r.color.push(i),s.push(tI),n.push(Pn.parse(l))):l.startsWith(g6)?(r.var.push(i),s.push(p6),n.push(l)):(r.number.push(i),s.push(eI),n.push(parseFloat(l))),++i,sS)).split(sS);return{values:n,split:a,indexes:r,types:s}}function nI(t){return Su(t).values}function rI(t){const{split:e,types:n}=Su(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===eI?i+=Nc(s[o]):a===tI?i+=Pn.transform(s[o]):i+=s[o]}return i}}const v6=t=>typeof t=="number"?0:t;function x6(t){const e=nI(t);return rI(t)(e.map(v6))}const Li={test:m6,parse:nI,createTransformer:rI,getAnimatableNone:x6},w6=new Set(["brightness","contrast","saturate","opacity"]);function b6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(lx)||[];if(!r)return t;const s=n.replace(r,"");let i=w6.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const S6=/\b([a-z-]*)\(.*?\)/gu,dy={...Li,getAnimatableNone:t=>{const e=t.match(S6);return e?e.map(b6).join(" "):t}},E6={...Kv,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:dy,WebkitFilter:dy},ux=t=>E6[t];function sI(t,e){let n=ux(t);return n!==dy&&(n=Li),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _6=new Set(["auto","none","0"]);function T6(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!_6.has(i)&&Su(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=sI(n,s)}const iS=t=>t===kl||t===Te,oS=(t,e)=>parseFloat(t.split(", ")[e]),aS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return oS(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?oS(i[1],t):0}},P6=new Set(["x","y","z"]),A6=Il.filter(t=>!P6.has(t));function C6(t){const e=[];return A6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ul={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:aS(4,13),y:aS(5,14)};ul.translateX=ul.x;ul.translateY=ul.y;const ko=new Set;let fy=!1,hy=!1;function iI(){if(hy){const t=Array.from(ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=C6(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hy=!1,fy=!1,ko.forEach(t=>t.complete()),ko.clear()}function oI(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hy=!0)})}function I6(){oI(),iI()}let dx=class{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ko.add(this),fy||(fy=!0,mt.read(oI),mt.resolveKeyframes(iI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const aI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),k6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N6(t){const e=k6.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function lI(t,e,n=1){const[r,s]=N6(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return aI(o)?parseFloat(o):o}return qv(s)?lI(s,e,n+1):s}const cI=t=>e=>e.test(t),j6={test:t=>t==="auto",parse:t=>t},uI=[kl,Te,us,ui,bV,wV,j6],lS=t=>uI.find(cI(t));let dI=class extends dx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),qv(c))){const d=lI(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!BC.has(r)||e.length!==2)return;const[s,i]=e,o=lS(s),a=lS(i);if(o!==a)if(iS(o)&&iS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)l6(e[s])&&r.push(s);r.length&&T6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=ul[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}};const cS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Li.test(t)||t==="0")&&!t.startsWith("url("));function R6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function D6(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=cS(s,e),a=cS(i,e);return!o||!a?!1:R6(t)||(n==="spring"||ex(n))&&r}const M6=t=>t!==null;function um(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(M6),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const V6=40;class fI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ds.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>V6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&I6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ds.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!D6(e,r,s,i))if(o)this.options.duration=0;else{l&&l(um(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pt=(t,e,n)=>t+(e-t)*n;function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function L6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=bp(l,a,t+1/3),i=bp(l,a,t),o=bp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function hh(t,e){return n=>n>0?e:t}const Sp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},O6=[uy,So,Pa],F6=t=>O6.find(e=>e.test(t));function uS(t){const e=F6(t);if(!e)return!1;let n=e.parse(t);return e===Pa&&(n=L6(n)),n}const dS=(t,e)=>{const n=uS(t),r=uS(e);if(!n||!r)return hh(t,e);const s={...n};return i=>(s.red=Sp(n.red,r.red,i),s.green=Sp(n.green,r.green,i),s.blue=Sp(n.blue,r.blue,i),s.alpha=Pt(n.alpha,r.alpha,i),So.transform(s))},$6=(t,e)=>n=>e(t(n)),Qu=(...t)=>t.reduce($6),my=new Set(["none","hidden"]);function B6(t,e){return my.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function z6(t,e){return n=>Pt(t,e,n)}function fx(t){return typeof t=="number"?z6:typeof t=="string"?qv(t)?hh:Pn.test(t)?dS:W6:Array.isArray(t)?hI:typeof t=="object"?Pn.test(t)?dS:U6:hh}function hI(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>fx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function U6(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=fx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function H6(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const W6=(t,e)=>{const n=Li.createTransformer(e),r=Su(t),s=Su(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?my.has(t)&&!s.values.length||my.has(e)&&!r.values.length?B6(t,e):Qu(hI(H6(r,s),s.values),n):hh(t,e)};function mI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):fx(t)(t,e)}const q6=5;function pI(t,e,n){const r=Math.max(e-q6,0);return zC(n-t(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ep=.001;function K6({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,o=1-e;o=$s(Rt.minDamping,Rt.maxDamping,o),t=$s(Rt.minDuration,Rt.maxDuration,js(t)),o<1?(s=c=>{const d=c*o,h=d*t,m=d-n,p=py(c,o),w=Math.exp(-h);return Ep-m/p*w},i=c=>{const h=c*o*t,m=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),_=py(Math.pow(c,2),o);return(-s(c)+Ep>0?-1:1)*((m-p)*w)/_}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Ep+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=Y6(s,i,a);if(t=Ns(t),isNaN(l))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const G6=12;function Y6(t,e,n){let r=n;for(let s=1;s<G6;s++)r=r-t(r)/e(r);return r}function py(t,e){return t*Math.sqrt(1-e*e)}const X6=["duration","bounce"],Q6=["stiffness","damping","mass"];function fS(t,e){return e.some(n=>t[n]!==void 0)}function J6(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!fS(t,Q6)&&fS(t,X6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$s(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Rt.mass,stiffness:s,damping:i}}else{const n=K6(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function gI(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=J6({...n,velocity:-js(n.velocity||0)}),w=m||0,_=c/(2*Math.sqrt(l*d)),P=o-i,v=js(Math.sqrt(l/d)),y=Math.abs(P)<5;r||(r=y?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=y?Rt.restDelta.granular:Rt.restDelta.default);let E;if(_<1){const C=py(v,_);E=V=>{const x=Math.exp(-_*v*V);return o-x*((w+_*v*P)/C*Math.sin(C*V)+P*Math.cos(C*V))}}else if(_===1)E=C=>o-Math.exp(-v*C)*(P+(w+v*P)*C);else{const C=v*Math.sqrt(_*_-1);E=V=>{const x=Math.exp(-_*v*V),S=Math.min(C*V,300);return o-x*((w+_*v*P)*Math.sinh(S)+C*P*Math.cosh(S))/C}}const j={calculatedDuration:p&&h||null,next:C=>{const V=E(C);if(p)a.done=C>=h;else{let x=0;_<1&&(x=C===0?Ns(w):pI(E,C,V));const S=Math.abs(x)<=r,A=Math.abs(o-V)<=s;a.done=S&&A}return a.value=a.done?o:V,a},toString:()=>{const C=Math.min(DC(j),ay),V=MC(x=>j.next(C*x).value,C,30);return C+"ms "+V}};return j}function hS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let _=n*e;const P=h+_,v=o===void 0?P:o(P);v!==P&&(_=v-h);const y=S=>-_*Math.exp(-S/r),E=S=>v+y(S),j=S=>{const A=y(S),I=E(S);m.done=Math.abs(A)<=c,m.value=m.done?v:I};let C,V;const x=S=>{p(m.value)&&(C=S,V=gI({keyframes:[m.value,w(m.value)],velocity:pI(E,S,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return x(0),{calculatedDuration:null,next:S=>{let A=!1;return!V&&C===void 0&&(A=!0,j(S),x(S)),C!==void 0&&S>=C?V.next(S-C):(!A&&j(S),m)}}}const Z6=Xu(.42,0,1,1),eL=Xu(0,0,.58,1),yI=Xu(.42,0,.58,1),tL=t=>Array.isArray(t)&&typeof t[0]!="number",nL={linear:ur,easeIn:Z6,easeInOut:yI,easeOut:eL,circIn:ax,circInOut:QC,circOut:XC,backIn:ox,backInOut:GC,backOut:KC,anticipate:YC},mS=t=>{if(tx(t)){mC(t.length===4);const[e,n,r,s]=t;return Xu(e,n,r,s)}else if(typeof t=="string")return nL[t];return t};function rL(t,e,n){const r=[],s=n||mI,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ur:e;a=Qu(l,a)}r.push(a)}return r}function sL(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(mC(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=rL(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=ll(t[h],t[h+1],d);return a[h](m)};return n?d=>c($s(t[0],t[i-1],d)):c}function iL(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ll(0,e,r);t.push(Pt(n,1,s))}}function oL(t){const e=[0];return iL(e,t.length-1),e}function aL(t,e){return t.map(n=>n*e)}function lL(t,e){return t.map(()=>e||yI).splice(0,t.length-1)}function mh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=tL(r)?r.map(mS):mS(r),i={done:!1,value:e[0]},o=aL(n&&n.length===e.length?n:oL(e),t),a=sL(o,e,{ease:Array.isArray(s)?s:lL(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const cL=t=>{const e=({timestamp:n})=>t(n);return{start:()=>mt.update(e,!0),stop:()=>Vi(e),now:()=>pn.isProcessing?pn.timestamp:ds.now()}},uL={decay:hS,inertia:hS,tween:mh,keyframes:mh,spring:gI},dL=t=>t/100;class hx extends fI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||dx,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=ex(n)?n:uL[n]||mh;let l,c;a!==mh&&typeof e[0]!="number"&&(l=Qu(dL,mI(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=DC(d));const{calculatedDuration:h}=d,m=h+s,p=m*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:p,repeatType:w,repeatDelay:_,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,j=i;if(p){const S=Math.min(this.currentTime,d)/h;let A=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(w==="reverse"?(I=1-I,_&&(I-=_/h)):w==="mirror"&&(j=o)),E=$s(0,1,I)*h}const C=y?{done:!1,value:l[0]}:j.next(E);a&&(C.value=a(C.value));let{done:V}=C;!y&&c!==null&&(V=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return x&&s!==void 0&&(C.value=um(l,this.options,s)),P&&P(C.value),x&&this.finish(),C}get duration(){const{resolved:e}=this;return e?js(e.calculatedDuration):0}get time(){return js(this.currentTime)}set time(e){e=Ns(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=js(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cL,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fL=new Set(["opacity","clipPath","filter","transform"]);function hL(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=LC(a,s);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const mL=Fv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ph=10,pL=2e4;function gL(t){return ex(t.type)||t.type==="spring"||!VC(t.ease)}function yL(t,e){const n=new hx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<pL;)r=n.sample(i),s.push(r.value),i+=ph;return{times:void 0,keyframes:s,duration:i-ph,ease:"linear"}}const vI={anticipate:YC,backInOut:GC,circInOut:QC};function vL(t){return t in vI}class pS extends fI{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new dI(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&fh()&&vL(i)&&(i=vI[i]),gL(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,element:w,..._}=this.options,P=yL(e,_);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,s=P.times,i=P.ease,o="keyframes"}const d=hL(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Zb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(um(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return js(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return js(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ns(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ur;const{animation:r}=n;Zb(r,e)}return ur}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:m,...p}=this.options,w=new hx({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),_=Ns(this.time);c.setWithVelocity(w.sample(_-ph).value,w.sample(_).value,ph)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return mL()&&r&&fL.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const xL={type:"spring",stiffness:500,damping:25,restSpeed:10},wL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bL={type:"keyframes",duration:.8},SL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EL=(t,{keyframes:e})=>e.length>2?bL:Jo.has(t)?t.startsWith("scale")?wL(e[1]):xL:SL;function _L({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const mx=(t,e,n,r={},s,i)=>o=>{const a=Zv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ns(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};_L(a)||(d={...d,...EL(t,d)}),d.duration&&(d.duration=Ns(d.duration)),d.repeatDelay&&(d.repeatDelay=Ns(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const m=um(d.keyframes,a);if(m!==void 0)return mt.update(()=>{d.onUpdate(m),d.onComplete()}),new UV([])}return!i&&pS.supports(d)?new pS(d):new hx(d)};function TL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function xI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&TL(d,h))continue;const w={delay:n,...Zv(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const v=UC(t);if(v){const y=window.MotionHandoffAnimation(v,h,mt);y!==null&&(w.startTime=y,_=!0)}}cy(t,h),m.start(mx(h,m,p,t.shouldReduceMotion&&BC.has(h)?{type:!1}:w,t,_));const P=m.animation;P&&c.push(P)}return a&&Promise.all(c).then(()=>{mt.update(()=>{a&&r6(t,a)})}),c}function gy(t,e,n={}){var r;const s=cm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(xI(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return PL(t,e,d+c,h,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function PL(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(AL).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(gy(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function AL(t,e){return t.sortNodePosition(e)}function CL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>gy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=gy(t,e,n);else{const s=typeof e=="function"?cm(t,e,n.custom):e;r=Promise.all(xI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const IL=Bv.length;function wI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IL;n++){const r=Bv[n],s=t.props[r];(xu(s)||s===!1)&&(e[r]=s)}return e}const kL=[...$v].reverse(),NL=$v.length;function jL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>CL(t,n,r)))}function RL(t){let e=jL(t),n=gS(),r=!0;const s=l=>(c,d)=>{var h;const m=cm(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:w,..._}=m;c={...c,..._,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=wI(t.parent)||{},h=[],m=new Set;let p={},w=1/0;for(let P=0;P<NL;P++){const v=kL[P],y=n[v],E=c[v]!==void 0?c[v]:d[v],j=xu(E),C=v===l?y.isActive:null;C===!1&&(w=P);let V=E===d[v]&&E!==c[v]&&j;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),y.protectedKeys={...p},!y.isActive&&C===null||!E&&!y.prevProp||am(E)||typeof E=="boolean")continue;const x=DL(y.prevProp,E);let S=x||v===l&&y.isActive&&!V&&j||P>w&&j,A=!1;const I=Array.isArray(E)?E:[E];let R=I.reduce(s(v),{});C===!1&&(R={});const{prevResolvedValues:M={}}=y,N={...M,...R},H=q=>{S=!0,m.has(q)&&(A=!0,m.delete(q)),y.needsAnimating[q]=!0;const L=t.getValue(q);L&&(L.liveStyle=!1)};for(const q in N){const L=R[q],O=M[q];if(p.hasOwnProperty(q))continue;let K=!1;oy(L)&&oy(O)?K=!RC(L,O):K=L!==O,K?L!=null?H(q):m.add(q):L!==void 0&&m.has(q)?H(q):y.protectedKeys[q]=!0}y.prevProp=E,y.prevResolvedValues=R,y.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(V&&x)||A)&&h.push(...I.map(q=>({animation:q,options:{type:v}})))}if(m.size){const P={};m.forEach(v=>{const y=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),P[v]=y??null}),h.push({animation:P})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=gS(),r=!0}}}function DL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!RC(e,t):!1}function oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gS(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}let Ji=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},ML=class extends Ji{constructor(e){super(e),e.animationState||(e.animationState=RL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();am(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}},VL=0,LL=class extends Ji{constructor(){super(...arguments),this.id=VL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}};const OL={animation:{Feature:ML},exit:{Feature:LL}};function Eu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ju(t){return{point:{x:t.pageX,y:t.pageY}}}const FL=t=>e=>nx(e)&&t(e,Ju(e));function jc(t,e,n,r){return Eu(t,e,FL(n),r)}const yS=(t,e)=>Math.abs(t-e);function $L(t,e){const n=yS(t.x,e.x),r=yS(t.y,e.y);return Math.sqrt(n**2+r**2)}let bI=class{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Tp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=$L(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:w}=h,{timestamp:_}=pn;this.history.push({...w,timestamp:_});const{onStart:P,onMove:v}=this.handlers;m||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_p(m,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Tp(h.type==="pointercancel"?this.lastMoveEventInfo:_p(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,P),w&&w(h,P)},!nx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ju(e),a=_p(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=pn;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Tp(a,this.history)),this.removeListeners=Qu(jc(this.contextWindow,"pointermove",this.handlePointerMove),jc(this.contextWindow,"pointerup",this.handlePointerUp),jc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vi(this.updatePoint)}};function _p(t,e){return e?{point:e(t.point)}:t}function vS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tp({point:t},e){return{point:t,delta:vS(t,SI(e)),offset:vS(t,BL(e)),velocity:zL(e,.1)}}function BL(t){return t[0]}function SI(t){return t[t.length-1]}function zL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=SI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ns(e)));)n--;if(!r)return{x:0,y:0};const i=js(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const EI=1e-4,UL=1-EI,HL=1+EI,_I=.01,WL=0-_I,qL=0+_I;function fr(t){return t.max-t.min}function KL(t,e,n){return Math.abs(t-e)<=n}function xS(t,e,n,r=.5){t.origin=r,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=fr(n)/fr(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UL&&t.scale<=HL||isNaN(t.scale))&&(t.scale=1),(t.translate>=WL&&t.translate<=qL||isNaN(t.translate))&&(t.translate=0)}function Rc(t,e,n,r){xS(t.x,e.x,n.x,r?r.originX:void 0),xS(t.y,e.y,n.y,r?r.originY:void 0)}function wS(t,e,n){t.min=n.min+e.min,t.max=t.min+fr(e)}function GL(t,e,n){wS(t.x,e.x,n.x),wS(t.y,e.y,n.y)}function bS(t,e,n){t.min=e.min-n.min,t.max=t.min+fr(e)}function Dc(t,e,n){bS(t.x,e.x,n.x),bS(t.y,e.y,n.y)}function YL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pt(n,t,r.max):Math.min(t,n)),t}function SS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function XL(t,{top:e,left:n,bottom:r,right:s}){return{x:SS(t.x,n,s),y:SS(t.y,e,r)}}function ES(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function QL(t,e){return{x:ES(t.x,e.x),y:ES(t.y,e.y)}}function JL(t,e){let n=.5;const r=fr(t),s=fr(e);return s>r?n=ll(e.min,e.max-r,t.min):r>s&&(n=ll(t.min,t.max-s,e.min)),$s(0,1,n)}function ZL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const yy=.35;function eO(t=yy){return t===!1?t=0:t===!0&&(t=yy),{x:_S(t,"left","right"),y:_S(t,"top","bottom")}}function _S(t,e,n){return{min:TS(t,e),max:TS(t,n)}}function TS(t,e){return typeof t=="number"?t:t[e]||0}const PS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Aa=()=>({x:PS(),y:PS()}),AS=()=>({min:0,max:0}),Ot=()=>({x:AS(),y:AS()});function br(t){return[t("x"),t("y")]}function TI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function tO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pp(t){return t===void 0||t===1}function vy({scale:t,scaleX:e,scaleY:n}){return!Pp(t)||!Pp(e)||!Pp(n)}function uo(t){return vy(t)||PI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function PI(t){return CS(t.x)||CS(t.y)}function CS(t){return t&&t!=="0%"}function gh(t,e,n){const r=t-n,s=e*r;return n+s}function IS(t,e,n,r,s){return s!==void 0&&(t=gh(t,s,r)),gh(t,n,r)+e}function xy(t,e=0,n=1,r,s){t.min=IS(t.min,e,n,r,s),t.max=IS(t.max,e,n,r,s)}function AI(t,{x:e,y:n}){xy(t.x,e.translate,e.scale,e.originPoint),xy(t.y,n.translate,n.scale,n.originPoint)}const kS=.999999999999,NS=1.0000000000001;function rO(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ia(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,AI(t,o)),r&&uo(i.latestValues)&&Ia(t,i.latestValues))}e.x<NS&&e.x>kS&&(e.x=1),e.y<NS&&e.y>kS&&(e.y=1)}function Ca(t,e){t.min=t.min+e,t.max=t.max+e}function jS(t,e,n,r,s=.5){const i=Pt(t.min,t.max,s);xy(t,e,n,i,r)}function Ia(t,e){jS(t.x,e.x,e.scaleX,e.scale,e.originX),jS(t.y,e.y,e.scaleY,e.scale,e.originY)}function CI(t,e){return TI(nO(t.getBoundingClientRect(),e))}function sO(t,e,n){const r=CI(t,n),{scroll:s}=e;return s&&(Ca(r.x,s.offset.x),Ca(r.y,s.offset.y)),r}const II=({current:t})=>t?t.ownerDocument.defaultView:null,iO=new WeakMap;let oO=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ju(d).point)},i=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:w}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JV(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(P=>{let v=this.getAxisMotionValue(P).get()||0;if(us.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const E=y.layout.layoutBox[P];E&&(v=fr(E)*(parseFloat(v)/100))}}this.originPoint[P]=v}),w&&mt.postRender(()=>w(d,h)),cy(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:w,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:P}=h;if(p&&this.currentDirection===null){this.currentDirection=aO(P),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),_&&_(d,h)},a=(d,h)=>this.stop(d,h),l=()=>br(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new bI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:II(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&mt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ud(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=YL(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ta(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=XL(s.layoutBox,n):this.constraints=!1,this.elastic=eO(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&br(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ZL(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ta(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=sO(r,s.root,this.visualElement.getTransformPagePoint());let o=QL(s.layout.layoutBox,i);if(n){const a=n(tO(o));this.hasMutatedConstraints=!!a,a&&(o=TI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=br(d=>{if(!Ud(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return cy(this.visualElement,e),r.start(mx(e,r,0,n,this.visualElement,!1))}stopAnimation(){br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){br(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){br(n=>{const{drag:r}=this.getProps();if(!Ud(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Pt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ta(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};br(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=JL({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),br(o=>{if(!Ud(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;iO.set(this.visualElement,this);const e=this.visualElement.current,n=jc(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ta(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mt.read(r);const o=Eu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(br(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=yy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}};function Ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let lO=class extends Ji{constructor(e){super(e),this.removeGroupControls=ur,this.removeListeners=ur,this.controls=new oO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ur}unmount(){this.removeGroupControls(),this.removeListeners()}};const RS=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};let cO=class extends Ji{constructor(){super(...arguments),this.removePointerDownListener=ur}onPointerDown(e){this.session=new bI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:II(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:RS(e),onStart:RS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&mt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Ef={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ic={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=DS(t,e.target.x),r=DS(t,e.target.y);return`${n}% ${r}%`}},uO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Li.parse(t);if(s.length>5)return r;const i=Li.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Pt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let dO=class extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;NV(fO),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ef.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||mt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Uv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function kI(t){const[e,n]=fC(),r=T.useContext(Mv);return u.jsx(dO,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(wC),isPresent:e,safeToRemove:n})}const fO={borderRadius:{...ic,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ic,borderTopRightRadius:ic,borderBottomLeftRadius:ic,borderBottomRightRadius:ic,boxShadow:uO};function hO(t,e,n){const r=Nn(t)?t:bu(t);return r.start(mx("",r,e,n)),r.animation}function mO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const pO=(t,e)=>t.depth-e.depth;let gO=class{constructor(){this.children=[],this.isDirty=!1}add(e){rx(this.children,e),this.isDirty=!0}remove(e){sx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pO),this.isDirty=!1,this.children.forEach(e)}};function yO(t,e){const n=ds.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Vi(r),t(i-e))};return mt.read(r,!0),()=>Vi(r)}const NI=["TopLeft","TopRight","BottomLeft","BottomRight"],vO=NI.length,MS=t=>typeof t=="string"?parseFloat(t):t,VS=t=>typeof t=="number"||Te.test(t);function xO(t,e,n,r,s,i){s?(t.opacity=Pt(0,n.opacity!==void 0?n.opacity:1,wO(r)),t.opacityExit=Pt(e.opacity!==void 0?e.opacity:1,0,bO(r))):i&&(t.opacity=Pt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<vO;o++){const a=`border${NI[o]}Radius`;let l=LS(e,a),c=LS(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||VS(l)===VS(c)?(t[a]=Math.max(Pt(MS(l),MS(c),r),0),(us.test(c)||us.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,r))}function LS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wO=jI(0,.5,XC),bO=jI(.5,.95,ur);function jI(t,e,n){return r=>r<t?0:r>e?1:n(ll(t,e,r))}function OS(t,e){t.min=e.min,t.max=e.max}function xr(t,e){OS(t.x,e.x),OS(t.y,e.y)}function FS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function $S(t,e,n,r,s){return t-=e,t=gh(t,1/n,r),s!==void 0&&(t=gh(t,1/s,r)),t}function SO(t,e=0,n=1,r=.5,s,i=t,o=t){if(us.test(e)&&(e=parseFloat(e),e=Pt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pt(i.min,i.max,r);t===i&&(a-=e),t.min=$S(t.min,e,n,a,s),t.max=$S(t.max,e,n,a,s)}function BS(t,e,[n,r,s],i,o){SO(t,e[n],e[r],e[s],e.scale,i,o)}const EO=["x","scaleX","originX"],_O=["y","scaleY","originY"];function zS(t,e,n,r){BS(t.x,e,EO,n?n.x:void 0,r?r.x:void 0),BS(t.y,e,_O,n?n.y:void 0,r?r.y:void 0)}function US(t){return t.translate===0&&t.scale===1}function RI(t){return US(t.x)&&US(t.y)}function HS(t,e){return t.min===e.min&&t.max===e.max}function TO(t,e){return HS(t.x,e.x)&&HS(t.y,e.y)}function WS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function DI(t,e){return WS(t.x,e.x)&&WS(t.y,e.y)}function qS(t){return fr(t.x)/fr(t.y)}function KS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let PO=class{constructor(){this.members=[]}add(e){rx(this.members,e),e.scheduleRender()}remove(e){if(sx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function AO(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},gc=typeof window<"u"&&window.MotionDebug!==void 0,Ap=["","X","Y","Z"],CO={visibility:"hidden"},GS=1e3;let IO=0;function Cp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function MI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=UC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&MI(r)}function VI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=IO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,gc&&(fo.totalNodes=fo.resolvedTargetDeltas=fo.recalculatedProjection=0),this.nodes.forEach(jO),this.nodes.forEach(LO),this.nodes.forEach(OO),this.nodes.forEach(RO),gc&&window.MotionDebug.record(fo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ix),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mO(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=yO(m,250),Ef.hasAnimatedSinceResize&&(Ef.hasAnimatedSinceResize=!1,this.nodes.forEach(XS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||UO,{onLayoutAnimationStart:P,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!DI(this.targetLayout,w)||p,E=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const j={...Zv(_,"layout"),onPlay:P,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||XS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YS);return}this.isUpdating||this.nodes.forEach(MO),this.isUpdating=!1,this.nodes.forEach(VO),this.nodes.forEach(kO),this.nodes.forEach(NO),this.clearAllSnapshots();const a=ds.now();pn.delta=$s(0,1e3/60,a-pn.timestamp),pn.timestamp=a,pn.isProcessing=!0,vp.update.process(pn),vp.preRender.process(pn),vp.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Uv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DO),this.sharedNodes.forEach($O)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!RI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||uo(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),HO(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ot();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(WO))){const{scroll:d}=this.root;d&&(Ca(l.x,d.offset.x),Ca(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Ot();if(xr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&xr(l,o),Ca(l.x,h.offset.x),Ca(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ot();xr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ia(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),uo(d.latestValues)&&Ia(l,d.latestValues)}return uo(this.latestValues)&&Ia(l,this.latestValues),l}removeTransform(o){const a=Ot();xr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!uo(c.latestValues))continue;vy(c.latestValues)&&c.updateSnapshot();const d=Ot(),h=c.measurePageBox();xr(d,h),zS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return uo(this.latestValues)&&zS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Dc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),AI(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),Dc(this.relativeTargetOrigin,this.target,p.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}gc&&fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vy(this.parent.latestValues)||PI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;xr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;rO(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ot());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FS(this.prevProjectionDelta.x,this.projectionDelta.x),FS(this.prevProjectionDelta.y,this.projectionDelta.y)),Rc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!KS(this.projectionDelta.x,this.prevProjectionDelta.x)||!KS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),gc&&fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Aa(),this.projectionDelta=Aa(),this.projectionDeltaWithTransform=Aa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Ot(),p=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=p!==w,P=this.getStack(),v=!P||P.members.length<=1,y=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(zO));this.animationProgress=0;let E;this.mixTargetDelta=j=>{const C=j/1e3;QS(h.x,o.x,C),QS(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BO(this.relativeTarget,this.relativeTargetOrigin,m,C),E&&TO(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ot()),xr(E,this.relativeTarget)),_&&(this.animationValues=d,xO(d,c,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{Ef.hasAnimatedSinceResize=!0,this.currentAnimation=hO(0,GS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&LI(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ot();const h=fr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=fr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}xr(a,l),Ia(a,d),Rc(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new PO),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Cp("z",o,c,this.animationValues);for(let d=0;d<Ap.length;d++)Cp(`rotate${Ap[d]}`,o,c,this.animationValues),Cp(`skew${Ap[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CO;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=bf(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=bf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!uo(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=AO(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:p,y:w}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in dh){if(m[_]===void 0)continue;const{correct:P,applyTo:v}=dh[_],y=c.transform==="none"?m[_]:P(m[_],h);if(v){const E=v.length;for(let j=0;j<E;j++)c[v[j]]=y}else c[_]=y}return this.options.layoutId&&(c.pointerEvents=h===this?bf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(YS),this.root.sharedNodes.clear()}}}function kO(t){t.updateLayout()}function NO(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?br(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],p=fr(m);m.min=r[h].min,m.max=m.min+p}):LI(i,n.layoutBox,r)&&br(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],p=fr(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Aa();Rc(a,r,n.layoutBox);const l=Aa();o?Rc(l,t.applyTransform(s,!0),n.measuredBox):Rc(l,r,n.layoutBox);const c=!RI(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const w=Ot();Dc(w,n.layoutBox,m.layoutBox);const _=Ot();Dc(_,r,p.layoutBox),DI(w,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function jO(t){gc&&fo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DO(t){t.clearSnapshot()}function YS(t){t.clearMeasurements()}function MO(t){t.isLayoutDirty=!1}function VO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function LO(t){t.resolveTargetDelta()}function OO(t){t.calcProjection()}function FO(t){t.resetSkewAndRotation()}function $O(t){t.removeLeadSnapshot()}function QS(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JS(t,e,n,r){t.min=Pt(e.min,n.min,r),t.max=Pt(e.max,n.max,r)}function BO(t,e,n,r){JS(t.x,e.x,n.x,r),JS(t.y,e.y,n.y,r)}function zO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UO={duration:.45,ease:[.4,0,.1,1]},ZS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),e2=ZS("applewebkit/")&&!ZS("chrome/")?Math.round:ur;function t2(t){t.min=e2(t.min),t.max=e2(t.max)}function HO(t){t2(t.x),t2(t.y)}function LI(t,e,n){return t==="position"||t==="preserve-aspect"&&!KL(qS(e),qS(n),.2)}function WO(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const qO=VI({attachResizeListener:(t,e)=>Eu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},OI=VI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ip.current){const t=new qO({});t.mount(window),t.setOptions({layoutScroll:!0}),Ip.current=t}return Ip.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),KO={pan:{Feature:cO},drag:{Feature:lO,ProjectionNode:OI,MeasureLayout:kI}};function n2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&mt.postRender(()=>i(e,Ju(e)))}let GO=class extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=KV(e,n=>(n2(this.node,n,"Start"),r=>n2(this.node,r,"End"))))}unmount(){}},YO=class extends Ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(Eu(this.node.current,"focus",()=>this.onFocus()),Eu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function r2(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&mt.postRender(()=>i(e,Ju(e)))}let XO=class extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=QV(e,n=>(r2(this.node,n,"Start"),(r,{success:s})=>r2(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const wy=new WeakMap,kp=new WeakMap,QO=t=>{const e=wy.get(t.target);e&&e(t)},JO=t=>{t.forEach(QO)};function ZO({root:t,...e}){const n=t||document;kp.has(n)||kp.set(n,{});const r=kp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(JO,{root:t,...e})),r[s]}function eF(t,e,n){const r=ZO(e);return wy.set(t,n),r.observe(t),()=>{wy.delete(t),r.unobserve(t)}}const tF={some:0,all:1};let nF=class extends Ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:tF[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=c?d:h;m&&m(l)};return eF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rF(e,n))&&this.startObserver()}unmount(){}};function rF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sF={inView:{Feature:nF},tap:{Feature:XO},focus:{Feature:YO},hover:{Feature:GO}},iF={layout:{ProjectionNode:OI,MeasureLayout:kI}},by={current:null},FI={current:!1};function oF(){if(FI.current=!0,!!Ov)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>by.current=t.matches;t.addListener(e),e()}else by.current=!1}const aF=[...uI,Pn,Li],lF=t=>aF.find(cI(t)),s2=new WeakMap;function cF(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Nn(s))t.addValue(r,s);else if(Nn(i))t.addValue(r,bu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,bu(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const i2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let uF=class{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ds.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,mt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=lm(n),this.isVariantNode=vC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const w=m[p];l[p]!==void 0&&Nn(w)&&w.set(l[p],!1)}}mount(e){this.current=e,s2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),FI.current||oF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:by.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){s2.delete(this.current),this.projection&&this.projection.unmount(),Vi(this.notifyUpdate),Vi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Jo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cl){const n=cl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<i2.length;r++){const s=i2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=cF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(aI(s)||JC(s))?s=parseFloat(s):!lF(s)&&Li.test(n)&&(s=sI(e,n)),this.setBaseTarget(e,Nn(s)?s.get():s)),Nn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Wv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Nn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ix),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},$I=class extends uF{constructor(){super(...arguments),this.KeyframeResolver=dI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function dF(t){return window.getComputedStyle(t)}let fF=class extends $I{constructor(){super(...arguments),this.type="html",this.renderInstance=AC}readValueFromInstance(e,n){if(Jo.has(n)){const r=ux(n);return r&&r.default||0}else{const r=dF(e),s=(_C(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CI(e,n)}build(e,n,r){Gv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Jv(e,n,r)}},hF=class extends $I{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Jo.has(n)){const r=ux(n);return r&&r.default||0}return n=CC.has(n)?n:zv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return NC(e,n,r)}build(e,n,r){Yv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){IC(e,n,r,s)}mount(e){this.isSVGTag=Qv(e.tagName),super.mount(e)}};const mF=(t,e)=>Hv(t)?new hF(e):new fF(e,{allowProjection:t!==T.Fragment}),pF=$V({...OL,...sF,...KO,...iF},mF),pe=tV(pF);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...yF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:BI("lucide",s),...a},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(vF,{ref:i,iconNode:e,className:BI(`lucide-${gF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=bn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=bn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=bn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=bn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=bn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=bn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=bn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=bn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=bn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=bn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=bn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=bn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=bn("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=bn("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=bn("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=bn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=bn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),px=async t=>{try{const e={...t,userAgent:navigator.userAgent};console.log(" Logging error to /errors endpoint:",e),await Ur(`${kF()}/errors`,{method:"POST",headers:{"Content-Type":"application/json","x-anon-id":As(),"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n==="x"?r:r&3|8).toString(16)})},body:JSON.stringify(e)}),console.log(" Error logged successfully")}catch(e){console.error(" Failed to log error:",e)}},bF=async(t,e,n)=>{const r=typeof t=="string"?t:t.message,s=typeof t=="string"?void 0:t.stack;await px({anon_id:As(),session_id:No(),error_type:"ApiError",message:r,stack:s,page:n||window.location.href,api:e||void 0,userAgent:navigator.userAgent})},HI=async(t,e,n)=>{await px({anon_id:As(),session_id:No(),error_type:"ReactError",message:t.message,componentStack:e,stack:t.stack,page:n||window.location.href,userAgent:navigator.userAgent})},SF=async(t,e)=>{await px({anon_id:As(),session_id:No(),error_type:"NotFound",message:t,page:e||window.location.href,userAgent:navigator.userAgent})},f2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",h2="ss_anon_id",m2="ss_session_id";function xh(t){let e="";for(let n=0;n<t;n++)e+=f2.charAt(Math.floor(Math.random()*f2.length));return e}function As(){if(typeof window>"u")return"";try{let t=localStorage.getItem(h2);return t||(t=`aid_${xh(4)}`,localStorage.setItem(h2,t)),t}catch(t){return console.warn("Failed to get/create anonymous ID:",t),`aid_${xh(4)}`}}function No(){if(typeof window>"u")return"";try{let t=sessionStorage.getItem(m2);return t||(t=`sid_${xh(4)}`,sessionStorage.setItem(m2,t)),t}catch(t){return console.warn("Failed to get/create session ID:",t),`sid_${xh(4)}`}}let _y=null;const EF=t=>{_y=t},ns=(t,e,n)=>{if(_y){const r=`API Error: ${t}`,s=n?`Status ${n}: ${e}`:e;_y.showError(r,s,8e3)}},_f="https://recommender-api-973409790816.europe-west1.run.app",Wa="http://localhost:8080",Cs="ss_api_mode",aa="ss_dev_mode",dl="ss_sandbox_header",dm="ss_local_mode",_u="ss_mock_recommendations",pr=typeof window<"u"&&typeof document<"u";if(pr){if(new URLSearchParams(window.location.search).get("dev")==="1"){const e=localStorage.getItem(aa)==="true";localStorage.setItem(aa,"true"),Ty()||localStorage.setItem(Cs,"sandbox"),e||(localStorage.setItem(dl,"true"),localStorage.setItem(_u,"true"))}window.dev=e=>{if(e==="1"||e===1){const n=localStorage.getItem(aa)==="true";localStorage.setItem(aa,"true"),n||(Ty()||localStorage.setItem(Cs,"sandbox"),localStorage.setItem(dl,"true"),localStorage.setItem(_u,"true")),console.log(" Dev mode enabled"),window.location.reload()}else localStorage.removeItem(aa),console.log(" Dev mode disabled"),window.location.reload()}}function _F(){if(pr)try{const e=new URLSearchParams(window.location.search).get("mode");if(e==="sandbox-local")return localStorage.setItem(Cs,"sandbox-local"),"sandbox-local";if(e==="sandbox")return localStorage.setItem(Cs,"sandbox"),"sandbox";if(e==="prod")return localStorage.setItem(Cs,"prod"),"prod";if(e==="training")return localStorage.setItem(Cs,"training"),"training"}catch{}}function Ty(){if(!pr)return;const t=localStorage.getItem(Cs);if(t==="dev")return"sandbox-local";if(t==="sandbox-local"||t==="sandbox"||t==="prod"||t==="training")return t}const ed=()=>{const t=_F(),e=Ty();return t??e??"prod"},WI=()=>pr?localStorage.getItem(aa)==="true":!1,gx=()=>pr?localStorage.getItem(dl)==="true":!1,TF=t=>{pr&&(localStorage.setItem(dl,"true"),localStorage.removeItem(dm))},fm=()=>pr?localStorage.getItem(dm)==="true":!1,PF=t=>{pr&&(localStorage.setItem(dm,"true"),localStorage.removeItem(dl),localStorage.setItem(Cs,"sandbox-local"))},AF=()=>{pr&&(localStorage.removeItem(dl),localStorage.removeItem(dm),localStorage.setItem(Cs,"prod"))},CF=()=>!fm()&&!gx(),qI=()=>pr?localStorage.getItem(_u)==="true":!1,IF=t=>{pr&&(t?localStorage.setItem(_u,"true"):localStorage.removeItem(_u))},la=()=>{if(fm())return Wa;const t=ed();return pr&&((t==="sandbox-local"||t==="sandbox")&&!window.__ssModeLogShown&&(console.log(` ${t==="sandbox-local"?"Sandbox LOCAL":"Sandbox CLOUD"} API mode enabled`),window.__ssModeLogShown=!0),t==="training"&&!window.__ssModeLogShown&&(console.log(" TRAINING API mode enabled"),window.__ssModeLogShown=!0)),t==="training"||t==="sandbox-local"?Wa:_f},yo=()=>{if(WI())return!0;const t=ed();return t==="sandbox-local"||t==="sandbox"},li=()=>yo(),kF=()=>{const t=ed();return t==="training"||t==="sandbox-local"?"http://localhost:8080":"https://recommender-api-973409790816.europe-west1.run.app"},ka=(t,e)=>{const r=la().replace(/\/$/,""),s=t.replace(/^\//,""),i=new URL(`${r}/${s}`);return e&&e.forEach((o,a)=>{i.searchParams.append(a,o)}),i.toString()},qa=()=>{const t=ed();return t==="prod"?null:t},Mc=t=>{const e={"Content-Type":"application/json"};return!t&&typeof window<"u"&&(t=qa()||void 0),t==="training"&&(e["X-Training-Mode"]="true"),e},NF=()=>{const t=As();return t.startsWith("aid_")?t.replace("aid_","uid_"):t.startsWith("uid_")?t:`uid_${t}`},jF=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Ur=(t,e,n)=>{const r=typeof t=="string"?t:t instanceof URL?t.toString():t.url,s=r.startsWith(Wa)||r.startsWith(_f),i=yo(),o=pr&&i&&s&&/\/recommend(\b|\?|$)/.test(r);if(o){const a=(e==null?void 0:e.method)||"GET";console.log(` API CALL${n?` (${n})`:""}: ${a} ${r}`)}if(s){const a=new Headers((e==null?void 0:e.headers)||{}),l=jF();a.set("X-User-Id",NF()),a.set("X-Request-Id",l),i&&(a.set("Cache-Control","no-cache, no-store, must-revalidate"),a.set("Pragma","no-cache"),a.set("Expires","0")),(gx()||fm())&&a.set("X-Sandbox","true"),qI()&&/\/recommend(\b|\?|$)/.test(r)&&a.set("X-Mock-Recommendations","true"),/\/recommend(\b|\?|$)/.test(r)&&a.set("X-Session-Id",No());const c=Date.now();return fetch(t,{...e,headers:a}).then(async d=>{const h=Date.now()-c;if(o&&console.log(d.ok?" /recommend success":` /recommend failed ${d.status}`),!d.ok){let m="";try{m=await d.text()}catch{m="Failed to read response text"}const p=(e==null?void 0:e.method)||"GET",w=r.replace(Wa,"").replace(_f,"")||"/",_=d.headers.get("X-Request-Id")||l;if(i&&s){let v=`${d.status} ${d.statusText}`;if(m)try{const y=JSON.parse(m);y.error&&typeof y.error=="string"?v=y.error:y.message&&typeof y.message=="string"&&(v=y.message)}catch{const y=m.trim();y&&!y.startsWith("<!")&&(v=y)}ns(w,v,d.status)}const P=new Error(`API Error: ${d.status} ${d.statusText}`);throw P.apiMetadata={endpoint:w,method:p,status:d.status,duration_ms:h,response_text:m,request_id:_,retry_count:0},P}return d}).catch(d=>{const h=Date.now()-c;if(o&&console.log(` /recommend network error: ${(d==null?void 0:d.message)||d}`),d.apiMetadata)throw d;const m=(e==null?void 0:e.method)||"GET",p=r.replace(Wa,"").replace(_f,"")||"/";i&&s&&ns(p,(d==null?void 0:d.message)||"Network error",0);const w=new Error(`Network Error: ${(d==null?void 0:d.message)||"Unknown network error"}`);throw w.apiMetadata={endpoint:p,method:m,status:0,duration_ms:h,response_text:(d==null?void 0:d.message)||"Network error",request_id:l,retry_count:0},w})}return fetch(t,e).then(a=>(o&&console.log(a.ok?" /recommend success":` /recommend failed ${a.status}`),a)).catch(a=>{throw o&&console.log(` /recommend network error: ${(a==null?void 0:a.message)||a}`),a})},RF=({toast:t,onRemove:e})=>{const[n,r]=T.useState(!0);T.useEffect(()=>{const o=setTimeout(()=>{r(!1),setTimeout(()=>e(t.id),300)},t.duration||5e3);return()=>clearTimeout(o)},[t.id,t.duration,e]);const s=()=>{switch(t.type){case"success":return u.jsx(xF,{className:"w-5 h-5 text-green-500"});case"error":return u.jsx(vh,{className:"w-5 h-5 text-red-500"});case"warning":return u.jsx(vh,{className:"w-5 h-5 text-yellow-500"});case"info":return u.jsx(l2,{className:"w-5 h-5 text-blue-500"});default:return u.jsx(l2,{className:"w-5 h-5 text-gray-500"})}},i=()=>{switch(t.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return u.jsx(xi,{children:n&&u.jsx(pe.div,{initial:{opacity:0,y:-50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.95},transition:{duration:.3,ease:"easeOut"},className:`max-w-sm w-full border rounded-lg shadow-lg p-4 ${i()}`,children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0",children:s()}),u.jsxs("div",{className:"ml-3 flex-1",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:t.title}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.message})]}),u.jsx("div",{className:"ml-4 flex-shrink-0",children:u.jsx("button",{onClick:()=>{r(!1),setTimeout(()=>e(t.id),300)},className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors",children:u.jsx(Zu,{className:"w-4 h-4"})})})]})})})},DF=({toasts:t,onRemove:e})=>u.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(n=>u.jsx(RF,{toast:n,onRemove:e},n.id))}),MF=()=>{const[t,e]=T.useState([]),n=l=>{const c=Math.random().toString(36).substr(2,9);e(d=>[...d,{...l,id:c}])};return{toasts:t,addToast:n,removeToast:l=>{e(c=>c.filter(d=>d.id!==l))},showSuccess:(l,c,d)=>{n({type:"success",title:l,message:c,duration:d})},showError:(l,c,d)=>{n({type:"error",title:l,message:c,duration:d})},showWarning:(l,c,d)=>{n({type:"warning",title:l,message:c,duration:d})},showInfo:(l,c,d)=>{n({type:"info",title:l,message:c,duration:d})}}},KI=T.createContext(void 0),VF=({children:t})=>{const e=MF();return u.jsx(KI.Provider,{value:e,children:t})},GI=()=>{const t=T.useContext(KI);if(t===void 0)throw new Error("useToastContext must be used within a ToastProvider");return t},Hd=t=>t.productTitle&&t.productTitle.trim()!==""?t.productTitle:t.name&&t.name.trim()!==""?t.name:t.sku?`Product ${t.sku}`:"Product Title Not Available";function LF(){var M,N;const{recId:t}=aC(),e=Qo(),{showError:n}=GI(),[r,s]=T.useState([]),[i,o]=T.useState(!0),[a,l]=T.useState(!1),[c,d]=T.useState(null),[h,m]=T.useState(!1),[p,w]=T.useState({}),[_,P]=T.useState(!1),[v,y]=T.useState(""),[E,j]=T.useState(!1),[C,V]=T.useState(null),x=(H,J)=>{w(z=>({...z,[H]:z[H]===J?null:J})),A("label",H,J===1?"1":"0")},S=()=>{v.trim()&&(A("comment",void 0,void 0,v),y(""),P(!1),j(!0))},A=async(H,J,z,q,L)=>{try{const O=As(),K=No(),Z={event:H,session_id:K,rec_id:t};J&&(Z.sku=J),z&&(Z.label=z),q&&(Z.comment=q),L&&(Z.rating=L);const se={"Content-Type":"application/json","x-anon-id":O,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ke){const De=Math.random()*16|0;return(ke==="x"?De:De&3|8).toString(16)})},ge=new URLSearchParams(window.location.search).get("client_origin");ge&&(se.client_origin=ge);const Ee=await Ur(`${la()}/interactions`,{method:"POST",headers:se,body:JSON.stringify(Z)});Ee.ok||(console.warn(`Interaction ${H} failed with status ${Ee.status}`),li()&&ns("/interactions",`HTTP ${Ee.status}`,Ee.status))}catch(O){li()&&ns("/interactions",O instanceof Error?O.message:"Network error")}},I=async()=>{try{const H=As(),z={event:"visit_ping",session_id:No(),rec_id:t},q={"Content-Type":"application/json","x-anon-id":H,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Z){const se=Math.random()*16|0;return(Z==="x"?se:se&3|8).toString(16)})},O=new URLSearchParams(window.location.search).get("client_origin");O&&(q.client_origin=O);const K=await Ur(`${la()}/track`,{method:"POST",headers:q,body:JSON.stringify(z)});K.ok||(console.warn(`Visit ping failed with status ${K.status}`),li()&&ns("/track",`HTTP ${K.status}`,K.status))}catch(H){li()&&ns("/track",H instanceof Error?H.message:"Network error")}},R=async()=>{try{const H=As(),J=No(),z={event:"visit_shared_link",rec_id:t,session_id:J},q=await Ur(`${la()}/track`,{method:"POST",headers:{"Content-Type":"application/json","x-anon-id":H,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(L){const O=Math.random()*16|0;return(L==="x"?O:O&3|8).toString(16)})},body:JSON.stringify(z)});q.ok||(console.warn(`Tracking event visit_shared_link failed with status ${q.status}`),li()&&ns("/track",`HTTP ${q.status}`,q.status))}catch(H){li()&&ns("/track",H instanceof Error?H.message:"Network error")}};return T.useEffect(()=>{var H,J;if(r.length>0&&c){const z=((H=c.relationship)==null?void 0:H.toLowerCase())==="father"?" Top Picks for Dad":((J=c.relationship)==null?void 0:J.toLowerCase())==="mother"?" Top Picks for Mum":" Top Picks",q=`Personalized gift recommendations for ${c.personAge?`age ${c.personAge}`:"them"}${c.occasion?` for ${c.occasion}`:""}. ${r.length} carefully curated gift suggestions.`;document.title=`${z} | SimplySent`;const L=(K,Z)=>{let se=document.querySelector(`meta[property="${K}"]`);se||(se=document.createElement("meta"),se.setAttribute("property",K),document.head.appendChild(se)),se.setAttribute("content",Z)},O=(K,Z)=>{let se=document.querySelector(`meta[name="${K}"]`);se||(se=document.createElement("meta"),se.setAttribute("name",K),document.head.appendChild(se)),se.setAttribute("content",Z)};L("og:title",z),L("og:description",q),L("og:url",`https://simplysent.co/${t}`),L("og:type","website"),L("og:site_name","SimplySent"),O("twitter:card","summary_large_image"),O("twitter:title",z),O("twitter:description",q),O("description",q)}},[r,c,t]),T.useEffect(()=>{if(t&&t.startsWith("rec_")){const H=setInterval(()=>{I()},3e4);return V(H),()=>{H&&clearInterval(H)}}},[t]),T.useEffect(()=>{const H=()=>{console.log("Loading recommendation for ID:",t),console.log("recId type:",typeof t),console.log("recId length:",t==null?void 0:t.length);const J=async()=>{var z,q;try{const L=`${la()}/recommend/${t}`;console.log("Current API Mode:",ed()),console.log("API Base URL:",la()),console.log("Using API for shared recommendation:",L),console.log("Fetching recommendation from API:",L);const O=As(),K=await Ur(L,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-anon-id":O,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(se){const we=Math.random()*16|0;return(se==="x"?we:we&3|8).toString(16)})}});if(!K.ok){console.error("API response not OK:",K.status,K.statusText);try{const se=await K.text();console.error("Error response body:",se)}catch{console.error("Could not read error response body")}li()&&ns("/recommend",`HTTP ${K.status}`,K.status),l(!0),o(!1);return}const Z=await K.json();if(console.log("API response data:",Z),Z.context){const se={personAge:((z=Z.context.age)==null?void 0:z.toString())||"",gender:Z.context.gender||"",relationship:Z.context.relationship?Z.context.relationship.charAt(0).toUpperCase()+Z.context.relationship.slice(1):"",occasion:Z.context.occasion?Z.context.occasion.charAt(0).toUpperCase()+Z.context.occasion.slice(1):"",sentiment:Z.context.sentiment?Z.context.sentiment.charAt(0).toUpperCase()+Z.context.sentiment.slice(1):"",interests:Z.context.interests||[],favoritedrink:Z.context.favourite_drink?Z.context.favourite_drink.charAt(0).toUpperCase()+Z.context.favourite_drink.slice(1):"",clothesSize:Z.context.size||"",minBudget:Z.context.budget_min||10,maxBudget:Z.context.budget_max||110};d(se)}if(console.log("Raw products from API:",Z.products),console.log("Products is array:",Array.isArray(Z.products)),console.log("Products length:",(q=Z.products)==null?void 0:q.length),Z.products&&Array.isArray(Z.products)&&Z.products.length>0){const we=[...Z.products.map(ge=>({sku:ge.sku||ge.ASIN||"",productTitle:ge.productTitle||ge.name||"",imageUrl:ge.imageUrl||ge.image_url||"",price:ge.price||"0.00",description:ge.description||"",rank:ge.rank||"999",ASIN:ge.ASIN,name:ge.name,image_url:ge.image_url}))].sort((ge,Ee)=>{const ke=parseInt(ge.rank)||999,De=parseInt(Ee.rank)||999;return ke-De});s(we),console.log("Products set successfully:",we.length,"products")}else console.error("No recommendations found in API response"),l(!0);o(!1)}catch(L){console.error("Failed to fetch recommendation from API:",L),li()&&ns("/recommend",L instanceof Error?L.message:"Network error"),l(!0),o(!1)}};console.log("About to call fetchFromAPI..."),J()};t&&t.startsWith("rec_")?(H(),R()):(l(!0),o(!1))},[t]),i?u.jsx(pe.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-xl"}),u.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:u.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})})]}),u.jsx("p",{className:"text-gray-600",children:"Loading your recommendations..."})]})}):a?u.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"min-h-screen flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-6",children:[u.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),u.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:u.jsx(vh,{className:"w-20 h-20 text-purple-500"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recommendation Not Found"}),u.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"This recommendation link may be invalid, expired, or the recommendation was created on a different device. Please create a new recommendation to get started."}),u.jsxs("div",{className:"flex gap-4 justify-center",children:[u.jsxs(pe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[u.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),u.jsxs(pe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[u.jsx(d2,{className:"w-5 h-5 mr-2"}),"Create New Recommendation"]})]})]})}):u.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen",children:[u.jsxs("div",{className:"mb-8 text-center",children:[u.jsxs(pe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors mb-6",children:[u.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),u.jsx("h1",{className:"text-4xl font-bold font-headline text-gray-900 mb-3",children:((M=c==null?void 0:c.relationship)==null?void 0:M.toLowerCase())==="father"?" Top Picks for Dad":((N=c==null?void 0:c.relationship)==null?void 0:N.toLowerCase())==="mother"?" Top Picks for Mum":" Top Picks"})]}),c&&u.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:u.jsxs("div",{className:"relative bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-6 border border-purple-100",children:[u.jsx("div",{className:"space-y-4 pb-20",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[c.personAge&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Age:"})," ",c.personAge]})]}),c.gender&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Gender:"})," ",c.gender]})]}),c.relationship&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Relationship:"})," ",c.relationship]})]}),c.occasion&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Occasion:"})," ",c.occasion]})]}),c.sentiment&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Mood:"})," ",c.sentiment]})]}),c.favoritedrink&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Favorite Drink:"})," ",c.favoritedrink]})]}),c.clothesSize&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Clothes Size:"})," ",c.clothesSize]})]}),(c.minBudget||c.maxBudget)&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{className:"text-gray-700",children:[u.jsx("strong",{children:"Budget:"})," ",c.minBudget||0," - ",c.maxBudget||""]})]})]})}),c.interests&&c.interests.length>0&&u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded-b-2xl shadow-2xl",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-400/20 via-purple-400/20 to-indigo-400/20 animate-pulse"}),u.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400"}),u.jsx("div",{className:"hidden md:block relative z-10 p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"text-white font-bold text-lg",children:"Interests"})]}),u.jsx("div",{className:"flex flex-wrap gap-2 max-w-4xl",children:c.interests.map((H,J)=>u.jsx(pe.span,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},transition:{delay:J*.05},whileHover:{scale:1.1,y:-2},className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-white/90 text-purple-600 shadow-lg hover:shadow-xl transition-all duration-200 border border-white/50 backdrop-blur-sm",children:H},J))})]})}),u.jsxs("div",{className:"md:hidden relative z-10",children:[u.jsxs(pe.button,{onClick:()=>m(!h),className:"w-full p-4 flex items-center justify-between text-left",whileTap:{scale:.98},children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"text-white font-bold text-lg",children:"Interests"})]}),u.jsx(pe.div,{animate:{rotate:h?180:0},transition:{duration:.2},children:u.jsx(UI,{className:"w-5 h-5 text-white"})})]}),u.jsx(xi,{children:h&&u.jsx(pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:u.jsx("div",{className:"px-4 pb-4",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:c.interests.map((H,J)=>u.jsx(pe.span,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},transition:{delay:J*.05},whileHover:{scale:1.1,y:-2},className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-white/90 text-purple-600 shadow-lg hover:shadow-xl transition-all duration-200 border border-white/50 backdrop-blur-sm",children:H},J))})})})})]})]})]})}),r.length>0&&u.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Top Recommendation"}),u.jsx("p",{className:"text-gray-600",children:"Our #1 pick"})]}),u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs(pe.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-100 via-indigo-50 to-pink-100 rounded-3xl shadow-2xl overflow-hidden border border-purple-200",children:[u.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-purple-200 to-indigo-200 overflow-hidden",children:[r[0].imageUrl?u.jsx("img",{src:r[0].imageUrl,alt:Hd(r[0]),className:"w-full h-full object-cover",onError:H=>{const J=H.target;J.style.display="none"}}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-purple-400",children:u.jsx(Np,{className:"w-16 h-16"})}),u.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-3 py-2 rounded-full text-sm font-semibold shadow-lg",children:"#1 TOP PICK"})]}),u.jsxs("div",{className:"p-8",children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:Hd(r[0])}),u.jsx("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:r[0].description}),u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(pe.button,{onClick:()=>x(r[0].sku,1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[r[0].sku]?{}:{y:[0,-8,0]},transition:p[r[0].sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-3 rounded-full transition-all shadow-lg hover:shadow-xl ${p[r[0].sku]===1?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50"}`,children:u.jsx(Ey,{className:"w-5 h-5"})}),u.jsx(pe.button,{onClick:()=>x(r[0].sku,-1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[r[0].sku]?{}:{y:[0,-8,0]},transition:p[r[0].sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-3 rounded-full transition-all shadow-lg hover:shadow-xl ${p[r[0].sku]===-1?"bg-gradient-to-r from-red-400 to-red-500 text-white shadow-red-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-red-300 hover:text-red-500 hover:bg-red-50"}`,children:u.jsx(Sy,{className:"w-5 h-5"})})]}),u.jsxs("span",{className:"text-3xl font-bold text-purple-600",children:["",r[0].price]})]}),u.jsxs(pe.a,{href:`https://www.amazon.co.uk/dp/${r[0].ASIN||r[0].sku}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>A("click",r[0].sku),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-3 text-lg",children:[u.jsx(u2,{className:"w-5 h-5"}),"View on Amazon"]})]})]})})]}),r.length>1&&u.jsxs("div",{children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"More Recommendations"}),u.jsx("p",{className:"text-gray-600",children:"Other great options"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.jsx(xi,{children:r.slice(1,5).map((H,J)=>u.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:(J+1)*.1},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group h-full flex flex-col",children:[u.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[H.imageUrl?u.jsx("img",{src:H.imageUrl,alt:Hd(H),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:z=>{const q=z.target;q.style.display="none"}}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:u.jsx(Np,{className:"w-12 h-12"})}),u.jsxs("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-2 py-1 rounded-full text-sm font-medium",children:["#",H.rank]})]}),u.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 flex-grow",children:Hd(H)}),u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:H.description}),u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex gap-1",children:[u.jsx(pe.button,{onClick:()=>x(H.sku,1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[H.sku]?{}:{y:[0,-6,0]},transition:p[H.sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-2 rounded-full transition-all shadow-md hover:shadow-lg ${p[H.sku]===1?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50"}`,children:u.jsx(Ey,{className:"w-4 h-4"})}),u.jsx(pe.button,{onClick:()=>x(H.sku,-1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[H.sku]?{}:{y:[0,-6,0]},transition:p[H.sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-2 rounded-full transition-all shadow-md hover:shadow-lg ${p[H.sku]===-1?"bg-gradient-to-r from-red-400 to-red-500 text-white shadow-red-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-red-300 hover:text-red-500 hover:bg-red-50"}`,children:u.jsx(Sy,{className:"w-4 h-4"})})]}),u.jsxs("span",{className:"text-xl font-bold text-purple-600",children:["",H.price]})]}),u.jsx("div",{className:"mt-auto",children:u.jsxs(pe.a,{href:`https://www.amazon.co.uk/dp/${H.ASIN||H.sku}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>A("click",H.sku),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[u.jsx(u2,{className:"w-4 h-4"}),"View on Amazon"]})})]})]},H.sku))})}),u.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"mt-8",children:u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl shadow-lg",children:[u.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-yellow-300 to-emerald-300"}),u.jsxs("div",{className:"relative z-10 px-6 py-4 text-center",children:[u.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[u.jsx(pe.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",animate:{y:[0,-4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"relative overflow-hidden",children:[u.jsx("h3",{className:"text-lg font-semibold text-white relative z-10",children:"Help them decide!"}),u.jsx(pe.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),u.jsx(pe.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",animate:{y:[0,-4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.75},children:u.jsx("span",{className:"text-lg",children:""})})]}),u.jsx("p",{className:"text-white/90 text-sm",children:"Use the thumbs up/down buttons to show which gifts you think they'd love most"})]})]})})]}),r.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),u.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:u.jsx(Np,{className:"w-16 h-16 text-purple-500"})})]}),u.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No recommendations found"}),u.jsx("p",{className:"text-gray-600",children:"This recommendation may not have any products available."})]}),u.jsx("div",{className:"mt-16 pt-8 pb-8 border-t border-gray-200",children:u.jsxs("div",{className:"text-center space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"How did we do?"}),u.jsx("p",{className:"text-gray-600",children:"Rate this recommendation to help us improve"})]}),u.jsx(xi,{mode:"wait",children:p.overall?u.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"flex items-center justify-center gap-2 text-lg text-gray-600",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("span",{children:"Thanks for the feedback!"})]},"thank-you"):u.jsx(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"flex justify-center gap-2",children:[1,2,3,4,5].map(H=>u.jsx(pe.button,{onClick:()=>{x("overall",H),A("rate",void 0,void 0,void 0,H.toString())},whileHover:{scale:1.1},whileTap:{scale:.9},className:"transition-all",children:u.jsx(yh,{className:"w-8 h-8 text-gray-300 hover:text-yellow-300"})},H))},"stars")}),u.jsx("div",{className:"mt-4",children:u.jsx(xi,{mode:"wait",children:E?u.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[u.jsx("span",{className:"text-lg",children:""}),u.jsx("span",{children:"Thank you for your feedback!"})]},"thank-you"):_?u.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex gap-2 px-4 md:px-16 lg:px-24",children:[u.jsx("input",{type:"text",value:v,onChange:H=>y(H.target.value),placeholder:"Share your thoughts...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-0 focus:border-gray-300 bg-gray-50 transition-all duration-200",onKeyPress:H=>H.key==="Enter"&&v.trim()&&S()}),u.jsx(pe.button,{onClick:v.trim()?S:()=>P(!1),whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${v.trim()?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 shadow-sm hover:shadow-md":"bg-gray-200 text-gray-500 hover:bg-gray-300"}`,children:v.trim()?"Submit":"Cancel"})]},"comment-input"):u.jsx(pe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onClick:()=>P(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 hover:border-gray-300 rounded-lg transition-all duration-200 hover:bg-gray-50",children:"Leave a comment"},"comment-button")})})]})}),u.jsx("div",{className:"pt-8 pb-8 border-t border-gray-200",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("p",{className:"text-gray-600",children:"Want to find more personalized gift recommendations?"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[u.jsxs(pe.a,{href:"https://www.simplysent.co/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",children:[u.jsx(d2,{className:"w-5 h-5 mr-2"}),"Try AI Recommender"]}),u.jsxs(pe.a,{href:"https://www.simplysent.co/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center justify-center px-6 py-3 border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white font-semibold rounded-xl transition-all w-full sm:w-auto",children:[u.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Back to Homepage"]})]})]})})]})}const YI=T.createContext({});function yx(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const vx=typeof window<"u",XI=vx?T.useLayoutEffect:T.useEffect,xx=T.createContext(null);function wx(t,e){t.indexOf(e)===-1&&t.push(e)}function hm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Bs=(t,e,n)=>n>e?e:n<t?t:n;let bx=()=>{};const zs={},QI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function JI(t){return typeof t=="object"&&t!==null}const ZI=t=>/^0[^.\s]+$/u.test(t);function Sx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ir=t=>t,OF=(t,e)=>n=>e(t(n)),td=(...t)=>t.reduce(OF),fl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ex{constructor(){this.subscriptions=[]}add(e){return wx(this.subscriptions,e),()=>hm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kr=t=>t*1e3,Ar=t=>t/1e3;function ek(t,e){return e?t*(1e3/e):0}const FF=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},tk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$F=1e-7,BF=12;function zF(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=tk(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>$F&&++a<BF);return o}function nd(t,e,n,r){if(t===e&&n===r)return Ir;const s=i=>zF(i,0,1,t,n);return i=>i===0||i===1?i:tk(s(i),e,r)}const nk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rk=t=>e=>1-t(1-e),sk=nd(.33,1.53,.69,.99),_x=rk(sk),ik=nk(_x),ok=t=>(t*=2)<1?.5*_x(t):.5*(2-Math.pow(2,-10*(t-1))),Tx=t=>1-Math.sin(Math.acos(t)),ak=rk(Tx),lk=nk(Tx),UF=nd(.42,0,1,1),HF=nd(0,0,.58,1),ck=nd(.42,0,.58,1),uk=t=>Array.isArray(t)&&typeof t[0]!="number";function dk(t,e){return uk(t)?t[FF(0,t.length,e)]:t}const fk=t=>Array.isArray(t)&&typeof t[0]=="number",WF={linear:Ir,easeIn:UF,easeInOut:ck,easeOut:HF,circIn:Tx,circInOut:lk,circOut:ak,backIn:_x,backInOut:ik,backOut:sk,anticipate:ok},qF=t=>typeof t=="string",p2=t=>{if(fk(t)){bx(t.length===4);const[e,n,r,s]=t;return nd(e,n,r,s)}else if(qF(t))return WF[t];return t},Wd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function KF(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(c.schedule(d),t()),d(a)}const c={schedule:(d,h=!1,m=!1)=>{const w=m&&s?n:r;return h&&o.add(d),w.has(d)||w.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(d))}};return c}const GF=40;function hk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Wd.reduce((E,j)=>(E[j]=KF(i),E),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:m,render:p,postRender:w}=o,_=()=>{const E=zs.useManualTiming?s.timestamp:performance.now();n=!1,zs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,GF),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),d.process(s),h.process(s),m.process(s),p.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(_))},P=()=>{n=!0,r=!0,s.isProcessing||t(_)};return{schedule:Wd.reduce((E,j)=>{const C=o[j];return E[j]=(V,x=!1,S=!1)=>(n||P(),C.schedule(V,x,S)),E},{}),cancel:E=>{for(let j=0;j<Wd.length;j++)o[Wd[j]].cancel(E)},state:s,steps:o}}const{schedule:ft,cancel:Us,state:gn,steps:jp}=hk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ir,!0);let Tf;function YF(){Tf=void 0}const Xn={now:()=>(Tf===void 0&&Xn.set(gn.isProcessing||zs.useManualTiming?gn.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(YF)}},mk=t=>e=>typeof e=="string"&&e.startsWith(t),Px=mk("--"),XF=mk("var(--"),Ax=t=>XF(t)?QF.test(t.split("/*")[0].trim()):!1,QF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...Nl,transform:t=>Bs(0,1,t)},qd={...Nl,default:1},Vc=t=>Math.round(t*1e5)/1e5,Cx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JF(t){return t==null}const ZF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ix=(t,e)=>n=>!!(typeof n=="string"&&ZF.test(n)&&n.startsWith(t)||e&&!JF(n)&&Object.prototype.hasOwnProperty.call(n,e)),pk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Cx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},e$=t=>Bs(0,255,t),Rp={...Nl,transform:t=>Math.round(e$(t))},Eo={test:Ix("rgb","red"),parse:pk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Rp.transform(t)+", "+Rp.transform(e)+", "+Rp.transform(n)+", "+Vc(Tu.transform(r))+")"};function t$(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Py={test:Ix("#"),parse:t$,transform:Eo.transform},rd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),di=rd("deg"),fs=rd("%"),Ce=rd("px"),n$=rd("vh"),r$=rd("vw"),g2={...fs,parse:t=>fs.parse(t)/100,transform:t=>fs.transform(t*100)},Na={test:Ix("hsl","hue"),parse:pk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+fs.transform(Vc(e))+", "+fs.transform(Vc(n))+", "+Vc(Tu.transform(r))+")"},Kt={test:t=>Eo.test(t)||Py.test(t)||Na.test(t),parse:t=>Eo.test(t)?Eo.parse(t):Na.test(t)?Na.parse(t):Py.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Eo.transform(t):Na.transform(t),getAnimatableNone:t=>{const e=Kt.parse(t);return e.alpha=0,Kt.transform(e)}},s$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Cx))==null?void 0:e.length)||0)+(((n=t.match(s$))==null?void 0:n.length)||0)>0}const gk="number",yk="color",o$="var",a$="var(",y2="${}",l$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(l$,l=>(Kt.test(l)?(r.color.push(i),s.push(yk),n.push(Kt.parse(l))):l.startsWith(a$)?(r.var.push(i),s.push(o$),n.push(l)):(r.number.push(i),s.push(gk),n.push(parseFloat(l))),++i,y2)).split(y2);return{values:n,split:a,indexes:r,types:s}}function vk(t){return Pu(t).values}function xk(t){const{split:e,types:n}=Pu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===gk?i+=Vc(s[o]):a===yk?i+=Kt.transform(s[o]):i+=s[o]}return i}}const c$=t=>typeof t=="number"?0:Kt.test(t)?Kt.getAnimatableNone(t):t;function u$(t){const e=vk(t);return xk(t)(e.map(c$))}const Oi={test:i$,parse:vk,createTransformer:xk,getAnimatableNone:u$};function Dp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function d$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Dp(l,a,t+1/3),i=Dp(l,a,t),o=Dp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function wh(t,e){return n=>n>0?e:t}const wt=(t,e,n)=>t+(e-t)*n,Mp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},f$=[Py,Eo,Na],h$=t=>f$.find(e=>e.test(t));function v2(t){const e=h$(t);if(!e)return!1;let n=e.parse(t);return e===Na&&(n=d$(n)),n}const x2=(t,e)=>{const n=v2(t),r=v2(e);if(!n||!r)return wh(t,e);const s={...n};return i=>(s.red=Mp(n.red,r.red,i),s.green=Mp(n.green,r.green,i),s.blue=Mp(n.blue,r.blue,i),s.alpha=wt(n.alpha,r.alpha,i),Eo.transform(s))},Ay=new Set(["none","hidden"]);function m$(t,e){return Ay.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p$(t,e){return n=>wt(t,e,n)}function kx(t){return typeof t=="number"?p$:typeof t=="string"?Ax(t)?wh:Kt.test(t)?x2:v$:Array.isArray(t)?wk:typeof t=="object"?Kt.test(t)?x2:g$:wh}function wk(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>kx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function g$(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=kx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function y$(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const v$=(t,e)=>{const n=Oi.createTransformer(e),r=Pu(t),s=Pu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ay.has(t)&&!s.values.length||Ay.has(e)&&!r.values.length?m$(t,e):td(wk(y$(r,s),s.values),n):wh(t,e)};function bk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):kx(t)(t,e)}const x$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Us(e),now:()=>gn.isProcessing?gn.timestamp:Xn.now()}},Sk=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},bh=2e4;function Nx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bh;)e+=n,r=t.next(e);return e>=bh?1/0:e}function Ek(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Nx(r),bh);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Ar(s)}}const w$=5;function _k(t,e,n){const r=Math.max(e-w$,0);return ek(n-t(r),e-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vp=.001;function b$({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let s,i,o=1-e;o=Bs(Dt.minDamping,Dt.maxDamping,o),t=Bs(Dt.minDuration,Dt.maxDuration,Ar(t)),o<1?(s=c=>{const d=c*o,h=d*t,m=d-n,p=Cy(c,o),w=Math.exp(-h);return Vp-m/p*w},i=c=>{const h=c*o*t,m=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-h),_=Cy(Math.pow(c,2),o);return(-s(c)+Vp>0?-1:1)*((m-p)*w)/_}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Vp+d*h},i=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=E$(s,i,a);if(t=Kr(t),isNaN(l))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const S$=12;function E$(t,e,n){let r=n;for(let s=1;s<S$;s++)r=r-t(r)/e(r);return r}function Cy(t,e){return t*Math.sqrt(1-e*e)}const _$=["duration","bounce"],T$=["stiffness","damping","mass"];function w2(t,e){return e.some(n=>t[n]!==void 0)}function P$(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!w2(t,T$)&&w2(t,_$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Bs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Dt.mass,stiffness:s,damping:i}}else{const n=b$(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function Au(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=P$({...n,velocity:-Ar(n.velocity||0)}),w=m||0,_=c/(2*Math.sqrt(l*d)),P=o-i,v=Ar(Math.sqrt(l/d)),y=Math.abs(P)<5;r||(r=y?Dt.restSpeed.granular:Dt.restSpeed.default),s||(s=y?Dt.restDelta.granular:Dt.restDelta.default);let E;if(_<1){const C=Cy(v,_);E=V=>{const x=Math.exp(-_*v*V);return o-x*((w+_*v*P)/C*Math.sin(C*V)+P*Math.cos(C*V))}}else if(_===1)E=C=>o-Math.exp(-v*C)*(P+(w+v*P)*C);else{const C=v*Math.sqrt(_*_-1);E=V=>{const x=Math.exp(-_*v*V),S=Math.min(C*V,300);return o-x*((w+_*v*P)*Math.sinh(S)+C*P*Math.cosh(S))/C}}const j={calculatedDuration:p&&h||null,next:C=>{const V=E(C);if(p)a.done=C>=h;else{let x=C===0?w:0;_<1&&(x=C===0?Kr(w):_k(E,C,V));const S=Math.abs(x)<=r,A=Math.abs(o-V)<=s;a.done=S&&A}return a.value=a.done?o:V,a},toString:()=>{const C=Math.min(Nx(j),bh),V=Sk(x=>j.next(C*x).value,C,30);return C+"ms "+V},toTransition:()=>{}};return j}Au.applyToOptions=t=>{const e=Ek(t,100,Au);return t.ease=e.ease,t.duration=Kr(e.duration),t.type="keyframes",t};function Iy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let _=n*e;const P=h+_,v=o===void 0?P:o(P);v!==P&&(_=v-h);const y=S=>-_*Math.exp(-S/r),E=S=>v+y(S),j=S=>{const A=y(S),I=E(S);m.done=Math.abs(A)<=c,m.value=m.done?v:I};let C,V;const x=S=>{p(m.value)&&(C=S,V=Au({keyframes:[m.value,w(m.value)],velocity:_k(E,S,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return x(0),{calculatedDuration:null,next:S=>{let A=!1;return!V&&C===void 0&&(A=!0,j(S),x(S)),C!==void 0&&S>=C?V.next(S-C):(!A&&j(S),m)}}}function A$(t,e,n){const r=[],s=n||zs.mix||bk,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ir:e;a=td(l,a)}r.push(a)}return r}function Tk(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(bx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=A$(e,r,s),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=fl(t[h],t[h+1],d);return a[h](m)};return n?d=>c(Bs(t[0],t[i-1],d)):c}function Pk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=fl(0,e,r);t.push(wt(n,1,s))}}function Ak(t){const e=[0];return Pk(e,t.length-1),e}function C$(t,e){return t.map(n=>n*e)}function I$(t,e){return t.map(()=>e||ck).splice(0,t.length-1)}function Lc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uk(r)?r.map(p2):p2(r),i={done:!1,value:e[0]},o=C$(n&&n.length===e.length?n:Ak(e),t),a=Tk(o,e,{ease:Array.isArray(s)?s:I$(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const k$=t=>t!==null;function jx(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(k$),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const N$={decay:Iy,inertia:Iy,tween:Lc,keyframes:Lc,spring:Au};function Ck(t){typeof t.type=="string"&&(t.type=N$[t.type])}class Rx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const j$=t=>t/100;class Dx extends Rx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Ck(e);const{type:n=Lc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Lc;l!==Lc&&typeof a[0]!="number"&&(this.mixKeyframes=td(j$,bk(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Nx(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:p,type:w,onUpdate:_,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,j=r;if(h){const S=Math.min(this.currentTime,s)/a;let A=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(m==="reverse"?(I=1-I,p&&(I-=p/a)):m==="mirror"&&(j=o)),E=Bs(0,1,I)*a}const C=y?{done:!1,value:d[0]}:j.next(E);i&&(C.value=i(C.value));let{done:V}=C;!y&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return x&&w!==Iy&&(C.value=jx(d,this.options,P,this.speed)),_&&_(C.value),x&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Ar(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ar(e)}get time(){return Ar(this.currentTime)}set time(e){var n;e=Kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ar(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=x$,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function R$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _o=t=>t*180/Math.PI,ky=t=>{const e=_o(Math.atan2(t[1],t[0]));return Ny(e)},D$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ky,rotateZ:ky,skewX:t=>_o(Math.atan(t[1])),skewY:t=>_o(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ny=t=>(t=t%360,t<0&&(t+=360),t),b2=ky,S2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),E2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),M$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:S2,scaleY:E2,scale:t=>(S2(t)+E2(t))/2,rotateX:t=>Ny(_o(Math.atan2(t[6],t[5]))),rotateY:t=>Ny(_o(Math.atan2(-t[2],t[0]))),rotateZ:b2,rotate:b2,skewX:t=>_o(Math.atan(t[4])),skewY:t=>_o(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jy(t){return t.includes("scale")?1:0}function Ry(t,e){if(!t||t==="none")return jy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=M$,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=D$,s=a}if(!s)return jy(e);const i=r[e],o=s[1].split(",").map(L$);return typeof i=="function"?i(o):o[i]}const V$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ry(n,e)};function L$(t){return parseFloat(t.trim())}const jl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rl=new Set(jl),_2=t=>t===Nl||t===Ce,O$=new Set(["x","y","z"]),F$=jl.filter(t=>!O$.has(t));function $$(t){const e=[];return F$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const jo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ry(e,"x"),y:(t,{transform:e})=>Ry(e,"y")};jo.translateX=jo.x;jo.translateY=jo.y;const Ro=new Set;let Dy=!1,My=!1,Vy=!1;function Ik(){if(My){const t=Array.from(Ro).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=$$(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}My=!1,Dy=!1,Ro.forEach(t=>t.complete(Vy)),Ro.clear()}function kk(){Ro.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(My=!0)})}function B$(){Vy=!0,kk(),Ik(),Vy=!1}class Mx{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ro.add(this),Dy||(Dy=!0,ft.read(kk),ft.resolveKeyframes(Ik))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}R$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ro.delete(this)}cancel(){this.state==="scheduled"&&(Ro.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const z$=t=>t.startsWith("--");function U$(t,e,n){z$(e)?t.style.setProperty(e,n):t.style[e]=n}const H$=Sx(()=>window.ScrollTimeline!==void 0),W$={};function q$(t,e){const n=Sx(t);return()=>W$[e]??n()}const Nk=q$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,T2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yc([0,.65,.55,1]),circOut:yc([.55,0,1,.45]),backIn:yc([.31,.01,.66,-.59]),backOut:yc([.33,1.53,.69,.99])};function jk(t,e){if(t)return typeof t=="function"?Nk()?Sk(t,e):"ease-out":fk(t)?yc(t):Array.isArray(t)?t.map(n=>jk(n,e)||T2.easeOut):T2[t]}function K$(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=jk(a,s);Array.isArray(h)&&(d.easing=h);const m={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(d,m)}function Vx(t){return typeof t=="function"&&"applyToOptions"in t}function G$({type:t,...e}){return Vx(t)&&Nk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Y$ extends Rx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,bx(typeof e.type!="string");const c=G$(e);this.animation=K$(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=jx(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):U$(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ar(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ar(e)}get time(){return Ar(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&H$()?(this.animation.timeline=e,Ir):n(this)}}const Rk={anticipate:ok,backInOut:ik,circInOut:lk};function X$(t){return t in Rk}function Q$(t){typeof t.ease=="string"&&X$(t.ease)&&(t.ease=Rk[t.ease])}const P2=10;class J$ extends Y${constructor(e){Q$(e),Ck(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Dx({...o,autoplay:!1}),l=Kr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-P2).value,a.sample(l).value,P2),a.stop()}}const A2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Oi.test(t)||t==="0")&&!t.startsWith("url("));function Z$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function e9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=A2(s,e),a=A2(i,e);return!o||!a?!1:Z$(t)||(n==="spring"||Vx(n))&&r}function Ly(t){t.duration=0,t.type="keyframes"}const t9=new Set(["opacity","clipPath","filter","transform"]),n9=Sx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function r9(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return n9()&&n&&t9.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const s9=40;class i9 extends Rx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:d,...h}){var w;super(),this.stop=()=>{var _,P;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Xn.now();const m={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||Mx;this.keyframeResolver=new p(a,(_,P,v)=>this.onKeyframesResolved(_,P,m,!v),l,c,d),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Xn.now(),e9(e,i,o,a)||((zs.instantAnimations||!l)&&(d==null||d(jx(e,r,n))),e[0]=e[e.length-1],Ly(r),r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>s9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!c&&r9(m)?new J$({...m,element:m.motionValue.owner.current}):new Dx(m);p.finished.then(()=>this.notifyFinished()).catch(Ir),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),B$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}class o9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return C2(this.animations,"duration")}get iterationDuration(){return C2(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function C2(t,e){let n=0;for(let r=0;r<t.length;r++){const s=t[r][e];s!==null&&s>n&&(n=s)}return n}class a9 extends o9{then(e,n){return this.finished.finally(e).then(()=>{})}}const l9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function c9(t){const e=l9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Dk(t,e,n=1){const[r,s]=c9(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return QI(o)?parseFloat(o):o}return Ax(s)?Dk(s,e,n+1):s}function Lx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Mk=new Set(["width","height","top","left","right","bottom",...jl]),u9={test:t=>t==="auto",parse:t=>t},Vk=t=>e=>e.test(t),Lk=[Nl,Ce,fs,di,r$,n$,u9],I2=t=>Lk.find(Vk(t));function d9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ZI(t):!0}const f9=new Set(["brightness","contrast","saturate","opacity"]);function h9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Cx)||[];if(!r)return t;const s=n.replace(r,"");let i=f9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const m9=/\b([a-z-]*)\(.*?\)/gu,Oy={...Oi,getAnimatableNone:t=>{const e=t.match(m9);return e?e.map(h9).join(" "):t}},k2={...Nl,transform:Math.round},p9={rotate:di,rotateX:di,rotateY:di,rotateZ:di,scale:qd,scaleX:qd,scaleY:qd,scaleZ:qd,skew:di,skewX:di,skewY:di,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Tu,originX:g2,originY:g2,originZ:Ce},Ox={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...p9,zIndex:k2,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:k2},g9={...Ox,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Oy,WebkitFilter:Oy},Ok=t=>g9[t];function Fk(t,e){let n=Ok(t);return n!==Oy&&(n=Oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y9=new Set(["auto","none","0"]);function v9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!y9.has(i)&&Pu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Fk(n,s)}class x9 extends Mx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Ax(c))){const d=Dk(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Mk.has(r)||e.length!==2)return;const[s,i]=e,o=I2(s),a=I2(i);if(o!==a)if(_2(o)&&_2(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else jo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||d9(e[s]))&&r.push(s);r.length&&v9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=jo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function $k(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Bk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function w9(t){return JI(t)&&"offsetHeight"in t}const N2=30,b9=t=>!isNaN(parseFloat(t)),Oc={current:void 0};class S9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Xn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=b9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ex);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Oc.current&&Oc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,N2);return ek(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zo(t,e){return new S9(t,e)}const{schedule:Fx}=hk(queueMicrotask,!1),Lr={x:!1,y:!1};function zk(){return Lr.x||Lr.y}function E9(t){return t==="x"||t==="y"?Lr[t]?null:(Lr[t]=!0,()=>{Lr[t]=!1}):Lr.x||Lr.y?null:(Lr.x=Lr.y=!0,()=>{Lr.x=Lr.y=!1})}function Uk(t,e){const n=$k(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function j2(t){return!(t.pointerType==="touch"||zk())}function _9(t,e,n={}){const[r,s,i]=Uk(t,n),o=a=>{if(!j2(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=h=>{j2(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Hk=(t,e)=>e?t===e?!0:Hk(t,e.parentElement):!1,$x=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,T9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P9(t){return T9.has(t.tagName)||t.tabIndex!==-1}const Pf=new WeakSet;function R2(t){return e=>{e.key==="Enter"&&t(e)}}function Lp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const A9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=R2(()=>{if(Pf.has(n))return;Lp(n,"down");const s=R2(()=>{Lp(n,"up")}),i=()=>Lp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function D2(t){return $x(t)&&!zk()}function C9(t,e,n={}){const[r,s,i]=Uk(t,n),o=a=>{const l=a.currentTarget;if(!D2(a))return;Pf.add(l);const c=e(l,a),d=(p,w)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Pf.has(l)&&Pf.delete(l),D2(p)&&typeof c=="function"&&c(p,{success:w})},h=p=>{d(p,l===window||l===document||n.useGlobalTarget||Hk(l,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),w9(a)&&(a.addEventListener("focus",c=>A9(c,s)),!P9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Bx(t){return JI(t)&&"ownerSVGElement"in t}function Wk(t){return Bx(t)&&t.tagName==="svg"}function Af(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=Tk(s,i,o);return e?a(r):a}const an=t=>!!(t&&t.getVelocity),I9=[...Lk,Kt,Oi],k9=t=>I9.find(Vk(t)),zx=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function N9(t=!0){const e=T.useContext(xx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const o=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const qk=T.createContext({strict:!1}),M2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hl={};for(const t in M2)hl[t]={isEnabled:e=>M2[t].some(n=>!!e[n])};function j9(t){for(const e in t)hl[e]={...hl[e],...t[e]}}const R9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R9.has(t)}let Kk=t=>!Sh(t);function D9(t){typeof t=="function"&&(Kk=e=>e.startsWith("on")?!Sh(e):t(e))}try{D9(require("@emotion/is-prop-valid").default)}catch{}function M9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Kk(s)||n===!0&&Sh(s)||!e&&!Sh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const mm=T.createContext({});function pm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cu(t){return typeof t=="string"||Array.isArray(t)}const Ux=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hx=["initial",...Ux];function gm(t){return pm(t.animate)||Hx.some(e=>Cu(t[e]))}function Gk(t){return!!(gm(t)||t.variants)}function V9(t,e){if(gm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cu(n)?n:void 0,animate:Cu(r)?r:void 0}}return t.inherit!==!1?e:{}}function L9(t){const{initial:e,animate:n}=V9(t,T.useContext(mm));return T.useMemo(()=>({initial:e,animate:n}),[V2(e),V2(n)])}function V2(t){return Array.isArray(t)?t.join(" "):t}const Iu={};function O9(t){for(const e in t)Iu[e]=t[e],Px(e)&&(Iu[e].isCSSVariable=!0)}function Yk(t,{layout:e,layoutId:n}){return Rl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Iu[t]||t==="opacity")}const F9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$9=jl.length;function B9(t,e,n){let r="",s=!0;for(let i=0;i<$9;i++){const o=jl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Bk(a,Ox[o]);if(!l){s=!1;const d=F9[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Wx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Rl.has(l)){o=!0;continue}else if(Px(l)){s[l]=c;continue}else{const d=Bk(c,Ox[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=B9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${c} ${d}`}}const qx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Xk(t,e,n){for(const r in e)!an(e[r])&&!Yk(r,n)&&(t[r]=e[r])}function z9({transformTemplate:t},e){return T.useMemo(()=>{const n=qx();return Wx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function U9(t,e){const n=t.style||{},r={};return Xk(r,n,t),Object.assign(r,z9(t,e)),r}function H9(t,e){const n={},r=U9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const W9={offset:"stroke-dashoffset",array:"stroke-dasharray"},q9={offset:"strokeDashoffset",array:"strokeDasharray"};function K9(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?W9:q9;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function Qk(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,d){if(Wx(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&K9(h,s,i,o,!1)}const Jk=()=>({...qx(),attrs:{}}),Zk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function G9(t,e,n,r){const s=T.useMemo(()=>{const i=Jk();return Qk(i,e,Zk(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Xk(i,t.style,t),s.style={...i,...s.style}}return s}const Y9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kx(t){return typeof t!="string"||t.includes("-")?!1:!!(Y9.indexOf(t)>-1||/[A-Z]/u.test(t))}function X9(t,e,n,{latestValues:r},s,i=!1){const a=(Kx(t)?G9:H9)(e,r,s,t),l=M9(e,typeof t=="string",i),c=t!==T.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=T.useMemo(()=>an(d)?d.get():d,[d]);return T.createElement(t,{...c,children:h})}function L2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Gx(t,e,n,r){if(typeof e=="function"){const[s,i]=L2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=L2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Cf(t){return an(t)?t.get():t}function Q9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:J9(n,r,s,t),renderState:e()}}function J9(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Cf(i[m]);let{initial:o,animate:a}=t;const l=gm(t),c=Gk(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!pm(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const w=Gx(t,m[p]);if(w){const{transitionEnd:_,transition:P,...v}=w;for(const y in v){let E=v[y];if(Array.isArray(E)){const j=d?E.length-1:0;E=E[j]}E!==null&&(s[y]=E)}for(const y in _)s[y]=_[y]}}}return s}const eN=t=>(e,n)=>{const r=T.useContext(mm),s=T.useContext(xx),i=()=>Q9(t,e,r,s);return n?i():yx(i)};function Yx(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(an(r[o])||e.style&&an(e.style[o])||Yk(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Z9=eN({scrapeMotionValuesFromProps:Yx,createRenderState:qx});function tN(t,e,n){const r=Yx(t,e,n);for(const s in t)if(an(t[s])||an(e[s])){const i=jl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const e7=eN({scrapeMotionValuesFromProps:tN,createRenderState:Jk}),t7=Symbol.for("motionComponentSymbol");function ja(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function n7(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ja(n)&&(n.current=r))},[e])}const Xx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),r7="framerAppearId",nN="data-"+Xx(r7),rN=T.createContext({});function s7(t,e,n,r,s){var _,P;const{visualElement:i}=T.useContext(mm),o=T.useContext(qk),a=T.useContext(xx),l=T.useContext(zx).reducedMotion,c=T.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=T.useContext(rN);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&i7(c.current,n,s,h);const m=T.useRef(!1);T.useInsertionEffect(()=>{d&&m.current&&d.update(n,a)});const p=n[nN],w=T.useRef(!!p&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,p))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,p)));return XI(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),w.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!w.current&&d.animationState&&d.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),w.current=!1),d.enteringChildren=void 0)}),d}function i7(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ja(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function sN(t){if(t)return t.options.allowProjection!==!1?t.projection:sN(t.parent)}function Op(t,{forwardMotionProps:e=!1}={},n,r){n&&j9(n);const s=Kx(t)?e7:Z9;function i(a,l){let c;const d={...T.useContext(zx),...a,layoutId:o7(a)},{isStatic:h}=d,m=L9(a),p=s(a,h);if(!h&&vx){a7();const w=l7(d);c=w.MeasureLayout,m.visualElement=s7(t,p,d,r,w.ProjectionNode)}return u.jsxs(mm.Provider,{value:m,children:[c&&m.visualElement?u.jsx(c,{visualElement:m.visualElement,...d}):null,X9(t,a,n7(p,m.visualElement,l),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(i);return o[t7]=t,o}function o7({layoutId:t}){const e=T.useContext(YI).id;return e&&t!==void 0?e+"-"+t:t}function a7(t,e){T.useContext(qk).strict}function l7(t){const{drag:e,layout:n}=hl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function c7(t,e){if(typeof Proxy>"u")return Op;const n=new Map,r=(i,o)=>Op(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Op(o,void 0,t,e)),n.get(o))})}function iN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function u7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function d7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fp(t){return t===void 0||t===1}function Fy({scale:t,scaleX:e,scaleY:n}){return!Fp(t)||!Fp(e)||!Fp(n)}function ho(t){return Fy(t)||oN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oN(t){return O2(t.x)||O2(t.y)}function O2(t){return t&&t!=="0%"}function Eh(t,e,n){const r=t-n,s=e*r;return n+s}function F2(t,e,n,r,s){return s!==void 0&&(t=Eh(t,s,r)),Eh(t,n,r)+e}function $y(t,e=0,n=1,r,s){t.min=F2(t.min,e,n,r,s),t.max=F2(t.max,e,n,r,s)}function aN(t,{x:e,y:n}){$y(t.x,e.translate,e.scale,e.originPoint),$y(t.y,n.translate,n.scale,n.originPoint)}const $2=.999999999999,B2=1.0000000000001;function f7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Da(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,aN(t,o)),r&&ho(i.latestValues)&&Da(t,i.latestValues))}e.x<B2&&e.x>$2&&(e.x=1),e.y<B2&&e.y>$2&&(e.y=1)}function Ra(t,e){t.min=t.min+e,t.max=t.max+e}function z2(t,e,n,r,s=.5){const i=wt(t.min,t.max,s);$y(t,e,n,i,r)}function Da(t,e){z2(t.x,e.x,e.scaleX,e.scale,e.originX),z2(t.y,e.y,e.scaleY,e.scale,e.originY)}function lN(t,e){return iN(d7(t.getBoundingClientRect(),e))}function h7(t,e,n){const r=lN(t,n),{scroll:s}=e;return s&&(Ra(r.x,s.offset.x),Ra(r.y,s.offset.y)),r}const U2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ma=()=>({x:U2(),y:U2()}),H2=()=>({min:0,max:0}),jt=()=>({x:H2(),y:H2()}),_h={current:null},Qx={current:!1};function cN(){if(Qx.current=!0,!!vx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_h.current=t.matches;t.addEventListener("change",e),e()}else _h.current=!1}const ku=new WeakMap;function m7(t,e,n){for(const r in e){const s=e[r],i=n[r];if(an(s))t.addValue(r,s);else if(an(i))t.addValue(r,zo(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,zo(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const W2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Xn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ft.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=gm(n),this.isVariantNode=Gk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];l[m]!==void 0&&an(p)&&p.set(l[m])}}mount(e){var n;this.current=e,ku.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Qx.current||cN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_h.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Rl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hl){const n=hl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<W2.length;r++){const s=W2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=m7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(QI(r)||ZI(r))?r=parseFloat(r):!k9(r)&&Oi.test(n)&&(r=Fk(e,n)),this.setBaseTarget(e,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Gx(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!an(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ex),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Fx.render(this.render)}}class dN extends uN{constructor(){super(...arguments),this.KeyframeResolver=x9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fN(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function p7(t){return window.getComputedStyle(t)}class hN extends dN{constructor(){super(...arguments),this.type="html",this.renderInstance=fN}readValueFromInstance(e,n){var r;if(Rl.has(n))return(r=this.projection)!=null&&r.isProjecting?jy(n):V$(e,n);{const s=p7(e),i=(Px(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lN(e,n)}build(e,n,r){Wx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Yx(e,n,r)}}const mN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g7(t,e,n,r){fN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(mN.has(s)?s:Xx(s),e.attrs[s])}class pN extends dN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rl.has(n)){const r=Ok(n);return r&&r.default||0}return n=mN.has(n)?n:Xx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return tN(e,n,r)}build(e,n,r){Qk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){g7(e,n,r,s)}mount(e){this.isSVGTag=Zk(e.tagName),super.mount(e)}}const y7=(t,e)=>Kx(t)?new pN(e):new hN(e,{allowProjection:t!==T.Fragment});function Ka(t,e,n){const r=t.getProps();return Gx(r,e,n!==void 0?n:r.custom,t)}const By=t=>Array.isArray(t);function v7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zo(n))}function x7(t){return By(t)?t[t.length-1]||0:t}function w7(t,e){const n=Ka(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=x7(i[o]);v7(t,o,a)}}function b7(t){return!!(an(t)&&t.add)}function zy(t,e){const n=t.getValue("willChange");if(b7(n))return n.add(e);if(!n&&zs.WillChange){const r=new zs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gN(t){return t.props[nN]}const S7=t=>t!==null;function E7(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(S7),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const _7={type:"spring",stiffness:500,damping:25,restSpeed:10},T7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),P7={type:"keyframes",duration:.8},A7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C7=(t,{keyframes:e})=>e.length>2?P7:Rl.has(t)?t.startsWith("scale")?T7(e[1]):_7:A7;function I7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Jx=(t,e,n,r={},s,i)=>o=>{const a=Lx(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Kr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};I7(a)||Object.assign(d,C7(t,d)),d.duration&&(d.duration=Kr(d.duration)),d.repeatDelay&&(d.repeatDelay=Kr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Ly(d),d.delay===0&&(h=!0)),(zs.instantAnimations||zs.skipAnimations)&&(h=!0,Ly(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const m=E7(d.keyframes,a);if(m!==void 0){ft.update(()=>{d.onUpdate(m),d.onComplete()});return}}return a.isSync?new Dx(d):new i9(d)};function k7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Zx(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),m=a[d];if(m===void 0||c&&k7(c,d))continue;const p={delay:n,...Lx(i||{},d)},w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===w&&!p.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const v=gN(t);if(v){const y=window.MotionHandoffAnimation(v,d,ft);y!==null&&(p.startTime=y,_=!0)}}zy(t,d),h.start(Jx(d,h,m,t.shouldReduceMotion&&Mk.has(d)?{type:!1}:p,t,_));const P=h.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{ft.update(()=>{o&&w7(t,o)})}),l}function yN(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Uy(t,e,n={}){var l;const r=Ka(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Zx(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return N7(t,e,c,d,h,m,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function N7(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Uy(l,e,{...o,delay:n+(typeof r=="function"?0:r)+yN(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function j7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Uy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Uy(t,e,n);else{const s=typeof e=="function"?Ka(t,e,n.custom):e;r=Promise.all(Zx(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const R7=Hx.length;function xN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?xN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<R7;n++){const r=Hx[n],s=t.props[r];(Cu(s)||s===!1)&&(e[r]=s)}return e}const D7=[...Ux].reverse(),M7=Ux.length;function V7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>j7(t,n,r)))}function L7(t){let e=V7(t),n=q2(),r=!0;const s=l=>(c,d)=>{var m;const h=Ka(t,d,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:w,..._}=h;c={...c,..._,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,d=xN(t.parent)||{},h=[],m=new Set;let p={},w=1/0;for(let P=0;P<M7;P++){const v=D7[P],y=n[v],E=c[v]!==void 0?c[v]:d[v],j=Cu(E),C=v===l?y.isActive:null;C===!1&&(w=P);let V=E===d[v]&&E!==c[v]&&j;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),y.protectedKeys={...p},!y.isActive&&C===null||!E&&!y.prevProp||pm(E)||typeof E=="boolean")continue;const x=O7(y.prevProp,E);let S=x||v===l&&y.isActive&&!V&&j||P>w&&j,A=!1;const I=Array.isArray(E)?E:[E];let R=I.reduce(s(v),{});C===!1&&(R={});const{prevResolvedValues:M={}}=y,N={...M,...R},H=q=>{S=!0,m.has(q)&&(A=!0,m.delete(q)),y.needsAnimating[q]=!0;const L=t.getValue(q);L&&(L.liveStyle=!1)};for(const q in N){const L=R[q],O=M[q];if(p.hasOwnProperty(q))continue;let K=!1;By(L)&&By(O)?K=!vN(L,O):K=L!==O,K?L!=null?H(q):m.add(q):L!==void 0&&m.has(q)?H(q):y.protectedKeys[q]=!0}y.prevProp=E,y.prevResolvedValues=R,y.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(S=!1);const J=V&&x;S&&(!J||A)&&h.push(...I.map(q=>{const L={type:v};if(typeof q=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:O}=t,K=Ka(O,q);if(O.enteringChildren&&K){const{delayChildren:Z}=K.transition||{};L.delay=yN(O.enteringChildren,t,Z)}}return{animation:q,options:L}}))}if(m.size){const P={};if(typeof c.initial!="boolean"){const v=Ka(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(P.transition=v.transition)}m.forEach(v=>{const y=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),P[v]=y??null}),h.push({animation:P})}let _=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=q2()}}}function O7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vN(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q2(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class Zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class F7 extends Zi{constructor(e){super(e),e.animationState||(e.animationState=L7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $7=0;class B7 extends Zi{constructor(){super(...arguments),this.id=$7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const z7={animation:{Feature:F7},exit:{Feature:B7}};function Nu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function sd(t){return{point:{x:t.pageX,y:t.pageY}}}const U7=t=>e=>$x(e)&&t(e,sd(e));function Fc(t,e,n,r){return Nu(t,e,U7(n),r)}const wN=1e-4,H7=1-wN,W7=1+wN,bN=.01,q7=0-bN,K7=0+bN;function On(t){return t.max-t.min}function G7(t,e,n){return Math.abs(t-e)<=n}function K2(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=H7&&t.scale<=W7||isNaN(t.scale))&&(t.scale=1),(t.translate>=q7&&t.translate<=K7||isNaN(t.translate))&&(t.translate=0)}function $c(t,e,n,r){K2(t.x,e.x,n.x,r?r.originX:void 0),K2(t.y,e.y,n.y,r?r.originY:void 0)}function G2(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function Y7(t,e,n){G2(t.x,e.x,n.x),G2(t.y,e.y,n.y)}function Y2(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Bc(t,e,n){Y2(t.x,e.x,n.x),Y2(t.y,e.y,n.y)}function Sr(t){return[t("x"),t("y")]}const SN=({current:t})=>t?t.ownerDocument.defaultView:null,X2=(t,e)=>Math.abs(t-e);function X7(t,e){const n=X2(t.x,e.x),r=X2(t.y,e.y);return Math.sqrt(n**2+r**2)}class EN{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Bp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,w=X7(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!w)return;const{point:_}=m,{timestamp:P}=gn;this.history.push({..._,timestamp:P});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=$p(p,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Bp(m.type==="pointercancel"?this.lastMoveEventInfo:$p(p,this.transformPagePoint),this.history);this.startEvent&&w&&w(m,v),_&&_(m,v)},!$x(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=sd(e),l=$p(a,this.transformPagePoint),{point:c}=l,{timestamp:d}=gn;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Bp(l,this.history)),this.removeListeners=td(Fc(this.contextWindow,"pointermove",this.handlePointerMove),Fc(this.contextWindow,"pointerup",this.handlePointerUp),Fc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Us(this.updatePoint)}}function $p(t,e){return e?{point:e(t.point)}:t}function Q2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bp({point:t},e){return{point:t,delta:Q2(t,_N(e)),offset:Q2(t,Q7(e)),velocity:J7(e,.1)}}function Q7(t){return t[0]}function _N(t){return t[t.length-1]}function J7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=_N(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Kr(e)));)n--;if(!r)return{x:0,y:0};const i=Ar(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Z7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function J2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function e8(t,{top:e,left:n,bottom:r,right:s}){return{x:J2(t.x,n,s),y:J2(t.y,e,r)}}function Z2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function t8(t,e){return{x:Z2(t.x,e.x),y:Z2(t.y,e.y)}}function n8(t,e){let n=.5;const r=On(t),s=On(e);return s>r?n=fl(e.min,e.max-r,t.min):r>s&&(n=fl(t.min,t.max-s,e.min)),Bs(0,1,n)}function r8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hy=.35;function s8(t=Hy){return t===!1?t=0:t===!0&&(t=Hy),{x:eE(t,"left","right"),y:eE(t,"top","bottom")}}function eE(t,e,n){return{min:tE(t,e),max:tE(t,n)}}function tE(t,e){return typeof t=="number"?t:t[e]||0}const i8=new WeakMap;class o8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sd(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:w,onDragStart:_}=this.getProps();if(p&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E9(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sr(v=>{let y=this.getAxisMotionValue(v).get()||0;if(fs.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const j=E.layout.layoutBox[v];j&&(y=On(j)*(parseFloat(y)/100))}}this.originPoint[v]=y}),_&&ft.postRender(()=>_(h,m)),zy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},a=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:w,onDirectionLock:_,onDrag:P}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=m;if(w&&this.currentDirection===null){this.currentDirection=a8(v),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),P&&P(h,m)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Sr(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new EN(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:SN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ft.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Z7(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&ja(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=e8(r.layoutBox,e):this.constraints=!1,this.elastic=s8(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=r8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ja(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=h7(r,s.root,this.visualElement.getTransformPagePoint());let o=t8(s.layout.layoutBox,i);if(n){const a=n(u7(o));this.hasMutatedConstraints=!!a,a&&(o=iN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Sr(d=>{if(!Kd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return zy(this.visualElement,e),r.start(Jx(e,r,0,n,this.visualElement,!1))}stopAnimation(){Sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Sr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Sr(n=>{const{drag:r}=this.getProps();if(!Kd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-wt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ja(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Sr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=n8({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Sr(o=>{if(!Kd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(wt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;i8.set(this.visualElement,this);const e=this.visualElement.current,n=Fc(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ja(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ft.read(r);const o=Nu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Sr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Hy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function a8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class l8 extends Zi{constructor(e){super(e),this.removeGroupControls=Ir,this.removeListeners=Ir,this.controls=new o8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ir}unmount(){this.removeGroupControls(),this.removeListeners()}}const nE=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class c8 extends Zi{constructor(){super(...arguments),this.removePointerDownListener=Ir}onPointerDown(e){this.session=new EN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:nE(e),onStart:nE(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ft.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const If={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=rE(t,e.target.x),r=rE(t,e.target.y);return`${n}% ${r}%`}},u8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Oi.parse(t);if(s.length>5)return r;const i=Oi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=wt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let zp=!1;class d8 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;O9(f8),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),zp&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),If.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,zp=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ft.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;zp=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TN(t){const[e,n]=N9(),r=T.useContext(YI);return u.jsx(d8,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(rN),isPresent:e,safeToRemove:n})}const f8={borderRadius:{...oc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oc,borderTopRightRadius:oc,borderBottomLeftRadius:oc,borderBottomRightRadius:oc,boxShadow:u8};function PN(t,e,n){const r=an(t)?t:zo(t);return r.start(Jx("",r,e,n)),r.animation}const h8=(t,e)=>t.depth-e.depth;class m8{constructor(){this.children=[],this.isDirty=!1}add(e){wx(this.children,e),this.isDirty=!0}remove(e){hm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(h8),this.isDirty=!1,this.children.forEach(e)}}function p8(t,e){const n=Xn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Us(r),t(i-e))};return ft.setup(r,!0),()=>Us(r)}const AN=["TopLeft","TopRight","BottomLeft","BottomRight"],g8=AN.length,sE=t=>typeof t=="string"?parseFloat(t):t,iE=t=>typeof t=="number"||Ce.test(t);function y8(t,e,n,r,s,i){s?(t.opacity=wt(0,n.opacity??1,v8(r)),t.opacityExit=wt(e.opacity??1,0,x8(r))):i&&(t.opacity=wt(e.opacity??1,n.opacity??1,r));for(let o=0;o<g8;o++){const a=`border${AN[o]}Radius`;let l=oE(e,a),c=oE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||iE(l)===iE(c)?(t[a]=Math.max(wt(sE(l),sE(c),r),0),(fs.test(c)||fs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function oE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v8=CN(0,.5,ak),x8=CN(.5,.95,Ir);function CN(t,e,n){return r=>r<t?0:r>e?1:n(fl(t,e,r))}function aE(t,e){t.min=e.min,t.max=e.max}function wr(t,e){aE(t.x,e.x),aE(t.y,e.y)}function lE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cE(t,e,n,r,s){return t-=e,t=Eh(t,1/n,r),s!==void 0&&(t=Eh(t,1/s,r)),t}function w8(t,e=0,n=1,r=.5,s,i=t,o=t){if(fs.test(e)&&(e=parseFloat(e),e=wt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=wt(i.min,i.max,r);t===i&&(a-=e),t.min=cE(t.min,e,n,a,s),t.max=cE(t.max,e,n,a,s)}function uE(t,e,[n,r,s],i,o){w8(t,e[n],e[r],e[s],e.scale,i,o)}const b8=["x","scaleX","originX"],S8=["y","scaleY","originY"];function dE(t,e,n,r){uE(t.x,e,b8,n?n.x:void 0,r?r.x:void 0),uE(t.y,e,S8,n?n.y:void 0,r?r.y:void 0)}function fE(t){return t.translate===0&&t.scale===1}function IN(t){return fE(t.x)&&fE(t.y)}function hE(t,e){return t.min===e.min&&t.max===e.max}function E8(t,e){return hE(t.x,e.x)&&hE(t.y,e.y)}function mE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kN(t,e){return mE(t.x,e.x)&&mE(t.y,e.y)}function pE(t){return On(t.x)/On(t.y)}function gE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _8{constructor(){this.members=[]}add(e){wx(this.members,e),e.scheduleRender()}remove(e){if(hm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Up=["","X","Y","Z"],P8=1e3;let A8=0;function Hp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function NN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&NN(r)}function jN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=A8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(k8),this.nodes.forEach(D8),this.nodes.forEach(M8),this.nodes.forEach(N8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new m8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ex),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Bx(o)&&!Wk(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const m=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=p8(m,250),If.hasAnimatedSinceResize&&(If.hasAnimatedSinceResize=!1,this.nodes.forEach(xE)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||$8,{onLayoutAnimationStart:_,onLayoutAnimationComplete:P}=c.getProps(),v=!this.targetLayout||!kN(this.targetLayout,p),y=!h&&m;if(this.options.layoutRoot||this.resumeFrom||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Lx(w,"layout"),onPlay:_,onComplete:P};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,y)}else h||xE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(V8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(R8),this.nodes.forEach(C8),this.nodes.forEach(I8)):this.nodes.forEach(vE),this.clearAllSnapshots();const a=Xn.now();gn.delta=Bs(0,1e3/60,a-gn.timestamp),gn.timestamp=a,gn.isProcessing=!0,jp.update.process(gn),jp.preRender.process(gn),jp.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j8),this.sharedNodes.forEach(L8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!IN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ho(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),B8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return jt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(z8))){const{scroll:d}=this.root;d&&(Ra(a.x,d.offset.x),Ra(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=jt();if(wr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&wr(a,o),Ra(a.x,h.offset.x),Ra(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=jt();wr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Da(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ho(d.latestValues)&&Da(l,d.latestValues)}return ho(this.latestValues)&&Da(l,this.latestValues),l}removeTransform(o){const a=jt();wr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ho(c.latestValues))continue;Fy(c.latestValues)&&c.updateSnapshot();const d=jt(),h=c.measurePageBox();wr(d,h),dE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ho(this.latestValues)&&dE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Bc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wr(this.target,this.layout.layoutBox),aN(this.target,this.targetDelta)):wr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Bc(this.relativeTargetOrigin,this.target,p.target),wr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fy(this.parent.latestValues)||oN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;wr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;f7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lE(this.prevProjectionDelta.x,this.projectionDelta.x),lE(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!gE(this.projectionDelta.x,this.prevProjectionDelta.x)||!gE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ma(),this.projectionDelta=Ma(),this.projectionDeltaWithTransform=Ma()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=jt(),p=l?l.source:void 0,w=this.layout?this.layout.source:void 0,_=p!==w,P=this.getStack(),v=!P||P.members.length<=1,y=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(F8));this.animationProgress=0;let E;this.mixTargetDelta=j=>{const C=j/1e3;wE(h.x,o.x,C),wE(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),O8(this.relativeTarget,this.relativeTargetOrigin,m,C),E&&E8(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=jt()),wr(E,this.relativeTarget)),_&&(this.animationValues=d,y8(d,c,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{If.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zo(0)),this.currentAnimation=PN(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(P8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&RN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||jt();const h=On(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=On(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}wr(a,l),Da(a,d),$c(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _8),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Hp("z",o,c,this.animationValues);for(let d=0;d<Up.length;d++)Hp(`rotate${Up[d]}`,o,c,this.animationValues),Hp(`skew${Up[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Cf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Cf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=T8(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in Iu){if(d[w]===void 0)continue;const{correct:_,applyTo:P,isCSSVariable:v}=Iu[w],y=h==="none"?d[w]:_(d[w],c);if(P){const E=P.length;for(let j=0;j<E;j++)o[P[j]]=y}else v?this.options.visualElement.renderState.vars[w]=y:o[w]=y}this.options.layoutId&&(o.pointerEvents=c===this?Cf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(yE),this.root.sharedNodes.clear()}}}function C8(t){t.updateLayout()}function I8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Sr(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],p=On(m);m.min=r[h].min,m.max=m.min+p}):RN(i,e.layoutBox,r)&&Sr(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],p=On(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Ma();$c(a,r,e.layoutBox);const l=Ma();o?$c(l,t.applyTransform(s,!0),e.measuredBox):$c(l,r,e.layoutBox);const c=!IN(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const w=jt();Bc(w,e.layoutBox,m.layoutBox);const _=jt();Bc(_,r,p.layoutBox),kN(w,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=w,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function k8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function N8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j8(t){t.clearSnapshot()}function yE(t){t.clearMeasurements()}function vE(t){t.isLayoutDirty=!1}function R8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function xE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function D8(t){t.resolveTargetDelta()}function M8(t){t.calcProjection()}function V8(t){t.resetSkewAndRotation()}function L8(t){t.removeLeadSnapshot()}function wE(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bE(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function O8(t,e,n,r){bE(t.x,e.x,n.x,r),bE(t.y,e.y,n.y,r)}function F8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $8={duration:.45,ease:[.4,0,.1,1]},SE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),EE=SE("applewebkit/")&&!SE("chrome/")?Math.round:Ir;function _E(t){t.min=EE(t.min),t.max=EE(t.max)}function B8(t){_E(t.x),_E(t.y)}function RN(t,e,n){return t==="position"||t==="preserve-aspect"&&!G7(pE(e),pE(n),.2)}function z8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const U8=jN({attachResizeListener:(t,e)=>Nu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wp={current:void 0},DN=jN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wp.current){const t=new U8({});t.mount(window),t.setOptions({layoutScroll:!0}),Wp.current=t}return Wp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),H8={pan:{Feature:c8},drag:{Feature:l8,ProjectionNode:DN,MeasureLayout:TN}};function TE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ft.postRender(()=>i(e,sd(e)))}class W8 extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=_9(e,(n,r)=>(TE(this.node,r,"Start"),s=>TE(this.node,s,"End"))))}unmount(){}}class q8 extends Zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=td(Nu(this.node.current,"focus",()=>this.onFocus()),Nu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ft.postRender(()=>i(e,sd(e)))}class K8 extends Zi{mount(){const{current:e}=this.node;e&&(this.unmount=C9(e,(n,r)=>(PE(this.node,r,"Start"),(s,{success:i})=>PE(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wy=new WeakMap,qp=new WeakMap,G8=t=>{const e=Wy.get(t.target);e&&e(t)},Y8=t=>{t.forEach(G8)};function X8({root:t,...e}){const n=t||document;qp.has(n)||qp.set(n,{});const r=qp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Y8,{root:t,...e})),r[s]}function Q8(t,e,n){const r=X8(e);return Wy.set(t,n),r.observe(t),()=>{Wy.delete(t),r.unobserve(t)}}const J8={some:0,all:1};class Z8 extends Zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:J8[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=c?d:h;m&&m(l)};return Q8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eB(e,n))&&this.startObserver()}unmount(){}}function eB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tB={inView:{Feature:Z8},tap:{Feature:K8},focus:{Feature:q8},hover:{Feature:W8}},nB={layout:{ProjectionNode:DN,MeasureLayout:TN}},rB={...z7,...tB,...H8,...nB},Hs=c7(rB,y7);function qy(t){const e=yx(()=>zo(t)),{isStatic:n}=T.useContext(zx);if(n){const[,r]=T.useState(t);T.useEffect(()=>e.on("change",r),[])}return e}function MN(t,e){const n=qy(e()),r=()=>n.set(e());return r(),XI(()=>{const s=()=>ft.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Us(r)}}),n}function sB(t){Oc.current=[],t();const e=MN(Oc.current,t);return Oc.current=void 0,e}function zc(t,e,n,r){if(typeof t=="function")return sB(t);const s=typeof e=="function"?e:Af(e,n,r);return Array.isArray(t)?AE(t,s):AE([t],([i])=>s(i))}function AE(t,e){const n=yx(()=>[]);return MN(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function iB(){!Qx.current&&cN();const[t]=T.useState(_h.current);return t}function e1(t){return typeof t=="object"&&!Array.isArray(t)}function VN(t,e,n,r){return typeof t=="string"&&e1(e)?$k(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function oB(t,e,n){return t*(e+1)}function CE(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function aB(t,e,n){for(let r=0;r<t.length;r++){const s=t[r];s.at>e&&s.at<n&&(hm(t,s),r--)}}function lB(t,e,n,r,s,i){aB(t,s,i);for(let o=0;o<e.length;o++)t.push({value:e[o],at:wt(s,i,r[o]),easing:dk(n,o)})}function cB(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function uB(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const dB="easeInOut";function fB(t,{defaultTransition:e={},...n}={},r,s){const i=e.duration||.3,o=new Map,a=new Map,l={},c=new Map;let d=0,h=0,m=0;for(let p=0;p<t.length;p++){const w=t[p];if(typeof w=="string"){c.set(w,h);continue}else if(!Array.isArray(w)){c.set(w.name,CE(h,w.at,d,c));continue}let[_,P,v={}]=w;v.at!==void 0&&(h=CE(h,v.at,d,c));let y=0;const E=(j,C,V,x=0,S=0)=>{const A=hB(j),{delay:I=0,times:R=Ak(A),type:M="keyframes",repeat:N,repeatType:H,repeatDelay:J=0,...z}=C;let{ease:q=e.ease||"easeOut",duration:L}=C;const O=typeof I=="function"?I(x,S):I,K=A.length,Z=Vx(M)?M:s==null?void 0:s[M||"keyframes"];if(K<=2&&Z){let Ee=100;if(K===2&&gB(A)){const ve=A[1]-A[0];Ee=Math.abs(ve)}const ke={...z};L!==void 0&&(ke.duration=Kr(L));const De=Ek(ke,Ee,Z);q=De.ease,L=De.duration}L??(L=i);const se=h+O;R.length===1&&R[0]===0&&(R[1]=1);const we=R.length-A.length;if(we>0&&Pk(R,we),A.length===1&&A.unshift(null),N){L=oB(L,N);const Ee=[...A],ke=[...R];q=Array.isArray(q)?[...q]:[q];const De=[...q];for(let ve=0;ve<N;ve++){A.push(...Ee);for(let bt=0;bt<Ee.length;bt++)R.push(ke[bt]+(ve+1)),q.push(bt===0?"linear":dk(De,bt-1))}cB(R,N)}const ge=se+L;lB(V,A,q,R,se,ge),y=Math.max(O+L,y),m=Math.max(ge,m)};if(an(_)){const j=IE(_,a);E(P,v,kE("default",j))}else{const j=VN(_,P,r,l),C=j.length;for(let V=0;V<C;V++){P=P,v=v;const x=j[V],S=IE(x,a);for(const A in P)E(P[A],mB(v,A),kE(A,S),V,C)}}d=h,h+=y}return a.forEach((p,w)=>{for(const _ in p){const P=p[_];P.sort(uB);const v=[],y=[],E=[];for(let C=0;C<P.length;C++){const{at:V,value:x,easing:S}=P[C];v.push(x),y.push(fl(0,m,V)),E.push(S||"easeOut")}y[0]!==0&&(y.unshift(0),v.unshift(v[0]),E.unshift(dB)),y[y.length-1]!==1&&(y.push(1),v.push(null)),o.has(w)||o.set(w,{keyframes:{},transition:{}});const j=o.get(w);j.keyframes[_]=v,j.transition[_]={...e,duration:m,ease:E,times:y,...n}}}),o}function IE(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function kE(t,e){return e[t]||(e[t]=[]),e[t]}function hB(t){return Array.isArray(t)?t:[t]}function mB(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const pB=t=>typeof t=="number",gB=t=>t.every(pB);function yB(t,e){return t in e}class vB extends uN{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(yB(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return jt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function xB(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Bx(t)&&!Wk(t)?new pN(e):new hN(e);n.mount(t),ku.set(t,n)}function wB(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new vB(e);n.mount(t),ku.set(t,n)}function bB(t,e){return an(t)||typeof t=="number"||typeof t=="string"&&!e1(e)}function LN(t,e,n,r){const s=[];if(bB(t,e))s.push(PN(t,e1(e)&&e.default||e,n&&(n.default||n)));else{const i=VN(t,e,r),o=i.length;for(let a=0;a<o;a++){const l=i[a],c=l instanceof Element?xB:wB;ku.has(l)||c(l);const d=ku.get(l),h={...n};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(a,o)),s.push(...Zx(d,{...e,transition:h},{}))}}return s}function SB(t,e,n){const r=[];return fB(t,e,n,{spring:Au}).forEach(({keyframes:i,transition:o},a)=>{r.push(...LN(a,i,o))}),r}function EB(t){return Array.isArray(t)&&t.some(Array.isArray)}function _B(t){function e(n,r,s){let i=[],o;if(EB(n))i=SB(n,r,t);else{const{onComplete:l,...c}=s||{};typeof l=="function"&&(o=l),i=LN(n,r,c,t)}const a=new a9(i);return o&&a.finished.then(o),a}return e}const Gd=_B();function NE(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function TB({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,o]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=T.useRef(!1);T.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,m,p]=T.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:y,top:E,width:j,height:C,bottom:V,right:x,x:S,y:A}=a.current.element.getBoundingClientRect(),I={left:y,top:E,width:j,height:C,bottom:V,right:x,x:S,y:A};a.current.element instanceof HTMLElement&&r&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),d.current&&!IB(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[v,c?NE(v,c):v,l?NE(v,l):v]},[o,r,l,c]);function w(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function _(){a.current.element&&(a.current.resizeObserver=new s(p),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const P=v=>{!v||v===a.current.element||(w(),a.current.element=v,a.current.scrollContainers=ON(v),_())};return AB(p,!!e),PB(m),T.useEffect(()=>{w(),_()},[e,p,m]),T.useEffect(()=>w,[]),[P,i,h]}function PB(t){T.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function AB(t,e){T.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function ON(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:s}=window.getComputedStyle(t);return[n,r,s].some(i=>i==="auto"||i==="scroll")&&e.push(t),[...e,...ON(t.parentElement)]}const CB=["x","y","top","bottom","left","right","width","height"],IB=(t,e)=>CB.every(n=>t[n]===e[n]);var FN=T.createContext(void 0);function id(){const t=T.useContext(FN);if(!t)throw new Error("Sheet context error");return t}var Ws={root:{base:{position:"fixed",top:0,bottom:0,left:0,right:0,overflow:"hidden",pointerEvents:"none"},decorative:{}},backdrop:{base:{zIndex:1,position:"fixed",top:0,left:0,width:"100%",height:"100%",touchAction:"none",userSelect:"none"},decorative:{backgroundColor:"rgba(0, 0, 0, 0.2)",border:"none",WebkitTapHighlightColor:"transparent"}},container:{base:{zIndex:2,position:"absolute",left:0,bottom:0,width:"100%",pointerEvents:"auto",display:"flex",flexDirection:"column"},decorative:{backgroundColor:"#fff",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxShadow:"0px -2px 16px rgba(0, 0, 0, 0.3)"}},headerWrapper:{base:{width:"100%"},decorative:{}},header:{base:{width:"100%",position:"relative"},decorative:{height:"40px",display:"flex",alignItems:"center",justifyContent:"center"}},indicatorWrapper:{base:{display:"flex"},decorative:{}},indicator:{base:{display:"inline-block"},decorative:{width:"18px",height:"4px",borderRadius:"99px",backgroundColor:"#ddd"}},content:{base:{minHeight:"0px",position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},decorative:{}},scroller:{base:{height:"100%",overflowY:"auto",overscrollBehaviorY:"none"},decorative:{}}},jE="calc(100% - env(safe-area-inset-top) - 34px)",ju=typeof window>"u",kB={ease:"easeOut",duration:.2},NB={ease:"linear",duration:.01},jB=.6,RB=500;function qs(t,e){return e?t.base:{...t.base,...t.decorative}}function DB(t){for(let e=0;e<t.length;e++)if(t[e+1]<t[e])return!1;return!0}function Th(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})}}function t1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform):!1}function ym(t){let e=null;return()=>(e==null&&(e=t()),e)}var MB=ym(function(){return t1(/^Mac/i)}),VB=ym(function(){return t1(/^iPhone/i)}),LB=ym(function(){return t1(/^iPad/i)||MB()&&navigator.maxTouchPoints>1}),OB=ym(function(){return VB()||LB()});function FB(t,e=50,n=20){return new Promise(r=>{let s=0;const i=setInterval(()=>{const o=document.getElementsByClassName(t)[0];s++,(o||s>=n)&&(clearInterval(i),r(o))},e)})}var $B=t=>!!t.onClick||!!t.onTap,$N=T.forwardRef(({style:t,className:e="",unstyled:n,...r},s)=>{const i=id(),o=$B(r),a=o?Hs.button:Hs.div,l=o?"auto":"none",c=n??i.unstyled,d={...qs(Ws.backdrop,c),...t,pointerEvents:l};return ln.createElement(a,{...r,ref:s,className:`react-modal-sheet-backdrop ${e}`,style:d,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1}})});$N.displayName="SheetBackdrop";var BN=T.forwardRef(({children:t,style:e,className:n="",unstyled:r,...s},i)=>{const o=id(),a=r??o.unstyled,l={...qs(Ws.container,a),...e,y:o.y};return o.detent==="default"&&(l.height=jE),o.detent==="full"&&(l.height="100%",l.maxHeight="100%"),o.detent==="content"&&(l.height="auto",l.maxHeight=jE),ln.createElement(Hs.div,{...s,ref:Th([i,o.sheetRef,o.sheetBoundsRef]),className:`react-modal-sheet-container ${n}`,style:l},t)});BN.displayName="SheetContainer";var BB={bottom:0,top:0,left:0,right:0};function zN(){const t=T.useRef(null),e=T.useCallback(()=>BB,[]);return{ref:t,onMeasure:e}}function zB(t={}){const{debounceDelay:e=32,isEnabled:n=!0}=t,[r,s]=T.useState(null),[i,o]=T.useState(void 0);return T.useEffect(()=>{if(!r||!n)return;let a=null;function l(h){const{scrollTop:m,scrollHeight:p,clientHeight:w}=h;if(!(p>w)){i&&o(void 0);return}const P=m<=0,v=Math.ceil(p)-Math.ceil(m)===Math.ceil(w);let y;P?y="top":v?y="bottom":y="middle",y!==i&&o(y)}function c(h){if(h.currentTarget instanceof HTMLElement){const m=h.currentTarget;a&&clearTimeout(a),e===0?l(m):a=setTimeout(()=>l(m),e)}}function d(h){h.currentTarget instanceof HTMLElement&&l(h.currentTarget)}return l(r),r.addEventListener("scroll",c),r.addEventListener("touchstart",d),()=>{a&&clearTimeout(a),r.removeEventListener("scroll",c),r.removeEventListener("touchstart",d)}},[r,n]),{scrollRef:a=>s(a),scrollPosition:i}}var UN=T.forwardRef(({disableScroll:t,disableDrag:e,children:n,style:r,className:s="",scrollClassName:i="",scrollStyle:o,scrollRef:a=null,unstyled:l,...c},d)=>{const h=id(),m=zN(),p=zB(),w=typeof t=="function"?t({scrollPosition:p.scrollPosition,currentSnap:h.currentSnap}):!!t,_=!w&&p.scrollPosition&&p.scrollPosition!=="top",y=(typeof e=="function"?e({scrollPosition:p.scrollPosition,currentSnap:h.currentSnap}):!!e)||_||h.disableDrag||h.disableDrag?void 0:h.dragProps,E=l??h.unstyled,j={...qs(Ws.content,E),...r},C=qs(Ws.scroller,E);return h.avoidKeyboard&&(C.paddingBottom="env(keyboard-inset-height, var(--keyboard-inset-height, 0px))"),w&&(C.overflowY="hidden"),ln.createElement(Hs.div,{...c,ref:Th([d,m.ref]),className:`react-modal-sheet-content ${s}`,style:j,...y,dragConstraints:m.ref,onMeasureDragConstraints:m.onMeasure},ln.createElement(Hs.div,{ref:Th([p.scrollRef,a]),style:{...C,...o},className:`react-modal-sheet-content-scroller ${i}`},n))});UN.displayName="SheetContent";function HN({style:t,className:e="",unstyled:n,...r}){const s=id(),i=zc(s.indicatorRotation,d=>`translateX(2px) rotate(${d}deg)`),o=zc(s.indicatorRotation,d=>`translateX(-2px) rotate(${-1*d}deg)`),a=n??s.unstyled,l={...qs(Ws.indicatorWrapper,a),...t},c=qs(Ws.indicator,a);return ln.createElement("div",{className:`react-modal-sheet-drag-indicator-container ${e}`,style:l,...r},ln.createElement(Hs.span,{className:"react-modal-sheet-drag-indicator",style:{...c,transform:i}}),ln.createElement(Hs.span,{className:"react-modal-sheet-drag-indicator",style:{...c,transform:o}}))}var WN=T.forwardRef(({children:t,style:e,disableDrag:n,unstyled:r,className:s="",...i},o)=>{const a=id(),l=zN(),c=n||a.disableDrag?void 0:a.dragProps,d=r??a.unstyled,h={...qs(Ws.headerWrapper,d),...e},m=qs(Ws.header,d);return ln.createElement(Hs.div,{...i,ref:Th([o,l.ref]),style:h,className:`react-modal-sheet-header-container ${s}`,...c,dragConstraints:l.ref,onMeasureDragConstraints:l.onMeasure},t||ln.createElement("div",{className:"react-modal-sheet-header",style:m},ln.createElement(HN,null)))});WN.displayName="SheetHeader";var Ru=ju?T.useEffect:T.useLayoutEffect;function UB(){const[t,e]=T.useState(()=>({windowHeight:ju?0:window.innerHeight,windowWidth:ju?0:window.innerWidth}));return Ru(()=>{function n(){e({windowHeight:window.innerHeight,windowWidth:window.innerWidth})}return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t}function HB(){const[t]=T.useState(()=>{const e={top:0,left:0,right:0,bottom:0};if(ju)return e;const n=document.querySelector(":root");if(!n)return e;n.style.setProperty("--rms-sat","env(safe-area-inset-top)"),n.style.setProperty("--rms-sal","env(safe-area-inset-left)"),n.style.setProperty("--rms-sar","env(safe-area-inset-right)"),n.style.setProperty("--rms-sab","env(safe-area-inset-bottom)");const r=getComputedStyle(n),s=Yd(r,"--rms-sat"),i=Yd(r,"--rms-sal"),o=Yd(r,"--rms-sar"),a=Yd(r,"--rms-sab");return n.style.removeProperty("--rms-sat"),n.style.removeProperty("--rms-sal"),n.style.removeProperty("--rms-sar"),n.style.removeProperty("--rms-sab"),{top:s,left:i,right:o,bottom:a}});return t}function Yd(t,e){const n=t.getPropertyValue(e).replace("px","").trim();return parseInt(n,10)||0}function WB({y:t,detent:e,rootId:n,sheetHeight:r,snapPoints:s,startThreshold:i}){const o=HB().top;let a=n;a&&e==="full"&&(console.warn('Using "full" detent with modal effect is not supported.'),a=void 0),Ru(()=>()=>{a&&RE(a)},[]),Ru(()=>{if(!a)return;const l=document.querySelector(`#${a}`);if(!l)return;const c=t.on("animationStart",()=>{qB(a)}),d=t.on("change",w=>{if(!l)return;let _=Math.max(0,1-w/r);const P=s.length>1?s[s.length-2]:void 0;if(P!==void 0){const C=P.snapValueY;w<=C?_=(C-w)/C:_=0}if(i!==void 0){const C=r-Math.min(Math.floor(i*r),r);w<=C?_=(C-w)/C:_=0}_=Math.max(0,Math.min(1,_));const v=window.innerWidth,y=Af(_,[0,1],[0,24+o]),E=Af(_,[0,1],[1,(v-16)/v]),j=Af(_,[0,1],[0,10]);l.style.transform=`scale(${E}) translate3d(0, ${y}px, 0)`,l.style.borderTopRightRadius=`${j}px`,l.style.borderTopLeftRadius=`${j}px`});function h(){t.get()-5>=r&&RE(a)}const m=t.on("animationComplete",h),p=t.on("animationCancel",h);return()=>{c(),d(),m(),p()}},[t,a,o,i,r])}function qB(t){const e=document.querySelector(`#${t}`),n=document.querySelector("body");e&&(n.style.backgroundColor="#000",e.style.overflow="hidden",e.style.transitionTimingFunction="cubic-bezier(0.32, 0.72, 0, 1)",e.style.transitionProperty="transform, border-radius",e.style.transitionDuration="0.5s",e.style.transformOrigin="center top")}function RE(t){const e=document.querySelector(`#${t}`),n=document.querySelector("body");e&&(n.style.removeProperty("background-color"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-timing-function"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transform-origin"),e.style.removeProperty("transform"),e.style.removeProperty("border-top-right-radius"),e.style.removeProperty("border-top-left-radius"))}var KB=24;function Ky(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}var Kp=typeof document<"u"&&window.visualViewport;function DE(t,e){if(!t)return!1;const n=window.getComputedStyle(t);let r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&e&&(r=t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth),r}function qN(t,e){let n=t;for(DE(n,e)&&(n=n.parentElement);n&&!DE(n,e);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}var GB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Xd=0,Qd;function YB(t={}){const{isDisabled:e}=t;Ru(()=>{if(!e)return Xd++,Xd===1&&(OB()?Qd=QB():Qd=XB()),()=>{Xd--,Xd===0&&(Qd==null||Qd())}},[e])}function XB(){return Ky(Uc(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Uc(document.documentElement,"overflow","hidden"))}function QB(){let t,e=0;const n=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];t=qN(p,!0),!(t===document.documentElement&&t===document.body)&&(e=h.changedTouches[0].pageY)},r=h=>{if(t===void 0)return;if(!t||t===document.documentElement||t===document.body){h.preventDefault();return}const m=h.changedTouches[0].pageY,p=t.scrollTop,w=t.scrollHeight-t.clientHeight;w!==0&&((p<=0&&m>e||p>=w&&m<e)&&h.preventDefault(),e=m)},s=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];VE(p)&&p!==document.activeElement&&(h.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},i=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];VE(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Kp&&(Kp.height<window.innerHeight?requestAnimationFrame(()=>{ME(p)}):Kp.addEventListener("resize",()=>ME(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=Ky(Uc(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Uc(document.documentElement,"overflow","hidden"),Uc(document.body,"marginTop",`-${l}px`));window.scrollTo(0,0);const d=Ky(ac(document,"touchstart",n,{passive:!1,capture:!0}),ac(document,"touchmove",r,{passive:!1,capture:!0}),ac(document,"touchend",s,{passive:!1,capture:!0}),ac(document,"focus",i,!0),ac(window,"scroll",o));return()=>{c(),d(),window.scrollTo(a,l)}}function Uc(t,e,n){const r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function ac(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function ME(t){const e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){const n=qN(t);if(n!==document.documentElement&&n!==document.body&&n!==t){const r=n.getBoundingClientRect().top,s=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom,o=n.getBoundingClientRect().bottom+KB;i>o&&(n.scrollTop+=s-r)}t=n.parentElement}}function VE(t){return t instanceof HTMLInputElement&&!GB.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Er(t){const e=T.useRef(void 0);return Ru(()=>{e.current=t}),T.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}function JB({isOpen:t,onClosed:e,onOpening:n,onOpen:r,onClosing:s}){const[i,o]=T.useState(t?"opening":"closed"),a=Er(()=>e==null?void 0:e()),l=Er(()=>n==null?void 0:n()),c=Er(()=>r==null?void 0:r()),d=Er(()=>s==null?void 0:s());return T.useEffect(()=>{t&&i==="closed"?o("opening"):!t&&(i==="open"||i==="opening")&&o("closing")},[t,i]),T.useEffect(()=>{async function h(){switch(i){case"closed":await(a==null?void 0:a());break;case"opening":await(l==null?void 0:l()),o("open");break;case"open":await(c==null?void 0:c());break;case"closing":await(d==null?void 0:d()),o("closed");break}}h().catch(m=>{console.error("Internal sheet state error:",m)})},[i]),i}function ZB(t={}){const{containerRef:e,isEnabled:n=!0,debounceDelay:r=100,includeContentEditable:s=!0,visualViewportThreshold:i=100}=t,[o,a]=T.useState({isVisible:!1,height:0}),l=T.useRef(null),c=T.useRef(null),d=Er(h=>(h==null?void 0:h.tagName)==="INPUT"||(h==null?void 0:h.tagName)==="TEXTAREA"||s&&h instanceof HTMLElement&&h.isContentEditable);return T.useEffect(()=>{if(!n)return;const h=window.visualViewport,m=navigator.virtualKeyboard;function p(y){const E=(e==null?void 0:e.current)||document.documentElement;window.isSecureContext?E.style.setProperty("--keyboard-inset-height",`env(keyboard-inset-height, ${y}px)`):E.style.setProperty("--keyboard-inset-height",`${y}px`)}function w(y){y.target instanceof HTMLElement&&d(y.target)&&(l.current=y.target,P())}function _(){l.current=null,P()}function P(){c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{const y=l.current;if(!d(y)){p(0),a({isVisible:!1,height:0});return}if(h){const j=window.innerHeight-h.height;j>i?(p(j),a({isVisible:!0,height:j})):(p(0),a({isVisible:!1,height:0}))}},r)}window.addEventListener("focusin",w),window.addEventListener("focusout",_),h&&(h.addEventListener("resize",P),h.addEventListener("scroll",P));let v=!1;return m&&(v=m.overlaysContent,m.overlaysContent=!0),()=>{window.removeEventListener("focusin",w),window.removeEventListener("focusout",_),h&&(h.removeEventListener("resize",P),h.removeEventListener("scroll",P)),m&&(m.overlaysContent=v),c.current&&clearTimeout(c.current)}},[r,s,n,i]),{keyboardHeight:o.height,isKeyboardOpen:o.isVisible}}function ez({snapPointsProp:t,sheetHeight:e}){if(t[0]!==0&&(console.error(`First snap point should be 0 to ensure the sheet can be fully closed. Got: [${t.join(", ")}]`),t.unshift(0)),t[t.length-1]!==1&&(console.error(`Last snap point should be 1 to ensure the sheet can be fully opened. Got: [${t.join(", ")}]`),t.push(1)),e<=0)return console.error(`Sheet height is ${e}, cannot compute snap points. Make sure the sheet is mounted and has a valid height.`),[];const n=t.map(r=>r>0&&r<=1?Math.round(r*e):r<0?e+r:r);return console.assert(DB(n),`Snap points need to be in ascending order got: [${t.join(", ")}]`),n.forEach(r=>{(r<0||r>e)&&console.warn(`Snap point ${r} is outside of the sheet height ${e}. This can cause unexpected behavior. Consider adjusting your snap points.`)}),n.includes(e)||(console.warn("Snap points do not include the sheet height.Please include `1` as the last snap point or it will be included automatically.This is to ensure the sheet can be fully opened."),n.push(e)),n.map((r,s)=>({snapIndex:s,snapValue:r,snapValueY:e-r}))}function tz({snapPoints:t,currentY:e}){return t.reduce((n,r)=>Math.abs(r.snapValueY-e)<Math.abs(n.snapValueY-e)?r:n)}function nz({y:t,snapPoints:e,dragDirection:n}){return n==="down"?e.slice().reverse().find(r=>r.snapValueY>t):e.find(r=>r.snapValueY<t)}function rz({dragDirection:t,snapPoints:e}){const n=e[0],r=e[e.length-1];return t==="down"?{yTo:n.snapValueY,snapIndex:n.snapIndex}:{yTo:r.snapValueY,snapIndex:r.snapIndex}}function sz({currentSnapPoint:t,currentY:e,dragDirection:n,snapPoints:r,velocity:s}){const i=tz({snapPoints:r,currentY:e});if(Math.abs(s)<20)return{yTo:i.snapValueY,snapIndex:i.snapIndex};const o=nz({y:e,snapPoints:r,dragDirection:n});return o?{yTo:o.snapValueY,snapIndex:o.snapIndex}:{yTo:t.snapValueY,snapIndex:t.snapIndex}}var KN=T.forwardRef(({avoidKeyboard:t=!0,children:e,className:n="",detent:r="default",disableDismiss:s=!1,disableDrag:i=!1,disableScrollLocking:o=!1,dragCloseThreshold:a=jB,dragVelocityThreshold:l=RB,initialSnap:c,isOpen:d,modalEffectRootId:h,modalEffectThreshold:m,mountPoint:p,prefersReducedMotion:w=!1,snapPoints:_,style:P,tweenConfig:v=kB,unstyled:y=!1,onOpenStart:E,onOpenEnd:j,onClose:C,onCloseStart:V,onCloseEnd:x,onSnap:S,onDrag:A,onDragStart:I,onDragEnd:R,...M},N)=>{const[H,J]=TB(),z=T.useRef(null),q=Math.round(J.height),[L,O]=T.useState(c),K=_&&q>0?ez({sheetHeight:q,snapPointsProp:_}):[],{windowHeight:Z}=UB(),se=q>0?q:Z,we=qy(se),ge=zc(we,Ie=>Math.max(q-Ie,0)),Ee=qy(0),ke=iB(),ve={type:"tween",...!!(w||ke)?NB:v},zn=ZB({isEnabled:d&&t,containerRef:z}).isKeyboardOpen||i,dn=zc(we,Ie=>Ie+2>=se?-1:(P==null?void 0:P.zIndex)??9999),ze=zc(we,Ie=>Ie+2>=se?"hidden":"visible"),et=Er(Ie=>{O(Ie),S==null||S(Ie)}),Ae=Er(Ie=>_&&K?Ie<0||Ie>=K.length?(console.warn(`Invalid snap index ${Ie}. Snap points are: [${_.join(", ")}] and their computed values are: [${K.map(Ue=>Ue.snapValue).join(", ")}]`),null):K[Ie]:null),Ut=Er(async Ie=>{if(!_){console.warn("Snapping is not possible without `snapPoints` prop.");return}const Ue=Ae(Ie);if(Ue===null){console.warn(`Invalid snap index ${Ie}.`);return}if(Ie===0){C();return}await Gd(we,Ue.snapValueY,{...ve,onComplete:()=>et(Ie)})}),tn=Er(()=>{const Ie=document.activeElement;if(!Ie||!z.current)return;(Ie.tagName==="INPUT"||Ie.tagName==="TEXTAREA")&&z.current.contains(Ie)&&Ie.blur()}),Xr=Er((Ie,Ue)=>{A==null||A(Ie,Ue);const Un=we.get(),Vt=we.getVelocity();Vt>0&&Ee.set(10),Vt<0&&Ee.set(-10),we.set(Math.max(Un+Ue.delta.y,0))}),gs=Er((Ie,Ue)=>{tn(),I==null||I(Ie,Ue)}),St=Er((Ie,Ue)=>{tn(),R==null||R(Ie,Ue);const Un=we.get();let Vt=0;const nn=L!==void 0?Ae(L):null;if(nn){const Sn=Ue.offset.y>0?"down":"up",ys=Ue.velocity.y>0?"down":"up",vr=Math.abs(Ue.velocity.y)>l;let er;if(vr?er=rz({snapPoints:K,dragDirection:ys}):er=sz({currentSnapPoint:nn,currentY:Un,dragDirection:Sn,snapPoints:K,velocity:Ue.velocity.y}),Vt=er.yTo,s&&Vt+1>=q){const Lt=K.find(Rr=>Rr.snapValue>0);Lt?(Vt=Lt.snapValueY,et(Lt.snapIndex)):Vt=Un}else er.snapIndex!==void 0&&et(er.snapIndex)}else(Ue.velocity.y>l||Un>q*a)&&(s?Vt=0:Vt=se);Gd(we,Vt,ve),Vt+1>=q&&!s&&C(),Ee.set(0)});T.useImperativeHandle(N,()=>({y:we,yInverted:ge,height:q,snapTo:Ut})),WB({y:we,detent:r,sheetHeight:q,snapPoints:K,rootId:h,startThreshold:m}),YB({isDisabled:o||!d});const Et=JB({isOpen:d,onOpen:async()=>{E==null||E(),await FB("react-modal-sheet-container");const Ie=c!==void 0?Ae(c):null,Ue=(Ie==null?void 0:Ie.snapValueY)??0;await Gd(we,Ue,ve),c!==void 0&&et(c),j==null||j()},onClosing:async()=>{V==null||V(),await Gd(we,se,ve),x==null||x()}}),jr={currentSnap:L,detent:r,disableDrag:zn,dragProps:{drag:"y",dragElastic:0,dragMomentum:!1,dragPropagation:!1,onDrag:Xr,onDragStart:gs,onDragEnd:St},indicatorRotation:Ee,avoidKeyboard:t,sheetBoundsRef:H,sheetRef:z,unstyled:y,y:we},yr=ln.createElement(FN.Provider,{value:jr},ln.createElement(Hs.div,{...M,ref:N,"data-sheet-state":Et,className:`react-modal-sheet-root ${n}`,style:{...qs(Ws.root,y),zIndex:dn,visibility:ze,...P}},Et!=="closed"?e:null));return ju?yr:Ku.createPortal(yr,p??document.body)});KN.displayName="Sheet";var xt=Object.assign(KN,{Container:BN,Header:WN,DragIndicator:HN,Content:UN,Backdrop:$N});const yt=({children:t,onClick:e,variant:n="primary",size:r="medium",disabled:s=!1,fullWidth:i=!1,className:o="",type:a="button"})=>{const l="font-medium rounded-full transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation relative overflow-hidden",c={primary:"bg-[#5E57AC] text-white hover:bg-[#4e47a0] active:bg-[#463f8f] active:opacity-95 focus:ring-[#5E57AC]/30 disabled:hover:bg-[#5E57AC]",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-300 active:opacity-95 focus:ring-gray-300/50 disabled:hover:bg-gray-200",outline:"bg-transparent border-2 border-gray-300 text-[#5E57AC] hover:bg-[#5E57AC] hover:text-white hover:border-[#5E57AC] active:bg-[#5E57AC] active:text-white active:border-[#5E57AC] active:opacity-95 focus:ring-[#5E57AC]/30 disabled:hover:bg-transparent disabled:hover:text-[#5E57AC] disabled:hover:border-gray-300",ghost:"bg-transparent text-[#5E57AC] hover:bg-[#5E57AC]/10 active:bg-[#5E57AC]/20 active:opacity-95 focus:ring-[#5E57AC]/20 disabled:hover:bg-transparent",cta:"bg-gradient-to-r from-[#4A4490] via-[#5E57AC] to-[#7C6FBE] bg-[length:200%_auto] text-white font-semibold focus:ring-[#5E57AC]/40 animate-gradient-slide overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:translate-x-[-200%] hover:before:translate-x-[200%] before:transition-transform before:duration-[1500ms] disabled:animate-none disabled:opacity-60"},d={small:"px-5 py-2 text-sm",medium:"px-7 py-3.5 text-base",large:"px-9 py-4 text-lg"},h=i?"w-full":"",m="",p=o.replace(/\brounded-\w+\b/g,"").trim();return u.jsx("button",{type:a,onClick:e,disabled:s,className:`${l} ${c[n]} ${d[r]} ${h} ${m} ${p} rounded-full`,children:u.jsx("span",{className:"relative z-10",children:t})})},iz=({label:t,options:e,selectedValue:n,onChange:r,className:s=""})=>u.jsxs("div",{className:`w-full ${s}`,children:[t&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 whitespace-nowrap",children:t}),u.jsx("div",{className:"flex flex-col gap-2.5 pb-1",children:e.map(i=>{const o=n===i.value;return u.jsxs("button",{type:"button",onClick:()=>r(i.value),className:`w-full px-6 py-4 rounded-full text-base font-normal transition-all duration-200 flex items-center justify-between
                                ${o?"bg-[#5E57AC] text-white border-2 border-[#5E57AC]":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}
                            `,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[i.emoji&&u.jsx("span",{className:"text-2xl",children:i.emoji}),u.jsx("span",{children:i.label})]}),o&&u.jsx(zI,{size:20,className:"text-white flex-shrink-0"})]},i.value)})})]}),oz=[{value:"mother",label:"Mother",emoji:""},{value:"father",label:"Father",emoji:""},{value:"partner",label:"Partner",emoji:""},{value:"brother",label:"Brother",emoji:""},{value:"sister",label:"Sister",emoji:""},{value:"son",label:"Son",emoji:""},{value:"daughter",label:"Daughter",emoji:""},{value:"cousin",label:"Cousin",emoji:""},{value:"friend",label:"Friend",emoji:""},{value:"other",label:"Other",emoji:""}],az=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer-not-to-say",label:"Prefer not to say"}],lz=[{value:"xs",label:"XS"},{value:"s",label:"S"},{value:"m",label:"M"},{value:"l",label:"L"},{value:"xl",label:"XL"},{value:"xxl",label:"XXL"},{value:"not-sure",label:"Not sure"}],cz=[{value:"coffee",label:"Coffee"},{value:"tea",label:"Tea"},{value:"wine",label:"Wine"},{value:"beer",label:"Beer"},{value:"cocktails",label:"Cocktails"},{value:"whiskey",label:"Whiskey"},{value:"soft-drinks",label:"Soft Drinks"},{value:"other",label:"Other"}],_s=[{value:"tech",label:"Tech",emoji:""},{value:"sports-fan",label:"Sports Fan",emoji:""},{value:"diy-tools",label:"DIY & Tools",emoji:""},{value:"gaming",label:"Gaming",emoji:""},{value:"bbq-grilling",label:"BBQ & Grilling",emoji:""},{value:"fiction-reading",label:"Fiction Reading",emoji:""},{value:"non-fiction-reading",label:"Non-Fiction Reading",emoji:""},{value:"fitness-gym",label:"Fitness & Gym",emoji:""},{value:"movies-tv",label:"Movies & TV",emoji:""},{value:"music",label:"Music",emoji:""},{value:"automotive",label:"Automotive",emoji:""},{value:"camping",label:"Camping",emoji:""},{value:"cooking",label:"Cooking",emoji:""},{value:"coffee",label:"Coffee",emoji:""},{value:"fishing",label:"Fishing",emoji:""},{value:"golf",label:"Golf",emoji:""},{value:"watches",label:"Watches",emoji:""},{value:"sneakers",label:"Sneakers",emoji:""},{value:"photography",label:"Photography",emoji:""},{value:"travel",label:"Travel",emoji:""},{value:"cycling",label:"Cycling",emoji:""},{value:"gardening",label:"Gardening",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"grooming",label:"Grooming",emoji:""},{value:"hiking",label:"Hiking",emoji:""}],is=[{value:"beauty-makeup",label:"Beauty & Makeup",emoji:""},{value:"home-decor",label:"Home Decor",emoji:""},{value:"tech",label:"Tech",emoji:""},{value:"cozy-homebody",label:"Cozy & Homebody",emoji:""},{value:"fiction-reading",label:"Fiction Reading",emoji:""},{value:"non-fiction-reading",label:"Non-Fiction Reading",emoji:""},{value:"cooking",label:"Cooking",emoji:""},{value:"fitness",label:"Fitness",emoji:""},{value:"skincare",label:"Skincare",emoji:""},{value:"jewelry",label:"Jewelry",emoji:""},{value:"gardening",label:"Gardening",emoji:""},{value:"fashion-accessories",label:"Fashion Accessories",emoji:""},{value:"baking",label:"Baking",emoji:""},{value:"coffee",label:"Coffee",emoji:""},{value:"tea",label:"Tea",emoji:""},{value:"crafting",label:"Crafting",emoji:""},{value:"yoga",label:"Yoga",emoji:""},{value:"travel",label:"Travel",emoji:""},{value:"art-painting",label:"Art & Painting",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"bath-spa",label:"Bath & Spa",emoji:""},{value:"perfume",label:"Perfume",emoji:""},{value:"knitting",label:"Knitting",emoji:""},{value:"journaling",label:"Journaling",emoji:""}],ml=[{value:"video-games",label:"Video Games",emoji:""},{value:"lego",label:"LEGO",emoji:""},{value:"superheroes",label:"Superheroes",emoji:""},{value:"cars-vehicles",label:"Cars & Vehicles",emoji:""},{value:"science-fiction",label:"Science Fiction",emoji:""},{value:"sports",label:"Sports",emoji:""},{value:"novels",label:"Novels",emoji:""},{value:"dinosaurs",label:"Dinosaurs",emoji:""},{value:"space",label:"Space",emoji:""},{value:"construction-toys",label:"Construction Toys",emoji:""},{value:"minecraft",label:"Minecraft",emoji:""},{value:"science-stem",label:"Science & STEM",emoji:""},{value:"star-wars",label:"Star Wars",emoji:""},{value:"outdoor-play",label:"Outdoor Play",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"drawing",label:"Drawing",emoji:""},{value:"comics",label:"Comics",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"skateboarding",label:"Skateboarding",emoji:""},{value:"magic",label:"Magic",emoji:""},{value:"coding",label:"Coding",emoji:""},{value:"pranks",label:"Pranks",emoji:""},{value:"nerf",label:"Nerf",emoji:""},{value:"music",label:"Music",emoji:""},{value:"camping",label:"Camping",emoji:""}],pl=[{value:"arts-crafts",label:"Arts & Crafts",emoji:""},{value:"dolls-plushies",label:"Dolls & Plushies",emoji:""},{value:"fashion-style",label:"Fashion & Style",emoji:""},{value:"teen-fiction",label:"Teen Fiction",emoji:""},{value:"novels",label:"Novels",emoji:""},{value:"jewelry-making",label:"Jewelry Making",emoji:""},{value:"lego",label:"LEGO",emoji:""},{value:"room-decor",label:"Room Decor",emoji:""},{value:"baking",label:"Baking",emoji:""},{value:"makeup-beauty",label:"Makeup & Beauty",emoji:""},{value:"disney",label:"Disney",emoji:""},{value:"animals-fantasy",label:"Animals & Fantasy",emoji:""},{value:"science-stem",label:"Science & STEM",emoji:""},{value:"diaries-writing",label:"Diaries & Writing",emoji:""},{value:"dance",label:"Dance",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"video-games",label:"Video Games",emoji:""},{value:"photography",label:"Photography",emoji:""},{value:"gymnastics",label:"Gymnastics",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"outdoor-play",label:"Outdoor Play",emoji:""},{value:"anime",label:"Anime",emoji:""},{value:"harry-potter",label:"Harry Potter",emoji:""},{value:"squishmallows",label:"Squishmallows",emoji:""},{value:"nail-art",label:"Nail Art",emoji:""}],Gy=t=>{const e=[..._s,...is,...ml,...pl],n=new Map;return e.forEach(r=>{n.set(r.value,r.label)}),n.has(t)?n.get(t):t},Ph=t=>t.map(e=>Gy(e)),uz=(t,e,n)=>{const r=e!==void 0&&e<=12;if(t==="father")return{primary:_s};if(t==="mother")return{primary:is};if(r){if(t==="brother"||t==="son")return{primary:ml};if(t==="sister"||t==="daughter")return{primary:pl}}if(!r){if(n==="male")return{primary:_s};if(n==="female")return{primary:is}}if(!n){if(t==="brother"||t==="son")return r?{primary:ml}:{primary:_s};if(t==="sister"||t==="daughter")return r?{primary:pl}:{primary:is}}const s=_s.slice(0,12),i=is.slice(0,12),o=[],a=Math.max(s.length,i.length);for(let m=0;m<a;m++)m<s.length&&o.push(s[m]),m<i.length&&o.push(i[m]);const l=_s.slice(12),c=is.slice(12),d=[],h=Math.max(l.length,c.length);for(let m=0;m<h;m++)m<l.length&&d.push(l[m]),m<c.length&&d.push(c[m]);return{primary:o,other:d}};[..._s,...is,...ml,...pl].filter((t,e,n)=>e===n.findIndex(r=>r.value===t.value));Array.from({length:100},(t,e)=>({value:String(e+1),label:String(e+1)}));const dz=({onNext:t})=>{const[e,n]=T.useState("");T.useEffect(()=>{localStorage.getItem("ss_autofill_enabled")==="true"&&n("father")},[]);const r=()=>{e&&t({relationship:e})};return u.jsxs("div",{className:"flex flex-col h-full py-4",children:[u.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:u.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 1"})}),u.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:u.jsx(iz,{options:oz,selectedValue:e,onChange:n})}),u.jsx("div",{className:"flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:u.jsx(yt,{fullWidth:!0,size:"large",onClick:r,disabled:!e,className:"!font-normal",children:"Next"})})]})},ar=({label:t,placeholder:e="Select an option",value:n,options:r,onChange:s,error:i,disabled:o=!1,className:a=""})=>{const[l,c]=T.useState(!1),[d,h]=T.useState(null),m=T.useRef(null),p=T.useRef(null),w=T.useRef(null);T.useEffect(()=>{if(l&&p.current){const P=()=>{if(p.current){const v=p.current.getBoundingClientRect();h({top:Math.round(v.bottom)+8,left:Math.round(v.left),width:Math.round(v.width)})}};requestAnimationFrame(()=>{requestAnimationFrame(P)})}else h(null)},[l]),T.useEffect(()=>{var P,v;if(l){let y=((P=p.current)==null?void 0:P.closest('[style*="overflow-y"]'))||null;if(y||(y=((v=p.current)==null?void 0:v.closest(".overflow-y-auto"))||null),y){const E=y.style.overflow;return y.style.overflow="hidden",()=>{y.style.overflow=E}}}},[l]),T.useEffect(()=>{const P=v=>{const y=v.target;m.current&&!m.current.contains(y)&&w.current&&!w.current.contains(y)&&c(!1)};if(l){const v=setTimeout(()=>{document.addEventListener("mousedown",P)},0);return()=>{clearTimeout(v),document.removeEventListener("mousedown",P)}}},[l]);const _=r.find(P=>P.value===n);return u.jsxs("div",{className:`w-full ${a}`,ref:m,children:[t&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 whitespace-nowrap",children:t}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{ref:p,type:"button",onClick:()=>!o&&c(!l),disabled:o,className:`w-full px-6 py-4 rounded-full border-2 transition-all duration-200 font-medium text-left flex items-center justify-between
            ${i?"border-red-500 focus:border-red-600":"border-gray-200 focus:border-[#5E57AC]"}
            ${o?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-gray-300"}
            focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/20
          `,children:[u.jsx("span",{className:_?"text-gray-800":"text-gray-400",children:_?_.label:e}),u.jsx(UI,{size:20,className:`transition-transform duration-200 ${l?"rotate-180":""} ${o?"text-gray-400":"text-gray-600"}`})]}),l&&!o&&d&&typeof document<"u"&&Ku.createPortal(u.jsx("div",{ref:w,className:"fixed bg-white border-2 border-gray-200 rounded-3xl shadow-lg overflow-hidden z-[10000] sheet-scrollable",style:{top:`${d.top}px`,left:`${d.left}px`,width:`${d.width}px`,maxHeight:"180px",overflowY:"auto",WebkitOverflowScrolling:"touch",transform:"translateZ(0)"},onClick:P=>P.stopPropagation(),onMouseDown:P=>P.stopPropagation(),children:r.map(P=>u.jsx("button",{type:"button",onClick:()=>{s(P.value),c(!1)},className:`w-full px-6 py-4 text-left transition-colors duration-200 font-medium
                  ${P.value===n?"bg-[#5E57AC] text-white":"hover:bg-gray-100 text-gray-800"}
                `,children:P.label},P.value))}),document.body)]}),i&&u.jsx("p",{className:"mt-2 text-sm text-red-600 px-2",children:i})]})},Va=({label:t,placeholder:e="",value:n,onChange:r,type:s="text",error:i,disabled:o=!1,className:a="",onKeyDown:l,inputMode:c})=>u.jsxs("div",{className:`w-full ${a}`,children:[t&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),u.jsx("input",{type:s,value:n,onChange:d=>r(d.target.value),onKeyDown:l,placeholder:e,disabled:o,inputMode:c,className:`w-full px-6 py-4 rounded-full border-2 transition-all duration-200 font-medium text-gray-900
          ${i?"border-red-500 focus:border-red-600":"border-gray-200 focus:border-[#5E57AC]"}
          ${o?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-white hover:border-gray-300"}
          focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/20
          placeholder:text-gray-400
        `}),i&&u.jsx("p",{className:"mt-2 text-sm text-red-600 px-2",children:i})]}),fz=["mother","father","brother","sister","son","daughter"],hz=["mother","father"],mz=({onBack:t,onNext:e,relationship:n=""})=>{const[r,s]=T.useState(""),[i,o]=T.useState(""),a=!hz.includes(n),l=!fz.includes(n),c=()=>{const d={};a&&r&&(d.name=r),l&&i&&(d.gender=i),e(d)};return u.jsxs("div",{className:"flex flex-col h-full py-4",children:[u.jsx("div",{className:"text-left mb-6 flex-shrink-0",children:u.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 2"})}),u.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:u.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[a&&u.jsx("div",{className:"space-y-2",children:u.jsx(Va,{label:"Name",placeholder:"Enter their name",value:r,onChange:s})}),l&&u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Gender (optional)",placeholder:"Select gender",value:i,options:az,onChange:o})}),!a&&!l&&u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("p",{className:"text-gray-500 text-sm text-center",children:"All information can be inferred from the relationship."})})]})}),u.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[u.jsx(yt,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),u.jsx(yt,{fullWidth:!0,size:"large",onClick:c,className:"!font-normal",children:"Next"})]})]})},LE=Array.from({length:31},(t,e)=>({value:String(e+1),label:String(e+1)})),OE=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],FE=new Date().getFullYear(),pz=Array.from({length:100},(t,e)=>({value:String(FE-e),label:String(FE-e)})),gz=({onBack:t,onNext:e})=>{const[n,r]=T.useState(!1),[s,i]=T.useState(""),[o,a]=T.useState(""),[l,c]=T.useState(""),[d,h]=T.useState(""),[m,p]=T.useState(""),[w,_]=T.useState(""),[P,v]=T.useState(null),[y,E]=T.useState(null);T.useEffect(()=>{localStorage.getItem("ss_autofill_enabled")==="true"&&!s&&!o&&!l&&!d&&(r(!1),i("1"),a("1"),c("1960"))},[]),T.useEffect(()=>{if(n&&d&&d.trim()!==""){const V=parseInt(d.trim());if(!isNaN(V)&&V>0&&V<=120){const S=new Date().getFullYear()-V;v(S)}else v(null)}else v(null)},[d,n]),T.useEffect(()=>{if(!n&&s&&o&&l)try{const V=new Date(parseInt(l),parseInt(o)-1,parseInt(s)),x=new Date;let S=x.getFullYear()-V.getFullYear();const A=x.getMonth()-V.getMonth();(A<0||A===0&&x.getDate()<V.getDate())&&S--,S>=0&&S<=120?E(S):E(null)}catch{E(null)}else E(null)},[s,o,l,n]);const j=()=>{if(n&&d&&d.trim()!==""){const V=parseInt(d.trim());if(!isNaN(V)&&V>0&&V<=120){const x={age:V};m&&(x.ageMonth=m),w&&(x.ageDay=w),e(x)}}else if(s&&o&&l){const V=`${s.padStart(2,"0")}/${o.padStart(2,"0")}/${l}`;e({dob:V})}},C=n?d&&d.trim()!==""&&!isNaN(parseInt(d.trim()))&&parseInt(d.trim())>0&&parseInt(d.trim())<=120:s&&o&&l;return u.jsxs("div",{className:"flex flex-col h-full py-4",children:[u.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:u.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 3"})}),u.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:u.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsx("button",{type:"button",onClick:()=>{r(!1),h(""),p(""),_("")},style:{backgroundColor:n?"#F3F4F6":"#5E57AC",color:n?"#374151":"#FFFFFF"},className:"flex-1 px-4 py-3 rounded-full text-sm font-normal transition-all duration-200 hover:bg-opacity-90","aria-pressed":!n,children:"Date of Birth"}),u.jsx("button",{type:"button",onClick:()=>{r(!0),i(""),a(""),c("")},style:{backgroundColor:n?"#5E57AC":"#F3F4F6",color:n?"#FFFFFF":"#374151"},className:"flex-1 px-4 py-3 rounded-full text-sm font-normal transition-all duration-200 hover:bg-opacity-90","aria-pressed":n,children:"Current Age"})]}),n?u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx(Va,{label:"Current Age",placeholder:"Enter age",value:d,onChange:V=>{const x=V.replace(/[^0-9]/g,"");h(x)},type:"text",inputMode:"numeric"}),d&&d.trim()!==""&&P===null&&u.jsx("p",{className:"text-sm text-red-600 px-2",children:"Please enter a valid age (1-120)"}),u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Month (optional)",placeholder:"Select month",value:m,options:OE,onChange:p})}),u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Day (optional)",placeholder:"Select day",value:w,options:LE,onChange:_})}),P!==null&&u.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full border-2 border-purple-200/50 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Year of birth"}),u.jsx("span",{className:"text-2xl font-bold text-[#5E57AC]",children:P})]})})]}):u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Day",placeholder:"Day",value:s,options:LE,onChange:i})}),u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Month",placeholder:"Month",value:o,options:OE,onChange:a})}),u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Year",placeholder:"Year",value:l,options:pz,onChange:c})}),y!==null&&u.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full border-2 border-purple-200/50 shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("span",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Age"}),u.jsx("span",{className:"text-2xl font-bold text-[#5E57AC]",children:y})]})})]})]})}),u.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[u.jsx(yt,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),u.jsx(yt,{fullWidth:!0,size:"large",onClick:j,disabled:!C,className:"!font-normal",children:"Next"})]})]})},Ah=({label:t,options:e,selectedValues:n,onChange:r,className:s=""})=>{const i=o=>{n.includes(o)?r(n.filter(a=>a!==o)):r([...n,o])};return u.jsxs("div",{className:`w-full ${s}`,children:[t&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 whitespace-nowrap",children:t}),u.jsx("div",{className:"flex flex-col gap-2.5 pb-1",children:e.map(o=>{const a=n.includes(o.value);return u.jsxs("button",{type:"button",onClick:()=>i(o.value),style:{backgroundColor:a?"#5E57AC":"#FFFFFF",color:a?"#FFFFFF":"#374151",borderColor:a?"#5E57AC":"#E5E7EB"},className:`w-full px-6 py-4 rounded-full text-base font-normal transition-all duration-200 flex items-center justify-between border-2 ${a?"":"hover:border-gray-300"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[o.emoji&&u.jsx("span",{className:"text-2xl",children:o.emoji}),u.jsx("span",{children:o.label})]}),a&&u.jsx(zI,{size:20,className:"text-white flex-shrink-0"})]},o.value)})})]})},yz=({onBack:t,onNext:e,relationship:n,age:r,gender:s})=>{const[i,o]=T.useState([]),{primary:a,other:l}=T.useMemo(()=>uz(n,r,s),[n,r,s]);T.useEffect(()=>{if(!(localStorage.getItem("ss_autofill_enabled")==="true")||i.length>0)return;const h=[...a,...l||[]];if(h.length===0)return;const m=h.map(w=>w.value),p=["tech","golf"].filter(w=>m.includes(w));p.length>0&&o(p)},[a,l,i.length]);const c=()=>{e({interests:i})};return u.jsxs("div",{className:"flex flex-col h-full py-4",children:[u.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:u.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 4"})}),u.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsx(Ah,{options:a,selectedValues:i,onChange:o},`primary-${i.join(",")}`),l&&l.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-600 mb-3 font-medium",children:"Other"}),u.jsx(Ah,{options:l,selectedValues:i,onChange:o},`other-${i.join(",")}`)]})]})}),u.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[u.jsx(yt,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),u.jsx(yt,{fullWidth:!0,size:"large",onClick:c,className:"!font-normal",children:"Next"})]})]})},vz=({onBack:t,onNext:e})=>{const[n,r]=T.useState(""),[s,i]=T.useState("");T.useEffect(()=>{localStorage.getItem("ss_autofill_enabled")==="true"&&!n&&!s&&(r("m"),i("beer"))},[]);const o=()=>{n&&s&&e({clothingSize:n,favouriteDrink:s})},a=n&&s;return u.jsxs("div",{className:"flex flex-col h-full py-4",children:[u.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:u.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 5"})}),u.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:u.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Clothing Size",placeholder:"Select size",value:n,options:lz,onChange:r})}),u.jsx("div",{style:{position:"relative",zIndex:10},children:u.jsx(ar,{label:"Favourite Drink",placeholder:"Select drink",value:s,options:cz,onChange:i})})]})}),u.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[u.jsx(yt,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),u.jsx(yt,{fullWidth:!0,size:"large",onClick:o,disabled:!a,className:"!font-normal",children:"Next"})]})]})},n1=({min:t,max:e,minValue:n,maxValue:r,onChange:s,label:i,className:o=""})=>{const[a,l]=T.useState(!1),[c,d]=T.useState(!1),h=T.useRef(null),m=v=>(v-t)/(e-t)*100,p=T.useCallback(v=>{if(!h.current)return t;const y=h.current.getBoundingClientRect(),E=Math.max(0,Math.min(1,(v-y.left)/y.width)),j=Math.round(t+E*(e-t)),C=Math.round(j/5)*5;return Math.max(t,Math.min(e,C))},[t,e]),w=v=>{v==="min"?l(!0):d(!0)};T.useEffect(()=>{const v=j=>{if(a||c){j.preventDefault();const C=p(j.clientX);if(a){const V=Math.min(C,r-1);s(Math.max(t,V),r)}else if(c){const V=Math.max(C,n+1);s(n,Math.min(e,V))}}},y=()=>{l(!1),d(!1)},E=j=>{if(a||c){j.preventDefault();const C=j.touches[0],V=p(C.clientX);if(a){const x=Math.min(V,r-1);s(Math.max(t,x),r)}else if(c){const x=Math.max(V,n+1);s(n,Math.min(e,x))}}};return(a||c)&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("touchend",y)),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",y)}},[a,c,n,r,t,e,s,p]);const _=m(n),P=m(r);return u.jsxs("div",{className:`w-full ${o}`,children:[i&&u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:i}),u.jsxs("div",{className:"px-2",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{className:"bg-[#5E57AC] text-white px-5 py-2 rounded-full font-normal",children:["",n]}),u.jsx("span",{className:"text-gray-500 font-normal",children:"to"}),u.jsxs("div",{className:"bg-[#5E57AC] text-white px-5 py-2 rounded-full font-normal",children:["",r]})]}),u.jsxs("div",{className:"relative",ref:h,children:[u.jsx("div",{className:"h-3 bg-gray-200 rounded-full"}),u.jsx("div",{className:"absolute top-0 h-3 bg-[#5E57AC] rounded-full",style:{left:`${_}%`,right:`${100-P}%`}}),u.jsx("button",{type:"button",className:"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-white border-4 border-[#5E57AC] rounded-full cursor-grab active:cursor-grabbing hover:scale-110 transition-transform shadow-lg focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/30",style:{left:`calc(${_}% - 14px)`},onMouseDown:()=>w("min"),onTouchStart:()=>w("min"),"aria-label":`Minimum value: ${n}`,children:u.jsxs("span",{className:"sr-only",children:["Min: ",n]})}),u.jsx("button",{type:"button",className:"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-white border-4 border-[#5E57AC] rounded-full cursor-grab active:cursor-grabbing hover:scale-110 transition-transform shadow-lg focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/30",style:{left:`calc(${P}% - 14px)`},onMouseDown:()=>w("max"),onTouchStart:()=>w("max"),"aria-label":`Maximum value: ${r}`,children:u.jsxs("span",{className:"sr-only",children:["Max: ",r]})})]}),u.jsxs("div",{className:"flex justify-between items-center mt-3 px-1",children:[u.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["",t]}),u.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["",e]})]})]})]})},xz=({onBack:t,onNext:e,isSubmitting:n=!1})=>{const[r,s]=T.useState(50),[i,o]=T.useState(300),a=(c,d)=>{s(c),o(d)},l=()=>{e({minBudget:r,maxBudget:i})};return u.jsxs("div",{className:"flex flex-col h-full py-4",children:[u.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:u.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 6"})}),u.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{minHeight:0},children:u.jsx(n1,{label:"Budget Range",min:10,max:500,minValue:r,maxValue:i,onChange:a})}),u.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[u.jsx(yt,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,disabled:n,className:"!font-normal",children:"Back"}),u.jsx(yt,{fullWidth:!0,size:"large",variant:"cta",onClick:l,disabled:n,className:"!font-normal",children:n?u.jsxs("span",{className:"flex items-center justify-center gap-2",children:[u.jsx(wF,{className:"animate-spin",size:20}),"Finding perfect gifts..."]}):" Show Gift Ideas "})]})]})},wz=[0,1],GN=({open:t,onOpenChange:e,title:n="Add Person",children:r,snapPoints:s=wz,initialSnap:i=1,onComplete:o})=>{const a=T.useRef(null),l=ln.useMemo(()=>{var h;if(typeof window>"u")return"90vh";const c=(h=window.visualViewport)!=null&&h.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(c*.9+12)}px`},[t]);return T.useEffect(()=>{if(t){const c=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=c,document.body.classList.remove("sheet-open")}}},[t]),u.jsx(u.Fragment,{children:u.jsxs(xt,{ref:a,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[u.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${l} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[u.jsx(xt.Header,{children:u.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:u.jsx(xt.DragIndicator,{style:{display:"none"}})}),u.jsx("h2",{className:"m-0 text-xl font-bold text-gray-800 select-none",children:n}),u.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:u.jsx(Zu,{size:24,className:"text-gray-600"})})]})}),u.jsx(xt.Content,{style:{padding:"0 24px 24px 24px",paddingBottom:"calc(36px + env(safe-area-inset-bottom))",display:"flex",flexDirection:"column",flex:1,minHeight:0,overflow:"hidden"},children:r??u.jsx(bz,{onClose:()=>e(!1),onComplete:o})})]}),t&&u.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"env(safe-area-inset-bottom)",background:"#ff0000",pointerEvents:"none",zIndex:999999}}),u.jsx(xt.Backdrop,{onTap:()=>e(!1)})]})})},bz=({onClose:t,onComplete:e})=>{const n=Qo(),[r,s]=T.useState(1),[i,o]=T.useState(!1),[a,l]=T.useState({}),c=C=>{const V={...a,relationship:C.relationship};V.name||(C.relationship==="mother"?V.name="Mum":C.relationship==="father"&&(V.name="Dad")),l(V),C.relationship==="mother"||C.relationship==="father"?s(3):s(2)},d=()=>s(1),h=C=>{l({...a,...C}),s(3)},m=()=>{a.relationship==="mother"||a.relationship==="father"?s(1):s(2)},p=C=>{l({...a,...C}),s(4)},w=()=>s(3),_=C=>{l({...a,interests:C.interests}),s(5)},P=()=>s(4),v=C=>{l({...a,...C}),s(6)},y=()=>s(5),E=async C=>{const V={...a,...C};console.log("All data collected:",V),o(!0);try{const x=se=>`15/03/${new Date().getFullYear()-se}`,S=se=>{const we={xs:"XS",small:"S",s:"S",medium:"M",m:"M",large:"L",l:"L",xlarge:"XL",xl:"XL",xxlarge:"XXL",xxl:"XXL","not-sure":"M"},ge=se.toLowerCase().trim();return we[ge]||"M"};let A;V.dob?A=V.dob:V.age!==void 0?A=x(V.age):A=x(30);const I=V.interests&&V.interests.length>0?V.interests:["General"],R=Ph(I),M={context:{name:V.name||"Friend",relationship:V.relationship?V.relationship.charAt(0).toUpperCase()+V.relationship.slice(1).toLowerCase():"Friend",gender:(V.gender||"male").toLowerCase(),dob:A,interests:R,budget_min:V.minBudget||10,budget_max:V.maxBudget||110,other:{clothing_size:S(V.clothingSize||"medium"),favourite_drink:(V.favouriteDrink||"beer").toLowerCase()}}},H=new URLSearchParams(window.location.search).get("client_origin"),J=new URLSearchParams;H&&J.append("client_origin",H);const z=qa(),q=ka("/recommend",J),L=Mc(z||void 0);console.log("Making API call to:",q),console.log("Request headers:",L),console.log("Request body:",M),console.log("Mode:",z);const O=await Ur(q,{method:"POST",headers:L,body:JSON.stringify(M)},"POST /recommend");if(!O.ok)throw new Error(`HTTP error! status: ${O.status}`);const K=await O.json();console.log("API Response:",K);const Z=K.recommendation_id||`person-${Date.now()}`;try{const se={id:Z,name:V.name||"Friend",relationship:V.relationship,gender:V.gender,interests:V.interests||[],minBudget:V.minBudget,maxBudget:V.maxBudget,createdAt:Date.now()},we=localStorage.getItem("saved_persons"),ge=we?JSON.parse(we):[];if(ge.push(se),localStorage.setItem("saved_persons",JSON.stringify(ge)),K.products&&K.products.length>0){const Ee="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",ke=K.products.map(ve=>{const bt=ve.asin||`ai-${ve.rank||Math.random().toString(36).substr(2,9)}`,zn=ve.product_title||`Product ${ve.rank||"Unknown"}`,dn=ve.product_photo||`https://storage.googleapis.com/simplysent-product-images/${bt}/t_${bt}_1.png`;let ze=0;if(ve.price_numeric!==void 0&&ve.price_numeric!==null)ze=typeof ve.price_numeric=="number"?ve.price_numeric:parseFloat(String(ve.price_numeric))||0;else if(ve.product_price){const Ut=String(ve.product_price).replace(/[$,]/g,"");ze=parseFloat(Ut)||0}let et;if(ve.rating_numeric!==void 0&&ve.rating_numeric!==null){const Ut=typeof ve.rating_numeric=="number"?ve.rating_numeric:parseFloat(String(ve.rating_numeric));!isNaN(Ut)&&Ut>0&&Ut<=5&&(et=Ut)}const Ae=ve.num_ratings_numeric!==void 0&&ve.num_ratings_numeric!==null?typeof ve.num_ratings_numeric=="number"?ve.num_ratings_numeric:parseInt(String(ve.num_ratings_numeric))||0:ve.product_num_ratings||0;return{id:bt,image:dn,name:zn,price:ze,rating:et,numRatings:Ae,description:Ee}}),De="person_page_ai_picks_cache";try{localStorage.setItem(De,JSON.stringify({products:ke,timestamp:Date.now(),recommendationId:K.recommendation_id,personId:Z})),console.log(" ActionPersonSheet: Saved AI picks to cache for PersonPage")}catch(ve){console.warn(" ActionPersonSheet: Error saving to cache:",ve)}}window.dispatchEvent(new CustomEvent("person-added",{detail:se}))}catch(se){console.warn("Failed to save person:",se)}t(),e?e():n("/")}catch(x){console.error("Error calling /recommend:",x),alert("Failed to get recommendations. Please try again."),o(!1)}};if(r===1)return u.jsx(dz,{onNext:c});if(r===2)return u.jsx(mz,{onBack:d,onNext:h,relationship:a.relationship});if(r===3)return u.jsx(gz,{onBack:m,onNext:p});const j=()=>{if(a.age!==void 0)return a.age;if(a.dob){const C=a.dob.split("/");if(C.length===3){const V=parseInt(C[0]),x=parseInt(C[1])-1,S=parseInt(C[2]);try{const A=new Date(S,x,V),I=new Date;let R=I.getFullYear()-A.getFullYear();const M=I.getMonth()-A.getMonth();return(M<0||M===0&&I.getDate()<A.getDate())&&R--,R>=0&&R<=120?R:void 0}catch{return}}}};return r===4?u.jsx(yz,{onBack:w,onNext:_,relationship:a.relationship,age:j(),gender:a.gender}):r===5?u.jsx(vz,{onBack:P,onNext:v}):r===6?u.jsx(xz,{onBack:y,onNext:E,isSubmitting:i}):null};function Sz(){const t=Qo(),[e,n]=T.useState(!1),r=()=>{sessionStorage.setItem("navigating_from_onboarding","true"),t("/person"),setTimeout(()=>{n(!1)},100)};return u.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center px-6 pt-12 pb-8 relative overflow-hidden",children:[u.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[u.jsx(pe.div,{animate:{background:["linear-gradient(135deg, #f7f6fe 0%, #f1eefe 50%, #faf9ff 100%)","linear-gradient(225deg, #faf9ff 0%, #f1eefe 50%, #f7f6fe 100%)","linear-gradient(135deg, #f7f6fe 0%, #f1eefe 50%, #faf9ff 100%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0"}),u.jsx(pe.div,{animate:{x:["0%","20%","0%"],y:["0%","30%","0%"],scale:[1,1.2,1]},transition:{duration:12,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-96 h-96 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(133, 64, 222, 0.4) 0%, transparent 70%)"}}),u.jsx(pe.div,{animate:{x:["100%","80%","100%"],y:["100%","70%","100%"],scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-0 right-0 w-96 h-96 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(197, 85, 151, 0.4) 0%, transparent 70%)"}}),u.jsx("div",{className:"absolute inset-0 opacity-[0.12]",style:{backgroundImage:`
                            repeating-linear-gradient(45deg, transparent, transparent 40px, rgba(94, 87, 172, 0.04) 40px, rgba(94, 87, 172, 0.04) 80px),
                            repeating-linear-gradient(-45deg, transparent, transparent 40px, rgba(122, 88, 158, 0.04) 40px, rgba(122, 88, 158, 0.04) 80px),
                            radial-gradient(circle at 20% 30%, rgba(133, 64, 222, 0.1) 0%, transparent 50%),
                            radial-gradient(circle at 80% 70%, rgba(197, 85, 151, 0.1) 0%, transparent 50%)
                        `}}),u.jsx(pe.div,{animate:{opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-full h-1/3",style:{background:"linear-gradient(to bottom, rgba(133, 64, 222, 0.15) 0%, rgba(122, 88, 158, 0.1) 50%, transparent 100%)"}}),u.jsx(pe.div,{animate:{opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-0 right-0 w-full h-1/3",style:{background:"linear-gradient(to top, rgba(197, 85, 151, 0.15) 0%, rgba(171, 86, 154, 0.1) 50%, transparent 100%)"}})]}),u.jsx("div",{className:"w-full max-w-7xl flex flex-col items-center relative z-10",children:u.jsxs("div",{className:"w-full flex flex-col items-center gap-6 md:gap-8 pt-8 md:pt-12",children:[u.jsx(pe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-4 md:mb-6",children:u.jsx("h1",{className:"font-notch font-bold text-3xl md:text-4xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent tracking-tight drop-shadow-sm",children:"SimplySent"})}),u.jsx(pe.div,{initial:{opacity:0,scale:.8,y:30},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"relative flex items-center justify-center",children:u.jsx("img",{src:"/img/gifs/gift.gif",alt:"Gift animation",className:"w-56 md:w-72 h-auto"})}),u.jsxs(pe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},className:"flex flex-col items-center space-y-8 max-w-2xl text-center pt-2 md:pt-4",children:[u.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-headline font-medium leading-tight relative",children:u.jsx("span",{className:"relative z-10",style:{color:"#5E57AC",textShadow:"0 2px 8px rgba(94, 87, 172, 0.15), 0 4px 16px rgba(122, 88, 158, 0.1)"},children:"Find the perfect gift in 3 minutes"})}),u.jsx(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"pt-2",children:u.jsxs(pe.button,{onClick:()=>n(!0),whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(133, 64, 222, 0.4)"},whileTap:{scale:.95,boxShadow:"0 10px 25px rgba(133, 64, 222, 0.3)"},className:"relative px-12 py-4 md:px-16 md:py-5 rounded-full font-medium text-lg md:text-xl text-white overflow-hidden group transition-all duration-300",style:{boxShadow:"0 15px 40px rgba(133, 64, 222, 0.3)"},children:[u.jsx(pe.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(135deg, #8540de 0%, #7a589e 33%, #ab569a 66%, #c55597 100%)",backgroundSize:"200% 200%"}}),u.jsx(pe.div,{animate:{backgroundPosition:["100% 50%","0% 50%","100% 50%"]},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full opacity-80",style:{background:"linear-gradient(225deg, #c55597 0%, #ab569a 33%, #7a589e 66%, #8540de 100%)",backgroundSize:"200% 200%"}}),u.jsx(pe.div,{animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-12"}),u.jsx("span",{className:"relative z-10 font-normal",children:"Lets impress"}),u.jsx(pe.div,{initial:{opacity:0},whileTap:{opacity:1},className:"absolute inset-0 rounded-full bg-black/20"})]})})]})]})}),u.jsx(GN,{open:e,onOpenChange:n,title:"Add Person",onComplete:r})]})}function Ez(){return T.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[u.jsxs(Dv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[u.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"About SimplySent"}),u.jsxs("div",{className:"prose max-w-none",children:[u.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Welcome to SimplySent, where finding the perfect gift becomes a delightful experience rather than a stressful task."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Mission"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"At SimplySent, we believe that the perfect gift has the power to strengthen relationships and create lasting memories. Our mission is to help you discover thoughtful, personalized gifts for every person in your life, no matter the occasion."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Story"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent was born from a simple frustration: gift-giving should be joyful, not stressful. Our founder spent countless hours searching for the perfect gifts for friends and family, only to end up with generic, uninspired options."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"That's when the idea struckwhat if AI could help match people's unique interests and personalities with truly thoughtful gifts? After months of development, SimplySent launched with a mission to revolutionize how we discover and give gifts."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"How It Works"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Our AI-powered recommendation engine analyzes thousands of products and matches them with the recipient's interests, age, occasion, and your budget. The result? Personalized gift suggestions that feel thoughtful and unique."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"We've carefully curated our product selection to include items from independent creators, popular brands, and everything in between. Each product is vetted for quality, value, and gift-worthiness."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Values"}),u.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Thoughtfulness:"})," We believe gifts should reflect genuine care and consideration."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Simplicity:"})," Finding the perfect gift shouldn't be complicated or time-consuming."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Personalization:"})," The best gifts are tailored to the individual's unique personality and interests."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Quality:"})," We only recommend products we'd be proud to give ourselves."]})]}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Join Us"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Whether you're shopping for a birthday, holiday, or just because, SimplySent is here to make gift-giving a joyful experience. Try our AI Gift Finder today and discover the perfect present for someone special."}),u.jsxs("p",{className:"text-gray-700 mb-4",children:["Have questions or feedback? We'd love to hear from you! Contact us at"," ",u.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}function _z(){return T.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[u.jsxs(Dv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[u.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Privacy Policy"}),u.jsx("p",{className:"text-gray-500 mb-8",children:"Last Updated: June 1, 2023"}),u.jsxs("div",{className:"prose max-w-none",children:[u.jsx("p",{className:"text-gray-700 mb-4",children:"At SimplySent, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our AI Gift Finder service."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Information We Collect"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"We collect information that you voluntarily provide to us when you use our AI Gift Finder, subscribe to our newsletter, or contact us."}),u.jsxs("p",{className:"text-gray-700 mb-4",children:[u.jsx("strong",{children:"Personal Data:"})," When using our AI Gift Finder, we may ask for information about gift recipients, such as their age, interests, and preferences. This information is used solely to provide personalized gift recommendations."]}),u.jsxs("p",{className:"text-gray-700 mb-4",children:[u.jsx("strong",{children:"Usage Data:"})," We may also collect information on how the website is accessed and used. This usage data may include information such as your computer's IP address, browser type, browser version, the pages of our website that you visit, the time and date of your visit, the time spent on those pages, and other diagnostic data."]}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"How We Use Your Information"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"We use the information we collect in various ways, including to:"}),u.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[u.jsx("li",{children:"Provide, operate, and maintain our website"}),u.jsx("li",{children:"Generate personalized gift recommendations"}),u.jsx("li",{children:"Improve, personalize, and expand our website and services"}),u.jsx("li",{children:"Understand and analyze how you use our website"}),u.jsx("li",{children:"Develop new products, services, features, and functionality"}),u.jsx("li",{children:"Communicate with you about updates, promotions, and news"}),u.jsx("li",{children:"Send you emails and newsletters if you've subscribed"}),u.jsx("li",{children:"Find and prevent fraud"})]}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Cookies and Tracking Technologies"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"We use cookies and similar tracking technologies to track activity on our website and store certain information. Cookies are files with a small amount of data which may include an anonymous unique identifier."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our website."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Third-Party Disclosure"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"We do not sell, trade, or otherwise transfer your personally identifiable information to outside parties except as described below:"}),u.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Service Providers:"})," We may share your information with third-party vendors, service providers, and other third parties who perform services on our behalf."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Business Transfers:"})," If SimplySent is involved in a merger, acquisition, or sale of assets, your information may be transferred as part of that transaction."]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Legal Requirements:"})," We may disclose your information if required to do so by law or in response to valid requests by public authorities."]})]}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Your Rights"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),u.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[u.jsx("li",{children:"The right to access the personal information we hold about you"}),u.jsx("li",{children:"The right to request correction of inaccurate information"}),u.jsx("li",{children:"The right to request deletion of your personal information"}),u.jsx("li",{children:"The right to restrict or object to processing of your personal information"}),u.jsx("li",{children:"The right to data portability"})]}),u.jsxs("p",{className:"text-gray-700 mb-4",children:["To exercise any of these rights, please contact us at"," ",u.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Changes to This Privacy Policy"}),u.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date at the top of this page.'}),u.jsx("p",{className:"text-gray-700 mb-4",children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Contact Us"}),u.jsxs("p",{className:"text-gray-700 mb-4",children:["If you have any questions about this Privacy Policy, please contact us at"," ",u.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}function Tz(){return T.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[u.jsxs(Dv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[u.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms of Service"}),u.jsx("p",{className:"text-gray-500 mb-8",children:"Last Updated: June 1, 2023"}),u.jsxs("div",{className:"prose max-w-none",children:[u.jsx("p",{className:"text-gray-700 mb-4",children:'Please read these Terms of Service ("Terms", "Terms of Service") carefully before using the SimplySent website and AI Gift Finder service operated by SimplySent ("us", "we", or "our").'}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms. These Terms apply to all visitors, users, and others who access or use the Service."}),u.jsx("p",{className:"text-gray-700 mb-6",children:"By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms, you may not access the Service."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Use of Service"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent provides an AI-powered gift recommendation service. Our service is designed to help users find appropriate gifts based on information provided about the recipient and occasion."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"You agree to use the Service only for lawful purposes and in accordance with these Terms. You agree not to:"}),u.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[u.jsx("li",{children:"Use the Service in any way that violates any applicable national or international law or regulation"}),u.jsx("li",{children:"Use the Service for the purpose of exploiting, harming, or attempting to exploit or harm minors"}),u.jsx("li",{children:"Attempt to gain unauthorized access to our servers or any part of the Service"}),u.jsx("li",{children:"Interfere with or disrupt the Service or servers or networks connected to the Service"}),u.jsx("li",{children:"Collect or track the personal information of others"}),u.jsx("li",{children:"Impersonate or attempt to impersonate SimplySent, a SimplySent employee, another user, or any other person or entity"}),u.jsx("li",{children:"Engage in any other conduct that restricts or inhibits anyone's use or enjoyment of the Service"})]}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Affiliate Disclosure"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent is a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for sites to earn advertising fees by advertising and linking to Amazon.com."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"As an Amazon Associate, we earn from qualifying purchases. This means that when you click on links to products on Amazon from our website and make a purchase, we receive a small commission at no additional cost to you."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"We only recommend products that we believe will be of value to our users. However, we cannot guarantee that all products will meet your expectations or needs."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Intellectual Property"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"The Service and its original content, features, and functionality are and will remain the exclusive property of SimplySent and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of SimplySent."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Limitation of Liability"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"In no event shall SimplySent, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from:"}),u.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[u.jsx("li",{children:"Your access to or use of or inability to access or use the Service"}),u.jsx("li",{children:"Any conduct or content of any third party on the Service"}),u.jsx("li",{children:"Any content obtained from the Service"}),u.jsx("li",{children:"Unauthorized access, use or alteration of your transmissions or content"}),u.jsx("li",{children:"The quality, appropriateness, or satisfaction with products purchased based on our recommendations"})]}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Disclaimer"}),u.jsx("p",{className:"text-gray-700 mb-4",children:'Your use of the Service is at your sole risk. The Service is provided on an "AS IS" and "AS AVAILABLE" basis. The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement, or course of performance.'}),u.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent does not warrant that the Service will be uninterrupted, timely, secure, or error-free, or that any defects will be corrected. We do not warrant that the results that may be obtained from the use of the Service will be accurate or reliable."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Changes"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will try to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"By continuing to access or use our Service after those revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, please stop using the Service."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Governing Law"}),u.jsx("p",{className:"text-gray-700 mb-4",children:"These Terms shall be governed and construed in accordance with the laws of the United Kingdom, without regard to its conflict of law provisions."}),u.jsx("p",{className:"text-gray-700 mb-4",children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect."}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Contact Us"}),u.jsxs("p",{className:"text-gray-700 mb-4",children:["If you have any questions about these Terms, please contact us at"," ",u.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function Yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Pz(t){if(Array.isArray(t))return t}function Az(t){if(Array.isArray(t))return Yy(t)}function Cz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YN(r.key),r)}}function kz(t,e,n){return e&&Iz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kf(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r1(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function Me(t,e,n){return(e=YN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function Rz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vm(t,e){return Pz(t)||jz(t,e)||r1(t,e)||Rz()}function Yr(t){return Az(t)||Nz(t)||r1(t)||Dz()}function Mz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YN(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function r1(t,e){if(t){if(typeof t=="string")return Yy(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yy(t,e):void 0}}var BE=function(){},s1={},XN={},QN=null,JN={mark:BE,measure:BE};try{typeof window<"u"&&(s1=window),typeof document<"u"&&(XN=document),typeof MutationObserver<"u"&&(QN=MutationObserver),typeof performance<"u"&&(JN=performance)}catch{}var Vz=s1.navigator||{},zE=Vz.userAgent,UE=zE===void 0?"":zE,Fi=s1,ht=XN,HE=QN,Jd=JN;Fi.document;var Zs=!!ht.documentElement&&!!ht.head&&typeof ht.addEventListener=="function"&&typeof ht.createElement=="function",ZN=~UE.indexOf("MSIE")||~UE.indexOf("Trident/"),Gp,Lz=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Oz=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,e4={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Fz={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},t4=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],wn="classic",od="duotone",n4="sharp",r4="sharp-duotone",s4="chisel",i4="etch",o4="jelly",a4="jelly-duo",l4="jelly-fill",c4="notdog",u4="notdog-duo",d4="slab",f4="slab-press",h4="thumbprint",m4="utility",p4="utility-duo",g4="utility-fill",y4="whiteboard",$z="Classic",Bz="Duotone",zz="Sharp",Uz="Sharp Duotone",Hz="Chisel",Wz="Etch",qz="Jelly",Kz="Jelly Duo",Gz="Jelly Fill",Yz="Notdog",Xz="Notdog Duo",Qz="Slab",Jz="Slab Press",Zz="Thumbprint",eU="Utility",tU="Utility Duo",nU="Utility Fill",rU="Whiteboard",v4=[wn,od,n4,r4,s4,i4,o4,a4,l4,c4,u4,d4,f4,h4,m4,p4,g4,y4];Gp={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(Gp,wn,$z),od,Bz),n4,zz),r4,Uz),s4,Hz),i4,Wz),o4,qz),a4,Kz),l4,Gz),c4,Yz),Me(Me(Me(Me(Me(Me(Me(Me(Gp,u4,Xz),d4,Qz),f4,Jz),h4,Zz),m4,eU),p4,tU),g4,nU),y4,rU);var sU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},iU={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},oU=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),aU={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},x4=["fak","fa-kit","fakd","fa-kit-duotone"],WE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},lU=["kit"],cU="kit",uU="kit-duotone",dU="Kit",fU="Kit Duotone";Me(Me({},cU,dU),uU,fU);var hU={kit:{"fa-kit":"fak"}},mU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},pU={kit:{fak:"fa-kit"}},qE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Yp,Zd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},gU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],yU="classic",vU="duotone",xU="sharp",wU="sharp-duotone",bU="chisel",SU="etch",EU="jelly",_U="jelly-duo",TU="jelly-fill",PU="notdog",AU="notdog-duo",CU="slab",IU="slab-press",kU="thumbprint",NU="utility",jU="utility-duo",RU="utility-fill",DU="whiteboard",MU="Classic",VU="Duotone",LU="Sharp",OU="Sharp Duotone",FU="Chisel",$U="Etch",BU="Jelly",zU="Jelly Duo",UU="Jelly Fill",HU="Notdog",WU="Notdog Duo",qU="Slab",KU="Slab Press",GU="Thumbprint",YU="Utility",XU="Utility Duo",QU="Utility Fill",JU="Whiteboard";Yp={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(Yp,yU,MU),vU,VU),xU,LU),wU,OU),bU,FU),SU,$U),EU,BU),_U,zU),TU,UU),PU,HU),Me(Me(Me(Me(Me(Me(Me(Me(Yp,AU,WU),CU,qU),IU,KU),kU,GU),NU,YU),jU,XU),RU,QU),DU,JU);var ZU="kit",eH="kit-duotone",tH="Kit",nH="Kit Duotone";Me(Me({},ZU,tH),eH,nH);var rH={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},sH={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Xy={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},iH=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],w4=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(gU,iH),oH=["solid","regular","light","thin","duotone","brands","semibold"],b4=[1,2,3,4,5,6,7,8,9,10],aH=b4.concat([11,12,13,14,15,16,17,18,19,20]),lH=["aw","fw","pull-left","pull-right"],cH=[].concat(Yr(Object.keys(sH)),oH,lH,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Zd.GROUP,Zd.SWAP_OPACITY,Zd.PRIMARY,Zd.SECONDARY]).concat(b4.map(function(t){return"".concat(t,"x")})).concat(aH.map(function(t){return"w-".concat(t)})),uH={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Ks="___FONT_AWESOME___",Qy=16,S4="fa",E4="svg-inline--fa",Uo="data-fa-i2svg",Jy="data-fa-pseudo-element",dH="data-fa-pseudo-element-pending",i1="data-prefix",o1="data-icon",KE="fontawesome-i2svg",fH="async",hH=["HTML","HEAD","STYLE","SCRIPT"],_4=["::before","::after",":before",":after"],T4=function(){try{return!0}catch{return!1}}();function ad(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[wn]}})}var P4=ie({},e4);P4[wn]=ie(ie(ie(ie({},{"fa-duotone":"duotone"}),e4[wn]),WE.kit),WE["kit-duotone"]);var mH=ad(P4),Zy=ie({},aU);Zy[wn]=ie(ie(ie(ie({},{duotone:"fad"}),Zy[wn]),qE.kit),qE["kit-duotone"]);var GE=ad(Zy),e0=ie({},Xy);e0[wn]=ie(ie({},e0[wn]),pU.kit);var a1=ad(e0),t0=ie({},rH);t0[wn]=ie(ie({},t0[wn]),hU.kit);ad(t0);var pH=Lz,A4="fa-layers-text",gH=Oz,yH=ie({},sU);ad(yH);var vH=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Xp=Fz,xH=[].concat(Yr(lU),Yr(cH)),Hc=Fi.FontAwesomeConfig||{};function wH(t){var e=ht.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function bH(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(ht&&typeof ht.querySelector=="function"){var SH=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];SH.forEach(function(t){var e=vm(t,2),n=e[0],r=e[1],s=bH(wH(n));s!=null&&(Hc[r]=s)})}var C4={styleDefault:"solid",familyDefault:wn,cssPrefix:S4,replacementClass:E4,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Hc.familyPrefix&&(Hc.cssPrefix=Hc.familyPrefix);var gl=ie(ie({},C4),Hc);gl.autoReplaceSvg||(gl.observeMutations=!1);var be={};Object.keys(C4).forEach(function(t){Object.defineProperty(be,t,{enumerable:!0,set:function(n){gl[t]=n,Wc.forEach(function(r){return r(be)})},get:function(){return gl[t]}})});Object.defineProperty(be,"familyPrefix",{enumerable:!0,set:function(e){gl.cssPrefix=e,Wc.forEach(function(n){return n(be)})},get:function(){return gl.cssPrefix}});Fi.FontAwesomeConfig=be;var Wc=[];function EH(t){return Wc.push(t),function(){Wc.splice(Wc.indexOf(t),1)}}var sa=Qy,as={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function _H(t){if(!(!t||!Zs)){var e=ht.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=ht.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return ht.head.insertBefore(e,r),t}}var TH="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function YE(){for(var t=12,e="";t-- >0;)e+=TH[Math.random()*62|0];return e}function Dl(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function l1(t){return t.classList?Dl(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function I4(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function PH(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(I4(t[n]),'" ')},"").trim()}function xm(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function c1(t){return t.size!==as.size||t.x!==as.x||t.y!==as.y||t.rotate!==as.rotate||t.flipX||t.flipY}function AH(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(a)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:c}}function CH(t){var e=t.transform,n=t.width,r=n===void 0?Qy:n,s=t.height,i=s===void 0?Qy:s,o="";return ZN?o+="translate(".concat(e.x/sa-r/2,"em, ").concat(e.y/sa-i/2,"em) "):o+="translate(calc(-50% + ".concat(e.x/sa,"em), calc(-50% + ").concat(e.y/sa,"em)) "),o+="scale(".concat(e.size/sa*(e.flipX?-1:1),", ").concat(e.size/sa*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var IH=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function k4(){var t=S4,e=E4,n=be.cssPrefix,r=be.replacementClass,s=IH;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return s}var XE=!1;function Qp(){be.autoAddCss&&!XE&&(_H(k4()),XE=!0)}var kH={mixout:function(){return{dom:{css:k4,insertCss:Qp}}},hooks:function(){return{beforeDOMElementCreation:function(){Qp()},beforeI2svg:function(){Qp()}}}},Gs=Fi||{};Gs[Ks]||(Gs[Ks]={});Gs[Ks].styles||(Gs[Ks].styles={});Gs[Ks].hooks||(Gs[Ks].hooks={});Gs[Ks].shims||(Gs[Ks].shims=[]);var Hr=Gs[Ks],N4=[],j4=function(){ht.removeEventListener("DOMContentLoaded",j4),Ih=1,N4.map(function(e){return e()})},Ih=!1;Zs&&(Ih=(ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ht.readyState),Ih||ht.addEventListener("DOMContentLoaded",j4));function NH(t){Zs&&(Ih?setTimeout(t,0):N4.push(t))}function ld(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?I4(t):"<".concat(e," ").concat(PH(r),">").concat(i.map(ld).join(""),"</").concat(e,">")}function QE(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Jp=function(e,n,r,s){var i=Object.keys(e),o=i.length,a=n,l,c,d;for(r===void 0?(l=1,d=e[i[0]]):(l=0,d=r);l<o;l++)c=i[l],d=a(d,e[c],c,e);return d};function R4(t){return Yr(t).length!==1?null:t.codePointAt(0).toString(16)}function JE(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function n0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=JE(e);typeof Hr.hooks.addPack=="function"&&!s?Hr.hooks.addPack(t,JE(e)):Hr.styles[t]=ie(ie({},Hr.styles[t]||{}),i),t==="fas"&&n0("fa",e)}var Du=Hr.styles,jH=Hr.shims,D4=Object.keys(a1),RH=D4.reduce(function(t,e){return t[e]=Object.keys(a1[e]),t},{}),u1=null,M4={},V4={},L4={},O4={},F4={};function DH(t){return~xH.indexOf(t)}function MH(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!DH(s)?s:null}var $4=function(){var e=function(i){return Jp(Du,function(o,a,l){return o[l]=Jp(a,i,{}),o},{})};M4=e(function(s,i,o){if(i[3]&&(s[i[3]]=o),i[2]){var a=i[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),V4=e(function(s,i,o){if(s[o]=o,i[2]){var a=i[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),F4=e(function(s,i,o){var a=i[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in Du||be.autoFetchSvg,r=Jp(jH,function(s,i){var o=i[0],a=i[1],l=i[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});L4=r.names,O4=r.unicodes,u1=wm(be.styleDefault,{family:be.familyDefault})};EH(function(t){u1=wm(t.styleDefault,{family:be.familyDefault})});$4();function d1(t,e){return(M4[t]||{})[e]}function VH(t,e){return(V4[t]||{})[e]}function To(t,e){return(F4[t]||{})[e]}function B4(t){return L4[t]||{prefix:null,iconName:null}}function LH(t){var e=O4[t],n=d1("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function $i(){return u1}var z4=function(){return{prefix:null,iconName:null,rest:[]}};function OH(t){var e=wn,n=D4.reduce(function(r,s){return r[s]="".concat(be.cssPrefix,"-").concat(s),r},{});return v4.forEach(function(r){(t.includes(n[r])||t.some(function(s){return RH[r].includes(s)}))&&(e=r)}),e}function wm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?wn:n,s=mH[r][t];if(r===od&&!t)return"fad";var i=GE[r][t]||GE[r][s],o=t in Hr.styles?t:null,a=i||o||null;return a}function FH(t){var e=[],n=null;return t.forEach(function(r){var s=MH(be.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function ZE(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var e_=w4.concat(x4);function bm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=ZE(t.filter(function(p){return e_.includes(p)})),o=ZE(t.filter(function(p){return!e_.includes(p)})),a=i.filter(function(p){return s=p,!t4.includes(p)}),l=vm(a,1),c=l[0],d=c===void 0?null:c,h=OH(i),m=ie(ie({},FH(o)),{},{prefix:wm(d,{family:h})});return ie(ie(ie({},m),UH({values:t,family:h,styles:Du,config:be,canonical:m,givenPrefix:s})),$H(r,s,m))}function $H(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?B4(s):{},o=To(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!Du.far&&Du.fas&&!be.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var BH=v4.filter(function(t){return t!==wn||t!==od}),zH=Object.keys(Xy).filter(function(t){return t!==wn}).map(function(t){return Object.keys(Xy[t])}).flat();function UH(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,o=t.styles,a=o===void 0?{}:o,l=t.config,c=l===void 0?{}:l,d=n===od,h=e.includes("fa-duotone")||e.includes("fad"),m=c.familyDefault==="duotone",p=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(h||m||p)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&BH.includes(n)){var w=Object.keys(a).find(function(P){return zH.includes(P)});if(w||c.autoFetchSvg){var _=oU.get(n).defaultShortPrefixId;r.prefix=_,r.iconName=To(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=$i()||"fas"),r}var HH=function(){function t(){Cz(this,t),this.definitions={}}return kz(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=ie(ie({},n.definitions[a]||{}),o[a]),n0(a,o[a]);var l=a1[wn][a];l&&n0(l,o[a]),$4()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var o=s[i],a=o.prefix,l=o.iconName,c=o.icon,d=c[2];n[a]||(n[a]={}),d.length>0&&d.forEach(function(h){typeof h=="string"&&(n[a][h]=c)}),n[a][l]=c}),n}}])}(),t_=[],La={},Ga={},WH=Object.keys(Ga);function qH(t,e){var n=e.mixoutsTo;return t_=t,La={},Object.keys(Ga).forEach(function(r){WH.indexOf(r)===-1&&delete Ga[r]}),t_.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),Ch(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(o){La[o]||(La[o]=[]),La[o].push(i[o])})}r.provides&&r.provides(Ga)}),n}function r0(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=La[t]||[];return i.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Ho(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=La[t]||[];s.forEach(function(i){i.apply(null,n)})}function Bi(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ga[t]?Ga[t].apply(null,e):void 0}function s0(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||$i();if(e)return e=To(n,e)||e,QE(U4.definitions,n,e)||QE(Hr.styles,n,e)}var U4=new HH,KH=function(){be.autoReplaceSvg=!1,be.observeMutations=!1,Ho("noAuto")},GH={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Zs?(Ho("beforeI2svg",e),Bi("pseudoElements2svg",e),Bi("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;be.autoReplaceSvg===!1&&(be.autoReplaceSvg=!0),be.observeMutations=!0,NH(function(){XH({autoReplaceSvgRoot:n}),Ho("watch",e)})}},YH={icon:function(e){if(e===null)return null;if(Ch(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:To(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=wm(e[0]);return{prefix:r,iconName:To(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(be.cssPrefix,"-"))>-1||e.match(pH))){var s=bm(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||$i(),iconName:To(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=$i();return{prefix:i,iconName:To(i,e)||e}}}},gr={noAuto:KH,config:be,dom:GH,parse:YH,library:U4,findIconDefinition:s0,toHtml:ld},XH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?ht:n;(Object.keys(Hr.styles).length>0||be.autoFetchSvg)&&Zs&&be.autoReplaceSvg&&gr.dom.i2svg({node:r})};function Sm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return ld(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Zs){var r=ht.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function QH(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,o=t.transform;if(c1(o)&&n.found&&!r.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};s.style=xm(ie(ie({},i),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function JH(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,o=i===!0?"".concat(e,"-").concat(be.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},s),{},{id:o}),children:r}]}]}function ZH(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function f1(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,o=t.transform,a=t.symbol,l=t.maskId,c=t.extra,d=t.watchable,h=d===void 0?!1:d,m=r.found?r:n,p=m.width,w=m.height,_=[be.replacementClass,i?"".concat(be.cssPrefix,"-").concat(i):""].filter(function(C){return c.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(c.classes).join(" "),P={children:[],attributes:ie(ie({},c.attributes),{},{"data-prefix":s,"data-icon":i,class:_,role:c.attributes.role||"img",viewBox:"0 0 ".concat(p," ").concat(w)})};!ZH(c.attributes)&&!c.attributes["aria-hidden"]&&(P.attributes["aria-hidden"]="true"),h&&(P.attributes[Uo]="");var v=ie(ie({},P),{},{prefix:s,iconName:i,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:ie({},c.styles)}),y=r.found&&n.found?Bi("generateAbstractMask",v)||{children:[],attributes:{}}:Bi("generateAbstractIcon",v)||{children:[],attributes:{}},E=y.children,j=y.attributes;return v.children=E,v.attributes=j,a?JH(v):QH(v)}function n_(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,o=t.watchable,a=o===void 0?!1:o,l=ie(ie({},i.attributes),{},{class:i.classes.join(" ")});a&&(l[Uo]="");var c=ie({},i.styles);c1(s)&&(c.transform=CH({transform:s,width:n,height:r}),c["-webkit-transform"]=c.transform);var d=xm(c);d.length>0&&(l.style=d);var h=[];return h.push({tag:"span",attributes:l,children:[e]}),h}function eW(t){var e=t.content,n=t.extra,r=ie(ie({},n.attributes),{},{class:n.classes.join(" ")}),s=xm(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var Zp=Hr.styles;function i0(t){var e=t[0],n=t[1],r=t.slice(4),s=vm(r,1),i=s[0],o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(be.cssPrefix,"-").concat(Xp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(Xp.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(Xp.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:o}}var tW={found:!1,width:512,height:512};function nW(t,e){!T4&&!be.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function o0(t,e){var n=e;return e==="fa"&&be.styleDefault!==null&&(e=$i()),new Promise(function(r,s){if(n==="fa"){var i=B4(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Zp[e]&&Zp[e][t]){var o=Zp[e][t];return r(i0(o))}nW(t,e),r(ie(ie({},tW),{},{icon:be.showMissingIcons&&t?Bi("missingIconAbstract")||{}:{}}))})}var r_=function(){},a0=be.measurePerformance&&Jd&&Jd.mark&&Jd.measure?Jd:{mark:r_,measure:r_},vc='FA "7.1.0"',rW=function(e){return a0.mark("".concat(vc," ").concat(e," begins")),function(){return H4(e)}},H4=function(e){a0.mark("".concat(vc," ").concat(e," ends")),a0.measure("".concat(vc," ").concat(e),"".concat(vc," ").concat(e," begins"),"".concat(vc," ").concat(e," ends"))},h1={begin:rW,end:H4},Nf=function(){};function s_(t){var e=t.getAttribute?t.getAttribute(Uo):null;return typeof e=="string"}function sW(t){var e=t.getAttribute?t.getAttribute(i1):null,n=t.getAttribute?t.getAttribute(o1):null;return e&&n}function iW(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(be.replacementClass)}function oW(){if(be.autoReplaceSvg===!0)return jf.replace;var t=jf[be.autoReplaceSvg];return t||jf.replace}function aW(t){return ht.createElementNS("http://www.w3.org/2000/svg",t)}function lW(t){return ht.createElement(t)}function W4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?aW:lW:n;if(typeof t=="string")return ht.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){s.setAttribute(o,t.attributes[o])});var i=t.children||[];return i.forEach(function(o){s.appendChild(W4(o,{ceFn:r}))}),s}function cW(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var jf={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(W4(s),n)}),n.getAttribute(Uo)===null&&be.keepOriginalSource){var r=ht.createComment(cW(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~l1(n).indexOf(be.replacementClass))return jf.replace(e);var s=new RegExp("".concat(be.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(a,l){return l===be.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var o=r.map(function(a){return ld(a)}).join(`
`);n.setAttribute(Uo,""),n.innerHTML=o}};function i_(t){t()}function q4(t,e){var n=typeof e=="function"?e:Nf;if(t.length===0)n();else{var r=i_;be.mutateApproach===fH&&(r=Fi.requestAnimationFrame||i_),r(function(){var s=oW(),i=h1.begin("mutate");t.map(s),i(),n()})}}var m1=!1;function K4(){m1=!0}function l0(){m1=!1}var kh=null;function o_(t){if(HE&&be.observeMutations){var e=t.treeCallback,n=e===void 0?Nf:e,r=t.nodeCallback,s=r===void 0?Nf:r,i=t.pseudoElementsCallback,o=i===void 0?Nf:i,a=t.observeMutationsRoot,l=a===void 0?ht:a;kh=new HE(function(c){if(!m1){var d=$i();Dl(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!s_(h.addedNodes[0])&&(be.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&be.searchPseudoElements&&o([h.target],!0),h.type==="attributes"&&s_(h.target)&&~vH.indexOf(h.attributeName))if(h.attributeName==="class"&&sW(h.target)){var m=bm(l1(h.target)),p=m.prefix,w=m.iconName;h.target.setAttribute(i1,p||d),w&&h.target.setAttribute(o1,w)}else iW(h.target)&&s(h.target)})}}),Zs&&kh.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function uW(){kh&&kh.disconnect()}function dW(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),o=i[0],a=i.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function fW(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=bm(l1(t));return s.prefix||(s.prefix=$i()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=VH(s.prefix,t.innerText)||d1(s.prefix,R4(t.innerText))),!s.iconName&&be.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function hW(t){var e=Dl(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function mW(){return{iconName:null,prefix:null,transform:as,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function a_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=fW(t),r=n.iconName,s=n.prefix,i=n.rest,o=hW(t),a=r0("parseNodeAttributes",{},t),l=e.styleParser?dW(t):[];return ie({iconName:r,prefix:s,transform:as,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:o}},a)}var pW=Hr.styles;function G4(t){var e=be.autoReplaceSvg==="nest"?a_(t,{styleParser:!1}):a_(t);return~e.extra.classes.indexOf(A4)?Bi("generateLayersText",t,e):Bi("generateSvgReplacementMutation",t,e)}function gW(){return[].concat(Yr(x4),Yr(w4))}function l_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Zs)return Promise.resolve();var n=ht.documentElement.classList,r=function(h){return n.add("".concat(KE,"-").concat(h))},s=function(h){return n.remove("".concat(KE,"-").concat(h))},i=be.autoFetchSvg?gW():t4.concat(Object.keys(pW));i.includes("fa")||i.push("fa");var o=[".".concat(A4,":not([").concat(Uo,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Uo,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Dl(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),s("complete");else return Promise.resolve();var l=h1.begin("onTree"),c=a.reduce(function(d,h){try{var m=G4(h);m&&d.push(m)}catch(p){T4||p.name==="MissingIcon"&&console.error(p)}return d},[]);return new Promise(function(d,h){Promise.all(c).then(function(m){q4(m,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),d()})}).catch(function(m){l(),h(m)})})}function yW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;G4(t).then(function(n){n&&q4([n],e)})}function vW(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:s0(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:s0(s||{})),t(r,ie(ie({},n),{},{mask:s}))}}var xW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?as:r,i=n.symbol,o=i===void 0?!1:i,a=n.mask,l=a===void 0?null:a,c=n.maskId,d=c===void 0?null:c,h=n.classes,m=h===void 0?[]:h,p=n.attributes,w=p===void 0?{}:p,_=n.styles,P=_===void 0?{}:_;if(e){var v=e.prefix,y=e.iconName,E=e.icon;return Sm(ie({type:"icon"},e),function(){return Ho("beforeDOMElementCreation",{iconDefinition:e,params:n}),f1({icons:{main:i0(E),mask:l?i0(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:y,transform:ie(ie({},as),s),symbol:o,maskId:d,extra:{attributes:w,styles:P,classes:m}})})}},wW={mixout:function(){return{icon:vW(xW)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=l_,n.nodeCallback=yW,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?ht:r,i=n.callback,o=i===void 0?function(){}:i;return l_(s,o)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,o=r.transform,a=r.symbol,l=r.mask,c=r.maskId,d=r.extra;return new Promise(function(h,m){Promise.all([o0(s,i),l.iconName?o0(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(p){var w=vm(p,2),_=w[0],P=w[1];h([n,f1({icons:{main:_,mask:P},prefix:i,iconName:s,transform:o,symbol:a,maskId:c,extra:d,watchable:!0})])}).catch(m)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,o=n.transform,a=n.styles,l=xm(a);l.length>0&&(s.style=l);var c;return c1(o)&&(c=Bi("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),r.push(c||i.icon),{children:r,attributes:s}}}},bW={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return Sm({type:"layer"},function(){Ho("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(be.cssPrefix,"-layers")].concat(Yr(i)).join(" ")},children:o}]})}}}},SW={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,o=r.attributes,a=o===void 0?{}:o,l=r.styles,c=l===void 0?{}:l;return Sm({type:"counter",content:n},function(){return Ho("beforeDOMElementCreation",{content:n,params:r}),eW({content:n.toString(),extra:{attributes:a,styles:c,classes:["".concat(be.cssPrefix,"-layers-counter")].concat(Yr(i))}})})}}}},EW={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?as:s,o=r.classes,a=o===void 0?[]:o,l=r.attributes,c=l===void 0?{}:l,d=r.styles,h=d===void 0?{}:d;return Sm({type:"text",content:n},function(){return Ho("beforeDOMElementCreation",{content:n,params:r}),n_({content:n,transform:ie(ie({},as),i),extra:{attributes:c,styles:h,classes:["".concat(be.cssPrefix,"-layers-text")].concat(Yr(a))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,o=null,a=null;if(ZN){var l=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();o=c.width/l,a=c.height/l}return Promise.resolve([n,n_({content:n.innerHTML,width:o,height:a,transform:s,extra:i,watchable:!0})])}}},Y4=new RegExp('"',"ug"),c_=[1105920,1112319],u_=ie(ie(ie(ie({},{FontAwesome:{normal:"fas",400:"fas"}}),iU),uH),mU),c0=Object.keys(u_).reduce(function(t,e){return t[e.toLowerCase()]=u_[e],t},{}),_W=Object.keys(c0).reduce(function(t,e){var n=c0[e];return t[e]=n[900]||Yr(Object.entries(n))[0][1],t},{});function TW(t){var e=t.replace(Y4,"");return R4(Yr(e)[0]||"")}function PW(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(Y4,""),s=r.codePointAt(0),i=s>=c_[0]&&s<=c_[1],o=r.length===2?r[0]===r[1]:!1;return i||o||e}function AW(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(c0[n]||{})[s]||_W[n]}function d_(t,e){var n="".concat(dH).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=Dl(t.children),o=i.filter(function(V){return V.getAttribute(Jy)===e})[0],a=Fi.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),c=l.match(gH),d=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&h!=="none"&&h!==""){var m=a.getPropertyValue("content"),p=AW(l,d),w=TW(m),_=c[0].startsWith("FontAwesome"),P=PW(a),v=d1(p,w),y=v;if(_){var E=LH(w);E.iconName&&E.prefix&&(v=E.iconName,p=E.prefix)}if(v&&!P&&(!o||o.getAttribute(i1)!==p||o.getAttribute(o1)!==y)){t.setAttribute(n,y),o&&t.removeChild(o);var j=mW(),C=j.extra;C.attributes[Jy]=e,o0(v,p).then(function(V){var x=f1(ie(ie({},j),{},{icons:{main:V,mask:z4()},prefix:p,iconName:y,extra:C,watchable:!0})),S=ht.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(S,t.firstChild):t.appendChild(S),S.outerHTML=x.map(function(A){return ld(A)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function CW(t){return Promise.all([d_(t,"::before"),d_(t,"::after")])}function IW(t){return t.parentNode!==document.head&&!~hH.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Jy)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var kW=function(e){return!!e&&_4.some(function(n){return e.includes(n)})},NW=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(l){return l.trim()});r=r.flatMap(function(l){return l.includes("(")?l:l.split(",").map(function(c){return c.trim()})});var s=kf(r),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;if(kW(o)){var a=_4.reduce(function(l,c){return l.replace(c,"")},o);a!==""&&a!=="*"&&n.add(a)}}}catch(l){s.e(l)}finally{s.f()}return n};function f_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Zs){var n;if(e)n=t;else if(be.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=kf(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;try{var a=kf(o.cssRules),l;try{for(a.s();!(l=a.n()).done;){var c=l.value,d=NW(c.selectorText),h=kf(d),m;try{for(h.s();!(m=h.n()).done;){var p=m.value;r.add(p)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){a.e(_)}finally{a.f()}}catch(_){be.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(_.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(_){s.e(_)}finally{s.f()}if(!r.size)return;var w=Array.from(r).join(", ");try{n=t.querySelectorAll(w)}catch{}}return new Promise(function(_,P){var v=Dl(n).filter(IW).map(CW),y=h1.begin("searchPseudoElements");K4(),Promise.all(v).then(function(){y(),l0(),_()}).catch(function(){y(),l0(),P()})})}}var jW={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=f_,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?ht:r;be.searchPseudoElements&&f_(s)}}},h_=!1,RW={mixout:function(){return{dom:{unwatch:function(){K4(),h_=!0}}}},hooks:function(){return{bootstrap:function(){o_(r0("mutationObserverCallbacks",{}))},noAuto:function(){uW()},watch:function(n){var r=n.observeMutationsRoot;h_?l0():o_(r0("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},m_=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),o=i[0],a=i.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},DW={mixout:function(){return{parse:{transform:function(n){return m_(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=m_(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(d)},m={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:h,path:m};return{tag:"g",attributes:ie({},p.outer),children:[{tag:"g",attributes:ie({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ie(ie({},r.icon.attributes),p.path)}]}]}}}},eg={x:0,y:0,width:"100%",height:"100%"};function p_(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function MW(t){return t.tag==="g"?t.children:[t]}var VW={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?bm(s.split(" ").map(function(o){return o.trim()})):z4();return i.prefix||(i.prefix=$i()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,o=n.mask,a=n.maskId,l=n.transform,c=i.width,d=i.icon,h=o.width,m=o.icon,p=AH({transform:l,containerWidth:h,iconWidth:c}),w={tag:"rect",attributes:ie(ie({},eg),{},{fill:"white"})},_=d.children?{children:d.children.map(p_)}:{},P={tag:"g",attributes:ie({},p.inner),children:[p_(ie({tag:d.tag,attributes:ie(ie({},d.attributes),p.path)},_))]},v={tag:"g",attributes:ie({},p.outer),children:[P]},y="mask-".concat(a||YE()),E="clip-".concat(a||YE()),j={tag:"mask",attributes:ie(ie({},eg),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[w,v]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:MW(m)},j]};return r.push(C,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(y,")")},eg)}),{children:r,attributes:s}}}},LW={provides:function(e){var n=!1;Fi.matchMedia&&(n=Fi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ie(ie({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ie(ie({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ie(ie({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:ie(ie({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ie(ie({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ie(ie({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},OW={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},FW=[kH,wW,bW,SW,EW,jW,RW,DW,VW,LW,OW];qH(FW,{mixoutsTo:gr});gr.noAuto;var Mu=gr.config;gr.library;gr.dom;var X4=gr.parse;gr.findIconDefinition;gr.toHtml;var $W=gr.icon;gr.layer;gr.text;gr.counter;function BW(t){return t=t-0,t===t}function Q4(t){return BW(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function zW(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ia=new Map,UW=1e3;function HW(t){if(ia.has(t))return ia.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,o=t.slice(n,i).trim();if(o){const a=o.indexOf(":");if(a>0){const l=o.slice(0,a).trim(),c=o.slice(a+1).trim();if(l&&c){const d=Q4(l);e[d.startsWith("webkit")?zW(d):d]=c}}}n=i+1}if(ia.size===UW){const s=ia.keys().next().value;s&&ia.delete(s)}return ia.set(t,e),e}function J4(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(c=>J4(t,c)),s=e.attributes||{},i={};for(const[c,d]of Object.entries(s))switch(!0){case c==="class":{i.className=d;break}case c==="style":{i.style=HW(String(d));break}case c.startsWith("aria-"):case c.startsWith("data-"):{i[c.toLowerCase()]=d;break}default:i[Q4(c)]=d}const{style:o,"aria-label":a,...l}=n;return o&&(i.style=i.style?{...i.style,...o}:o),a&&(i["aria-label"]=a,i["aria-hidden"]="false"),t(e.tag,{...l,...i},...r)}var WW=J4.bind(null,ln.createElement),g_=(t,e)=>{const n=T.useId();return t||(e?n:void 0)},qW=class{constructor(e="react-fontawesome"){this.enabled=!1;let n=!1;try{n=typeof process<"u"&&!1}catch{}this.scope=e,this.enabled=n}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}},KW="searchPseudoElementsFullScan"in Mu?"7.0.0":"6.0.0",GW=Number.parseInt(KW)>=7,qc="fa",ws={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},YW={left:"fa-pull-left",right:"fa-pull-right"},XW={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},QW={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},bs={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function JW(t){const e=Mu.cssPrefix||Mu.familyPrefix||qc;return e===qc?t:t.replace(new RegExp(`(?<=^|\\s)${qc}-`,"g"),`${e}-`)}function ZW(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:o,spinPulse:a,spinReverse:l,pulse:c,fixedWidth:d,inverse:h,border:m,flip:p,size:w,rotation:_,pull:P,swapOpacity:v,rotateBy:y,widthAuto:E,className:j}=t,C=[];return j&&C.push(...j.split(" ")),e&&C.push(ws.beat),n&&C.push(ws.fade),r&&C.push(ws.beatFade),s&&C.push(ws.bounce),i&&C.push(ws.shake),o&&C.push(ws.spin),l&&C.push(ws.spinReverse),a&&C.push(ws.spinPulse),c&&C.push(ws.pulse),d&&C.push(bs.fixedWidth),h&&C.push(bs.inverse),m&&C.push(bs.border),p===!0&&C.push(bs.flip),(p==="horizontal"||p==="both")&&C.push(bs.flipHorizontal),(p==="vertical"||p==="both")&&C.push(bs.flipVertical),w!=null&&C.push(QW[w]),_!=null&&_!==0&&C.push(XW[_]),P!=null&&C.push(YW[P]),v&&C.push(bs.swapOpacity),GW?(y&&C.push(bs.rotateBy),E&&C.push(bs.widthAuto),(Mu.cssPrefix||Mu.familyPrefix||qc)===qc?C:C.map(JW)):C}var eq=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function y_(t){if(t)return eq(t)?t:X4.icon(t)}function tq(t){return Object.keys(t)}var v_=new qW("FontAwesomeIcon"),Z4={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},nq=new Set(Object.keys(Z4)),Wt=ln.forwardRef((t,e)=>{const n={...Z4,...t},{icon:r,mask:s,symbol:i,title:o,titleId:a,maskId:l,transform:c}=n,d=g_(l,!!s),h=g_(a,!!o),m=y_(r);if(!m)return v_.error("Icon lookup is undefined",r),null;const p=ZW(n),w=typeof c=="string"?X4.transform(c):c,_=y_(s),P=$W(m,{...p.length>0&&{classes:p},...w&&{transform:w},..._&&{mask:_},symbol:i,title:o,titleId:h,maskId:d});if(!P)return v_.error("Could not find icon",m),null;const{abstract:v}=P,y={ref:e};for(const E of tq(n))nq.has(E)||(y[E]=n[E]);return WW(v[0],y)});Wt.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var ef={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},rq={prefix:"fas",iconName:"gift",icon:[512,512,[127873],"f06b","M321.5 68.8C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40s-17.9 40-40 40l-73.3 0 34.8-59.2zm-131 0l34.8 59.2-73.3 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zm89.6-24.3l-24.1 41-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0c-48.6 0-88 39.4-88 88 0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 32c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-32c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40 0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4zM480 272l-200 0 0 208 136 0c35.3 0 64-28.7 64-64l0-144zm-248 0l-200 0 0 144c0 35.3 28.7 64 64 64l136 0 0-208z"]},sq={prefix:"fas",iconName:"share-nodes",icon:[512,512,["share-alt"],"f1e0","M384 192c53 0 96-43 96-96s-43-96-96-96-96 43-96 96c0 5.4 .5 10.8 1.3 16L159.6 184.1c-16.9-15-39.2-24.1-63.6-24.1-53 0-96 43-96 96s43 96 96 96c24.4 0 46.6-9.1 63.6-24.1L289.3 400c-.9 5.2-1.3 10.5-1.3 16 0 53 43 96 96 96s96-43 96-96-43-96-96-96c-24.4 0-46.6 9.1-63.6 24.1L190.7 272c.9-5.2 1.3-10.5 1.3-16s-.5-10.8-1.3-16l129.7-72.1c16.9 15 39.2 24.1 63.6 24.1z"]},iq={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},oq=iq,aq={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},lq={prefix:"fas",iconName:"golf-ball-tee",icon:[384,512,["golf-ball"],"f450","M298.5 384.1c12.1 1.2 21.5 11.5 21.5 23.9s-9.4 22.6-21.5 23.9l-2.5 .1-80 0 0 88c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-88-80 0c-13.3 0-24-10.7-24-24 0-12.4 9.4-22.6 21.5-23.9l2.5-.1 208 0 2.5 .1zM192 0c106 0 192 86 192 192 0 57.4-25.2 108.8-65.1 144L65.1 336C25.2 300.8 0 249.4 0 192 0 86 86 0 192 0zm32 240c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16zm64-64c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16zm-80-16c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16z"]},cq={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]},x_={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},uq={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 224zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384z"]},dq={prefix:"fas",iconName:"tags",icon:[576,512,[],"f02c","M401.2 39.1L549.4 189.4c27.7 28.1 27.7 73.1 0 101.2L393 448.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L515.3 256.8c9.2-9.3 9.2-24.4 0-33.7L367 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM32.1 229.5L32.1 96c0-35.3 28.7-64 64-64l133.5 0c17 0 33.3 6.7 45.3 18.7l144 144c25 25 25 65.5 0 90.5L285.4 418.7c-25 25-65.5 25-90.5 0l-144-144c-12-12-18.7-28.3-18.7-45.3zm144-85.5a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},fq={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M488 192l-144 0c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l46.7-46.7c-75.3-58.6-184.3-53.3-253.5 15.9-75 75-75 196.5 0 271.5s196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c94.3-94.3 243.7-99.6 344.3-16.2L471 7c6.9-6.9 17.2-8.9 26.2-5.2S512 14.3 512 24l0 144c0 13.3-10.7 24-24 24z"]},hq={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},mq={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c-35.3 0-64 28.7-64 64l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c0 35.3 28.7 64 64 64l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c35.3 0 64-28.7 64-64l40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0c0-35.3-28.7-64-64-64l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40zM160 128l192 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32l0-192c0-17.7 14.3-32 32-32zm16 48l0 160 160 0 0-160-160 0z"]},w_={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};const Po=({id:t,image:e,name:n,price:r,rating:s,numRatings:i,className:o="",badge:a,isFavorite:l,onFavoriteToggle:c,onRemove:d,hideActions:h=!1,compact:m=!1,favouritesVariant:p=!1,onClick:w,isSpecial:_=!1,textColor:P,priceColor:v,isAiPick:y=!1,showWelcomeTrainingAnimation:E=!1,disableRemove:j=!1})=>{const[C,V]=T.useState(!1),[x,S]=T.useState(!1),[A,I]=T.useState(!1),[R,M]=T.useState(!1),[N,H]=T.useState(!1),J=K=>{K.preventDefault(),K.stopPropagation(),!x&&(H(!0),S(!1),V(!C))},z=K=>{if(K.preventDefault(),K.stopPropagation(),C)return;const Z=x;H(!0),S(!x),Z||(V(!1),M(!1),c&&c())},q=(K,Z=20)=>K.length<=Z?K:K.slice(0,Z)+"...";T.useEffect(()=>{if(R&&d&&t&&!j){const K=setTimeout(()=>{d(t)},600);return()=>clearTimeout(K)}},[R,d,t,j]);const L=p?"175px":"260px",O=p?"240px":"180px";return u.jsx("div",{className:`relative transition-all ${R?"duration-700 w-0 min-w-0 opacity-0 scale-75":"duration-300 opacity-100 scale-100"}`,style:R?{transform:"translateY(-100px)",transition:"all 700ms ease-out",marginLeft:p?"-175px":"-260px"}:{width:L,minWidth:L,marginLeft:"0"},children:p?u.jsxs("div",{className:`bg-white rounded-3xl relative flex flex-col ${o} shadow-[0_4px_20px_rgba(0,0,0,0.06)] ${w?"cursor-pointer":""}`,onClick:w,style:{minHeight:O},children:[u.jsx("div",{className:"w-full flex-shrink-0 relative pt-3 px-3",onClick:w,style:{cursor:w?"pointer":"default"},children:u.jsx("div",{className:"w-full rounded-xl overflow-hidden",style:{aspectRatio:"1 / 1"},children:u.jsx("img",{src:e,alt:n,className:"w-full h-full object-contain",style:{pointerEvents:"none"}})})}),a&&u.jsx("div",{className:"absolute top-3 left-3 z-10",children:a}),u.jsxs("div",{className:"flex flex-col flex-grow font-['Stack_Sans'] px-3 pb-3 pt-2",children:[u.jsx("h3",{className:"font-['Stack_Sans'] font-semibold text-gray-600 mb-0 text-sm leading-tight truncate pl-0.5",style:{minHeight:"32px",fontWeight:600},title:n,children:q(n,18)}),u.jsx("div",{className:"flex items-center justify-between -mt-2 pl-0.5",children:u.jsxs("p",{className:"font-normal text-[#816fe8] text-base",children:["",r.toFixed(2)]})})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-full overflow-visible flex-shrink-0 relative z-10 px-4 pt-0",onClick:w,style:{cursor:w?"pointer":"default"},children:u.jsx("div",{className:"w-full rounded-2xl overflow-visible relative",style:m?{aspectRatio:"10 / 8.5"}:{aspectRatio:"1 / 1"},children:u.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:u.jsx("div",{className:"relative w-full h-full",style:{transform:"scale(1.1)"},children:u.jsx("img",{src:e,alt:n,className:"w-full h-full object-contain relative",style:{pointerEvents:"none",zIndex:10}})})})})}),u.jsxs("div",{className:`${y?"bg-gradient-to-br from-purple-50/50 via-white to-purple-100/30":"bg-white"} rounded-3xl relative flex flex-col overflow-hidden ${o} ${m?y?"":"shadow-[0_8px_30px_rgba(0,0,0,0.08)]":y?"":"shadow-[0_10px_40px_rgba(0,0,0,0.1)]"} ${w?"cursor-pointer":""} ${y?m?"animate-purple-glow":"animate-purple-glow-large":""}`,onClick:w,style:{marginTop:"-50%",minHeight:O},children:[y&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-3xl",style:{background:"radial-gradient(circle at center, rgba(122, 117, 186, 0.25) 0%, rgba(95, 89, 166, 0.15) 40%, rgba(122, 117, 186, 0.08) 70%, transparent 100%)",animation:"purple-inner-glow 3s ease-in-out infinite",zIndex:1}}),u.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-3xl",style:{border:"1px solid",borderColor:"rgba(122, 117, 186, 0.2)",zIndex:1}})]}),a&&u.jsx("div",{className:"absolute top-3 left-3 z-10",children:a}),u.jsxs("div",{className:`flex flex-col flex-grow font-['Stack_Sans'] relative z-10 ${m?"px-5 pt-[58%] pb-3":"px-7 pt-[63%] pb-4"}`,children:[u.jsx("h3",{className:`font-['Stack_Sans'] font-semibold text-gray-600 mb-0 truncate ${m?"text-base leading-tight":"text-xl mb-0"}`,style:m?{minHeight:"40px",fontWeight:600}:{fontWeight:600},title:n,children:m?n:q(n,20)}),u.jsx("div",{className:"flex items-center gap-0.5 mb-1 -mt-3",children:[1,2,3,4,5].map(K=>{const se=K<=(s||0);return u.jsx(yh,{size:m?12:14,className:se?"fill-amber-400 text-amber-400":"text-gray-300"},K)})}),!h&&u.jsxs("div",{className:"flex items-end justify-between gap-2 -mt-3 mb-2",children:[u.jsxs("p",{className:`font-light text-[#816fe8] ${m?"text-lg":"text-xl"}`,children:["",r.toFixed(2)]}),u.jsxs("div",{className:"flex items-center gap-4 -ml-3",children:[u.jsx("button",{onClick:z,className:`flex items-center justify-center rounded-2xl transition-all duration-200 hover:scale-110 focus:outline-none active:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 ${E&&!N?"animate-bounce":""}`,style:{padding:m?"12px":"14px",border:"none",outline:"none",boxShadow:"0 4px 12px rgba(100,100,100,0.15)",WebkitTapHighlightColor:"transparent",animationDelay:E?"0s":void 0,animationDuration:E?"1s":void 0,animationIterationCount:E?"infinite":void 0},onFocus:K=>K.target.blur(),onMouseDown:K=>K.preventDefault(),"aria-label":"Thumbs up",children:u.jsx(Ey,{size:m?16:18,className:x?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:x?"currentColor":"none"})}),u.jsx("button",{onClick:J,className:`flex items-center justify-center rounded-2xl transition-all duration-200 hover:scale-110 focus:outline-none active:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 ${E&&!N?"animate-bounce":""}`,style:{padding:m?"12px":"14px",border:"none",outline:"none",boxShadow:"0 4px 12px rgba(100,100,100,0.15)",WebkitTapHighlightColor:"transparent",animationDelay:E?"0.5s":void 0,animationDuration:E?"1s":void 0,animationIterationCount:E?"infinite":void 0},onFocus:K=>K.target.blur(),onMouseDown:K=>K.preventDefault(),"aria-label":"Thumbs down",children:u.jsx(Sy,{size:m?16:18,className:C?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:C?"currentColor":"none"})})]})]})]})]})]})})},pq=({open:t,onOpenChange:e,initialMinBudget:n=50,initialMaxBudget:r=300,onSave:s})=>{const i=T.useRef(null),[o,a]=T.useState(n),[l,c]=T.useState(r);T.useEffect(()=>{a(n),c(r)},[n,r]);const d=ln.useMemo(()=>{var _;if(typeof window>"u")return"50vh";const p=(_=window.visualViewport)!=null&&_.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(p*.5)}px`},[t]);T.useEffect(()=>{if(t){const p=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=p,document.body.classList.remove("sheet-open")}}},[t]);const h=(p,w)=>{a(p),c(w)},m=()=>{s&&s(o,l),e(!1)};return u.jsx(u.Fragment,{children:u.jsxs(xt,{ref:i,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[u.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${d} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[u.jsx(xt.Header,{children:u.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:u.jsx(xt.DragIndicator,{style:{display:"none"}})}),u.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Edit Budget"}),u.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:u.jsx(Zu,{size:24,className:"text-gray-600"})})]})}),u.jsxs(xt.Content,{style:{padding:"24px",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[u.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:u.jsx(n1,{min:10,max:500,minValue:o,maxValue:l,onChange:h,label:"Select your budget range (5 steps)"})}),u.jsx("div",{className:"pt-6 pb-4",children:u.jsx(yt,{onClick:m,variant:"primary",size:"large",fullWidth:!0,className:"!font-normal",children:"Save Budget"})})]})]}),u.jsx(xt.Backdrop,{onTap:()=>e(!1)})]})})},gq=({open:t,onOpenChange:e,initialInterests:n=[],gender:r,onSave:s})=>{const i=T.useRef(null),[o,a]=T.useState(n);T.useEffect(()=>{a(n)},[n]);const l=()=>{const h=[..._s,...is,...ml,...pl];return Array.from(new Map(h.map(p=>[p.value,p])).values())},c=ln.useMemo(()=>{var p;if(typeof window>"u")return"75vh";const h=(p=window.visualViewport)!=null&&p.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(h*.75)}px`},[t]);T.useEffect(()=>{if(t){const h=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=h,document.body.classList.remove("sheet-open")}}},[t]);const d=()=>{s&&s(o),e(!1)};return u.jsx(u.Fragment,{children:u.jsxs(xt,{ref:i,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[u.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${c} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[u.jsx(xt.Header,{children:u.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:u.jsx(xt.DragIndicator,{style:{display:"none"}})}),u.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Edit Interests"}),u.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:u.jsx(Zu,{size:24,className:"text-gray-600"})})]})}),u.jsxs(xt.Content,{style:{padding:"16px 24px",paddingBottom:"calc(80px + env(safe-area-inset-bottom))",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[u.jsx("div",{className:"flex-1 overflow-y-auto",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:u.jsx(Ah,{options:l(),selectedValues:o,onChange:a})}),u.jsx("div",{className:"pt-4 pb-4",children:u.jsx(yt,{onClick:d,variant:"primary",size:"large",fullWidth:!0,className:"!font-normal",children:"Save Interests"})})]})]}),u.jsx(xt.Backdrop,{onTap:()=>e(!1)})]})})},yq="rec_history",b_=()=>{try{const t=localStorage.getItem(yq);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting recommendation history:",t),[]}},S_=t=>{const n=[..._s,...is,...ml,...pl].find(r=>r.value===t);return n?n.label:t.charAt(0).toUpperCase()+t.slice(1).replace(/-/g," ")},E_=t=>{var e;if(t instanceof Error){const n=t;if((e=n.apiMetadata)!=null&&e.response_text)try{const r=JSON.parse(n.apiMetadata.response_text);if(r.error&&typeof r.error=="string")return r.error;if(r.message&&typeof r.message=="string")return r.message}catch{const r=n.apiMetadata.response_text.trim();if(r&&!r.startsWith("<!"))return r}return"Unable to load recommendations. Please try again later."}return"Unable to load recommendations. Please try again later."},tf="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",vq=()=>{var Un,Vt,nn,Sn,ys,vr,er,Lt,Rr,vs,tr,eo;const t=Qo();Xo();const[e,n]=T.useState("gifts"),[r,s]=T.useState(new Set),[i,o]=T.useState(new Set),[a,l]=T.useState(!1),[c,d]=T.useState(!1),[h,m]=T.useState(!1),[p,w]=T.useState(null),[_,P]=T.useState(!1),v=T.useRef(null),[y,E]=T.useState([]),[j,C]=T.useState(!0),[V,x]=T.useState(null),[S,A]=T.useState(!1),[I,R]=T.useState([]),[M,N]=T.useState(null),[H,J]=T.useState([]),[z,q]=T.useState(null),[L,O]=T.useState({}),[K,Z]=T.useState({}),[se,we]=T.useState(0),ge="person_page_ai_picks_cache",Ee="person_page_interest_products_cache",ke="person_page_carousel_scroll",De="person_page_navigated_from_product",ve=T.useRef(null),bt=T.useRef(!1),zn=T.useRef(!1),dn=T.useRef(!1),ze=T.useRef(null),et=T.useRef(null);T.useEffect(()=>{if(!z){C(!1),ze.current=null,dn.current=!1;return}try{const _e=localStorage.getItem(ge);if(_e){const ue=JSON.parse(_e),it=Date.now()-(ue.timestamp||0),He=60*60*1e3,Qe=ue.personId===z;if(Qe&&it<He&&ue.products&&ue.products.length>0){console.log(" PersonPage: Using cached AI picks (from ActionPersonSheet or browser refresh)"),zn.current=!0,ze.current=z;try{const rt=localStorage.getItem("saved_persons"),pt=rt?JSON.parse(rt):[];et.current=`${z}-${pt.length}`}catch{et.current=`${z}-0`}dn.current=!1,E(ue.products),C(!1),x(null);return}else Qe?it>=He&&console.log(" PersonPage: Cache expired, will fetch fresh data"):console.log(` PersonPage: Cache is for different person (cache: ${ue.personId}, selected: ${z}), will fetch fresh data`)}}catch(_e){console.warn(" PersonPage: Error reading cache, fetching fresh data:",_e)}if(!H.find(_e=>_e.id===z)){console.log(" PersonPage: Person not found in savedPersons yet, waiting..."),dn.current=!1;return}const Y=`${z}-${H.length}`;if(et.current===Y){console.log(" PersonPage: Already processed this person with current data, skipping");return}if(dn.current){console.log(" PersonPage: Already fetching, skipping duplicate call");return}if(ze.current===z){console.log(" PersonPage: Already fetched for this person, skipping duplicate call"),et.current=Y;return}if(dn.current=!0,ze.current=z,et.current=Y,!(sessionStorage.getItem(De)==="true"))try{localStorage.removeItem(ke)}catch{}zn.current=!1,(async()=>{if(C(!0),x(null),!yo()&&b_().length===0){C(!1),x("Please fill out the onboarding form or add a person to get recommendations."),E([]);return}try{let ue=null;const it=oe=>`15/03/${new Date().getFullYear()-oe}`,He=oe=>{const ne={small:"S",medium:"M",large:"L",xlarge:"XL",xxlarge:"XXL",s:"S",m:"M",l:"L",xl:"XL",xxl:"XXL"},ye=oe.toLowerCase().trim();return ne[ye]||"M"},Qe=H.find(oe=>oe.id===z);if(Qe)ue={personAge:(Qe.createdAt?Math.floor((Date.now()-Qe.createdAt)/31536e6):30).toString(),gender:Qe.gender||"male",relationship:Qe.relationship||"friend",interests:Qe.interests||[],favoritedrink:"beer",clothesSize:"medium",minBudget:Qe.minBudget||10,maxBudget:Qe.maxBudget||50,name:Qe.name||"Friend"};else{C(!1),x("Please select a person to get recommendations."),E([]);return}const rt=ue.interests&&ue.interests.length>0?ue.interests:["General"],pt=Ph(rt),Hn=parseInt(ue.personAge||"30"),nr=it(Hn),D={context:{name:ue.name||"Friend",relationship:ue.relationship?ue.relationship.charAt(0).toUpperCase()+ue.relationship.slice(1).toLowerCase():"Friend",gender:(ue.gender||"male").toLowerCase(),dob:nr,interests:pt,budget_min:ue.minBudget||10,budget_max:ue.maxBudget||50,other:{clothing_size:He(ue.clothesSize||"medium"),favourite_drink:(ue.favoritedrink||"beer").toLowerCase()}}},B=new URLSearchParams(window.location.search).get("client_origin"),X=new URLSearchParams;B&&X.append("client_origin",B);const te=qa(),fe=ka("/recommend",X),de=Mc(te||void 0);console.log("Making API call to:",fe),console.log("Request headers:",de),console.log("Request body:",D),console.log("Mode:",te);const G=await Ur(fe,{method:"POST",headers:de,body:JSON.stringify(D)},"POST /recommend");if(!G.ok)throw new Error(`HTTP error! status: ${G.status}`);const ce=await G.json();if(ce.products&&ce.products.length>0){const oe=ce.products.map(ne=>{const ye=ne.asin||`ai-${ne.rank||Math.random().toString(36).substr(2,9)}`,Re=ne.product_title||`Product ${ne.rank||"Unknown"}`,ot=ne.product_photo||`https://storage.googleapis.com/simplysent-product-images/${ye}/t_${ye}_1.png`;let Ve=0;if(ne.price_numeric!==void 0&&ne.price_numeric!==null)Ve=typeof ne.price_numeric=="number"?ne.price_numeric:parseFloat(String(ne.price_numeric))||0;else if(ne.product_price){const fn=String(ne.product_price).replace(/[$,]/g,"");Ve=parseFloat(fn)||0}let Le;if(ne.rating_numeric!==void 0&&ne.rating_numeric!==null){const fn=typeof ne.rating_numeric=="number"?ne.rating_numeric:parseFloat(String(ne.rating_numeric));!isNaN(fn)&&fn>0&&fn<=5&&(Le=fn)}const tt=ne.num_ratings_numeric!==void 0&&ne.num_ratings_numeric!==null?typeof ne.num_ratings_numeric=="number"?ne.num_ratings_numeric:parseInt(String(ne.num_ratings_numeric))||0:ne.product_num_ratings||0;return console.log(` Product ${ye}:`,{name:Re,image:ot,price:Ve,rating:Le,numRatings:tt}),{id:ye,image:ot,name:Re,price:Ve,rating:Le,numRatings:tt,description:tf}});console.log(" PersonPage: Transformed products from API:",oe),ze.current=z,et.current=`${z}-${H.length}`;try{localStorage.setItem(ge,JSON.stringify({products:oe,timestamp:Date.now(),recommendationId:ce.recommendation_id,personId:z})),console.log(" PersonPage: Saved AI picks to cache")}catch(ne){console.warn(" PersonPage: Error saving to cache:",ne)}E(oe)}else throw new Error("No product recommendations received")}catch(ue){console.error("Error fetching AI picks:",ue),x(E_(ue)),E([]),et.current=`${z}-${H.length}`}finally{C(!1),A(!1),dn.current=!1}})()},[z,H.length]);const Ae=()=>{A(!0);try{localStorage.removeItem(ge),localStorage.removeItem(Ee),console.log(" PersonPage: Cleared all caches for refresh")}catch(Y){console.warn(" PersonPage: Error clearing cache:",Y)}dn.current=!1,ze.current=null,O({}),Ut.current.clear(),zn.current=!1,we(Y=>Y+1),(async()=>{if(C(!0),x(null),!yo()&&b_().length===0){C(!1),x("Please fill out the onboarding form or add a person to get recommendations."),E([]),A(!1);return}try{let ee=null;const Pe=de=>`15/03/${new Date().getFullYear()-de}`,_e=de=>{const G={small:"S",medium:"M",large:"L",xlarge:"XL",xxlarge:"XXL",s:"S",m:"M",l:"L",xl:"XL",xxl:"XXL"},ce=de.toLowerCase().trim();return G[ce]||"M"},ue=H.find(de=>de.id===z);if(ue)ee={personAge:(ue.createdAt?Math.floor((Date.now()-ue.createdAt)/31536e6):30).toString(),gender:ue.gender||"male",relationship:ue.relationship||"friend",interests:ue.interests||[],favoritedrink:"beer",clothesSize:"medium",minBudget:ue.minBudget||10,maxBudget:ue.maxBudget||50,name:ue.name||"Friend"};else{C(!1),x("Please select a person to get recommendations."),E([]),A(!1);return}const it=ee.interests&&ee.interests.length>0?ee.interests:["General"],He=Ph(it),Qe=parseInt(ee.personAge||"30"),rt=Pe(Qe),pt={context:{name:ee.name||"Friend",relationship:ee.relationship?ee.relationship.charAt(0).toUpperCase()+ee.relationship.slice(1).toLowerCase():"Friend",gender:(ee.gender||"male").toLowerCase(),dob:rt,interests:He,budget_min:ee.minBudget||10,budget_max:ee.maxBudget||50,other:{clothing_size:_e(ee.clothesSize||"medium"),favourite_drink:(ee.favoritedrink||"beer").toLowerCase()}}},nr=new URLSearchParams(window.location.search).get("client_origin"),D=new URLSearchParams;nr&&D.append("client_origin",nr);const F=qa(),B=ka("/recommend",D),X=Mc(F||void 0),te=await Ur(B,{method:"POST",headers:X,body:JSON.stringify(pt)},"POST /recommend");if(!te.ok)throw new Error(`HTTP error! status: ${te.status}`);const fe=await te.json();if(fe.products&&fe.products.length>0){const de=fe.products.map(G=>{const ce=G.asin||`ai-${G.rank||Math.random().toString(36).substr(2,9)}`,oe=G.product_title||`Product ${G.rank||"Unknown"}`,ne=G.product_photo||`https://storage.googleapis.com/simplysent-product-images/${ce}/t_${ce}_1.png`;let ye=0;if(G.price_numeric!==void 0&&G.price_numeric!==null)ye=typeof G.price_numeric=="number"?G.price_numeric:parseFloat(String(G.price_numeric))||0;else if(G.product_price){const Ve=String(G.product_price).replace(/[$,]/g,"");ye=parseFloat(Ve)||0}let Re;if(G.rating_numeric!==void 0&&G.rating_numeric!==null){const Ve=typeof G.rating_numeric=="number"?G.rating_numeric:parseFloat(String(G.rating_numeric));!isNaN(Ve)&&Ve>0&&Ve<=5&&(Re=Ve)}const ot=G.num_ratings_numeric!==void 0&&G.num_ratings_numeric!==null?typeof G.num_ratings_numeric=="number"?G.num_ratings_numeric:parseInt(String(G.num_ratings_numeric))||0:G.product_num_ratings||0;return{id:ce,image:ne,name:oe,price:ye,rating:Re,numRatings:ot,description:tf}});E(de);try{localStorage.setItem(ge,JSON.stringify({products:de,timestamp:Date.now(),recommendationId:fe.recommendation_id,personId:z})),console.log(" PersonPage: Saved AI picks to cache (refresh)")}catch(G){console.warn(" PersonPage: Error saving to cache:",G)}}else throw new Error("No product recommendations received")}catch(ee){console.error("Error fetching AI picks:",ee),x(E_(ee)),E([])}finally{C(!1),A(!1)}})()};T.useEffect(()=>{const Y=!sessionStorage.getItem("persons_cleared_on_app_load"),ee=sessionStorage.getItem("navigating_from_onboarding")==="true";if(Y)try{localStorage.removeItem("saved_persons"),sessionStorage.setItem("persons_cleared_on_app_load","true")}catch(He){console.warn("Error clearing saved persons:",He)}const Pe={current:null};let _e=!1;const ue=()=>{try{const He=localStorage.getItem("saved_persons");if(He){const Qe=JSON.parse(He);if(Qe.length>0)return _e=!0,J(Qe),z||q(Qe[Qe.length-1].id),Pe.current&&(clearTimeout(Pe.current),Pe.current=null),ee&&sessionStorage.removeItem("navigating_from_onboarding"),!0}return _e=!1,!1}catch(He){return console.warn("Error loading saved persons:",He),_e=!1,!1}},it=()=>{console.log("Person added event received"),Pe.current&&(clearTimeout(Pe.current),Pe.current=null),sessionStorage.removeItem("navigating_from_onboarding"),setTimeout(()=>{ue()},100)};return window.addEventListener("person-added",it),ue(),ee&&setTimeout(()=>{sessionStorage.removeItem("navigating_from_onboarding")},1e3),!_e&&!Y&&!ee&&(Pe.current=setTimeout(()=>{const He=localStorage.getItem("saved_persons");(He?JSON.parse(He):[]).length===0?(console.log("No persons found, redirecting to onboarding"),t("/")):(console.log("Persons found after timeout, loading them"),ue()),Pe.current=null},2e3)),()=>{window.removeEventListener("person-added",it),Pe.current&&clearTimeout(Pe.current)}},[t,z]),T.useEffect(()=>{const W=()=>{try{const ee=localStorage.getItem("rapidapi_products");if(ee){const Pe=JSON.parse(ee);Pe.products&&Array.isArray(Pe.products)&&R(Pe.products)}}catch(ee){console.warn("Error loading RapidAPI products:",ee)}};W();const Y=()=>{W()};return window.addEventListener("rapidapi-products-updated",Y),()=>{window.removeEventListener("rapidapi-products-updated",Y)}},[]);const Ut=T.useRef(new Set),tn=T.useMemo(()=>{if(!z)return[];const W=H.find(Y=>Y.id===z);return(W==null?void 0:W.interests)||[]},[z,H]);T.useEffect(()=>{if(!z||tn.length===0)return;const W=async Y=>{if(Ut.current.has(Y)){console.log(` PersonPage: Already fetching products for interest "${Y}", skipping duplicate call`);return}try{const ee=localStorage.getItem(Ee);if(ee){const Pe=JSON.parse(ee),_e=`${z}_${Y}`,ue=Pe[_e];if(ue){const it=Date.now()-(ue.timestamp||0),He=60*60*1e3;if(it<He&&ue.products&&ue.products.length>0)if(ue.products.length<40)console.log(` PersonPage: Cached products for "${Y}" have ${ue.products.length}, fetching fresh`);else{console.log(` PersonPage: Using cached products for interest "${Y}"`),O(Qe=>({...Qe,[Y]:ue.products})),Z(Qe=>({...Qe,[Y]:!1}));return}}}}catch(ee){console.warn(` PersonPage: Error reading cache for interest "${Y}", fetching fresh data:`,ee)}Ut.current.add(Y),Z(ee=>({...ee,[Y]:!0}));try{const ee=new URLSearchParams,Pe=Gy(Y);ee.append("interest",Pe),ee.append("limit","80"),ee.append("offset","0"),ee.append("collection","amazon");const _e=qa(),ue=ka("/products",ee),it=Mc(_e||void 0);console.log(` PersonPage: Fetching products for interest "${Pe}" (normalized from "${Y}") from:`,ue);const He=await Ur(ue,{method:"GET",headers:it},`GET /products?interest=${Pe}`);if(!He.ok){const pt=await He.text();throw console.error(` PersonPage: API error for interest "${Y}":`,He.status,pt),new Error(`HTTP error! status: ${He.status}`)}const rt=(await He.json()).products||[];if(console.log(` PersonPage: Received ${Array.isArray(rt)?rt.length:0} products for interest "${Y}"`),Array.isArray(rt)&&rt.length>0){let Hn=rt.map(D=>{let F=0;if(D.price_numeric!==void 0&&D.price_numeric!==null)F=typeof D.price_numeric=="number"?D.price_numeric:parseFloat(D.price_numeric.toString())||0;else if(D.product_price){const te=D.product_price.toString().replace(/[$,]/g,"");F=parseFloat(te)||0}let B;if(D.rating_numeric!==void 0&&D.rating_numeric!==null){const te=typeof D.rating_numeric=="number"?D.rating_numeric:parseFloat(D.rating_numeric.toString());!isNaN(te)&&te>0&&te<=5&&(B=te)}const X=D.num_ratings_numeric!==void 0&&D.num_ratings_numeric!==null?typeof D.num_ratings_numeric=="number"?D.num_ratings_numeric:parseInt(D.num_ratings_numeric.toString())||0:0;return{id:D.asin||`${Y}-${Math.random().toString(36).substr(2,9)}`,image:D.product_photo||"",name:D.product_title||"Unknown Product",price:F,rating:B,numRatings:X,description:tf}}),nr=80;for(;Hn.length<40&&nr<500;){const D=new URLSearchParams,F=Gy(Y);D.append("interest",F),D.append("limit","80"),D.append("offset",String(nr)),D.append("collection","amazon");try{const B=ka("/products",D),X=await Ur(B,{method:"GET",headers:it},`GET /products?interest=${F}&offset=${nr}`);if(!X.ok)break;const fe=(await X.json()).products||[];if(fe.length===0)break;const de=fe.map(G=>{let ce=0;if(G.price_numeric!==void 0&&G.price_numeric!==null)ce=typeof G.price_numeric=="number"?G.price_numeric:parseFloat(String(G.price_numeric))||0;else if(G.product_price){const ye=String(G.product_price).replace(/[$,]/g,"");ce=parseFloat(ye)||0}let oe;if(G.rating_numeric!==void 0&&G.rating_numeric!==null){const ye=typeof G.rating_numeric=="number"?G.rating_numeric:parseFloat(String(G.rating_numeric));!isNaN(ye)&&ye>0&&ye<=5&&(oe=ye)}const ne=G.num_ratings_numeric!==void 0&&G.num_ratings_numeric!==null?typeof G.num_ratings_numeric=="number"?G.num_ratings_numeric:parseInt(String(G.num_ratings_numeric))||0:0;return{id:G.asin||`${Y}-${Math.random().toString(36).substr(2,9)}`,image:G.product_photo||"",name:G.product_title||"Unknown Product",price:ce,rating:oe,numRatings:ne,description:tf}});if(Hn=[...Hn,...de],Hn.length>=40)break;nr+=80}catch(B){console.warn(` PersonPage: Error fetching additional products for "${Y}":`,B);break}}console.log(` PersonPage: Fetched ${Hn.length} products for interest "${Y}"`),O(D=>({...D,[Y]:Hn}));try{const D=localStorage.getItem(Ee),F=D?JSON.parse(D):{},B=`${z}_${Y}`;F[B]={products:Hn,timestamp:Date.now()},localStorage.setItem(Ee,JSON.stringify(F)),console.log(` PersonPage: Saved products for interest "${Y}" to cache`)}catch(D){console.warn(` PersonPage: Error saving to cache for interest "${Y}":`,D)}}else console.log(` PersonPage: No products returned for interest "${Y}"`),O(pt=>({...pt,[Y]:[]}))}catch(ee){console.error(` PersonPage: Error fetching products for interest "${Y}":`,ee),O(Pe=>({...Pe,[Y]:[]}))}finally{Z(ee=>({...ee,[Y]:!1})),Ut.current.delete(Y)}};tn.forEach(Y=>{const ee=L[Y]||[];(!ee.length||ee.length<40)&&!K[Y]&&!Ut.current.has(Y)&&(console.log(` PersonPage: Refetching "${Y}" - current: ${ee.length}, need: 40`),O(Pe=>{const _e={...Pe};return delete _e[Y],_e}),Ut.current.delete(Y),W(Y))})},[z,tn.join(","),se]);const Xr=T.useMemo(()=>{if(!p)return y;const W=[...y];return p==="highest"?W.sort((Y,ee)=>ee.price-Y.price):W.sort((Y,ee)=>Y.price-ee.price)},[y,p]),gs=T.useMemo(()=>{if(!M)return I;const W=[...I];return M==="highest"?W.sort((Y,ee)=>ee.price-Y.price):W.sort((Y,ee)=>Y.price-ee.price)},[I,M]),St=T.useMemo(()=>{const W={};return Object.keys(L).forEach(Y=>{const ee=[...L[Y]];let Pe=ee;p==="highest"?Pe=ee.sort((_e,ue)=>ue.price-_e.price):p==="lowest"&&(Pe=ee.sort((_e,ue)=>_e.price-ue.price)),W[Y]=Pe.slice(0,40)}),W},[L,p]),Et=T.useMemo(()=>new Set(y.map(W=>W.id)),[y]),Dn=T.useMemo(()=>({"ai-picks":Xr,rapidapi:gs.filter(W=>!Et.has(W.id))}),[Xr,gs,Et]),jr=T.useMemo(()=>Object.values(Dn).flat(),[Dn]),yr=W=>{s(Y=>{const ee=new Set(Y);return ee.has(W)?ee.delete(W):ee.add(W),ee})},Ie=W=>{o(Y=>{const ee=new Set(Y);return ee.add(W),ee})},Ue=W=>{console.log(` PersonPage: handleProductClick called for productId: ${W}`);const Y=ve.current||document.querySelector('[data-carousel="ai-picks"]');if(Y){const ee=Y.scrollLeft;console.log(` PersonPage: Saving scroll position: ${ee}`,{element:Y,scrollLeft:Y.scrollLeft,scrollWidth:Y.scrollWidth,clientWidth:Y.clientWidth});try{localStorage.setItem(ke,ee.toString()),sessionStorage.setItem(De,"true"),console.log(` PersonPage: Saved carousel scroll position: ${ee}`)}catch(Pe){console.warn(" PersonPage: Error saving scroll position:",Pe)}}else console.warn(" PersonPage: Could not find carousel element to save scroll position");t(`/product/${W}`)};return T.useEffect(()=>{const W=Y=>{v.current&&!v.current.contains(Y.target)&&l(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),T.useEffect(()=>{if(c||h||_){const W=document.createElement("div");return W.style.position="fixed",W.style.bottom="0",W.style.left="0",W.style.right="0",W.style.height="34px",W.style.background="#ffffff",W.style.pointerEvents="none",W.style.zIndex="9999999",W.id="sheet-bottom-safe-area",document.body.appendChild(W),()=>{const Y=document.getElementById("sheet-bottom-safe-area");Y&&Y.remove()}}},[c,h,_]),T.useEffect(()=>{jr.length>=2&&s(W=>W.size===0?new Set([jr[0].id,jr[1].id]):W)},[jr]),T.useLayoutEffect(()=>{if(y.length===0||j||bt.current)return;if(!(sessionStorage.getItem(De)==="true")){try{localStorage.removeItem(ke),sessionStorage.removeItem(De)}catch{}bt.current=!1;return}const Y=ve.current;if(Y)try{const ee=localStorage.getItem(ke);if(ee){const Pe=parseInt(ee,10);if(!isNaN(Pe)&&Pe>0){const _e=Y.style.visibility,ue=Y.style.opacity;Y.style.visibility="hidden",Y.style.opacity="0";const it=Y.querySelectorAll("*"),He=[];it.forEach(rt=>{rt instanceof HTMLElement&&(He.push({element:rt,transition:rt.style.transition}),rt.style.transition="none")});const Qe=Y.style.transition;Y.style.transition="none",Y.scrollLeft=Pe,Y.offsetHeight,requestAnimationFrame(()=>{Y.style.visibility=_e||"",Y.style.opacity=ue||"",Y.style.transition=Qe||"",He.forEach(({element:rt,transition:pt})=>{rt.style.transition=pt||""}),sessionStorage.removeItem(De),bt.current=!0})}}}catch(ee){console.warn(" PersonPage: Error restoring scroll:",ee)}},[y,j]),T.useEffect(()=>{zn.current||(bt.current=!1)},[y.length]),u.jsxs("div",{className:"overscroll-contain bg-gradient-to-b from-[#f7f6fe] to-[#f1eefe] min-h-screen",children:[u.jsx("header",{id:"topnav",className:"bg-[#f7f6fe]",style:{paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:u.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[u.jsx("h1",{className:"font-notch font-bold text-2xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent tracking-tight drop-shadow-sm",children:"SimplySent"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"relative",ref:v,children:[u.jsxs("button",{type:"button",onClick:()=>l(!a),id:"person-select-button",className:"inline-flex items-center gap-3 bg-white rounded-full border border-gray-200 px-5 py-2.5 hover:bg-gray-50 transition-colors shadow-[0_8px_30px_rgba(0,0,0,0.08)]","aria-label":"Select person",children:[u.jsx(Wt,{icon:rq,className:"w-6 h-6 text-gray-700"}),u.jsx("span",{className:"font-semibold text-gray-800 text-base",children:z&&((Un=H.find(W=>W.id===z))==null?void 0:Un.name)||"Kevin"})]}),a&&u.jsxs("div",{className:"absolute left-0 mt-2 bg-white rounded-3xl shadow-[0_8px_30px_rgba(0,0,0,0.08)] border border-gray-200 z-50 min-w-[120px] overflow-hidden max-h-[400px] overflow-y-auto",children:[H.map(W=>u.jsx("button",{type:"button",onClick:()=>{q(W.id),l(!1)},className:`block w-full pl-5 pr-4 py-2.5 font-semibold transition-colors text-left text-gray-800 hover:bg-purple-50 ${z===W.id?"bg-purple-50":""}`,children:W.name},W.id)),H.length===0&&u.jsx("div",{className:"px-5 py-2.5 text-sm text-gray-500",children:"No persons added yet"})]})]}),u.jsx("button",{type:"button",onClick:()=>P(!0),id:"add-person-button",className:"flex items-center justify-center w-12 h-12 rounded-full bg-simplysent-purple hover:bg-simplysent-purple-dark transition-colors shadow-[0_8px_30px_rgba(0,0,0,0.08)]","aria-label":"Add person",children:u.jsx(Wt,{icon:cq,className:"w-6 h-6 text-white"})})]})]})}),u.jsx("div",{className:"px-4 pb-4",style:{paddingLeft:"max(1rem, env(safe-area-inset-left))",paddingRight:"max(1rem, env(safe-area-inset-right))",paddingBottom:"calc(env(safe-area-inset-bottom) + 80px)"},children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[e==="gifts"&&u.jsxs("div",{children:[u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex items-center justify-evenly gap-0.5 mb-4 overflow-x-auto no-scrollbar -mx-4 px-2",children:[u.jsxs(yt,{variant:p==="highest"?"primary":"outline",size:"small",onClick:()=>w("highest"),className:"flex items-center justify-center gap-1 !px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Sort by highest price",children:[u.jsx(Wt,{icon:ef,className:"w-2.5 h-2.5"}),u.jsx(Wt,{icon:x_,className:"w-2.5 h-2.5"}),u.jsx("span",{children:"High"})]}),u.jsxs(yt,{variant:p==="lowest"?"primary":"outline",size:"small",onClick:()=>w("lowest"),className:"flex items-center justify-center gap-1 !px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Sort by lowest price",children:[u.jsx(Wt,{icon:ef,className:"w-2.5 h-2.5"}),u.jsx(Wt,{icon:w_,className:"w-2.5 h-2.5"}),u.jsx("span",{children:"Low"})]}),u.jsx(yt,{variant:"outline",size:"small",onClick:()=>d(!0),className:"!px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Edit budget",children:u.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[u.jsx(Wt,{icon:uq,className:"w-2.5 h-2.5"}),u.jsx("span",{children:"Budget"})]})}),u.jsx(yt,{variant:"outline",size:"small",onClick:()=>m(!0),className:"!px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Edit interests",children:u.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[u.jsx(Wt,{icon:dq,className:"w-2.5 h-2.5"}),u.jsx("span",{children:"Interests"})]})})]}),u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-0",children:[u.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:["AI Picks For ",z&&((Vt=H.find(W=>W.id===z))==null?void 0:Vt.name)||"Kevin",yo()&&u.jsxs("span",{className:"ml-2 text-base font-normal text-gray-500",children:["(",((nn=Dn["ai-picks"])==null?void 0:nn.filter(W=>!i.has(W.id)).length)||0,")"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{type:"button",onClick:Ae,disabled:S||j,className:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh recommendations",children:u.jsx(Wt,{icon:fq,className:`w-4 h-4 text-gray-500 ${S?"animate-spin":""}`})})})]}),j?u.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:u.jsxs("div",{className:"text-center px-4",children:[u.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),u.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("svg",{className:"w-8 h-8 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),u.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Loading AI recommendations..."}),u.jsx("p",{className:"text-gray-500 text-sm",children:"Finding the perfect picks for you"})]})}):V?u.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:u.jsxs("div",{className:"text-center px-4 max-w-md",children:[u.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-red-100 to-red-50"}),u.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),u.jsx("p",{className:"text-red-600 font-semibold text-lg mb-2",children:"Unable to load recommendations"}),u.jsx("p",{className:"text-gray-500 text-sm",children:V})]})}):((Sn=Dn["ai-picks"])==null?void 0:Sn.filter(W=>!i.has(W.id)).length)===0?u.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:u.jsxs("div",{className:"text-center px-4",children:[u.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50"}),u.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-simplysent-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]}),u.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Swipe down to generate new recommendations"}),u.jsx("p",{className:"text-gray-500 text-sm",children:"We'll find more great picks for you"})]})}):u.jsx("div",{ref:ve,"data-carousel":"ai-picks",className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-12 mt-[10px]",children:u.jsx("div",{className:"flex gap-4 transition-all duration-700 ease-out",children:(ys=Dn["ai-picks"])==null?void 0:ys.filter(W=>!i.has(W.id)).map((W,Y)=>u.jsx("div",{className:"flex-shrink-0 w-[260px] transition-all duration-700 ease-out",style:{animation:`fadeInSlide 0.6s ease-out ${Y*.05}s both`},children:u.jsx(Po,{id:W.id,image:W.image,name:W.name,price:W.price,rating:W.rating,numRatings:W.numRatings,compact:!0,isAiPick:!0,isFavorite:r.has(W.id),onFavoriteToggle:()=>yr(W.id),onRemove:Ie,onClick:()=>Ue(W.id)})},W.id))})})]}),z&&((vr=H.find(W=>W.id===z))==null?void 0:vr.interests.map(W=>{const Y=St[W]||[];if((K[W]||!1)&&Y.length===0)return u.jsxs("div",{className:"mt-[10px]",children:[u.jsx("div",{className:"flex items-center gap-3 mb-0",children:u.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:[S_(W),yo()&&u.jsx("span",{className:"ml-2 text-base font-normal text-gray-500",children:"(loading...)"})]})}),u.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"200px"},children:u.jsx("div",{className:"text-center px-4",children:u.jsxs("div",{className:"relative mx-auto mb-4 w-12 h-12",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),u.jsx("div",{className:"absolute inset-1 rounded-full bg-white"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("svg",{className:"w-6 h-6 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})})]},W);if(Y.filter(ue=>!i.has(ue.id)).length===0)return null;const _e=Y.filter(ue=>!i.has(ue.id)).length;return u.jsxs("div",{className:"mt-[10px]",children:[u.jsx("div",{className:"flex items-center gap-3 mb-0",children:u.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:[S_(W),yo()&&u.jsxs("span",{className:"ml-2 text-base font-normal text-gray-500",children:["(",_e,")"]})]})}),u.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-8 mt-[10px]",children:u.jsx("div",{className:"flex gap-4 transition-all duration-1000",children:Y.filter(ue=>!i.has(ue.id)).map(ue=>u.jsx("div",{className:"flex-shrink-0 w-[260px]",children:u.jsx(Po,{id:ue.id,image:ue.image,name:ue.name,price:ue.price,rating:ue.rating,numRatings:ue.numRatings,compact:!0,className:"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",isFavorite:r.has(ue.id),onFavoriteToggle:()=>yr(ue.id),onRemove:Ie,onClick:()=>Ue(ue.id)})},ue.id))})})]},W)})),I.length>0&&u.jsxs("div",{className:"mt-[10px]",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-0",children:[u.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"From RapidAPI"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(yt,{variant:M==="highest"?"primary":"outline",size:"small",onClick:()=>N("highest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap border-gray-300","aria-label":"Sort by highest price",children:[u.jsx(Wt,{icon:ef,className:"w-2.5 h-2.5"}),u.jsx(Wt,{icon:x_,className:"w-2.5 h-2.5"}),u.jsx("span",{children:"High"})]}),u.jsxs(yt,{variant:M==="lowest"?"primary":"outline",size:"small",onClick:()=>N("lowest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap border-gray-300","aria-label":"Sort by lowest price",children:[u.jsx(Wt,{icon:ef,className:"w-2.5 h-2.5"}),u.jsx(Wt,{icon:w_,className:"w-2.5 h-2.5"}),u.jsx("span",{children:"Low"})]})]})]}),((er=Dn.rapidapi)==null?void 0:er.filter(W=>!i.has(W.id)).length)===0?u.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("p",{className:"text-gray-400 text-lg font-medium",children:"No more recommendations here."}),u.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for new picks!"})]})}):u.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-8 mt-[10px]",children:u.jsx("div",{className:"flex gap-4 transition-all duration-1000",children:(Lt=Dn.rapidapi)==null?void 0:Lt.filter(W=>!i.has(W.id)).map(W=>u.jsx("div",{className:"flex-shrink-0 w-[260px]",children:u.jsx(Po,{id:W.id,image:W.image,name:W.name,price:W.price,rating:W.rating,numRatings:W.numRatings,compact:!0,className:"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",isFavorite:r.has(W.id),onFavoriteToggle:()=>yr(W.id),onRemove:Ie})},W.id))})})]})]}),e==="favourites"&&u.jsxs("div",{children:[u.jsx("div",{className:"mt-6",children:u.jsx("div",{className:"flex items-center gap-3 mb-0",children:u.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"Favourites"})})}),Array.from(r).length===0?u.jsx("div",{className:"mt-6",children:u.jsx("p",{className:"text-center text-gray-600",children:"No favourites yet. Tap the heart on any product to add it here."})}):u.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3 sm:gap-4",children:jr.filter(W=>r.has(W.id)).map(W=>{const Y=y.some(ee=>ee.id===W.id);return u.jsx("div",{className:"flex justify-center w-full",children:u.jsx(Po,{id:W.id,image:W.image,name:W.name,price:W.price,rating:W.rating,numRatings:W.numRatings,isFavorite:!0,onFavoriteToggle:()=>yr(W.id),hideActions:!0,favouritesVariant:!0,onClick:Y?()=>Ue(W.id):void 0})},W.id)})})]}),e==="share"&&u.jsxs("div",{children:[u.jsx("div",{className:"mt-6",children:u.jsx("div",{className:"flex items-center gap-3 mb-0",children:u.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"Share"})})}),u.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[u.jsxs("div",{className:"w-full max-w-xl flex items-center gap-3 bg-white rounded-xl border-2 border-gray-200 p-3",children:[u.jsx("input",{value:"https://simplysent.co/1234",readOnly:!0,className:"flex-1 bg-transparent outline-none text-gray-800"}),u.jsx(yt,{size:"small",onClick:()=>navigator.clipboard.writeText("https://simplysent.co/1234"),variant:"secondary",children:"Copy"})]}),u.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Share this link with friends and family"})]})]})]})}),u.jsx(pq,{open:c,onOpenChange:d,initialMinBudget:z&&((Rr=H.find(W=>W.id===z))==null?void 0:Rr.minBudget)||50,initialMaxBudget:z&&((vs=H.find(W=>W.id===z))==null?void 0:vs.maxBudget)||300,onSave:(W,Y)=>{if(z){const ee=H.map(Pe=>Pe.id===z?{...Pe,minBudget:W,maxBudget:Y}:Pe);J(ee),localStorage.setItem("saved_persons",JSON.stringify(ee)),Ae()}}}),u.jsx(gq,{open:h,onOpenChange:m,initialInterests:z?((tr=H.find(W=>W.id===z))==null?void 0:tr.interests)||[]:[],gender:z?(eo=H.find(W=>W.id===z))==null?void 0:eo.gender:void 0,onSave:W=>{if(z){const Y=H.map(ee=>ee.id===z?{...ee,interests:W}:ee);J(Y),localStorage.setItem("saved_persons",JSON.stringify(Y));try{localStorage.removeItem(Ee)}catch(ee){console.warn("Error clearing interest products cache:",ee)}O({}),Ut.current.clear(),we(ee=>ee+1),Ae()}}}),u.jsx("div",{id:"floating-nav",className:`fixed inset-x-0 z-40 transition-opacity duration-300 ${c||h?"opacity-0 pointer-events-none":"opacity-100"}`,style:{bottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:u.jsx("div",{className:"w-full flex justify-center",children:u.jsxs("div",{className:"relative inline-flex items-center bg-white/95 backdrop-blur-lg rounded-full border border-gray-200 p-1.5 shadow-lg overflow-hidden will-change-transform gap-1.5",children:[u.jsx("div",{className:"absolute rounded-full transition-transform duration-300 ease-[cubic-bezier(.32,.72,.33,.99)] pointer-events-none",style:{width:"60px",height:"60px",left:"4px",top:"50%",transform:`translateY(-50%) translateX(${e==="gifts"?0:e==="favourites"?62:124}px)`},children:u.jsx("div",{className:"w-full h-full bg-simplysent-purple rounded-full shadow-md"})}),u.jsx("button",{type:"button",onMouseDown:W=>W.preventDefault(),onClick:()=>n("gifts"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="gifts"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:u.jsx(Wt,{icon:oq,size:"lg"})}),u.jsx("button",{type:"button",onMouseDown:W=>W.preventDefault(),onClick:()=>n("favourites"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="favourites"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:u.jsx(Wt,{icon:aq,size:"lg"})}),u.jsx("button",{type:"button",onMouseDown:W=>W.preventDefault(),onClick:()=>n("share"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="share"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:u.jsx(Wt,{icon:sq,size:"lg"})})]})})}),u.jsx(GN,{open:_,onOpenChange:P,title:"Add Person"})]})},xq="modulepreload",wq=function(t){return"/"+t},__={},bq=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=wq(l),l in __)return;__[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":xq,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Sq=()=>{};var T_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Eq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},tj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(n[d],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ej(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Eq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new _q;const m=i<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tq=function(t){const e=ej(t);return tj.encodeByteArray(e,!0)},Nh=function(t){return Tq(t).replace(/\./g,"")},Pq=function(t){try{return tj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=()=>Aq().__FIREBASE_DEFAULTS__,Iq=()=>{if(typeof process>"u"||typeof T_>"u")return;const t=T_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pq(t[1]);return e&&JSON.parse(e)},p1=()=>{try{return Sq()||Cq()||Iq()||kq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nq=t=>{var e,n;return(n=(e=p1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},jq=t=>{const e=Nq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nj=()=>{var t;return(t=p1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dq(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Nh(JSON.stringify(n)),Nh(JSON.stringify(o)),""].join(".")}const Kc={};function Vq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kc))Kc[e]?t.emulator.push(e):t.prod.push(e);return t}function Lq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let P_=!1;function Oq(t,e){if(typeof window>"u"||typeof document>"u"||!g1(window.location.host)||Kc[t]===e||Kc[t]||P_)return;Kc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Vq().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{P_=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=Lq(r),p=n("text"),w=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),P=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),d(P,_);const j=c();l(y,v),E.append(y,w,P,j),document.body.appendChild(E)}i?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $q(){var e;const t=(e=p1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bq(){return!$q()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zq(){try{return typeof indexedDB=="object"}catch{return!1}}function Uq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq="FirebaseError";class Ml extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hq,Object.setPrototypeOf(this,Ml.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rj.prototype.create)}}class rj{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Wq(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ml(s,a,r)}}function Wq(t,e){return t.replace(qq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const qq=/\{\$([^}]+)}/g;function jh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(A_(i)&&A_(o)){if(!jh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function A_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t){return t&&t._delegate?t._delegate:t}class Vu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Rq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xq(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yq(t){return t===mo?void 0:t}function Xq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Gq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const Jq={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},Zq=Ke.INFO,eK={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},tK=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=eK[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sj{constructor(e){this.name=e,this._logLevel=Zq,this._logHandler=tK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const nK=(t,e)=>e.some(n=>t instanceof n);let C_,I_;function rK(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sK(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ij=new WeakMap,u0=new WeakMap,oj=new WeakMap,tg=new WeakMap,y1=new WeakMap;function iK(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ki(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ij.set(n,t)}).catch(()=>{}),y1.set(e,t),e}function oK(t){if(u0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});u0.set(t,e)}let d0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aK(t){d0=t(d0)}function lK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return oj.set(r,e.sort?e.sort():[e]),ki(r)}:sK().includes(t)?function(...e){return t.apply(ng(this),e),ki(ij.get(this))}:function(...e){return ki(t.apply(ng(this),e))}}function cK(t){return typeof t=="function"?lK(t):(t instanceof IDBTransaction&&oK(t),nK(t,rK())?new Proxy(t,d0):t)}function ki(t){if(t instanceof IDBRequest)return iK(t);if(tg.has(t))return tg.get(t);const e=cK(t);return e!==t&&(tg.set(t,e),y1.set(e,t)),e}const ng=t=>y1.get(t);function uK(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ki(o.result),l.oldVersion,l.newVersion,ki(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const dK=["get","getKey","getAll","getAllKeys","count"],fK=["put","add","delete","clear"],rg=new Map;function k_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=fK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||dK.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return rg.set(e,i),i}aK(t=>({...t,get:(e,n,r)=>k_(e,n)||t.get(e,n,r),has:(e,n)=>!!k_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const f0="@firebase/app",N_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new sj("@firebase/app"),pK="@firebase/app-compat",gK="@firebase/analytics-compat",yK="@firebase/analytics",vK="@firebase/app-check-compat",xK="@firebase/app-check",wK="@firebase/auth",bK="@firebase/auth-compat",SK="@firebase/database",EK="@firebase/data-connect",_K="@firebase/database-compat",TK="@firebase/functions",PK="@firebase/functions-compat",AK="@firebase/installations",CK="@firebase/installations-compat",IK="@firebase/messaging",kK="@firebase/messaging-compat",NK="@firebase/performance",jK="@firebase/performance-compat",RK="@firebase/remote-config",DK="@firebase/remote-config-compat",MK="@firebase/storage",VK="@firebase/storage-compat",LK="@firebase/firestore",OK="@firebase/ai",FK="@firebase/firestore-compat",$K="firebase",BK="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="[DEFAULT]",zK={[f0]:"fire-core",[pK]:"fire-core-compat",[yK]:"fire-analytics",[gK]:"fire-analytics-compat",[xK]:"fire-app-check",[vK]:"fire-app-check-compat",[wK]:"fire-auth",[bK]:"fire-auth-compat",[SK]:"fire-rtdb",[EK]:"fire-data-connect",[_K]:"fire-rtdb-compat",[TK]:"fire-fn",[PK]:"fire-fn-compat",[AK]:"fire-iid",[CK]:"fire-iid-compat",[IK]:"fire-fcm",[kK]:"fire-fcm-compat",[NK]:"fire-perf",[jK]:"fire-perf-compat",[RK]:"fire-rc",[DK]:"fire-rc-compat",[MK]:"fire-gcs",[VK]:"fire-gcs-compat",[LK]:"fire-fst",[FK]:"fire-fst-compat",[OK]:"fire-vertex","fire-js":"fire-js",[$K]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Map,UK=new Map,m0=new Map;function j_(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rh(t){const e=t.name;if(m0.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;m0.set(e,t);for(const n of Lu.values())j_(n,t);for(const n of UK.values())j_(n,t);return!0}function HK(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function WK(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new rj("app","Firebase",qK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=BK;function aj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:h0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ni.create("bad-app-name",{appName:String(s)});if(n||(n=nj()),!n)throw Ni.create("no-options");const i=Lu.get(s);if(i){if(jh(n,i.options)&&jh(r,i.config))return i;throw Ni.create("duplicate-app",{appName:s})}const o=new Qq(s);for(const l of m0.values())o.addComponent(l);const a=new KK(n,r,o);return Lu.set(s,a),a}function YK(t=h0){const e=Lu.get(t);if(!e&&t===h0&&nj())return aj();if(!e)throw Ni.create("no-app",{appName:t});return e}function XK(){return Array.from(Lu.values())}function Ya(t,e,n){let r=zK[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(o.join(" "));return}Rh(new Vu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QK="firebase-heartbeat-database",JK=1,Ou="firebase-heartbeat-store";let sg=null;function lj(){return sg||(sg=uK(QK,JK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),sg}async function ZK(t){try{const n=(await lj()).transaction(Ou),r=await n.objectStore(Ou).get(cj(t));return await n.done,r}catch(e){if(e instanceof Ml)Ys.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ys.warn(n.message)}}}async function R_(t,e){try{const r=(await lj()).transaction(Ou,"readwrite");await r.objectStore(Ou).put(e,cj(t)),await r.done}catch(n){if(n instanceof Ml)Ys.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ys.warn(r.message)}}}function cj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eG=1024,tG=30;class nG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>tG){const o=iG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ys.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D_(),{heartbeatsToSend:r,unsentEntries:s}=rG(this._heartbeatsCache.heartbeats),i=Nh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ys.warn(n),""}}}function D_(){return new Date().toISOString().substring(0,10)}function rG(t,e=eG){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),M_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),M_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zq()?Uq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return R_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function M_(t){return Nh(JSON.stringify({version:2,heartbeats:t})).length}function iG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t){Rh(new Vu("platform-logger",e=>new hK(e),"PRIVATE")),Rh(new Vu("heartbeat",e=>new nG(e),"PRIVATE")),Ya(f0,N_,t),Ya(f0,N_,"esm2020"),Ya("fire-js","")}oG("");var aG="firebase",lG="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ya(aG,lG,"app");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ji,uj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function A(){}A.prototype=S.prototype,x.F=S.prototype,x.prototype=new A,x.prototype.constructor=x,x.D=function(I,R,M){for(var N=Array(arguments.length-2),H=2;H<arguments.length;H++)N[H-2]=arguments[H];return S.prototype[R].apply(I,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,S,A){A||(A=0);const I=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)I[R]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(R=0;R<16;++R)I[R]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=x.g[0],A=x.g[1],R=x.g[2];let M=x.g[3],N;N=S+(M^A&(R^M))+I[0]+3614090360&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[1]+3905402710&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[2]+606105819&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[3]+3250441966&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(M^A&(R^M))+I[4]+4118548399&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[5]+1200080426&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[6]+2821735955&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[7]+4249261313&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(M^A&(R^M))+I[8]+1770035416&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[9]+2336552879&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[10]+4294925233&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[11]+2304563134&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(M^A&(R^M))+I[12]+1804603682&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[13]+4254626195&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[14]+2792965006&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[15]+1236535329&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(R^M&(A^R))+I[1]+4129170786&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[6]+3225465664&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[11]+643717713&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[0]+3921069994&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^M&(A^R))+I[5]+3593408605&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[10]+38016083&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[15]+3634488961&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[4]+3889429448&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^M&(A^R))+I[9]+568446438&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[14]+3275163606&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[3]+4107603335&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[8]+1163531501&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^M&(A^R))+I[13]+2850285829&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[2]+4243563512&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[7]+1735328473&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[12]+2368359562&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(A^R^M)+I[5]+4294588738&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[8]+2272392833&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[11]+1839030562&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[14]+4259657740&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^M)+I[1]+2763975236&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[4]+1272893353&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[7]+4139469664&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[10]+3200236656&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^M)+I[13]+681279174&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[0]+3936430074&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[3]+3572445317&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[6]+76029189&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^M)+I[9]+3654602809&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[12]+3873151461&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[15]+530742520&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[2]+3299628645&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(R^(A|~M))+I[0]+4096336452&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[7]+1126891415&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[14]+2878612391&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[5]+4237533241&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~M))+I[12]+1700485571&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[3]+2399980690&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[10]+4293915773&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[1]+2240044497&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~M))+I[8]+1873313359&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[15]+4264355552&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[6]+2734768916&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[13]+1309151649&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~M))+I[4]+4149444226&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[11]+3174756917&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[2]+718787259&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+M&4294967295}r.prototype.v=function(x,S){S===void 0&&(S=x.length);const A=S-this.blockSize,I=this.C;let R=this.h,M=0;for(;M<S;){if(R==0)for(;M<=A;)s(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<S;)if(I[R++]=x.charCodeAt(M++),R==this.blockSize){s(this,I),R=0;break}}else for(;M<S;)if(I[R++]=x[M++],R==this.blockSize){s(this,I),R=0;break}}this.h=R,this.o+=S},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var A=x.length-8;A<x.length;++A)x[A]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)x[S++]=this.g[A]>>>I&255;return x};function i(x,S){var A=a;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=S(x)}function o(x,S){this.h=S;const A=[];let I=!0;for(let R=x.length-1;R>=0;R--){const M=x[R]|0;I&&M==S||(A[R]=M,I=!1)}this.g=A}var a={};function l(x){return-128<=x&&x<128?i(x,function(S){return new o([S|0],S<0?-1:0)}):new o([x|0],x<0?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(x<0)return P(c(-x));const S=[];let A=1;for(let I=0;x>=A;I++)S[I]=x/A|0,A*=4294967296;return new o(S,0)}function d(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return P(d(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(S,8));let I=h;for(let M=0;M<x.length;M+=8){var R=Math.min(8,x.length-M);const N=parseInt(x.substring(M,M+R),S);R<8?(R=c(Math.pow(S,R)),I=I.j(R).add(c(N))):(I=I.j(A),I=I.add(c(N)))}return I}var h=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-P(this).m();let x=0,S=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);x+=(I>=0?I:4294967296+I)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(w(this))return"0";if(_(this))return"-"+P(this).toString(x);const S=c(Math.pow(x,6));var A=this;let I="";for(;;){const R=j(A,S).g;A=v(A,R.j(S));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(x);if(A=R,w(A))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function w(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function _(x){return x.h==-1}t.l=function(x){return x=v(this,x),_(x)?-1:w(x)?0:1};function P(x){const S=x.g.length,A=[];for(let I=0;I<S;I++)A[I]=~x.g[I];return new o(A,~x.h).add(m)}t.abs=function(){return _(this)?P(this):this},t.add=function(x){const S=Math.max(this.g.length,x.g.length),A=[];let I=0;for(let R=0;R<=S;R++){let M=I+(this.i(R)&65535)+(x.i(R)&65535),N=(M>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);I=N>>>16,M&=65535,N&=65535,A[R]=N<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(x,S){return x.add(P(S))}t.j=function(x){if(w(this)||w(x))return h;if(_(this))return _(x)?P(this).j(P(x)):P(P(this).j(x));if(_(x))return P(this.j(P(x)));if(this.l(p)<0&&x.l(p)<0)return c(this.m()*x.m());const S=this.g.length+x.g.length,A=[];for(var I=0;I<2*S;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let R=0;R<x.g.length;R++){const M=this.i(I)>>>16,N=this.i(I)&65535,H=x.i(R)>>>16,J=x.i(R)&65535;A[2*I+2*R]+=N*J,y(A,2*I+2*R),A[2*I+2*R+1]+=M*J,y(A,2*I+2*R+1),A[2*I+2*R+1]+=N*H,y(A,2*I+2*R+1),A[2*I+2*R+2]+=M*H,y(A,2*I+2*R+2)}for(x=0;x<S;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=S;x<2*S;x++)A[x]=0;return new o(A,0)};function y(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function E(x,S){this.g=x,this.h=S}function j(x,S){if(w(S))throw Error("division by zero");if(w(x))return new E(h,h);if(_(x))return S=j(P(x),S),new E(P(S.g),P(S.h));if(_(S))return S=j(x,P(S)),new E(P(S.g),S.h);if(x.g.length>30){if(_(x)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var A=m,I=S;I.l(x)<=0;)A=C(A),I=C(I);var R=V(A,1),M=V(I,1);for(I=V(I,2),A=V(A,2);!w(I);){var N=M.add(I);N.l(x)<=0&&(R=R.add(A),M=N),I=V(I,1),A=V(A,1)}return S=v(x,R.j(S)),new E(R,S)}for(R=h;x.l(S)>=0;){for(A=Math.max(1,Math.floor(x.m()/S.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=c(A),N=M.j(S);_(N)||N.l(x)>0;)A-=I,M=c(A),N=M.j(S);w(M)&&(M=m),R=R.add(M),x=v(x,N)}return new E(R,x)}t.B=function(x){return j(this,x).h},t.and=function(x){const S=Math.max(this.g.length,x.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)&x.i(I);return new o(A,this.h&x.h)},t.or=function(x){const S=Math.max(this.g.length,x.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)|x.i(I);return new o(A,this.h|x.h)},t.xor=function(x){const S=Math.max(this.g.length,x.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)^x.i(I);return new o(A,this.h^x.h)};function C(x){const S=x.g.length+1,A=[];for(let I=0;I<S;I++)A[I]=x.i(I)<<1|x.i(I-1)>>>31;return new o(A,x.h)}function V(x,S){const A=S>>5;S%=32;const I=x.g.length-A,R=[];for(let M=0;M<I;M++)R[M]=S>0?x.i(M+A)>>>S|x.i(M+A+1)<<32-S:x.i(M+A);return new o(R,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ji=o}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dj,xc,fj,Rf,p0,hj,mj,pj;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var g=0;g<f.length;++g){var b=f[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(f,g){if(g)e:{var b=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var $=f[k];if(!($ in b))break e;b=b[$]}f=f[f.length-1],k=b[f],g=g(k),g!=k&&g!=null&&e(b,f,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(g){var b=[],k;for(k in g)Object.prototype.hasOwnProperty.call(g,k)&&b.push([k,g[k]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function l(f,g,b){return f.call.apply(f.bind,arguments)}function c(f,g,b){return c=l,c.apply(null,arguments)}function d(f,g){var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function h(f,g){function b(){}b.prototype=g.prototype,f.Z=g.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(k,$,U){for(var le=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)le[Oe-2]=arguments[Oe];return g.prototype[$].apply(k,le)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function p(f){const g=f.length;if(g>0){const b=Array(g);for(let k=0;k<g;k++)b[k]=f[k];return b}return[]}function w(f,g){for(let k=1;k<arguments.length;k++){const $=arguments[k];var b=typeof $;if(b=b!="object"?b:$?Array.isArray($)?"array":b:"null",b=="array"||b=="object"&&typeof $.length=="number"){b=f.length||0;const U=$.length||0;f.length=b+U;for(let le=0;le<U;le++)f[b+le]=$[le]}else f.push($)}}class _{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(f){o.setTimeout(()=>{throw f},0)}function v(){var f=x;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}class y{constructor(){this.h=this.g=null}add(g,b){const k=E.get();k.set(g,b),this.h?this.h.next=k:this.g=k,this.h=k}}var E=new _(()=>new j,f=>f.reset());class j{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let C,V=!1,x=new y,S=()=>{const f=Promise.resolve(void 0);C=()=>{f.then(A)}};function A(){for(var f;f=v();){try{f.h.call(f.g)}catch(b){P(b)}var g=E;g.j(f),g.h<100&&(g.h++,f.next=g.g,g.g=f)}V=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};o.addEventListener("test",b,g),o.removeEventListener("test",b,g)}catch{}return f}();function N(f){return/^[\s\xa0]*$/.test(f)}function H(f,g){R.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,g)}h(H,R),H.prototype.init=function(f,g){const b=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget,g||(b=="mouseover"?g=f.fromElement:b=="mouseout"&&(g=f.toElement)),this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),z=0;function q(f,g,b,k,$){this.listener=f,this.proxy=null,this.src=g,this.type=b,this.capture=!!k,this.ha=$,this.key=++z,this.da=this.fa=!1}function L(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function O(f,g,b){for(const k in f)g.call(b,f[k],k,f)}function K(f,g){for(const b in f)g.call(void 0,f[b],b,f)}function Z(f){const g={};for(const b in f)g[b]=f[b];return g}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(f,g){let b,k;for(let $=1;$<arguments.length;$++){k=arguments[$];for(b in k)f[b]=k[b];for(let U=0;U<se.length;U++)b=se[U],Object.prototype.hasOwnProperty.call(k,b)&&(f[b]=k[b])}}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,g,b,k,$){const U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);const le=ke(f,g,k,$);return le>-1?(g=f[le],b||(g.fa=!1)):(g=new q(g,this.src,U,!!k,$),g.fa=b,f.push(g)),g};function Ee(f,g){const b=g.type;if(b in f.g){var k=f.g[b],$=Array.prototype.indexOf.call(k,g,void 0),U;(U=$>=0)&&Array.prototype.splice.call(k,$,1),U&&(L(g),f.g[b].length==0&&(delete f.g[b],f.h--))}}function ke(f,g,b,k){for(let $=0;$<f.length;++$){const U=f[$];if(!U.da&&U.listener==g&&U.capture==!!b&&U.ha==k)return $}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ve={};function bt(f,g,b,k,$){if(Array.isArray(g)){for(let U=0;U<g.length;U++)bt(f,g[U],b,k,$);return null}return b=gs(b),f&&f[J]?f.J(g,b,a(k)?!!k.capture:!1,$):zn(f,g,b,!1,k,$)}function zn(f,g,b,k,$,U){if(!g)throw Error("Invalid event type");const le=a($)?!!$.capture:!!$;let Oe=tn(f);if(Oe||(f[De]=Oe=new ge(f)),b=Oe.add(g,b,k,le,U),b.proxy)return b;if(k=dn(),b.proxy=k,k.src=f,k.listener=b,f.addEventListener)M||($=le),$===void 0&&($=!1),f.addEventListener(g.toString(),k,$);else if(f.attachEvent)f.attachEvent(Ae(g.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return b}function dn(){function f(b){return g.call(f.src,f.listener,b)}const g=Ut;return f}function ze(f,g,b,k,$){if(Array.isArray(g))for(var U=0;U<g.length;U++)ze(f,g[U],b,k,$);else k=a(k)?!!k.capture:!!k,b=gs(b),f&&f[J]?(f=f.i,U=String(g).toString(),U in f.g&&(g=f.g[U],b=ke(g,b,k,$),b>-1&&(L(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete f.g[U],f.h--)))):f&&(f=tn(f))&&(g=f.g[g.toString()],f=-1,g&&(f=ke(g,b,k,$)),(b=f>-1?g[f]:null)&&et(b))}function et(f){if(typeof f!="number"&&f&&!f.da){var g=f.src;if(g&&g[J])Ee(g.i,f);else{var b=f.type,k=f.proxy;g.removeEventListener?g.removeEventListener(b,k,f.capture):g.detachEvent?g.detachEvent(Ae(b),k):g.addListener&&g.removeListener&&g.removeListener(k),(b=tn(g))?(Ee(b,f),b.h==0&&(b.src=null,g[De]=null)):L(f)}}}function Ae(f){return f in ve?ve[f]:ve[f]="on"+f}function Ut(f,g){if(f.da)f=!0;else{g=new H(g,this);const b=f.listener,k=f.ha||f.src;f.fa&&et(f),f=b.call(k,g)}return f}function tn(f){return f=f[De],f instanceof ge?f:null}var Xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function gs(f){return typeof f=="function"?f:(f[Xr]||(f[Xr]=function(g){return f.handleEvent(g)}),f[Xr])}function St(){I.call(this),this.i=new ge(this),this.M=this,this.G=null}h(St,I),St.prototype[J]=!0,St.prototype.removeEventListener=function(f,g,b,k){ze(this,f,g,b,k)};function Et(f,g){var b,k=f.G;if(k)for(b=[];k;k=k.G)b.push(k);if(f=f.M,k=g.type||g,typeof g=="string")g=new R(g,f);else if(g instanceof R)g.target=g.target||f;else{var $=g;g=new R(k,f),we(g,$)}$=!0;let U,le;if(b)for(le=b.length-1;le>=0;le--)U=g.g=b[le],$=Dn(U,k,!0,g)&&$;if(U=g.g=f,$=Dn(U,k,!0,g)&&$,$=Dn(U,k,!1,g)&&$,b)for(le=0;le<b.length;le++)U=g.g=b[le],$=Dn(U,k,!1,g)&&$}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var f=this.i;for(const g in f.g){const b=f.g[g];for(let k=0;k<b.length;k++)L(b[k]);delete f.g[g],f.h--}}this.G=null},St.prototype.J=function(f,g,b,k){return this.i.add(String(f),g,!1,b,k)},St.prototype.K=function(f,g,b,k){return this.i.add(String(f),g,!0,b,k)};function Dn(f,g,b,k){if(g=f.i.g[String(g)],!g)return!0;g=g.concat();let $=!0;for(let U=0;U<g.length;++U){const le=g[U];if(le&&!le.da&&le.capture==b){const Oe=le.listener,Xt=le.ha||le.src;le.fa&&Ee(f.i,le),$=Oe.call(Xt,k)!==!1&&$}}return $&&!k.defaultPrevented}function jr(f,g){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=c(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(f,g||0)}function yr(f){f.g=jr(()=>{f.g=null,f.i&&(f.i=!1,yr(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}class Ie extends I{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(f){I.call(this),this.h=f,this.g={}}h(Ue,I);var Un=[];function Vt(f){O(f.g,function(g,b){this.g.hasOwnProperty(b)&&et(g)},f),f.g={}}Ue.prototype.N=function(){Ue.Z.N.call(this),Vt(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=o.JSON.stringify,Sn=o.JSON.parse,ys=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function vr(){}function er(){}var Lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Rr(){R.call(this,"d")}h(Rr,R);function vs(){R.call(this,"c")}h(vs,R);var tr={},eo=null;function W(){return eo=eo||new St}tr.Ia="serverreachability";function Y(f){R.call(this,tr.Ia,f)}h(Y,R);function ee(f){const g=W();Et(g,new Y(g))}tr.STAT_EVENT="statevent";function Pe(f,g){R.call(this,tr.STAT_EVENT,f),this.stat=g}h(Pe,R);function _e(f){const g=W();Et(g,new Pe(g,f))}tr.Ja="timingevent";function ue(f,g){R.call(this,tr.Ja,f),this.size=g}h(ue,R);function it(f,g){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},g)}function He(){this.g=!0}He.prototype.ua=function(){this.g=!1};function Qe(f,g,b,k,$,U){f.info(function(){if(f.g)if(U){var le="",Oe=U.split("&");for(let nt=0;nt<Oe.length;nt++){var Xt=Oe[nt].split("=");if(Xt.length>1){const rn=Xt[0];Xt=Xt[1];const Jr=rn.split("_");le=Jr.length>=2&&Jr[1]=="type"?le+(rn+"="+Xt+"&"):le+(rn+"=redacted&")}}}else le=null;else le=U;return"XMLHTTP REQ ("+k+") [attempt "+$+"]: "+g+`
`+b+`
`+le})}function rt(f,g,b,k,$,U,le){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+$+"]: "+g+`
`+b+`
`+U+" "+le})}function pt(f,g,b,k){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+nr(f,b)+(k?" "+k:"")})}function Hn(f,g){f.info(function(){return"TIMEOUT: "+g})}He.prototype.info=function(){};function nr(f,g){if(!f.g)return g;if(!g)return null;try{const U=JSON.parse(g);if(U){for(f=0;f<U.length;f++)if(Array.isArray(U[f])){var b=U[f];if(!(b.length<2)){var k=b[1];if(Array.isArray(k)&&!(k.length<1)){var $=k[0];if($!="noop"&&$!="stop"&&$!="close")for(let le=1;le<k.length;le++)k[le]=""}}}}return nn(U)}catch{return g}}var D={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},F={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},B;function X(){}h(X,vr),X.prototype.g=function(){return new XMLHttpRequest},B=new X;function te(f){return encodeURIComponent(String(f))}function fe(f){var g=1;f=f.split(":");const b=[];for(;g>0&&f.length;)b.push(f.shift()),g--;return f.length&&b.push(f.join(":")),b}function de(f,g,b,k){this.j=f,this.i=g,this.l=b,this.S=k||1,this.V=new Ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new G}function G(){this.i=null,this.g="",this.h=!1}var ce={},oe={};function ne(f,g,b){f.M=1,f.A=md(rr(g)),f.u=b,f.R=!0,ye(f,null)}function ye(f,g){f.F=Date.now(),Le(f),f.B=rr(f.A);var b=f.B,k=f.S;Array.isArray(k)||(k=[String(k)]),q1(b.i,"t",k),f.C=0,b=f.j.L,f.h=new G,f.g=uw(f.j,b?g:null,!f.u),f.P>0&&(f.O=new Ie(c(f.Y,f,f.g),f.P)),g=f.V,b=f.g,k=f.ba;var $="readystatechange";Array.isArray($)||($&&(Un[0]=$.toString()),$=Un);for(let U=0;U<$.length;U++){const le=bt(b,$[U],k||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=f.J?Z(f.J):{},f.u?(f.v||(f.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,g)):(f.v="GET",f.g.ea(f.B,f.v,null,g)),ee(),Qe(f.i,f.v,f.B,f.l,f.S,f.u)}de.prototype.ba=function(f){f=f.target;const g=this.O;g&&si(f)==3?g.j():this.Y(f)},de.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=si(this.g),Xt=this.g.ya(),nt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Z1(this.g)))){this.K||Oe!=4||Xt==7||(Xt==8||nt<=0?ee(3):ee(2)),fn(this);var g=this.g.ca();this.X=g;var b=Re(this);if(this.o=g==200,rt(this.i,this.v,this.B,this.l,this.S,Oe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var U=k;break t}}U=null}if(f=U)pt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wn(this,f);else{this.o=!1,this.m=3,_e(12),hn(this),Dr(this);break e}}if(this.R){f=!0;let rn;for(;!this.K&&this.C<b.length;)if(rn=Ve(this,b),rn==oe){Oe==4&&(this.m=4,_e(14),f=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==ce){this.m=4,_e(15),pt(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else pt(this.i,this.l,rn,null),Wn(this,rn);if(ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,_e(16),f=!1),this.o=this.o&&f,!f)pt(this.i,this.l,b,"[Invalid Chunked Response]"),hn(this),Dr(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bm(le),le.P=!0,_e(11))}}else pt(this.i,this.l,b,null),Wn(this,b);Oe==4&&hn(this),this.o&&!this.K&&(Oe==4?ow(this.j,this):(this.o=!1,Le(this)))}else jR(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),hn(this),Dr(this)}}}catch{}finally{}};function Re(f){if(!ot(f))return f.g.la();const g=Z1(f.g);if(g==="")return"";let b="";const k=g.length,$=si(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return hn(f),Dr(f),"";f.h.i=new o.TextDecoder}for(let U=0;U<k;U++)f.h.h=!0,b+=f.h.i.decode(g[U],{stream:!($&&U==k-1)});return g.length=0,f.h.g+=b,f.C=0,f.h.g}function ot(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ve(f,g){var b=f.C,k=g.indexOf(`
`,b);return k==-1?oe:(b=Number(g.substring(b,k)),isNaN(b)?ce:(k+=1,k+b>g.length?oe:(g=g.slice(k,k+b),f.C=k+b,g)))}de.prototype.cancel=function(){this.K=!0,hn(this)};function Le(f){f.T=Date.now()+f.H,tt(f,f.H)}function tt(f,g){if(f.D!=null)throw Error("WatchDog timer not null");f.D=it(c(f.aa,f),g)}function fn(f){f.D&&(o.clearTimeout(f.D),f.D=null)}de.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Hn(this.i,this.B),this.M!=2&&(ee(),_e(17)),hn(this),this.m=2,Dr(this)):tt(this,this.T-f)};function Dr(f){f.j.I==0||f.K||ow(f.j,f)}function hn(f){fn(f);var g=f.O;g&&typeof g.dispose=="function"&&g.dispose(),f.O=null,Vt(f.V),f.g&&(g=f.g,f.g=null,g.abort(),g.dispose())}function Wn(f,g){try{var b=f.j;if(b.I!=0&&(b.g==f||ti(b.h,f))){if(!f.L&&ti(b.h,f)&&b.I==3){try{var k=b.Ba.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var $=k;if($[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)xd(b),yd(b);else break e;$m(b),_e(18)}}else b.xa=$[1],0<b.xa-b.K&&$[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=it(c(b.Va,b),6e3));to(b.h)<=1&&b.ta&&(b.ta=void 0)}else so(b,11)}else if((f.L||b.g==f)&&xd(b),!N(g))for($=b.Ba.g.parse(g),g=0;g<$.length;g++){let nt=$[g];const rn=nt[0];if(!(rn<=b.K))if(b.K=rn,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const Jr=nt[3];Jr!=null&&(b.ka=Jr,b.j.info("VER="+b.ka));const io=nt[4];io!=null&&(b.za=io,b.j.info("SVER="+b.za));const ii=nt[5];ii!=null&&typeof ii=="number"&&ii>0&&(k=1.5*ii,b.O=k,b.j.info("backChannelRequestTimeoutMs_="+k)),k=b;const oi=f.g;if(oi){const bd=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bd){var U=k.h;U.g||bd.indexOf("spdy")==-1&&bd.indexOf("quic")==-1&&bd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&($e(U,U.h),U.h=null))}if(k.G){const zm=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;zm&&(k.wa=zm,lt(k.J,k.G,zm))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),k=b;var le=f;if(k.na=cw(k,k.L?k.ba:null,k.W),le.L){at(k.h,le);var Oe=le,Xt=k.O;Xt&&(Oe.H=Xt),Oe.D&&(fn(Oe),Le(Oe)),k.g=le}else sw(k);b.i.length>0&&vd(b)}else nt[0]!="stop"&&nt[0]!="close"||so(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?so(b,7):Fm(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}ee(4)}catch{}}var Fl=class{constructor(f,g){this.g=f,this.map=g}};function ei(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Qr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function to(f){return f.h?1:f.g?f.g.size:0}function ti(f,g){return f.h?f.h==g:f.g?f.g.has(g):!1}function $e(f,g){f.g?f.g.add(g):f.h=g}function at(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}ei.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xs(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let g=f.i;for(const b of f.g.values())g=g.concat(b.G);return g}return p(f.i)}var ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kt(f,g){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const k=f[b].indexOf("=");let $,U=null;k>=0?($=f[b].substring(0,k),U=f[b].substring(k+1)):$=f[b],g($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Mn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;f instanceof Mn?(this.l=f.l,no(this,f.j),this.o=f.o,this.g=f.g,$l(this,f.u),this.h=f.h,Vm(this,K1(f.i)),this.m=f.m):f&&(g=String(f).match(ni))?(this.l=!1,no(this,g[1]||"",!0),this.o=Bl(g[2]||""),this.g=Bl(g[3]||"",!0),$l(this,g[4]),this.h=Bl(g[5]||"",!0),Vm(this,g[6]||"",!0),this.m=Bl(g[7]||"")):(this.l=!1,this.i=new Ul(null,this.l))}Mn.prototype.toString=function(){const f=[];var g=this.j;g&&f.push(zl(g,z1,!0),":");var b=this.g;return(b||g=="file")&&(f.push("//"),(g=this.o)&&f.push(zl(g,z1,!0),"@"),f.push(te(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(zl(b,b.charAt(0)=="/"?ER:SR,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",zl(b,TR)),f.join("")},Mn.prototype.resolve=function(f){const g=rr(this);let b=!!f.j;b?no(g,f.j):b=!!f.o,b?g.o=f.o:b=!!f.g,b?g.g=f.g:b=f.u!=null;var k=f.h;if(b)$l(g,f.u);else if(b=!!f.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var $=g.h.lastIndexOf("/");$!=-1&&(k=g.h.slice(0,$+1)+k)}if($=k,$==".."||$==".")k="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){k=$.lastIndexOf("/",0)==0,$=$.split("/");const U=[];for(let le=0;le<$.length;){const Oe=$[le++];Oe=="."?k&&le==$.length&&U.push(""):Oe==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),k&&le==$.length&&U.push("")):(U.push(Oe),k=!0)}k=U.join("/")}else k=$}return b?g.h=k:b=f.i.toString()!=="",b?Vm(g,K1(f.i)):b=!!f.m,b&&(g.m=f.m),g};function rr(f){return new Mn(f)}function no(f,g,b){f.j=b?Bl(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function $l(f,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);f.u=g}else f.u=null}function Vm(f,g,b){g instanceof Ul?(f.i=g,PR(f.i,f.l)):(b||(g=zl(g,_R)),f.i=new Ul(g,f.l))}function lt(f,g,b){f.i.set(g,b)}function md(f){return lt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Bl(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zl(f,g,b){return typeof f=="string"?(f=encodeURI(f).replace(g,bR),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function bR(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var z1=/[#\/\?@]/g,SR=/[#\?:]/g,ER=/[#\?]/g,_R=/[#\?@]/g,TR=/#/g;function Ul(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function ro(f){f.g||(f.g=new Map,f.h=0,f.i&&kt(f.i,function(g,b){f.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=Ul.prototype,t.add=function(f,g){ro(this),this.i=null,f=ea(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(g),this.h+=1,this};function U1(f,g){ro(f),g=ea(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function H1(f,g){return ro(f),g=ea(f,g),f.g.has(g)}t.forEach=function(f,g){ro(this),this.g.forEach(function(b,k){b.forEach(function($){f.call(g,$,k,this)},this)},this)};function W1(f,g){ro(f);let b=[];if(typeof g=="string")H1(f,g)&&(b=b.concat(f.g.get(ea(f,g))));else for(f=Array.from(f.g.values()),g=0;g<f.length;g++)b=b.concat(f[g]);return b}t.set=function(f,g){return ro(this),this.i=null,f=ea(this,f),H1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},t.get=function(f,g){return f?(f=W1(this,f),f.length>0?String(f[0]):g):g};function q1(f,g,b){U1(f,g),b.length>0&&(f.i=null,f.g.set(ea(f,g),p(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(let k=0;k<g.length;k++){var b=g[k];const $=te(b);b=W1(this,b);for(let U=0;U<b.length;U++){let le=$;b[U]!==""&&(le+="="+te(b[U])),f.push(le)}}return this.i=f.join("&")};function K1(f){const g=new Ul;return g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),g}function ea(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function PR(f,g){g&&!f.j&&(ro(f),f.i=null,f.g.forEach(function(b,k){const $=k.toLowerCase();k!=$&&(U1(this,k),q1(this,$,b))},f)),f.j=g}function AR(f,g){const b=new He;if(o.Image){const k=new Image;k.onload=d(ri,b,"TestLoadImage: loaded",!0,g,k),k.onerror=d(ri,b,"TestLoadImage: error",!1,g,k),k.onabort=d(ri,b,"TestLoadImage: abort",!1,g,k),k.ontimeout=d(ri,b,"TestLoadImage: timeout",!1,g,k),o.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else g(!1)}function CR(f,g){const b=new He,k=new AbortController,$=setTimeout(()=>{k.abort(),ri(b,"TestPingServer: timeout",!1,g)},1e4);fetch(f,{signal:k.signal}).then(U=>{clearTimeout($),U.ok?ri(b,"TestPingServer: ok",!0,g):ri(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),ri(b,"TestPingServer: error",!1,g)})}function ri(f,g,b,k,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),k(b)}catch{}}function IR(){this.g=new ys}function Lm(f){this.i=f.Sb||null,this.h=f.ab||!1}h(Lm,vr),Lm.prototype.g=function(){return new pd(this.i,this.h)};function pd(f,g){St.call(this),this.H=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(pd,St),t=pd.prototype,t.open=function(f,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=g,this.readyState=1,Wl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(g.body=f),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hl(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;G1(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function G1(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?Hl(this):Wl(this),this.readyState==3&&G1(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Hl(this))},t.Na=function(f){this.g&&(this.response=f,Hl(this))},t.ga=function(){this.g&&Hl(this)};function Hl(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Wl(f)}t.setRequestHeader=function(f,g){this.A.append(f,g)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=g.next();return f.join(`\r
`)};function Wl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Y1(f){let g="";return O(f,function(b,k){g+=k,g+=":",g+=b,g+=`\r
`}),g}function Om(f,g,b){e:{for(k in b){var k=!1;break e}k=!0}k||(b=Y1(b),typeof f=="string"?b!=null&&te(b):lt(f,g,b))}function Nt(f){St.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Nt,St);var kR=/^https?$/i,NR=["POST","PUT"];t=Nt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,g,b,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():B.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(U){X1(this,U);return}if(f=b||"",b=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var $ in k)b.set($,k[$]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const U of k.keys())b.set(U,k.get(U));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(b.keys()).find(U=>U.toLowerCase()=="content-type"),$=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(NR,g,void 0)>=0)||k||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,le]of b)this.g.setRequestHeader(U,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(U){X1(this,U)}};function X1(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.o=5,Q1(f),gd(f)}function Q1(f){f.A||(f.A=!0,Et(f,"complete"),Et(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Et(this,"complete"),Et(this,"abort"),gd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gd(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?J1(this):this.Xa())},t.Xa=function(){J1(this)};function J1(f){if(f.h&&typeof i<"u"){if(f.v&&si(f)==4)setTimeout(f.Ca.bind(f),0);else if(Et(f,"readystatechange"),si(f)==4){f.h=!1;try{const U=f.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var k;if(k=U===0){let le=String(f.D).match(ni)[1]||null;!le&&o.self&&o.self.location&&(le=o.self.location.protocol.slice(0,-1)),k=!kR.test(le?le.toLowerCase():"")}b=k}if(b)Et(f,"complete"),Et(f,"success");else{f.o=6;try{var $=si(f)>2?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.ca()+"]",Q1(f)}}finally{gd(f)}}}}function gd(f,g){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,g||Et(f,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function si(f){return f.g?f.g.readyState:0}t.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var g=this.g.responseText;return f&&g.indexOf(f)==0&&(g=g.substring(f.length)),Sn(g)}};function Z1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function jR(f){const g={};f=(f.g&&si(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(N(f[k]))continue;var b=fe(f[k]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const U=g[$]||[];g[$]=U,U.push(b)}K(g,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(f,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||g}function ew(f){this.za=0,this.i=[],this.j=new He,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ql("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ql("baseRetryDelayMs",5e3,f),this.Za=ql("retryDelaySeedMs",1e4,f),this.Ta=ql("forwardChannelMaxRetries",2,f),this.va=ql("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new ei(f&&f.concurrentRequestLimit),this.Ba=new IR,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ew.prototype,t.ka=8,t.I=1,t.connect=function(f,g,b,k){_e(0),this.W=f,this.H=g||{},b&&k!==void 0&&(this.H.OSID=b,this.H.OAID=k),this.F=this.X,this.J=cw(this,null,this.W),vd(this)};function Fm(f){if(tw(f),f.I==3){var g=f.V++,b=rr(f.J);if(lt(b,"SID",f.M),lt(b,"RID",g),lt(b,"TYPE","terminate"),Kl(f,b),g=new de(f,f.j,g),g.M=2,g.A=md(rr(b)),b=!1,o.navigator&&o.navigator.sendBeacon)try{b=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&o.Image&&(new Image().src=g.A,b=!0),b||(g.g=uw(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Le(g)}lw(f)}function yd(f){f.g&&(Bm(f),f.g.cancel(),f.g=null)}function tw(f){yd(f),f.v&&(o.clearTimeout(f.v),f.v=null),xd(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function vd(f){if(!Qr(f.h)&&!f.m){f.m=!0;var g=f.Ea;C||S(),V||(C(),V=!0),x.add(g,f),f.D=0}}function RR(f,g){return to(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=g.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=it(c(f.Ea,f,g),aw(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const $=new de(this,this.j,f);let U=this.o;if(this.U&&(U?(U=Z(U),we(U,this.U)):U=this.U),this.u!==null||this.R||($.J=U,U=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var k=this.i[b];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=rw(this,$,g),b=rr(this.J),lt(b,"RID",f),lt(b,"CVER",22),this.G&&lt(b,"X-HTTP-Session-Id",this.G),Kl(this,b),U&&(this.R?g="headers="+te(Y1(U))+"&"+g:this.u&&Om(b,this.u,U)),$e(this.h,$),this.Ra&&lt(b,"TYPE","init"),this.S?(lt(b,"$req",g),lt(b,"SID","null"),$.U=!0,ne($,b,null)):ne($,b,g),this.I=2}}else this.I==3&&(f?nw(this,f):this.i.length==0||Qr(this.h)||nw(this))};function nw(f,g){var b;g?b=g.l:b=f.V++;const k=rr(f.J);lt(k,"SID",f.M),lt(k,"RID",b),lt(k,"AID",f.K),Kl(f,k),f.u&&f.o&&Om(k,f.u,f.o),b=new de(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),g&&(f.i=g.G.concat(f.i)),g=rw(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),$e(f.h,b),ne(b,k,g)}function Kl(f,g){f.H&&O(f.H,function(b,k){lt(g,k,b)}),f.l&&O({},function(b,k){lt(g,k,b)})}function rw(f,g,b){b=Math.min(f.i.length,b);const k=f.l?c(f.l.Ka,f.l,f):null;e:{var $=f.i;let Oe=-1;for(;;){const Xt=["count="+b];Oe==-1?b>0?(Oe=$[0].g,Xt.push("ofs="+Oe)):Oe=0:Xt.push("ofs="+Oe);let nt=!0;for(let rn=0;rn<b;rn++){var U=$[rn].g;const Jr=$[rn].map;if(U-=Oe,U<0)Oe=Math.max(0,$[rn].g-100),nt=!1;else try{U="req"+U+"_"||"";try{var le=Jr instanceof Map?Jr:Object.entries(Jr);for(const[io,ii]of le){let oi=ii;a(ii)&&(oi=nn(ii)),Xt.push(U+io+"="+encodeURIComponent(oi))}}catch(io){throw Xt.push(U+"type="+encodeURIComponent("_badmap")),io}}catch{k&&k(Jr)}}if(nt){le=Xt.join("&");break e}}le=void 0}return f=f.i.splice(0,b),g.G=f,le}function sw(f){if(!f.g&&!f.v){f.Y=1;var g=f.Da;C||S(),V||(C(),V=!0),x.add(g,f),f.A=0}}function $m(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=it(c(f.Da,f),aw(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,iw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=it(c(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),yd(this),iw(this))};function Bm(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function iw(f){f.g=new de(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var g=rr(f.na);lt(g,"RID","rpc"),lt(g,"SID",f.M),lt(g,"AID",f.K),lt(g,"CI",f.F?"0":"1"),!f.F&&f.ia&&lt(g,"TO",f.ia),lt(g,"TYPE","xmlhttp"),Kl(f,g),f.u&&f.o&&Om(g,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=md(rr(g)),b.u=null,b.R=!0,ye(b,f)}t.Va=function(){this.C!=null&&(this.C=null,yd(this),$m(this),_e(19))};function xd(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function ow(f,g){var b=null;if(f.g==g){xd(f),Bm(f),f.g=null;var k=2}else if(ti(f.h,g))b=g.G,at(f.h,g),k=1;else return;if(f.I!=0){if(g.o)if(k==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var $=f.D;k=W(),Et(k,new ue(k,b)),vd(f)}else sw(f);else if($=g.m,$==3||$==0&&g.X>0||!(k==1&&RR(f,g)||k==2&&$m(f)))switch(b&&b.length>0&&(g=f.h,g.i=g.i.concat(b)),$){case 1:so(f,5);break;case 4:so(f,10);break;case 3:so(f,6);break;default:so(f,2)}}}function aw(f,g){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*g}function so(f,g){if(f.j.info("Error code "+g),g==2){var b=c(f.bb,f),k=f.Ua;const $=!k;k=new Mn(k||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||no(k,"https"),md(k),$?AR(k.toString(),b):CR(k.toString(),b)}else _e(2);f.I=0,f.l&&f.l.pa(g),lw(f),tw(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function lw(f){if(f.I=0,f.ja=[],f.l){const g=xs(f.h);(g.length!=0||f.i.length!=0)&&(w(f.ja,g),w(f.ja,f.i),f.h.i.length=0,p(f.i),f.i.length=0),f.l.oa()}}function cw(f,g,b){var k=b instanceof Mn?rr(b):new Mn(b);if(k.g!="")g&&(k.g=g+"."+k.g),$l(k,k.u);else{var $=o.location;k=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;const U=new Mn(null);k&&no(U,k),g&&(U.g=g),$&&$l(U,$),b&&(U.h=b),k=U}return b=f.G,g=f.wa,b&&g&&lt(k,b,g),lt(k,"VER",f.ka),Kl(f,k),k}function uw(f,g,b){if(g&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=f.Aa&&!f.ma?new Nt(new Lm({ab:b})):new Nt(f.ma),g.Fa(f.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dw(){}t=dw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wd(){}wd.prototype.g=function(f,g){return new sr(f,g)};function sr(f,g){St.call(this),this.g=new ew(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(f?f["X-WebChannel-Client-Profile"]=g.sa:f={"X-WebChannel-Client-Profile":g.sa}),this.g.U=f,(f=g&&g.Qb)&&!N(f)&&(this.g.u=f),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,f=this.h,f!==null&&g in f&&(f=this.h,g in f&&delete f[g])),this.j=new ta(this)}h(sr,St),sr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sr.prototype.close=function(){Fm(this.g)},sr.prototype.o=function(f){var g=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=nn(f),f=b);g.i.push(new Fl(g.Ya++,f)),g.I==3&&vd(g)},sr.prototype.N=function(){this.g.l=null,delete this.j,Fm(this.g),delete this.g,sr.Z.N.call(this)};function fw(f){Rr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const b in g){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,g=g!==null&&f in g?g[f]:void 0),this.data=g}else this.data=f}h(fw,Rr);function hw(){vs.call(this),this.status=1}h(hw,vs);function ta(f){this.g=f}h(ta,dw),ta.prototype.ra=function(){Et(this.g,"a")},ta.prototype.qa=function(f){Et(this.g,new fw(f))},ta.prototype.pa=function(f){Et(this.g,new hw)},ta.prototype.oa=function(){Et(this.g,"b")},wd.prototype.createWebChannel=wd.prototype.g,sr.prototype.send=sr.prototype.o,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,pj=function(){return new wd},mj=function(){return W()},hj=tr,p0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},D.NO_ERROR=0,D.TIMEOUT=8,D.HTTP_ERROR=6,Rf=D,F.COMPLETE="complete",fj=F,er.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",St.prototype.listen=St.prototype.J,xc=er,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,dj=Nt}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const L_="@firebase/firestore",O_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new sj("@firebase/firestore");function ca(){return Wo.logLevel}function he(t,...e){if(Wo.logLevel<=Ke.DEBUG){const n=e.map(v1);Wo.debug(`Firestore (${Vl}): ${t}`,...n)}}function Xs(t,...e){if(Wo.logLevel<=Ke.ERROR){const n=e.map(v1);Wo.error(`Firestore (${Vl}): ${t}`,...n)}}function qo(t,...e){if(Wo.logLevel<=Ke.WARN){const n=e.map(v1);Wo.warn(`Firestore (${Vl}): ${t}`,...n)}}function v1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,gj(t,r,n)}function gj(t,e,n){let r=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xs(r),new Error(r)}function Ct(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||gj(e,s,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ml{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class cG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uG{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Do;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Do,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Do)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new yj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class dG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,WK(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new F_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mG(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function g0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return ig(s)===ig(i)?We(s,i):ig(s)?1:-1}return We(t.length,e.length)}const pG=55296,gG=57343;function ig(t){const e=t.charCodeAt(0);return e>=pG&&e<=gG}function yl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__name__";class rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rs.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return We(e.length,n.length)}static compareSegments(e,n){const r=rs.isNumericId(e),s=rs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rs.extractNumericId(e).compare(rs.extractNumericId(n)):g0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ji.fromString(e.substring(4,e.length-2))}}class Tt extends rs{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const yG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends rs{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return yG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$_}static keyField(){return new kn([$_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new xe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new xe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new xe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new xe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Tt.fromString(e))}static fromName(e){return new Se(Tt.fromString(e).popFirst(5))}static empty(){return new Se(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(t,e,n){if(!n)throw new xe(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xj(t,e,n,r){if(e===!0&&r===!0)throw new xe(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B_(t){if(!Se.isDocumentKey(t))throw new xe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xG(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function wG(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function Dh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wG(t);throw new xe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function cd(t,e){if(!xG(t))throw new xe(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new xe(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=-62135596800,U_=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*U_);return new Bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z_)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cd(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:Yt("string",Bt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Bt(0,0))}static max(){return new Ne(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function bG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new zi(s,Se.empty(),e)}function SG(t){return new zi(t.readTime,t.key,Fu)}class zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zi(Ne.min(),Se.empty(),Fu)}static max(){return new zi(Ne.max(),Se.empty(),Fu)}}function EG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==_G)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function PG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=-1;function Pm(t){return t==null}function y0(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="";function CG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=H_(e)),e=IG(t.get(n),e);return H_(e)}function IG(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case wj:n+="";break;default:n+=i}}return n}function H_(t){return t+wj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ud(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yn.RED,this.left=s??yn.EMPTY,this.right=i??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new wi([])}unionWith(e){let n=new en(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bj("Invalid base64 string: "+i):i}}(e);return new un(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const NG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ui(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=NG.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="server_timestamp",Ej="__type__",_j="__previous_value__",Tj="__local_write_time__";function x1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ej])==null?void 0:r.stringValue)===Sj}function Am(t){const e=t.mapValue.fields[_j];return x1(e)?Am(e):e}function $u(t){const e=Ui(t.mapValue.fields[Tj].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const Mh="(default)";class vl{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="__type__",DG="__max__",sf={mapValue:{}},MG="__vector__",v0="value";function Wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?x1(t)?4:LG(t)?9007199254740991:VG(t)?10:11:je(28295,{value:t})}function ms(t,e){if(t===e)return!0;const n=Wi(t);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ui(s.timestampValue),a=Ui(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Hi(s.bytesValue).isEqual(Hi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ft(s.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ft(s.integerValue)===Ft(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ft(s.doubleValue),a=Ft(i.doubleValue);return o===a?y0(o)===y0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return yl(t.arrayValue.values||[],e.arrayValue.values||[],ms);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(W_(o)!==W_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ms(o[l],a[l])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Bu(t,e){return(t.values||[]).find(n=>ms(n,e))!==void 0}function xl(t,e){if(t===e)return 0;const n=Wi(t),r=Wi(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ft(i.integerValue||i.doubleValue),l=Ft(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return K_(t.timestampValue,e.timestampValue);case 4:return K_($u(t),$u(e));case 5:return g0(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Hi(i),l=Hi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=We(a[c],l[c]);if(d!==0)return d}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=We(Ft(i.latitude),Ft(o.latitude));return a!==0?a:We(Ft(i.longitude),Ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return G_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,w,_;const a=i.fields||{},l=o.fields||{},c=(m=a[v0])==null?void 0:m.arrayValue,d=(p=l[v0])==null?void 0:p.arrayValue,h=We(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:G_(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===sf.mapValue&&o===sf.mapValue)return 0;if(i===sf.mapValue)return 1;if(o===sf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=g0(l[h],d[h]);if(m!==0)return m;const p=xl(a[l[h]],c[d[h]]);if(p!==0)return p}return We(l.length,d.length)}(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function K_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Ui(t),r=Ui(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function G_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=xl(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function wl(t){return x0(t)}function x0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ui(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=x0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${x0(n.fields[o])}`;return s+"}"}(t.mapValue):je(61005,{value:t})}function Df(t){switch(Wi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Am(t);return e?16+Df(e):16;case 5:return 2*t.stringValue.length;case 6:return Hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Df(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ud(r.fields,(i,o)=>{s+=i.length+Df(o)}),s}(t.mapValue);default:throw je(13486,{value:t})}}function w0(t){return!!t&&"integerValue"in t}function w1(t){return!!t&&"arrayValue"in t}function Y_(t){return!!t&&"nullValue"in t}function X_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function og(t){return!!t&&"mapValue"in t}function VG(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RG])==null?void 0:r.stringValue)===MG}function Gc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ud(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return{...t}}function LG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=kn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Gc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];og(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ud(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new os(Gc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new In(e,0,Ne.min(),Ne.min(),Ne.min(),os.empty(),0)}static newFoundDocument(e,n,r,s){return new In(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new In(e,2,n,Ne.min(),Ne.min(),os.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Ne.min(),Ne.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function Q_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(o.referenceValue),n.key):r=xl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function J_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function OG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{}class Jt extends Pj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $G(e,n,r):n==="array-contains"?new UG(e,r):n==="in"?new HG(e,r):n==="not-in"?new WG(e,r):n==="array-contains-any"?new qG(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BG(e,r):new zG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ps extends Pj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ps(e,n)}matches(e){return Aj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Aj(t){return t.op==="and"}function Cj(t){return FG(t)&&Aj(t)}function FG(t){for(const e of t.filters)if(e instanceof ps)return!1;return!0}function b0(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(Cj(t))return t.filters.map(e=>b0(e)).join(",");{const e=t.filters.map(n=>b0(n)).join(",");return`${t.op}(${e})`}}function Ij(t,e){return t instanceof Jt?function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&ms(r.value,s.value)}(t,e):t instanceof ps?function(r,s){return s instanceof ps&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Ij(o,s.filters[a]),!0):!1}(t,e):void je(19439)}function kj(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`}(t):t instanceof ps?function(n){return n.op.toString()+" {"+n.getFilters().map(kj).join(" ,")+"}"}(t):"Filter"}class $G extends Jt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class BG extends Jt{constructor(e,n){super(e,"in",n),this.keys=Nj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zG extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=Nj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Nj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class UG extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w1(n)&&Bu(n.arrayValue,this.value)}}class HG extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class WG extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bu(this.value.arrayValue,n)}}class qG extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Z_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new KG(t,e,n,r,s,i,o)}function b1(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>b0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wl(r)).join(",")),e.Te=n}return e.Te}function S1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ij(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J_(t.startAt,e.startAt)&&J_(t.endAt,e.endAt)}function S0(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GG(t,e,n,r,s,i,o,a){return new Cm(t,e,n,r,s,i,o,a)}function E1(t){return new Cm(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YG(t){return t.collectionGroup!==null}function Yc(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(kn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Lh(i,r))}),n.has(kn.keyField().canonicalString())||e.Ie.push(new Lh(kn.keyField(),r))}return e.Ie}function hs(t){const e=Ge(t);return e.Ee||(e.Ee=XG(e,Yc(t))),e.Ee}function XG(t,e){if(t.limitType==="F")return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Lh(s.field,i)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return Z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function E0(t,e,n){return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Im(t,e){return S1(hs(t),hs(e))&&t.limitType===e.limitType}function jj(t){return`${b1(hs(t))}|lt:${t.limitType}`}function ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>kj(s)).join(", ")}]`),Pm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wl(s)).join(",")),`Target(${r})`}(hs(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Q_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Yc(r),s)||r.endAt&&!function(o,a,l){const c=Q_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Yc(r),s))}(t,e)}function QG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rj(t){return(e,n)=>{let r=!1;for(const s of Yc(t)){const i=JG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function JG(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?xl(l,c):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ud(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return kG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG=new zt(Se.comparator);function qi(){return ZG}const Dj=new zt(Se.comparator);function wc(...t){let e=Dj;for(const n of t)e=e.insert(n.key,n);return e}function eY(t){let e=Dj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ao(){return Xc()}function Mj(){return Xc()}function Xc(){return new Zo(t=>t.toString(),(t,e)=>t.isEqual(e))}const tY=new en(Se.comparator);function Ye(...t){let e=tY;for(const n of t)e=e.add(n);return e}const nY=new en(We);function rY(){return nY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:y0(e)?"-0":e}}function iY(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function oY(t,e,n){return t instanceof _0?function(s,i){const o={fields:{[Ej]:{stringValue:Sj},[Tj]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&x1(i)&&(i=Am(i)),i&&(o.fields[_j]=i),{mapValue:o}}(n,e):t instanceof Oh?Vj(t,e):t instanceof Fh?Lj(t,e):function(s,i){const o=lY(s,i),a=tT(o)+tT(s.Ae);return w0(o)&&w0(s.Ae)?iY(a):sY(s.serializer,a)}(t,e)}function aY(t,e,n){return t instanceof Oh?Vj(t,e):t instanceof Fh?Lj(t,e):n}function lY(t,e){return t instanceof T0?function(r){return w0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _0 extends Nm{}class Oh extends Nm{constructor(e){super(),this.elements=e}}function Vj(t,e){const n=Oj(e);for(const r of t.elements)n.some(s=>ms(s,r))||n.push(r);return{arrayValue:{values:n}}}class Fh extends Nm{constructor(e){super(),this.elements=e}}function Lj(t,e){let n=Oj(e);for(const r of t.elements)n=n.filter(s=>!ms(s,r));return{arrayValue:{values:n}}}class T0 extends Nm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tT(t){return Ft(t.integerValue||t.doubleValue)}function Oj(t){return w1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cY(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Oh&&s instanceof Oh||r instanceof Fh&&s instanceof Fh?yl(r.elements,s.elements,ms):r instanceof T0&&s instanceof T0?ms(r.Ae,s.Ae):r instanceof _0&&s instanceof _0}(t.transform,e.transform)}class Mo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mo}static exists(e){return new Mo(void 0,e)}static updateTime(e){return new Mo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _1{}function Fj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dY(t.key,Mo.none()):new T1(t.key,t.data,Mo.none());{const n=t.data,r=os.empty();let s=new en(kn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new jm(t.key,r,new wi(s.toArray()),Mo.none())}}function uY(t,e,n){t instanceof T1?function(s,i,o){const a=s.value.clone(),l=rT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jm?function(s,i,o){if(!Mf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=rT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll($j(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qc(t,e,n,r){return t instanceof T1?function(i,o,a,l){if(!Mf(i.precondition,o))return a;const c=i.value.clone(),d=sT(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof jm?function(i,o,a,l){if(!Mf(i.precondition,o))return a;const c=sT(i.fieldTransforms,l,o),d=o.data;return d.setAll($j(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Mf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&yl(r,s,(i,o)=>cY(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class T1 extends _1{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jm extends _1{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $j(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,aY(o,a,n[s]))}return r}function sT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,oY(i,o,e))}return r}class dY extends _1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&uY(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Mj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Fj(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,(n,r)=>nT(n,r))&&yl(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,qe;function Bj(t){if(t===void 0)return Xs("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Ht.OK:return ae.OK;case Ht.CANCELLED:return ae.CANCELLED;case Ht.UNKNOWN:return ae.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ae.INTERNAL;case Ht.UNAVAILABLE:return ae.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ae.NOT_FOUND;case Ht.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ht.ABORTED:return ae.ABORTED;case Ht.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ht.DATA_LOSS:return ae.DATA_LOSS;default:return je(39323,{code:t})}}(qe=Ht||(Ht={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY=new ji([4294967295,4294967295],0);function iT(t){const e=pY().encode(t),n=new uj;return n.update(e),new Uint8Array(n.digest())}function oT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ji([n,r],0),new ji([s,i],0)]}class P1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bc(`Invalid padding: ${n}`);if(r<0)throw new bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ji.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ji.fromNumber(r)));return s.compare(gY)===1&&(s=new ji([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iT(e),[r,s]=oT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new P1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=iT(e),[r,s]=oT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(Ne.min(),s,new zt(We),qi(),Ye())}}class dd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dd(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class zj{constructor(e,n){this.targetId=e,this.Ce=n}}class Uj{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class aT{constructor(){this.ve=0,this.Fe=lT(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:i})}}),new dd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yY{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=of(),this.He=of(),this.Ye=new zt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(S0(i))if(r===0){const o=new Se(i.path);this.et(n,o,In.newNoDocument(o,Ne.min()))}else Ct(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Hi(r).toUint8Array()}catch(l){if(l instanceof bj)return qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new P1(o,s,i)}catch(l){return qo(l instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&S0(a.target)){const l=new Se(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,In.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ye();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Rm(e,n,this.Ye,this.je,r);return this.je=qi(),this.Je=of(),this.He=of(),this.Ye=new zt(We),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function of(){return new zt(Se.comparator)}function lT(){return new zt(Se.comparator)}const vY={asc:"ASCENDING",desc:"DESCENDING"},xY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wY={and:"AND",or:"OR"};class bY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function P0(t,e){return t.useProto3Json||Pm(e)?e:{value:e}}function SY(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EY(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xa(t){return Ct(!!t,49232),Ne.fromTimestamp(function(n){const r=Ui(n);return new Bt(r.seconds,r.nanos)}(t))}function _Y(t,e){return A0(t,e).canonicalString()}function A0(t,e){const n=function(s){return new Tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Hj(t){const e=Tt.fromString(t);return Ct(Yj(e),10190,{key:e.toString()}),e}function ag(t,e){const n=Hj(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(qj(n))}function Wj(t,e){return _Y(t.databaseId,e)}function TY(t){const e=Hj(t);return e.length===4?Tt.emptyPath():qj(e)}function cT(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qj(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:je(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Ct(d===void 0||typeof d=="string",58123),un.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),un.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?ae.UNKNOWN:Bj(c.code);return new xe(d,c.message||"")}(o);n=new Uj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ag(t,r.document.name),i=Xa(r.document.updateTime),o=r.document.createTime?Xa(r.document.createTime):Ne.min(),a=new os({mapValue:{fields:r.document.fields}}),l=In.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Vf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ag(t,r.document),i=r.readTime?Xa(r.readTime):Ne.min(),o=In.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Vf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ag(t,r.document),i=r.removedTargetIds||[];n=new Vf([],i,s,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new mY(s,i),a=r.targetId;n=new zj(a,o)}}return n}function AY(t,e){return{documents:[Wj(t,e.path)]}}function CY(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Wj(t,s);const i=function(c){if(c.length!==0)return Gj(ps.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:da(m.field),direction:NY(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=P0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function IY(t){let e=TY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ct(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=Kj(h);return m instanceof ps&&Cj(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(w){return new Lh(fa(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Pm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,p=h.values||[];return new Vh(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,p=h.values||[];return new Vh(p,m)}(n.endAt)),GG(e,s,o,i,a,"F",l,c)}function kY(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fa(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fa(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fa(n.unaryFilter.field);return Jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fa(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(fa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ps.create(n.compositeFilter.filters.map(r=>Kj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function NY(t){return vY[t]}function jY(t){return xY[t]}function RY(t){return wY[t]}function da(t){return{fieldPath:t.canonicalString()}}function fa(t){return kn.fromServerFormat(t.fieldPath)}function Gj(t){return t instanceof Jt?function(n){if(n.op==="=="){if(X_(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NAN"}};if(Y_(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(X_(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NAN"}};if(Y_(n.value))return{unaryFilter:{field:da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:da(n.field),op:jY(n.op),value:n.value}}}(t):t instanceof ps?function(n){const r=n.getFilters().map(s=>Gj(s));return r.length===1?r[0]:{compositeFilter:{op:RY(n.op),filters:r}}}(t):je(54877,{filter:t})}function Yj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n,r,s,i=Ne.min(),o=Ne.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e){this.yt=e}}function MY(t){const e=IY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?E0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(){this.Cn=new LY}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(zi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(zi.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class LY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new en(Tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xj=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(Xj,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bl(0)}static cr(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="LruGarbageCollector",OY=1048576;function fT([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class FY{constructor(e){this.Ir=e,this.buffer=new en(fT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $Y{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(dT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ll(n)?he(dT,"Ignoring IndexedDB error during garbage collection: ",n):await _m(n)}await this.Vr(3e5)})}}class BY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(Tm.ce);const r=new FY(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(uT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),ca()<=Ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function zY(t,e){return new BY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(){this.changes=new Zo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qc(r.mutation,s,wi.empty(),Bt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const s=Ao();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=wc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qi();const o=Xc(),a=function(){return Xc()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof jm)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Qc(d.mutation,c,d.mutation.getFieldMask(),Bt.now())):o.set(c.key,wi.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new HY(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Xc();let s=new zt((o,a)=>o-a),i=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||wi.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Ye()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Mj();d.forEach(m=>{if(!i.has(m)){const p=Fj(n.get(m),r.get(m));p!==null&&h.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(Ao());let a=Fu,l=i;return o.next(c=>Q.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ye())).next(d=>({batchId:a,changes:eY(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=wc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=wc();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(h,m){return new Cm(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,In.newInvalidDocument(d)))});let a=wc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Qc(d.mutation,c,wi.empty(),Bt.now()),km(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Xa(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:MY(s.bundledQuery),readTime:Xa(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(){this.overlays=new zt(Se.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ao();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=Ao(),i=n.length+1,o=new Se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new zt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ao(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ao(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return Q.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new hY(n,r));let i=this.qr.get(n);i===void 0&&(i=Ye(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.Qr=new en(sn.$r),this.Ur=new en(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Se(new Tt([])),r=new sn(n,e),s=new sn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new Tt([])),r=new sn(n,e),s=new sn(n,e+1);let i=Ye();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new sn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(sn.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fY(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new sn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?AG:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),s=new sn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(We);return n.forEach(s=>{const i=new sn(s,0),o=new sn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const o=new sn(new Se(i),0);let a=new en(We);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),Q.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,s=>{const i=new sn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new sn(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e){this.ri=e,this.docs=function(){return new zt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=qi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():In.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qi();const o=n.path,a=new Se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||EG(SG(d),r)<=0||(s.has(d.key)||km(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){je(9500)}ii(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QY(this)}getSize(e){return Q.resolve(this.size)}}class QY extends UY{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.persistence=e,this.si=new Zo(n=>b1(n),S1),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new A1,this.targetCount=0,this.ai=bl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tm(0),this.li=!1,this.li=!0,this.hi=new GY,this.referenceDelegate=e(this),this.Pi=new JY(this),this.indexManager=new VY,this.remoteDocumentCache=function(s){return new XY(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new DY(n),this.Ii=new qY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new ZY(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return Q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class ZY extends TG{constructor(e){super(),this.currentSequenceNumber=e}}class C1{constructor(e){this.persistence=e,this.Ri=new A1,this.Vi=null}static mi(e){return new C1(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,r=>{const s=Se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $h{constructor(e,n){this.persistence=e,this.pi=new Zo(r=>CG(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=zY(this,n)}static mi(e,n){return new $h(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Q.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?Q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Df(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ye(),s=Ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new I1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Bq()?8:PG(Fq())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new eX;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ca()<=Ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(ca()<=Ke.DEBUG&&he("QueryEngine","Query:",ua(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ca()<=Ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(n))):Q.resolve())}ys(e,n){if(eT(n))return Q.resolve(null);let r=hs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=E0(n,null,"F"),r=hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ye(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,E0(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return eT(n)||s.isEqual(Ne.min())?Q.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Q.resolve(null):(ca()<=Ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ua(n)),this.vs(e,o,n,bG(s,Fu)).next(a=>a))})}Ds(e,n){let r=new en(Rj(e));return n.forEach((s,i)=>{km(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ca()<=Ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ua(n)),this.ps.getDocumentsMatchingQuery(e,n,zi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="LocalStore",nX=3e8;class rX{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new zt(We),this.xs=new Zo(i=>b1(i),S1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function sX(t,e,n,r){return new rX(t,e,n,r)}async function Jj(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ye();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function Zj(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function iX(t,e){const n=Ge(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(un.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(_,P,v){return _.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=nX?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let l=qi(),c=Ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(oX(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(Ne.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function oX(t,e,n){let r=Ye(),s=Ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qi();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he(k1,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function aX(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new bi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function C0(t,e,n){const r=Ge(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ll(o))throw o;he(k1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function hT(t,e,n){const r=Ge(t);let s=Ne.min(),i=Ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=Ge(l),m=h.xs.get(d);return m!==void 0?Q.resolve(h.Ms.get(m)):h.Pi.getTargetData(c,d)}(r,o,hs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ne.min(),n?i:Ye())).next(a=>(lX(r,QG(e),a),{documents:a,Qs:i})))}function lX(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class mT{constructor(){this.activeTargetIds=rY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cX{constructor(){this.Mo=new mT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="ConnectivityMonitor";class gT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(pT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(pT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function I0(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",dX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Mh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=I0(),a=this.zo(e,n.toUriEncodedString());he(lg,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=g1(c);return this.Jo(e,a,l,r,d).then(h=>(he(lg,`Received RPC '${e}' ${o}: `,h),h),h=>{throw qo(lg,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=dX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class mX extends fX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=I0();return new Promise((a,l)=>{const c=new dj;c.setWithCredentials(!0),c.listenOnce(fj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Rf.NO_ERROR:const h=c.getResponseJson();he(Tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Rf.TIMEOUT:he(Tn,`RPC '${e}' ${o} timed out`),l(new xe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const m=c.getStatus();if(he(Tn,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const _=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(y)>=0?y:ae.UNKNOWN}(w.status);l(new xe(_,w.message))}else l(new xe(ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new xe(ae.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{he(Tn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);he(Tn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=I0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pj(),a=mj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");he(Tn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let m=!1,p=!1;const w=new hX({Yo:P=>{p?he(Tn,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(m||(he(Tn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),he(Tn,`RPC '${e}' stream ${s} sending:`,P),h.send(P))},Zo:()=>h.close()}),_=(P,v,y)=>{P.listen(v,E=>{try{y(E)}catch(j){setTimeout(()=>{throw j},0)}})};return _(h,xc.EventType.OPEN,()=>{p||(he(Tn,`RPC '${e}' stream ${s} transport opened.`),w.o_())}),_(h,xc.EventType.CLOSE,()=>{p||(p=!0,he(Tn,`RPC '${e}' stream ${s} transport closed`),w.a_(),this.E_(h))}),_(h,xc.EventType.ERROR,P=>{p||(p=!0,qo(Tn,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),w.a_(new xe(ae.UNAVAILABLE,"The operation could not be completed")))}),_(h,xc.EventType.MESSAGE,P=>{var v;if(!p){const y=P.data[0];Ct(!!y,16349);const E=y,j=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(j){he(Tn,`RPC '${e}' stream ${s} received error:`,j);const C=j.status;let V=function(A){const I=Ht[A];if(I!==void 0)return Bj(I)}(C),x=j.message;V===void 0&&(V=ae.INTERNAL,x="Unknown error status: "+C+" with message "+j.message),p=!0,w.a_(new xe(V,x)),h.close()}else he(Tn,`RPC '${e}' stream ${s} received:`,y),w.u_(y)}}),_(a,hj.STAT_EVENT,P=>{P.stat===p0.PROXY?he(Tn,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===p0.NOPROXY&&he(Tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){return new bY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="PersistentStream";class pX{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Xs(n.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new xe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(yT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(he(yT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gX extends pX{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=PY(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?Xa(o.readTime):Ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cT(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=S0(l)?{documents:AY(i,l)}:{query:CY(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=EY(i,o.resumeToken);const c=P0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=SY(i,o.snapshotVersion.toTimestamp());const c=P0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=kY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cT(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yX{}class vX extends yX{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,A0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new xe(ae.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,A0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ae.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RemoteStore";class wX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{hd(this)&&(he(Sl,"Restarting streams for network reachability change."),await async function(l){const c=Ge(l);c.Ea.add(4),await fd(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Dm(c)}(this))})}),this.Ra=new xX(r,s)}}async function Dm(t){if(hd(t))for(const e of t.da)await e(!0)}async function fd(t){for(const e of t.da)await e(!1)}function nR(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),D1(n)?R1(n):Ol(n).O_()&&j1(n,e))}function N1(t,e){const n=Ge(t),r=Ol(n);n.Ia.delete(e),r.O_()&&rR(n,e),n.Ia.size===0&&(r.O_()?r.L_():hd(n)&&n.Ra.set("Unknown"))}function j1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).Y_(e)}function rR(t,e){t.Va.Ue(e),Ol(t).Z_(e)}function R1(t){t.Va=new yY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.Ra.ua()}function D1(t){return hd(t)&&!Ol(t).x_()&&t.Ia.size>0}function hd(t){return Ge(t).Ea.size===0}function sR(t){t.Va=void 0}async function bX(t){t.Ra.set("Online")}async function SX(t){t.Ia.forEach((e,n)=>{j1(t,e)})}async function EX(t,e){sR(t),D1(t)?(t.Ra.ha(e),R1(t)):t.Ra.set("Unknown")}async function _X(t,e,n){if(t.Ra.set("Online"),e instanceof Uj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){he(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vT(t,r)}else if(e instanceof Vf?t.Va.Ze(e):e instanceof zj?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await Zj(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(un.EMPTY_BYTE_STRING,d.snapshotVersion)),rR(i,l);const h=new bi(d.target,l,c,d.sequenceNumber);j1(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he(Sl,"Failed to raise snapshot:",r),await vT(t,r)}}async function vT(t,e,n){if(!Ll(e))throw e;t.Ea.add(1),await fd(t),t.Ra.set("Offline"),n||(n=()=>Zj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(Sl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dm(t)})}async function xT(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),he(Sl,"RemoteStore received new credentials");const r=hd(n);n.Ea.add(3),await fd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dm(n)}async function TX(t,e){const n=Ge(t);e?(n.Ea.delete(2),await Dm(n)):e||(n.Ea.add(2),await fd(n),n.Ra.set("Unknown"))}function Ol(t){return t.ma||(t.ma=function(n,r,s){const i=Ge(n);return i.sa(),new gX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:bX.bind(null,t),t_:SX.bind(null,t),r_:EX.bind(null,t),H_:_X.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),D1(t)?R1(t):t.Ra.set("Unknown")):(await t.ma.stop(),sR(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Do,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new M1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iR(t,e){if(Xs("AsyncQueue",`${e}: ${t}`),Ll(t))return new xe(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=wc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.ga=new zt(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class El{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new El(e,n,Qa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class AX{constructor(){this.queries=bT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ge(n),i=s.queries;s.queries=bT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new xe(ae.ABORTED,"Firestore shutting down"))}}function bT(){return new Zo(t=>jj(t),Im)}async function CX(t,e){const n=Ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new PX,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=iR(o,`Initialization of query '${ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&V1(n)}async function IX(t,e){const n=Ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kX(t,e){const n=Ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&V1(n)}function NX(t,e,n){const r=Ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function V1(t){t.Ca.forEach(e=>{e.next()})}var k0,ST;(ST=k0||(k0={})).Ma="default",ST.Cache="cache";class jX{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==k0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.key=e}}class aR{constructor(e){this.key=e}}class RX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=Rj(e),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),p=km(this.query,h)?h:null,w=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let P=!1;m&&p?m.data.isEqual(p.data)?w!==_&&(r.track({type:3,doc:p}),P=!0):this.su(m,p)||(r.track({type:2,doc:p}),P=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),P=!0):m&&!p&&(r.track({type:1,doc:m}),P=!0,(l||c)&&(a=!0)),P&&(p?(o=o.add(p),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,w){const _=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:P})}};return _(p)-_(w)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new El(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new aR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new oR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const L1="SyncEngine";class DX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MX{constructor(e){this.key=e,this.hu=!1}}class VX{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Zo(a=>jj(a),Im),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Se.comparator),this.Au=new Map,this.Ru=new A1,this.Vu={},this.mu=new Map,this.fu=bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LX(t,e,n=!0){const r=fR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await lR(r,e,n,!0),s}async function OX(t,e){const n=fR(t);await lR(n,e,!0,!1)}async function lR(t,e,n,r){const s=await aX(t.localStore,hs(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await FX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&nR(t.remoteStore,s),a}async function FX(t,e,n,r,s){t.pu=(h,m,p)=>async function(_,P,v,y){let E=P.view.ru(v);E.Cs&&(E=await hT(_.localStore,P.query,!1).then(({documents:x})=>P.view.ru(x,E)));const j=y&&y.targetChanges.get(P.targetId),C=y&&y.targetMismatches.get(P.targetId)!=null,V=P.view.applyChanges(E,_.isPrimaryClient,j,C);return _T(_,P.targetId,V.au),V.snapshot}(t,h,m,p);const i=await hT(t.localStore,e,!0),o=new RX(e,i.Qs),a=o.ru(i.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);_T(t,n,c.au);const d=new DX(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function $X(t,e,n){const r=Ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Im(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await C0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&N1(r.remoteStore,s.targetId),N0(r,s.targetId)}).catch(_m)):(N0(r,s.targetId),await C0(r.localStore,s.targetId,!0))}async function BX(t,e){const n=Ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),N1(n.remoteStore,r.targetId))}async function cR(t,e){const n=Ge(t);try{const r=await iX(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ct(o.hu,14607):s.removedDocuments.size>0&&(Ct(o.hu,42227),o.hu=!1))}),await dR(n,r,e)}catch(r){await _m(r)}}function ET(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ge(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(a)&&(c=!0)}),c&&V1(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zX(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new zt(Se.comparator);o=o.insert(i,In.newNoDocument(i,Ne.min()));const a=Ye().add(i),l=new Rm(Ne.min(),new Map,new zt(We),o,a);await cR(r,l),r.du=r.du.remove(i),r.Au.delete(e),O1(r)}else await C0(r.localStore,e,!1).then(()=>N0(r,e,n)).catch(_m)}function N0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||uR(t,r)})}function uR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(N1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),O1(t))}function _T(t,e,n){for(const r of n)r instanceof oR?(t.Ru.addReference(r.key,e),UX(t,r)):r instanceof aR?(he(L1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||uR(t,r.key)):je(19791,{wu:r})}function UX(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(L1,"New document in limbo: "+n),t.Eu.add(r),O1(t))}function O1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new MX(n)),t.du=t.du.insert(n,r),nR(t.remoteStore,new bi(hs(E1(n.path)),r,"TargetPurposeLimboResolution",Tm.ce))}}async function dR(t,e,n){const r=Ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=I1.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=Ge(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,m=>Q.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>Q.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!Ll(h))throw h;he(k1,"Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const p=d.Ms.get(m),w=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(w);d.Ms=d.Ms.insert(m,_)}}}(r.localStore,i))}async function HX(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){he(L1,"User change. New user:",e.toKey());const r=await Jj(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new xe(ae.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dR(n,r.Ls)}}function WX(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let s=Ye();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function fR(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zX.bind(null,e),e.Pu.H_=kX.bind(null,e.eventManager),e.Pu.yu=NX.bind(null,e.eventManager),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eR(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sX(this.persistence,new tX,e.initialUser,this.serializer)}Cu(e){return new Qj(C1.mi,this.serializer)}Du(e){return new cX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class qX extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof $h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $Y(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new Qj(r=>$h.mi(r,n),this.serializer)}}class j0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ET(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HX.bind(null,this.syncEngine),await TX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AX}()}createDatastore(e){const n=eR(e.databaseInfo.databaseId),r=function(i){return new mX(i)}(e.databaseInfo);return function(i,o,a,l){return new vX(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new wX(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ET(this.syncEngine,n,0),function(){return gT.v()?new gT:new uX}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new VX(s,i,o,a,l,c);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ge(s);he(Sl,"RemoteStore shutting down."),i.Ea.add(5),await fd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}j0.provider={build:()=>new j0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class GX{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{he(Ki,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he(Ki,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Do;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ug(t,e){t.asyncQueue.verifyOperationInProgress(),he(Ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Jj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function TT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YX(t);he(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>xT(e.remoteStore,s)),t._onlineComponents=e}async function YX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Ki,"Using user provided OfflineComponentProvider");try{await ug(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await ug(t,new Bh)}}else he(Ki,"Using default OfflineComponentProvider"),await ug(t,new qX(void 0));return t._offlineComponents}async function XX(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Ki,"Using user provided OnlineComponentProvider"),await TT(t,t._uninitializedComponentsProvider._online)):(he(Ki,"Using default OnlineComponentProvider"),await TT(t,new j0))),t._onlineComponents}async function QX(t){const e=await XX(t),n=e.eventManager;return n.onListen=LX.bind(null,e.syncEngine),n.onUnlisten=$X.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BX.bind(null,e.syncEngine),n}function JX(t,e,n={}){const r=new Do;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new KX({next:m=>{d.Nu(),o.enqueueAndForget(()=>IX(i,h));const p=m.docs.has(a);!p&&m.fromCache?c.reject(new xe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?c.reject(new xe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new jX(E1(a.path),d,{includeMetadataChanges:!0,qa:!0});return CX(i,h)}(await QX(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firestore.googleapis.com",AT=!0;class CT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mR,this.ssl=AT}else this.host=e.host,this.ssl=e.ssl??AT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OY)throw new xe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F1{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vj;switch(r.type){case"firstParty":return new fG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PT.get(n);r&&(he("ComponentProvider","Removing Datastore"),PT.delete(n),r.terminate())}(this),Promise.resolve()}}function pR(t,e,n,r={}){var c;t=Dh(t,F1);const s=g1(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Dq(`https://${a}`),Oq("Firestore",!0)),i.host!==mR&&i.host!==a&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!jh(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=An.MOCK_USER;else{d=Mq(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new An(m)}t._authCredentials=new cG(new yj(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mm(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cd(n,jn._jsonSchema))return new jn(e,r||null,new Se(Tt.fromString(n.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:Yt("string",jn._jsonSchemaVersion),referencePath:Yt("string")};class _l extends Mm{constructor(e,n,r){super(e,n,E1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Se(e))}withConverter(e){return new _l(this.firestore,e,this._path)}}function ZX(t,e,...n){if(t=Kq(t),arguments.length===1&&(e=Em.newId()),vG("doc","path",e),t instanceof F1){const r=Tt.fromString(e,...n);return B_(r),new jn(t,null,new Se(r))}{if(!(t instanceof jn||t instanceof _l))throw new xe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return B_(r),new jn(t.firestore,t instanceof _l?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tR(this,"async_queue_retry"),this._c=()=>{const r=cg();r&&he(IT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Do;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ll(e))throw e;he(IT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",NT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=M1.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&je(47125,{Pc:NT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class $1 extends F1{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new kT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function R0(t,e){const n=typeof t=="object"?t:YK(),r=typeof t=="string"?t:e||Mh,s=HK(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jq("firestore");i&&pR(s,...i)}return s}function gR(t){if(t._terminated)throw new xe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eQ(t),t._firestoreClient}function eQ(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new jG(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new GX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zr(un.fromBase64String(e))}catch(n){throw new xe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cd(e,zr._jsonSchema))return zr.fromBase64String(e.bytes)}}zr._jsonSchemaVersion="firestore/bytes/1.0",zr._jsonSchema={type:Yt("string",zr._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ds._jsonSchemaVersion}}static fromJSON(e){if(cd(e,Ds._jsonSchema))return new Ds(e.latitude,e.longitude)}}Ds._jsonSchemaVersion="firestore/geoPoint/1.0",Ds._jsonSchema={type:Yt("string",Ds._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cd(e,Ms._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ms(e.vectorValues);throw new xe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ms._jsonSchemaVersion="firestore/vectorValue/1.0",Ms._jsonSchema={type:Yt("string",Ms._jsonSchemaVersion),vectorValues:Yt("object")};const tQ=new RegExp("[~\\*/\\[\\]]");function nQ(t,e,n){if(e.search(tQ)>=0)throw jT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new B1(...e.split("."))._internalPath}catch{throw jT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function jT(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new xe(ae.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rQ extends yR{data(){return super.data()}}function vR(t,e){return typeof e=="string"?nQ(t,e):e instanceof B1?e._internalPath:e._delegate._internalPath}class xR{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ud(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[v0].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ft(o.doubleValue));return new Ms(n)}convertGeoPoint(e){return new Ds(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Am(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=Ui(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);Ct(Yj(r),9688,{name:e});const s=new vl(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(n)||Xs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ri extends yR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ri._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ri._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ri._jsonSchema={type:Yt("string",Ri._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Jc extends Ri{data(e={}){return super.data(e)}}class Ja{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Oa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new Oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Jc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Jc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:sQ(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t){t=Dh(t,jn);const e=Dh(t.firestore,$1);return JX(gR(e),t._key).then(n=>aQ(e,t,n))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Yt("string",Ja._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class oQ extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function aQ(t,e,n){const r=n.docs.get(e._key),s=new oQ(t);return new Ri(t,s,e._key,r,new Oa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Vl=s})(GK),Rh(new Vu("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new $1(new uG(r.getProvider("auth-internal")),new hG(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new xe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ya(L_,O_,e),Ya(L_,O_,"esm2020")})();const lQ=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:xR,Bytes:zr,CollectionReference:_l,DocumentReference:jn,DocumentSnapshot:Ri,FieldPath:B1,Firestore:$1,FirestoreError:xe,GeoPoint:Ds,Query:Mm,QueryDocumentSnapshot:Jc,QuerySnapshot:Ja,SnapshotMetadata:Oa,Timestamp:Bt,VectorValue:Ms,_AutoId:Em,_ByteString:un,_DatabaseId:vl,_DocumentKey:Se,_EmptyAuthCredentialsProvider:vj,_FieldPath:kn,_cast:Dh,_logWarn:qo,_validateIsNotUsedTogether:xj,connectFirestoreEmulator:pR,doc:ZX,ensureFirestoreConfigured:gR,getDoc:iQ,getFirestore:R0},Symbol.toStringTag,{value:"Module"})),Za={apiKey:"AIzaSyD7TPcyY_FC9J5o0M1hI0H6mYa8aoviKnM",authDomain:"simplysentai.firebaseapp.com",projectId:"simplysentai",storageBucket:"simplysentai.firebasestorage.app",messagingSenderId:"973409790816",appId:"1:973409790816:web:7be67b9afdb75e948b0c05"};typeof window<"u"&&console.log(" Firebase Config Status:",{hasApiKey:!!Za.apiKey,hasProjectId:!!Za.projectId,projectId:Za.projectId});let oa=null,lc=null;const cQ=()=>{if(oa)return oa;const t=XK();if(t.length>0)return oa=t[0],console.log(" Using existing Firebase app"),oa;if(!Za.apiKey||!Za.projectId){const e=new Error("Firebase configuration is missing. Please set VITE_FIREBASE_API_KEY and VITE_FIREBASE_PROJECT_ID environment variables.");throw console.error(" Firebase initialization error:",e),e}try{return oa=aj(Za),console.log(" Firebase initialized successfully"),oa}catch(e){throw console.error(" Firebase initialization failed:",e),e}},uQ=()=>{if(lc)return lc;const t=cQ(),e="product-catalog";try{lc=R0(t,e)}catch{console.warn(`Database '${e}' not found or using default database, falling back to default`),lc=R0(t)}return lc},dQ=async t=>{try{const e=uQ(),{doc:n,getDoc:r}=await bq(async()=>{const{doc:o,getDoc:a}=await Promise.resolve().then(()=>lQ);return{doc:o,getDoc:a}},void 0),s=n(e,"amazon",t),i=await r(s);if(i.exists()){const o=i.data();return{asin:t,...o}}return null}catch(e){throw console.error(`Error fetching product ${t} from Firestore:`,e),e}},fQ="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",hQ=()=>{const{productId:t}=aC(),e=Qo(),[n,r]=T.useState(null),[s,i]=T.useState(!0),[o,a]=T.useState(null),[l,c]=T.useState(!1),[d,h]=T.useState(!1),[m,p]=T.useState(!1),[w,_]=T.useState(0),[P,v]=T.useState(null),[y,E]=T.useState(null);T.useEffect(()=>{const M=document.documentElement;return M.style.setProperty("background","#d1ccfb","important"),()=>{M.style.removeProperty("background")}},[]),T.useEffect(()=>{(async()=>{var N,H,J,z,q;if(!t){console.error(" ProductPage: No productId provided"),e("/person");return}console.log(` ProductPage: Starting fetch for productId: ${t}`),i(!0),a(null);try{console.log(` ProductPage: Fetching product with ID: ${t}`);const L=await dQ(t);if(console.log(` ProductPage: Firebase response for ${t}:`,L?"Found":"Not found"),L&&console.log(" ProductPage: Firebase product data keys:",Object.keys(L)),!L){const Ae=`Product ${t} not found in Firebase`;console.warn(` ProductPage: ${Ae}`),a(Ae),i(!1),setTimeout(()=>{e("/person")},3e3);return}const O=L.data||L,K=(O==null?void 0:O.name)||(O==null?void 0:O.product_title)||(O==null?void 0:O.title)||L.name||L.productTitle||`Product ${t}`;let Z=fQ;const se=(O==null?void 0:O.description)||(O==null?void 0:O.product_description)||(O==null?void 0:O.about)||(O==null?void 0:O.product_about)||(O==null?void 0:O.details)||(O==null?void 0:O.product_details)||(O==null?void 0:O.product_info)||(O==null?void 0:O.info)||L.description;if(se)if(typeof se=="string"&&se.trim()!=="")Z=se;else if(Array.isArray(se)&&se.length>0)Z=se.join(" ");else if(typeof se=="object"){const Ae=JSON.stringify(se);Ae&&Ae!=="{}"&&(Z=Ae)}else{const Ae=String(se);Ae&&Ae.trim()!==""&&(Z=Ae)}console.log(" ProductPage: Description extraction:",{productId:t,hasDescription:!!Z&&Z!=="No description available.",description:typeof Z=="string"?Z.substring(0,100):String(Z).substring(0,100),productDataKeys:Object.keys(O||{})});let we=0;const ge=(O==null?void 0:O.product_price)||(O==null?void 0:O.price)||(O==null?void 0:O.price_amount)||(O==null?void 0:O.current_price)||L.price;ge!=null&&(typeof ge=="string"?we=parseFloat(ge.replace(/[$,]/g,""))||0:typeof ge=="number"&&(we=ge));let Ee;if((O==null?void 0:O.rating_numeric)!==void 0&&(O==null?void 0:O.rating_numeric)!==null){const Ae=typeof O.rating_numeric=="number"?O.rating_numeric:parseFloat(O.rating_numeric.toString());!isNaN(Ae)&&Ae>0&&Ae<=5&&(Ee=Ae)}if(Ee===void 0){const Ae=(O==null?void 0:O.product_star_rating)||(O==null?void 0:O.rating)||(L==null?void 0:L.rating)||(L==null?void 0:L.product_star_rating)||0;Ee=typeof Ae=="number"?Ae:parseFloat((Ae==null?void 0:Ae.toString())||"0")}let ke=0;if((O==null?void 0:O.num_ratings_numeric)!==void 0&&(O==null?void 0:O.num_ratings_numeric)!==null)ke=typeof O.num_ratings_numeric=="number"?O.num_ratings_numeric:parseInt(O.num_ratings_numeric.toString())||0;else{const Ae=(O==null?void 0:O.product_num_ratings)||(O==null?void 0:O.num_ratings)||(L==null?void 0:L.num_ratings)||(L==null?void 0:L.product_num_ratings)||0;ke=typeof Ae=="number"?Ae:parseInt((Ae==null?void 0:Ae.toString())||"0")}const De=(O==null?void 0:O.product_photo)||((N=O==null?void 0:O.product_photos)==null?void 0:N[0])||((H=O==null?void 0:O.data)==null?void 0:H.product_photo)||((z=(J=O==null?void 0:O.data)==null?void 0:J.product_photos)==null?void 0:z[0])||(L==null?void 0:L.product_photo)||((q=L==null?void 0:L.product_photos)==null?void 0:q[0])||(L==null?void 0:L.imageUrl)||(L==null?void 0:L.image_url),ve=Ae=>Ae===1&&De?De:O!=null&&O.product_photos&&Array.isArray(O.product_photos)&&O.product_photos.length>=Ae?O.product_photos[Ae-1]:`https://storage.googleapis.com/simplysent-product-images/${t}/t_${t}_${Ae}.png`,bt=ve(1),zn=ve(2),dn=ve(3),ze=[bt,zn,dn].filter(Boolean);ze.length===0&&ze.push(`https://storage.googleapis.com/simplysent-product-images/${t}/t_${t}_1.png`);const et={id:t,name:K,price:we,image:bt,images:ze,description:Z,rating:Ee||0,reviews:ke,features:(O==null?void 0:O.features)||[],specifications:(O==null?void 0:O.specifications)||[],inStock:!0,shipping:"Will arrive in time for delivery"};console.log(` ProductPage: Successfully loaded product ${t}`),console.log(` ProductPage: Successfully loaded product ${t}`),r(et),a(null)}catch(L){const O=L instanceof Error?L.message:String(L);console.error(` ProductPage: Error fetching product ${t}:`,L),console.error("Error details:",O),a(`Failed to load product: ${O}`),i(!1),setTimeout(()=>{e("/recommendations")},3e3)}finally{i(!1)}})()},[t,e]);const j=()=>{c(!l)},C=()=>{alert("Share feature (Demo)")},V=()=>{n&&_(M=>M===0?n.images.length-1:M-1)},x=()=>{n&&_(M=>M===n.images.length-1?0:M+1)},S=M=>{v({x:M.targetTouches[0].clientX,y:M.targetTouches[0].clientY})},A=M=>{if(!P)return;const N=M.targetTouches[0].clientX,H=M.targetTouches[0].clientY,J=Math.abs(N-P.x),z=Math.abs(H-P.y);J>z&&J>10&&(M.preventDefault(),M.stopPropagation()),E(N)},I=()=>{if(!P||!y)return;const M=P.x-y,N=M>50,H=M<-50;N&&x(),H&&V(),v(null),E(0)};if(s)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})});if(o||!n)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:u.jsxs("div",{className:"text-center max-w-md px-4",children:[u.jsx("div",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Product Not Found"}),u.jsx("div",{className:"text-gray-600 mb-4",children:o||`Product ${t} could not be loaded.`}),u.jsx("button",{onClick:()=>e("/recommendations"),className:"px-6 py-2 bg-simplysent-purple text-white rounded-lg hover:bg-simplysent-purple-dark transition-colors",children:"Go Back to Recommendations"})]})});const R=`https://www.amazon.co.uk/dp/${t}?tag=simplysent09-21`;return u.jsxs("div",{className:"min-h-screen bg-white overflow-x-hidden",style:{marginTop:"-16px",backgroundColor:"white",minHeight:"100vh",position:"relative",zIndex:1},children:[u.jsx("div",{className:"hidden md:block relative",style:{height:"50vh",minHeight:"400px",overflow:"visible"},children:u.jsxs("div",{className:"flex h-full max-w-6xl mx-auto",style:{overflow:"visible"},children:[u.jsxs("div",{className:"flex-1 bg-simplysent-purple-alt h-full relative overflow-hidden",style:{marginTop:"calc(-1 * env(safe-area-inset-top))"},children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 px-4 pt-8 pb-4",style:{paddingTop:"calc(env(safe-area-inset-top) + 32px)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:()=>e(-1),className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:u.jsx(Rs,{size:20,className:"text-gray-800"})}),u.jsx("button",{onClick:C,className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:u.jsx(c2,{size:20,className:"text-gray-800"})})]})}),u.jsx("div",{className:"absolute inset-0 top-[10%] bottom-0 flex flex-col items-center justify-start px-4 pb-20",children:u.jsxs("div",{className:"w-full max-w-sm",children:[u.jsx("div",{className:"aspect-square relative bg-transparent",onTouchStart:S,onTouchMove:A,onTouchEnd:I,style:{touchAction:"pan-y"},children:u.jsx(xi,{mode:"wait",children:u.jsx(pe.div,{className:"absolute inset-0 flex items-center justify-center p-8 bg-transparent",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:u.jsx("img",{src:n.images[w],alt:`${n.name} - Image ${w+1}`,className:"w-full h-full object-contain scale-110",style:{mixBlendMode:"normal"}})},w)})}),u.jsx("div",{className:"flex items-center justify-center gap-2 mt-2 relative z-30",children:n.images.map((M,N)=>u.jsx("button",{onClick:()=>_(N),className:`h-3 rounded-full transition-all ${N===w?"bg-simplysent-purple w-10":"bg-purple-300 w-3"}`,style:{minWidth:N===w?"40px":"12px"}},N))})]})})]}),u.jsxs("div",{className:"flex-1 bg-white flex flex-col justify-center px-8 pt-16 relative",children:[u.jsx("div",{className:"absolute left-0 top-0 bottom-0 pointer-events-none z-0",style:{width:"120px",left:"-2px"},children:u.jsx("svg",{viewBox:"0 0 240 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",preserveAspectRatio:"none",children:u.jsx("path",{d:"M0 0C40 100 80 300 120 500C160 700 200 900 240 1000L240 1000L0 1000Z",fill:"white"})})}),u.jsxs("div",{className:"relative z-10 space-y-4",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 break-words line-clamp-3",style:{wordBreak:"break-word",overflowWrap:"break-word"},children:n.name}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((M,N)=>u.jsx(yh,{size:18,className:`${N<Math.floor(n.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},N))}),u.jsxs("span",{className:"text-sm text-gray-600",children:["(",n.reviews," reviews)"]})]}),u.jsx("div",{children:u.jsxs("span",{className:"text-4xl font-bold text-simplysent-purple",children:["",n.price.toFixed(2)]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"About this item"}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:n.description||"No description available."})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center w-[95%]",children:[u.jsx("button",{onClick:j,className:"flex items-center justify-center rounded-2xl focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50",style:{width:"56px",height:"56px",padding:"16px",flexShrink:0,position:"relative"},"aria-label":"Favorite",children:u.jsx(a2,{size:22,className:l?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:l?"currentColor":"none",style:{width:"22px",height:"22px",flexShrink:0,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"}})}),u.jsxs("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 text-gray-900 hover:from-yellow-500 hover:via-yellow-600 hover:to-amber-600 active:opacity-95 focus:ring-yellow-400/30 shadow-[0_8px_30px_rgba(251,191,36,0.3)] hover:shadow-[0_8px_30px_rgba(251,191,36,0.4)] active:shadow-[0_8px_30px_rgba(251,191,36,0.3)] font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 px-9 py-4 text-lg hover:scale-105 active:scale-95 w-full md:flex-1 flex items-center justify-center gap-2",children:[u.jsx(o2,{size:20}),"Open on Amazon"]})]})]})]})]})}),u.jsx("div",{className:"md:hidden relative",style:{height:"60vh",minHeight:"500px",maxHeight:"700px",marginTop:"calc(-1 * env(safe-area-inset-top))"},children:u.jsxs("div",{className:"bg-simplysent-purple-alt h-full relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 px-4 pt-8 pb-4",style:{paddingTop:"calc(env(safe-area-inset-top) + 32px)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("button",{onClick:()=>e(-1),className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:u.jsx(Rs,{size:20,className:"text-gray-800"})}),u.jsx("button",{onClick:C,className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:u.jsx(c2,{size:20,className:"text-gray-800"})})]})}),u.jsx("div",{className:"md:hidden absolute inset-0 top-[8%] bottom-0 flex flex-col items-center justify-center px-4 pb-8",children:u.jsxs("div",{className:"w-full max-w-md flex flex-col items-center",children:[u.jsx("div",{className:"w-full aspect-square relative bg-transparent max-w-[85vw]",onTouchStart:S,onTouchMove:A,onTouchEnd:I,style:{touchAction:"pan-y"},children:u.jsx(xi,{mode:"wait",children:u.jsx(pe.div,{className:"absolute inset-0 flex items-center justify-center p-6 sm:p-8 bg-transparent",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:u.jsx("img",{src:n.images[w],alt:`${n.name} - Image ${w+1}`,className:"w-full h-full object-contain",style:{mixBlendMode:"normal",maxWidth:"100%",maxHeight:"100%"}})},w)})}),u.jsx("div",{className:"flex items-center justify-center gap-2 mt-4 relative z-30",children:n.images.map((M,N)=>u.jsx("button",{onClick:()=>_(N),className:`h-3 rounded-full transition-all ${N===w?"bg-white w-8":"bg-white/60 w-3"}`,style:{minWidth:N===w?"32px":"12px"}},N))})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10",style:{height:"80px"},children:u.jsx("svg",{viewBox:"0 0 1440 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",preserveAspectRatio:"none",children:u.jsx("path",{d:"M0 0Q720 160 1440 0L1440 160L0 160Z",fill:"white"})})})]})}),u.jsx("div",{className:"md:hidden w-full pt-4 pb-8 bg-white relative overflow-visible",style:{marginTop:"-1px",marginBottom:"50px"},children:u.jsxs("div",{className:"px-4 space-y-6",style:{marginTop:"-20px"},children:[u.jsxs("div",{className:"flex items-start justify-between gap-4 relative px-4",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 flex-1 break-words line-clamp-3",style:{wordBreak:"break-word",overflowWrap:"break-word"},children:n.name}),u.jsx("button",{onClick:j,className:"flex items-center justify-center rounded-2xl focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 flex-shrink-0",style:{width:"56px",height:"56px",padding:"0",marginTop:"-32px",minWidth:"56px",minHeight:"56px",position:"relative",zIndex:10},"aria-label":"Favorite",onMouseDown:M=>M.preventDefault(),children:u.jsx(a2,{size:22,className:l?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:l?"currentColor":"none",style:{width:"22px",height:"22px",flexShrink:0}})})]}),u.jsxs("div",{className:"flex items-start justify-between px-4",children:[u.jsxs("div",{className:"flex flex-col gap-1",style:{marginTop:"-16px"},children:[u.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((M,N)=>u.jsx(yh,{size:16,className:`${N<Math.floor(n.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},N))}),u.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.reviews," reviews)"]})]}),u.jsxs("span",{className:"text-3xl font-bold text-simplysent-purple",children:["",n.price.toFixed(2)]})]}),u.jsxs("div",{className:"px-4",children:[u.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"About this item"}),u.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:n.description||"No description available."})]}),u.jsxs("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"w-[95%] mx-auto block bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 text-gray-900 hover:from-yellow-500 hover:via-yellow-600 hover:to-amber-600 active:opacity-95 focus:ring-yellow-400/30 shadow-[0_8px_30px_rgba(251,191,36,0.3)] hover:shadow-[0_8px_30px_rgba(251,191,36,0.4)] active:shadow-[0_8px_30px_rgba(251,191,36,0.3)] font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 px-9 py-4 text-lg hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[u.jsx(o2,{size:20}),"Open on Amazon"]})]})})]})},ct=({level:t=1,children:e,className:n=""})=>{const r=`h${t}`,s="font-heading text-gray-800",i={1:"text-4xl md:text-5xl font-bold",2:"text-3xl md:text-4xl font-bold",3:"text-2xl md:text-3xl font-semibold",4:"text-xl md:text-2xl font-semibold",5:"text-lg md:text-xl font-medium",6:"text-base md:text-lg font-medium"};return u.jsx(r,{className:`${s} ${i[t]} ${n}`,children:e})},mQ=({tabs:t,activeTab:e,onTabChange:n,className:r=""})=>u.jsx("div",{className:`w-full ${r}`,children:u.jsx("div",{className:"flex gap-8 border-b-2 border-gray-200 overflow-x-auto no-scrollbar",children:t.map(s=>{const i=e===s.id,o=s.id==="ai-picks",a=s.id==="tech",l=s.id==="golf";return u.jsxs("button",{onClick:()=>n(s.id),className:`relative pb-4 px-2 font-medium text-base transition-colors duration-200 whitespace-nowrap
              ${i?o?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"text-[#5E57AC]":o?"text-purple-600":"text-gray-500 hover:text-gray-700"}
            `,children:[u.jsxs("span",{className:"inline-flex items-center gap-2",children:[o&&u.jsx(Wt,{icon:hq,className:"text-purple-500"}),a&&u.jsx(Wt,{icon:mq,className:`${i?"text-[#5E57AC]":"text-gray-500"}`}),l&&u.jsx(Wt,{icon:lq,className:`${i?"text-[#5E57AC]":"text-gray-500"}`}),s.label]}),i&&u.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 rounded-full ${o?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"bg-[#5E57AC]"}`})]},s.id)})})}),pQ=[{id:"purple-to-pink",name:"Purple to Pink",colors:["#5E57AC","#8540de","#ab569a"],label:"Purple to Pink"},{id:"deep-purple",name:"Deep Purple",colors:["#8540de","#7a589e","#5E57AC"],label:"Deep Purple"},{id:"pink-to-purple",name:"Pink to Purple",colors:["#ab569a","#c55597","#8540de"],label:"Pink to Purple"},{id:"full-spectrum",name:"Full Spectrum",colors:["#8540de","#7a589e","#ab569a","#c55597"],label:"Full Spectrum"},{id:"light-to-dark",name:"Light to Dark",colors:["#E5E7EB","#7a589e","#5E57AC"],label:"Light to Dark"},{id:"purple-pink-blend",name:"Purple Pink Blend",colors:["#5E57AC","#ab569a","#c55597"],label:"Purple Pink Blend"},{id:"vibrant-purple",name:"Vibrant Purple",colors:["#8540de","#5E57AC","#7a589e"],label:"Vibrant Purple"},{id:"soft-pink",name:"Soft Pink",colors:["#c55597","#ab569a","#8540de"],label:"Soft Pink"},{id:"royal-purple",name:"Royal Purple",colors:["#5E57AC","#8540de","#7a589e","#5E57AC"],label:"Royal Purple"},{id:"default",name:"Default",colors:["#5E57AC"],label:"Default"},{id:"cool-purple",name:"Cool Purple",colors:["#7a589e","#5E57AC","#8540de"],label:"Cool Purple"},{id:"warm-pink",name:"Warm Pink",colors:["#c55597","#ab569a","#7a589e"],label:"Warm Pink"}],gQ=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState([]),[l,c]=T.useState(50),[d,h]=T.useState(300),[m,p]=T.useState("ai-picks"),[w,_]=T.useState(!0),[P,v]=T.useState(!1),[y,E]=T.useState(!1),j=T.useRef(null),[C,V]=T.useState(null);T.useEffect(()=>{if(y){const z=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=z,document.body.classList.remove("sheet-open")}}},[y]);const[x,S]=T.useState("StackSansText"),[A,I]=T.useState("400"),R=[{value:"option1",label:"Electronics"},{value:"option2",label:"Fashion"},{value:"option3",label:"Home & Garden"},{value:"option4",label:"Sports & Outdoors"},{value:"option5",label:"Books & Media"}],M=[{id:"ai-picks",label:"AI Picks"},{id:"tech",label:"Tech"},{id:"golf",label:"Golf"}],N=[{id:"1",image:"/img/products/fitbit.png",name:"Fitbit Fitness Tracker",price:199.99,rating:4.5,numRatings:1234},{id:"2",image:"/img/products/ninaj2.png",name:"Ninja Air Fryer Pro",price:149.99,rating:4.7,numRatings:856},{id:"3",image:"/img/products/ninja.png",name:"Ninja Blender System",price:179.99,rating:4.6,numRatings:642},{id:"4",image:"/img/products/pop.png",name:"Pop Culture Collectible",price:29.99,rating:4.3,numRatings:423},{id:"5",image:"/img/products/sony.png",name:"Sony Wireless Headphones",price:249.99,rating:4.8,numRatings:1523},{id:"6",image:"/img/products/controller.png",name:"Gaming Controller Pro",price:79.99,rating:4.4,numRatings:987}],H=[{value:"tech",label:"Tech",emoji:""},{value:"golf",label:"Golf",emoji:""},{value:"outdoors",label:"Outdoors",emoji:""},{value:"home",label:"Home",emoji:""},{value:"books",label:"Books",emoji:""},{value:"fashion",label:"Fashion",emoji:""},{value:"beauty",label:"Beauty",emoji:""},{value:"toys",label:"Toys",emoji:""}],J=[{id:"sheet-1",image:"/img/products/fitbit.png",name:"Fitbit Fitness Tracker Pro",price:199.99,rating:4.5,numRatings:1234},{id:"sheet-2",image:"/img/products/ninaj2.png",name:"Ninja Air Fryer Deluxe",price:149.99,rating:4.7,numRatings:856},{id:"sheet-3",image:"/img/products/sony.png",name:"Sony Wireless Headphones",price:249.99,rating:4.8,numRatings:1523},{id:"sheet-4",image:"/img/products/controller.png",name:"Gaming Controller Elite",price:79.99,rating:4.4,numRatings:987},{id:"sheet-5",image:"/img/products/pop.png",name:"Pop Culture Collectible Set",price:29.99,rating:4.3,numRatings:423}];return u.jsxs("div",{className:"min-h-screen py-8 px-4",children:[u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx(ct,{level:1,className:"mb-4",children:"UI Kit Showcase"}),u.jsx("p",{className:"text-lg text-gray-600 font-medium max-w-2xl mx-auto mb-4",children:"A comprehensive collection of reusable components built with modern design principles"}),u.jsx(yt,{onClick:()=>E(!0),variant:"primary",className:"!font-normal",children:"Person Sheet"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(ct,{level:3,children:"Product Carousel (Horizontal)"}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:w,onChange:z=>_(z.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Pick Styling"})]})]}),u.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-12",children:u.jsx("div",{className:"flex gap-4 transition-all duration-700 ease-out",children:N.map((z,q)=>u.jsx("div",{className:"flex-shrink-0 w-[300px] transition-all duration-700 ease-out",style:{animation:`fadeInSlide 0.6s ease-out ${q*.05}s both`},children:u.jsx(Po,{id:z.id,image:z.image,name:z.name,price:z.price,rating:z.rating,numRatings:z.numRatings,compact:!0,isAiPick:w,className:w?"":"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",customWidth:"300px"})},z.id))})})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(ct,{level:3,children:"Product Carousel (Vertical)"}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:P,onChange:z=>v(z.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Pick Styling"})]})]}),u.jsx("div",{className:"overflow-y-auto no-scrollbar max-h-[600px] pr-2 pt-2",children:u.jsx("div",{className:"flex flex-col gap-6",children:N.map((z,q)=>u.jsx("div",{className:"flex-shrink-0 transition-all duration-300 ease-out",style:{animation:`fadeInSlide 0.6s ease-out ${q*.05}s both`},children:u.jsx(Po,{id:z.id,image:z.image,name:z.name,price:z.price,rating:z.rating,numRatings:z.numRatings,compact:!0,isAiPick:P,className:P?"":"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",customWidth:"300px"})},z.id))})})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsx(ct,{level:3,className:"mb-6",children:"Tab Menu"}),u.jsx(mQ,{tabs:M,activeTab:m,onTabChange:p}),u.jsxs("div",{className:"mt-8",children:[m==="ai-picks"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border-2 border-purple-200",children:[u.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"AI Picks Content"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"This tab showcases AI-powered recommendations. The system analyzes user preferences, browsing history, and product ratings to suggest the most relevant items."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 2l2.39 5.26L20 8.27l-4 3.89L17.18 18 12 15.45 6.82 18 8 12.16 4 8.27l5.61-1.01L12 2z"})}),u.jsx("span",{className:"font-medium",children:"AI-powered recommendations"})]})]}),u.jsxs("div",{className:"p-6 bg-white rounded-2xl border-2 border-gray-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Features"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[u.jsx("li",{children:"Personalized product suggestions based on user behavior"}),u.jsx("li",{children:"Machine learning algorithms for better accuracy"}),u.jsx("li",{children:"Real-time updates as preferences change"}),u.jsx("li",{children:"Integration with product ratings and reviews"})]})]})]}),m==="tech"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl border-2 border-blue-200",children:[u.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Tech Products"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Explore the latest in technology - from cutting-edge gadgets to smart home devices. Find everything you need to stay connected and productive."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"font-medium",children:"Latest tech innovations"})]})]}),u.jsxs("div",{className:"p-6 bg-white rounded-2xl border-2 border-gray-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Categories"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[u.jsx("li",{children:"Smartphones and accessories"}),u.jsx("li",{children:"Laptops and computers"}),u.jsx("li",{children:"Smart home devices"}),u.jsx("li",{children:"Wearable technology"}),u.jsx("li",{children:"Audio equipment"})]})]})]}),m==="golf"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border-2 border-green-200",children:[u.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Golf Equipment"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"Everything you need for the perfect round. From clubs to accessories, find premium golf equipment for players of all skill levels."}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsx("span",{className:"font-medium",children:"Professional golf gear"})]})]}),u.jsxs("div",{className:"p-6 bg-white rounded-2xl border-2 border-gray-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Product Range"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[u.jsx("li",{children:"Golf clubs and sets"}),u.jsx("li",{children:"Golf balls and accessories"}),u.jsx("li",{children:"Golf apparel and footwear"}),u.jsx("li",{children:"Training aids and equipment"}),u.jsx("li",{children:"Golf bags and carts"})]})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsx(ct,{level:2,className:"mb-6",children:"Headings"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(ct,{level:1,children:"Heading Level 1"}),u.jsx(ct,{level:2,children:"Heading Level 2"}),u.jsx(ct,{level:3,children:"Heading Level 3"}),u.jsx(ct,{level:4,children:"Heading Level 4"}),u.jsx(ct,{level:5,children:"Heading Level 5"}),u.jsx(ct,{level:6,children:"Heading Level 6"})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsx(ct,{level:2,className:"mb-6",children:"Form Inputs"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx(ct,{level:4,className:"mb-4",children:"Text Inputs"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(Va,{label:"Name",placeholder:"Enter your name",value:t,onChange:e}),u.jsx(Va,{label:"Email",placeholder:"Enter your email",value:n,onChange:r,type:"email"})]})]}),u.jsx("div",{children:u.jsx(Va,{label:"With Error State",placeholder:"This field has an error",value:"",onChange:()=>{},error:"This field is required"})}),u.jsx("div",{children:u.jsx(Va,{label:"Disabled Input",placeholder:"This input is disabled",value:"Disabled content",onChange:()=>{},disabled:!0})})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsx(ct,{level:2,className:"mb-6",children:"Dropdowns"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(ar,{label:"Category",placeholder:"Select a category",value:s,options:R,onChange:i}),u.jsx(ar,{label:"Disabled Dropdown",placeholder:"This dropdown is disabled",value:"",options:R,onChange:()=>{},disabled:!0})]}),u.jsx(ar,{label:"With Error State",placeholder:"Select an option",value:"",options:R,onChange:()=>{},error:"Please select a valid option"})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx(ct,{level:2,children:"Multi Select Buttons"}),u.jsx(yt,{variant:"ghost",size:"small",onClick:()=>a([]),disabled:o.length===0,className:"text-[#5E57AC] !font-normal",children:"Deselect all"})]}),u.jsx("div",{className:"flex flex-col gap-6",children:u.jsx(Ah,{options:H,selectedValues:o,onChange:a})})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsx(ct,{level:2,className:"mb-6",children:"Budget Range Slider"}),u.jsx(n1,{min:10,max:500,minValue:l,maxValue:d,onChange:(z,q)=>{c(z),h(q)},label:"Select your budget range (5 steps)"})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsx(ct,{level:2,className:"mb-6",children:"Buttons"}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx(ct,{level:4,className:"mb-4",children:"Animated Gradient Buttons (Click to Apply Theme)"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:pQ.map(z=>u.jsx(yQ,{theme:z,isSelected:(C==null?void 0:C.id)===z.id,onClick:()=>V(z)},z.id))})]}),u.jsxs("div",{children:[u.jsx(ct,{level:4,className:"mb-4",children:"Button Variants"}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx(es,{variant:"primary",className:"!font-normal",theme:C,children:"Primary Button"}),u.jsx(es,{variant:"secondary",className:"!font-normal",theme:C,children:"Secondary Button"}),u.jsx(es,{variant:"outline",className:"!font-normal",theme:C,children:"Outline Button"}),u.jsx(es,{variant:"ghost",className:"!font-normal",theme:C,children:"Ghost Button"})]})]}),u.jsxs("div",{children:[u.jsx(ct,{level:4,className:"mb-4",children:"Button Sizes"}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[u.jsx(es,{size:"small",className:"!font-normal",theme:C,children:"Small"}),u.jsx(es,{size:"medium",className:"!font-normal",theme:C,children:"Medium"}),u.jsx(es,{size:"large",className:"!font-normal",theme:C,children:"Large"})]})]}),u.jsxs("div",{children:[u.jsx(ct,{level:4,className:"mb-4",children:"Button States"}),u.jsxs("div",{className:"flex flex-wrap gap-4",children:[u.jsx(es,{className:"!font-normal",theme:C,children:"Normal"}),u.jsx(es,{disabled:!0,className:"!font-normal",theme:C,children:"Disabled"})]})]}),u.jsxs("div",{children:[u.jsx(ct,{level:4,className:"mb-4",children:"Full Width Button"}),u.jsx(es,{fullWidth:!0,className:"!font-normal",theme:C,children:"Full Width Button"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[u.jsx(ct,{level:2,className:"mb-6",children:"Color Palette"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-32 bg-[#5E57AC] rounded-2xl shadow-md mb-3"}),u.jsx("p",{className:"font-semibold text-gray-800",children:"Primary"}),u.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#5E57AC"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-32 bg-gray-800 rounded-2xl shadow-md mb-3"}),u.jsx("p",{className:"font-semibold text-gray-800",children:"Dark"}),u.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#1F2937"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-2xl shadow-md mb-3"}),u.jsx("p",{className:"font-semibold text-gray-800",children:"Light"}),u.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#E5E7EB"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-full h-32 bg-white border-2 border-gray-200 rounded-2xl shadow-md mb-3"}),u.jsx("p",{className:"font-semibold text-gray-800",children:"White"}),u.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#FFFFFF"})]})]})]}),u.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8",children:[u.jsx(ct,{level:2,className:"mb-6",children:"Typography"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Font Family"}),u.jsx(ar,{placeholder:"Select font",value:x,options:[{value:"StackSansText",label:"StackSansText"},{value:"StackSansHeadline",label:"StackSansHeadline"},{value:"StackSansNotch",label:"StackSansNotch (Logo only)"}],onChange:z=>S(z)})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Font Weight"}),u.jsx(ar,{placeholder:"Select weight",value:A,options:[{value:"200",label:"ExtraLight (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Regular (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"SemiBold (600)"},{value:"700",label:"Bold (700)"}],onChange:z=>I(z)})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-6 bg-gray-50 rounded-2xl border-2 border-gray-200",children:[u.jsxs("p",{className:"text-sm text-gray-500 mb-4 font-medium",children:["Preview: ",x," - Weight ",A]}),u.jsx("div",{style:{fontFamily:x,fontWeight:parseInt(A)},className:"text-4xl text-gray-900",children:"The quick brown fox jumps over the lazy dog"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansText (Body Text)"}),u.jsx("p",{className:"text-lg text-gray-700",style:{fontFamily:"StackSansText",fontWeight:400},children:"The quick brown fox jumps over the lazy dog. This is a sample paragraph text using StackSansText with regular weight for optimal readability."})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansHeadline (Headings)"}),u.jsx(ct,{level:2,style:{fontFamily:"StackSansHeadline",fontWeight:500},children:"The quick brown fox jumps over the lazy dog"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansNotch (Logo Only)"}),u.jsx("div",{className:"font-notch font-bold text-3xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent",children:"SimplySent"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Buttons (StackSansText)"}),u.jsx(yt,{className:"!font-normal",children:"Button Text Example"})]})]})]}),u.jsx("div",{className:"mt-12 text-center",children:u.jsx("p",{className:"text-gray-500 font-medium",children:"All components are mobile-friendly and follow modern design principles"})})]}),u.jsx(u.Fragment,{children:u.jsxs(xt,{ref:j,isOpen:y,onClose:()=>E(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[u.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",background:"#ffffff"},children:[u.jsx(xt.Header,{children:u.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:u.jsx(xt.DragIndicator,{style:{display:"none"}})}),u.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Products"}),u.jsx("button",{type:"button",onClick:()=>E(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:u.jsx(Zu,{size:24,className:"text-gray-600"})})]})}),u.jsx(xt.Content,{style:{padding:"24px",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:u.jsx("div",{className:"flex-1 w-full pt-2",style:{overflow:"hidden",position:"relative",marginRight:"-20px",paddingRight:"20px"},children:u.jsxs("div",{className:"h-full overflow-y-scroll w-full sheet-scroll-hide",style:{WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none",paddingRight:"50px",marginRight:"-50px",width:"calc(100% + 50px)"},children:[u.jsx("style",{children:`
                                        .sheet-scroll-hide::-webkit-scrollbar,
                                        [class*="overflow-y-scroll"]::-webkit-scrollbar {
                                            display: block !important;
                                            width: 20px !important;
                                            height: 20px !important;
                                            -webkit-appearance: none !important;
                                            background: red !important;
                                        }
                                        .sheet-scroll-hide::-webkit-scrollbar-track,
                                        [class*="overflow-y-scroll"]::-webkit-scrollbar-track {
                                            background: red !important;
                                        }
                                        .sheet-scroll-hide::-webkit-scrollbar-thumb,
                                        [class*="overflow-y-scroll"]::-webkit-scrollbar-thumb {
                                            background: darkred !important;
                                            border-radius: 10px !important;
                                        }
                                        .sheet-scroll-container::-webkit-scrollbar {
                                            display: block !important;
                                            width: 20px !important;
                                            background: red !important;
                                        }
                                        .sheet-scroll-container::-webkit-scrollbar-track {
                                            background: red !important;
                                        }
                                        .sheet-scroll-container::-webkit-scrollbar-thumb {
                                            background: darkred !important;
                                        }
                                    `}),u.jsx("div",{className:"flex flex-col gap-6 w-full items-center px-0 sheet-scroll-container",style:{paddingRight:"50px"},children:J.map(z=>u.jsx("div",{className:"flex-shrink-0 flex justify-center w-full",style:{contain:"layout style",isolation:"isolate"},children:u.jsx("div",{style:{width:"100%",maxWidth:"300px",contain:"layout style"},children:u.jsx(Po,{id:z.id,image:z.image,name:z.name,price:z.price,rating:z.rating,numRatings:z.numRatings,compact:!0,simpleThumbsButtons:!0,customWidth:"300px"})})},z.id))})]})})})]}),u.jsx(xt.Backdrop,{onTap:()=>E(!1)})]})})]})},yQ=({theme:t,isSelected:e=!1,onClick:n})=>{const[r,s]=T.useState(!1),[i,o]=T.useState(!1),a=t.colors.join(", ");return u.jsxs(pe.button,{onClick:n,onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),o(!1)},onMouseDown:()=>o(!0),onMouseUp:()=>o(!1),className:"relative px-6 py-3 rounded-full font-medium text-white overflow-hidden transition-all duration-200 cursor-pointer",style:{boxShadow:i?"inset 0 4px 12px rgba(0, 0, 0, 0.5), inset 0 2px 4px rgba(0, 0, 0, 0.6), 0 2px 8px rgba(94, 87, 172, 0.2)":"0 4px 15px rgba(94, 87, 172, 0.3)",transform:i?"translateY(1px)":"translateY(0)",filter:i?"brightness(0.85)":"brightness(1)"},children:[u.jsx(pe.div,{className:"absolute inset-0 rounded-full",animate:{background:[`linear-gradient(135deg, ${a})`,`linear-gradient(225deg, ${a})`,`linear-gradient(315deg, ${a})`,`linear-gradient(45deg, ${a})`,`linear-gradient(135deg, ${a})`]},transition:{duration:8,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%"}}),r&&u.jsx(pe.div,{className:"absolute inset-0 rounded-full",initial:{x:"-100%"},animate:{x:"200%"},transition:{duration:.6,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent)",transform:"skewX(-20deg)"}}),u.jsx("span",{className:"relative z-10",children:t.label}),e&&u.jsx("span",{className:"absolute top-1 right-1 z-20 text-white text-xs bg-white/30 rounded-full px-2 py-0.5",children:""})]})},Vn=(t,e)=>{const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);if(!n)return t;const r=parseInt(n[1],16),s=parseInt(n[2],16),i=parseInt(n[3],16);return`rgba(${r}, ${s}, ${i}, ${e})`},vQ=t=>t.colors[0],es=({children:t,theme:e,onClick:n,variant:r="primary",size:s="medium",disabled:i=!1,fullWidth:o=!1,className:a="",type:l="button"})=>{const[c,d]=T.useState(!1),[h,m]=T.useState(!1);if(!e)return u.jsx(yt,{onClick:n,variant:r,size:s,disabled:i,fullWidth:o,className:a,type:l,children:t});const p=e.colors.join(", "),w=vQ(e),_={small:"px-5 py-2 text-sm",medium:"px-7 py-3.5 text-base",large:"px-9 py-4 text-lg"},P=o?"w-full":"";let v={color:"white"},y={};return r==="secondary"?v={color:w}:r==="outline"?(y={border:`2px solid ${w}`,background:"transparent"},v={color:w}):r==="ghost"&&(y={background:"transparent"},v={color:w}),u.jsxs(pe.button,{type:l,onClick:n,disabled:i,onMouseEnter:()=>d(!0),onMouseLeave:()=>{d(!1),m(!1)},onMouseDown:()=>m(!0),onMouseUp:()=>m(!1),className:`font-medium rounded-full transition-all duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation relative overflow-hidden ${_[s]} ${P} ${a}`,style:{...y,...v,boxShadow:h?r==="outline"||r==="ghost"?"inset 0 2px 4px rgba(0, 0, 0, 0.1)":r==="secondary"?`inset 0 4px 12px ${Vn(w,.4)}, inset 0 2px 4px ${Vn(w,.5)}, 0 2px 8px ${Vn(w,.4)}`:"inset 0 4px 12px rgba(0, 0, 0, 0.5), inset 0 2px 4px rgba(0, 0, 0, 0.6), 0 2px 8px rgba(94, 87, 172, 0.2)":r==="outline"||r==="ghost"?"none":r==="secondary"?`0 2px 8px ${Vn(w,.2)}`:"0 4px 15px rgba(94, 87, 172, 0.3)",transform:h?"translateY(1px)":"translateY(0)",filter:h?r==="secondary"?"brightness(0.95)":"brightness(0.85)":"brightness(1)"},children:[r==="primary"&&u.jsx(pe.div,{className:"absolute inset-0 rounded-full pointer-events-none",animate:{background:[`linear-gradient(135deg, ${p})`,`linear-gradient(225deg, ${p})`,`linear-gradient(315deg, ${p})`,`linear-gradient(45deg, ${p})`,`linear-gradient(135deg, ${p})`]},transition:{duration:8,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%",zIndex:0}}),r==="secondary"&&u.jsx(pe.div,{className:"absolute inset-0 rounded-full pointer-events-none",animate:{background:h?[`linear-gradient(135deg, ${e.colors.map(E=>Vn(E,.5)).join(", ")})`,`linear-gradient(225deg, ${e.colors.map(E=>Vn(E,.5)).join(", ")})`,`linear-gradient(315deg, ${e.colors.map(E=>Vn(E,.5)).join(", ")})`,`linear-gradient(45deg, ${e.colors.map(E=>Vn(E,.5)).join(", ")})`,`linear-gradient(135deg, ${e.colors.map(E=>Vn(E,.5)).join(", ")})`]:[`linear-gradient(135deg, ${e.colors.map(E=>Vn(E,.3)).join(", ")})`,`linear-gradient(225deg, ${e.colors.map(E=>Vn(E,.3)).join(", ")})`,`linear-gradient(315deg, ${e.colors.map(E=>Vn(E,.3)).join(", ")})`,`linear-gradient(45deg, ${e.colors.map(E=>Vn(E,.3)).join(", ")})`,`linear-gradient(135deg, ${e.colors.map(E=>Vn(E,.3)).join(", ")})`]},transition:{duration:h?6:8,repeat:1/0,ease:"linear"},style:{backgroundSize:"200% 200%",zIndex:0}}),r==="outline"&&c&&u.jsx(pe.div,{className:"absolute inset-0 rounded-full pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{background:`linear-gradient(135deg, ${p})`,zIndex:0}}),r==="ghost"&&c&&u.jsx(pe.div,{className:"absolute inset-0 rounded-full pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{background:Vn(w,.2),zIndex:0}}),(r==="primary"||r==="secondary")&&c&&u.jsx(pe.div,{className:"absolute inset-0 rounded-full pointer-events-none",initial:{x:"-100%"},animate:{x:"200%"},transition:{duration:.6,ease:"easeInOut"},style:{background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.6), transparent)",transform:"skewX(-20deg)",zIndex:1}}),u.jsx("span",{className:"relative z-10",style:r==="outline"&&c?{color:"white"}:v,children:t})]})};function xQ(){const t=Qo(),n=Xo().state;return T.useEffect(()=>{(async()=>{var s;try{const i=n!=null&&n.formData?`${window.location.origin}/products`:document.referrer||window.location.href;if((s=n==null?void 0:n.apiError)!=null&&s.apiMetadata)await bF(n.apiError,n.apiError.apiMetadata,i);else if((n==null?void 0:n.errorMessage)==="No recommendations available")await SF(n.errorMessage,i);else{const o=new Error((n==null?void 0:n.errorMessage)||"Unknown error");o.stack=(n==null?void 0:n.errorStack)||o.stack,await HI(o,n==null?void 0:n.componentStack,i)}}catch(i){console.error("Failed to report error:",i)}})()},[n]),u.jsxs(pe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center space-y-6",children:[u.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2",children:[u.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),u.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:u.jsx(vh,{className:"w-20 h-20 text-purple-500"})})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong. This is embarrassing."}),u.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Were working on it. Please try again in a few minutes."}),u.jsxs(pe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/"),className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[u.jsx(Rs,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})}class wQ extends T.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){HI(e,n.componentStack),console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:u.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:u.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Refresh Page"})]})}):this.props.children}}function bQ({measurementId:t}){return T.useEffect(()=>{const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e);const n=document.createElement("script");n.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${t}', {
        send_page_view: true
      });
    `,document.head.appendChild(n)},[t]),null}function SQ({pixelId:t}){return T.useEffect(()=>{const e=document.createElement("script");e.innerHTML=`
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '${t}');
      fbq('track', 'PageView');
    `,document.head.appendChild(e);const n=document.createElement("noscript"),r=document.createElement("img");r.height=1,r.width=1,r.style.display="none",r.src=`https://www.facebook.com/tr?id=${t}&ev=PageView&noscript=1`,n.appendChild(r),document.body.appendChild(n)},[t]),null}function EQ({className:t=""}){const[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(""),[a,l]=T.useState(!1),[c,d]=T.useState(!1),[h,m]=T.useState(!1),[p,w]=T.useState(!1),[_,P]=T.useState(!1),v=T.useRef(null),y=T.useRef(null);if(T.useEffect(()=>{const J=()=>{const q=WI();l(q),d(fm()),m(gx()),w(qI());const L=localStorage.getItem("ss_autofill_enabled");q&&L===null?(localStorage.setItem("ss_autofill_enabled","true"),P(!0)):P(L==="true")};J();const z=setInterval(J,100);return()=>clearInterval(z)},[]),T.useEffect(()=>{const J=z=>{v.current&&!v.current.contains(z.target)&&n(!1),y.current&&y.current.contains(z.target)};if(e)return document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[e,r]),!a)return null;const E=CF(),C=c?{color:"bg-yellow-500",text:"Dev"}:h?{color:"bg-green-500",text:"Dev"}:{color:"bg-red-500",text:"Prod"},V=()=>{if(confirm("Are you sure you want to clear cache? This will clear recommendations and products but keep dev mode settings.")){const J={devMode:localStorage.getItem("ss_dev_mode"),sandboxHeader:localStorage.getItem("ss_sandbox_header"),localMode:localStorage.getItem("ss_local_mode"),mockRecommendations:localStorage.getItem("ss_mock_recommendations"),apiMode:localStorage.getItem("ss_api_mode")};localStorage.clear(),J.devMode&&localStorage.setItem("ss_dev_mode",J.devMode),J.sandboxHeader&&localStorage.setItem("ss_sandbox_header",J.sandboxHeader),J.localMode&&localStorage.setItem("ss_local_mode",J.localMode),J.mockRecommendations&&localStorage.setItem("ss_mock_recommendations",J.mockRecommendations),J.apiMode&&localStorage.setItem("ss_api_mode",J.apiMode),n(!1),window.location.reload()}},x=()=>{PF(),n(!1),window.location.reload()},S=()=>{TF(),n(!1),window.location.reload()},A=()=>{AF(),n(!1),window.location.reload()},I=J=>{IF(J)},R=J=>{J?localStorage.setItem("ss_autofill_enabled","true"):localStorage.removeItem("ss_autofill_enabled"),P(J)},M=()=>{n(!1),s(!0)},N=()=>{try{const J=JSON.parse(i);if(!J.data||!J.data.products||!Array.isArray(J.data.products)){alert("Invalid JSON format. Expected structure: { data: { products: [...] } }");return}const z=J.data.products.map(q=>{let L=0;if(q.product_price){const O=q.product_price.toString().replace(/[$,]/g,"");L=parseFloat(O)||0}return{id:q.asin||`rapidapi-${Math.random().toString(36).substr(2,9)}`,image:q.product_photo||"",name:q.product_title||"Unknown Product",price:L,rating:q.product_star_rating?parseFloat(q.product_star_rating.toString()):void 0,numRatings:q.product_num_ratings||0}});localStorage.setItem("rapidapi_products",JSON.stringify({products:z,timestamp:Date.now()})),window.dispatchEvent(new CustomEvent("rapidapi-products-updated")),s(!1),o(""),alert(`Successfully imported ${z.length} products!`)}catch(J){alert(`Error parsing JSON: ${J instanceof Error?J.message:"Unknown error"}`)}},H=async()=>{n(!1);const z=[...is].sort(()=>.5-Math.random()).slice(0,2).map(L=>L.value),q={name:"Mum",relationship:"mother",gender:"female",dob:"15/03/1975",interests:z,budget_min:10,budget_max:200,other:{clothing_size:"L",favourite_drink:"other"}};try{const L=Ph(q.interests),O={context:{name:q.name,relationship:q.relationship.charAt(0).toUpperCase()+q.relationship.slice(1).toLowerCase(),gender:q.gender.toLowerCase(),dob:q.dob,interests:L,budget_min:q.budget_min,budget_max:q.budget_max,other:q.other}},K=new URLSearchParams,Z=qa(),se=ka("/recommend",K),we=Mc(Z||void 0),ge=await Ur(se,{method:"POST",headers:we,body:JSON.stringify(O)},"POST /recommend");if(!ge.ok)throw new Error(`HTTP error! status: ${ge.status}`);const ke={id:(await ge.json()).recommendation_id||`person-${Date.now()}`,name:q.name,relationship:q.relationship,gender:q.gender,interests:q.interests,minBudget:q.budget_min,maxBudget:q.budget_max,createdAt:Date.now()},De=localStorage.getItem("saved_persons"),ve=De?JSON.parse(De):[];ve.push(ke),localStorage.setItem("saved_persons",JSON.stringify(ve)),window.dispatchEvent(new CustomEvent("person-added",{detail:ke})),alert(`Added "${q.name}" with interests: ${z.join(", ")}`)}catch(L){console.error("Error adding random person:",L),alert(`Failed to add person: ${L instanceof Error?L.message:"Unknown error"}`)}};return u.jsxs("div",{className:`fixed bottom-4 left-4 z-50 ${t}`,ref:v,children:[u.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-lg border border-gray-200 hover:shadow-xl transition-shadow",title:"Dev Mode Settings",children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${C.color}`}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:C.text})]}),e&&u.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:u.jsxs("div",{className:"py-1",children:[u.jsx("button",{onClick:H,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:u.jsx("span",{children:"Add Person"})}),u.jsx("div",{className:"border-t border-gray-200 my-1"}),u.jsxs("button",{onClick:x,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[u.jsx("span",{children:"Local"}),c&&u.jsx("span",{className:"text-green-600",children:""})]}),u.jsxs("button",{onClick:S,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[u.jsx("span",{children:"Sandbox"}),h&&u.jsx("span",{className:"text-green-600",children:""})]}),u.jsxs("button",{onClick:A,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[u.jsx("span",{children:"Prod"}),E&&u.jsx("span",{className:"text-green-600",children:""})]}),u.jsx("div",{className:"border-t border-gray-200 my-1"}),u.jsxs("label",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between cursor-pointer",children:[u.jsx("span",{children:"Autofill"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"checkbox",checked:_,onChange:J=>R(J.target.checked),className:"sr-only"}),u.jsx("div",{className:`w-10 h-5 rounded-full transition-colors flex items-center ${_?"bg-green-500":"bg-gray-300"}`,children:u.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform transform shadow-sm ${_?"translate-x-5":"translate-x-0.5"}`})})]})]}),u.jsx("div",{className:"border-t border-gray-200 my-1"}),u.jsxs("label",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between cursor-pointer",children:[u.jsx("span",{children:"Mock Recommender"}),u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{type:"checkbox",checked:p,onChange:J=>I(J.target.checked),className:"sr-only"}),u.jsx("div",{className:`w-10 h-5 rounded-full transition-colors flex items-center ${p?"bg-green-500":"bg-gray-300"}`,children:u.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform transform shadow-sm ${p?"translate-x-5":"translate-x-0.5"}`})})]})]}),u.jsx("div",{className:"border-t border-gray-200 my-1"}),u.jsx("button",{onClick:M,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:u.jsx("span",{children:"Import RapidAPI JSON"})}),u.jsx("div",{className:"border-t border-gray-200 my-1"}),u.jsx("button",{onClick:V,className:"w-full px-4 py-2 text-left text-sm text-orange-600 hover:bg-orange-50 flex items-center justify-between",children:u.jsx("span",{children:"Clear Cache"})})]})}),r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:u.jsxs("div",{ref:y,className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import RapidAPI JSON"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Paste the JSON response from RapidAPI"})]}),u.jsx("div",{className:"flex-1 overflow-hidden flex flex-col p-6",children:u.jsx("textarea",{value:i,onChange:J=>o(J.target.value),placeholder:"Paste JSON here...",className:"flex-1 w-full p-4 border border-gray-300 rounded-lg font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",style:{minHeight:"300px"}})}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>{s(!1),o("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:"Import"})]})]})})]})}const _Q="G-JRT058C4VQ",TQ="907664617393399";function PQ(){const t=document.createElement("style");t.textContent=`
    /* StackSansText Font Faces */
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* StackSansHeadline Font Faces */
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* StackSansNotch Font Faces - Only for logo */
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* Global styles */
    html {
      font-family: 'StackSansText', sans-serif;
      font-weight: 400;
    }
    h1, h2, h3, h4, h5, h6, .font-headline {
      font-family: 'StackSansHeadline', sans-serif;
      font-weight: 500;
    }
    .font-notch {
      font-family: 'StackSansNotch', sans-serif;
    }
    p, li, span, div, body {
      font-family: 'StackSansText', sans-serif;
    }
    button, a {
      font-family: 'StackSansText', sans-serif;
    }
    /* Disable hover effects on touch devices */
    @media (hover: none) {
      *:hover {
        transform: none !important;
      }
      .group:hover {
        transform: none !important;
      }
      .group:hover img {
        transform: none !important;
      }
    }
  `,document.head.appendChild(t),("ontouchstart"in window||navigator.maxTouchPoints>0)&&document.documentElement.classList.add("touch-device")}function AQ(){const t=Xo(),{toasts:e,removeToast:n,showError:r}=GI();T.useEffect(()=>{PQ(),EF({showError:r})},[r]),T.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),console.log("Current route:",t.pathname);const s=t.pathname==="/person",i=t.pathname.startsWith("/product/");return u.jsxs(u.Fragment,{children:[u.jsx(bQ,{measurementId:_Q}),u.jsx(SQ,{pixelId:TQ}),u.jsx(DF,{toasts:e,onRemove:n}),u.jsx(EQ,{}),u.jsxs("div",{className:`w-full min-h-screen overflow-x-hidden ${s||i?"":"bg-gradient-to-br from-purple-50 to-pink-100 pt-8"}`,children:[u.jsx("style",{children:`
          .no-scrollbar {
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
          }
          .no-scrollbar::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
          }
          /* Disable hover effects on touch devices */
          .touch-device .no-hover-scale:hover {
            transform: none !important;
          }
          .touch-device .group:hover {
            transform: none !important;
          }
          .touch-device .group:hover img {
            transform: none !important;
          }
        `}),u.jsx("div",{className:s||i?"":"max-w-7xl mx-auto px-2 sm:px-4",children:u.jsx(xi,{mode:"wait",children:u.jsx("div",{children:u.jsx(bM,{})},t.pathname)})})]})]})}const CQ=IM([{path:"/",element:u.jsx(AQ,{}),children:[{index:!0,element:u.jsx(Sz,{})},{path:"person",element:u.jsx(vq,{})},{path:"product/:productId",element:u.jsx(hQ,{})},{path:"about",element:u.jsx(Ez,{})},{path:"privacy",element:u.jsx(_z,{})},{path:"terms",element:u.jsx(Tz,{})},{path:"ui",element:u.jsx(gQ,{})},{path:"error",element:u.jsx(xQ,{})},{path:":recId",element:u.jsx(LF,{})}]}]);function IQ(){return u.jsx(wQ,{children:u.jsx(VF,{children:u.jsx(OM,{router:CQ,future:{v7_startTransition:!0}})})})}function wR(){const t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)}wR();window.addEventListener("resize",wR);const RT=document.getElementById("root");RT&&GA(RT).render(u.jsx(IQ,{}));
