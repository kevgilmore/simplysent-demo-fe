function jT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function RT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DT={exports:{}},$h={},MT={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=Symbol.for("react.element"),jR=Symbol.for("react.portal"),RR=Symbol.for("react.fragment"),DR=Symbol.for("react.strict_mode"),MR=Symbol.for("react.profiler"),VR=Symbol.for("react.provider"),LR=Symbol.for("react.context"),OR=Symbol.for("react.forward_ref"),FR=Symbol.for("react.suspense"),$R=Symbol.for("react.memo"),BR=Symbol.for("react.lazy"),fw=Symbol.iterator;function zR(t){return t===null||typeof t!="object"?null:(t=fw&&t[fw]||t["@@iterator"],typeof t=="function"?t:null)}var VT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LT=Object.assign,OT={};function _l(t,e,n){this.props=t,this.context=e,this.refs=OT,this.updater=n||VT}_l.prototype.isReactComponent={};_l.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_l.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FT(){}FT.prototype=_l.prototype;function j0(t,e,n){this.props=t,this.context=e,this.refs=OT,this.updater=n||VT}var R0=j0.prototype=new FT;R0.constructor=j0;LT(R0,_l.prototype);R0.isPureReactComponent=!0;var hw=Array.isArray,$T=Object.prototype.hasOwnProperty,D0={current:null},BT={key:!0,ref:!0,__self:!0,__source:!0};function zT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$T.call(e,r)&&!BT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:$c,type:t,key:i,ref:o,props:s,_owner:D0.current}}function UR(t,e){return{$$typeof:$c,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function M0(t){return typeof t=="object"&&t!==null&&t.$$typeof===$c}function HR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mw=/\/+/g;function Bm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HR(""+t.key):e.toString(36)}function of(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $c:case jR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Bm(o,0):r,hw(s)?(n="",t!=null&&(n=t.replace(mw,"$&/")+"/"),of(s,e,n,"",function(u){return u})):s!=null&&(M0(s)&&(s=UR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",hw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Bm(i,a);o+=of(i,e,n,l,s)}else if(l=zR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Bm(i,a++),o+=of(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wd(t,e,n){if(t==null)return t;var r=[],s=0;return of(t,r,"","",function(i){return e.call(n,i,s++)}),r}function WR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},af={transition:null},qR={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:af,ReactCurrentOwner:D0};function UT(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:wd,forEach:function(t,e,n){wd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wd(t,function(){e++}),e},toArray:function(t){return wd(t,function(e){return e})||[]},only:function(t){if(!M0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=_l;Fe.Fragment=RR;Fe.Profiler=MR;Fe.PureComponent=j0;Fe.StrictMode=DR;Fe.Suspense=FR;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qR;Fe.act=UT;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=LT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=D0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$T.call(e,l)&&!BT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$c,type:t.type,key:s,ref:i,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:LR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VR,_context:t},t.Consumer=t};Fe.createElement=zT;Fe.createFactory=function(t){var e=zT.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:OR,render:t}};Fe.isValidElement=M0;Fe.lazy=function(t){return{$$typeof:BR,_payload:{_status:-1,_result:t},_init:WR}};Fe.memo=function(t,e){return{$$typeof:$R,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=af.transition;af.transition={};try{t()}finally{af.transition=e}};Fe.unstable_act=UT;Fe.useCallback=function(t,e){return Fn.current.useCallback(t,e)};Fe.useContext=function(t){return Fn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Fn.current.useEffect(t,e)};Fe.useId=function(){return Fn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Fn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Fn.current.useRef(t)};Fe.useState=function(t){return Fn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Fn.current.useTransition()};Fe.version="18.3.1";MT.exports=Fe;var T=MT.exports;const ln=RT(T),KR=jT({__proto__:null,default:ln},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR=T,YR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),QR=Object.prototype.hasOwnProperty,JR=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZR={key:!0,ref:!0,__self:!0,__source:!0};function HT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)QR.call(e,r)&&!ZR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:YR,type:t,key:i,ref:o,props:s,_owner:JR.current}}$h.Fragment=XR;$h.jsx=HT;$h.jsxs=HT;DT.exports=$h;var c=DT.exports,WT={exports:{}},fr={},qT={exports:{}},KT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,O){var W=L.length;L.push(O);e:for(;0<W;){var Z=W-1>>>1,se=L[Z];if(0<s(se,O))L[Z]=O,L[W]=se,W=Z;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var O=L[0],W=L.pop();if(W!==O){L[0]=W;e:for(var Z=0,se=L.length,we=se>>>1;Z<we;){var pe=2*(Z+1)-1,_e=L[pe],ke=pe+1,De=L[ke];if(0>s(_e,W))ke<se&&0>s(De,_e)?(L[Z]=De,L[ke]=W,Z=ke):(L[Z]=_e,L[pe]=W,Z=pe);else if(ke<se&&0>s(De,W))L[Z]=De,L[ke]=W,Z=ke;else break e}}return O}function s(L,O){var W=L.sortIndex-O.sortIndex;return W!==0?W:L.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,m=3,p=!1,b=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=L)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function j(L){if(_=!1,E(L),!b)if(n(l)!==null)b=!0,J(C);else{var O=n(u);O!==null&&q(j,O.startTime-L)}}function C(L,O){b=!1,_&&(_=!1,v(S),S=-1),p=!0;var W=m;try{for(E(O),h=n(l);h!==null&&(!(h.expirationTime>O)||L&&!R());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var se=Z(h.expirationTime<=O);O=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(l)&&r(l),E(O)}else r(l);h=n(l)}if(h!==null)var we=!0;else{var pe=n(u);pe!==null&&q(j,pe.startTime-O),we=!1}return we}finally{h=null,m=W,p=!1}}var V=!1,x=null,S=-1,A=5,I=-1;function R(){return!(t.unstable_now()-I<A)}function M(){if(x!==null){var L=t.unstable_now();I=L;var O=!0;try{O=x(!0,L)}finally{O?N():(V=!1,x=null)}}else V=!1}var N;if(typeof y=="function")N=function(){y(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Q=$.port2;$.port1.onmessage=M,N=function(){Q.postMessage(null)}}else N=function(){P(M,0)};function J(L){x=L,V||(V=!0,N())}function q(L,O){S=P(function(){L(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,J(C))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var W=m;m=O;try{return L()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,O){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=m;m=L;try{return O()}finally{m=W}},t.unstable_scheduleCallback=function(L,O,W){var Z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,L={id:d++,callback:O,priorityLevel:L,startTime:W,expirationTime:se,sortIndex:-1},W>Z?(L.sortIndex=W,e(u,L),n(l)===null&&L===n(u)&&(_?(v(S),S=-1):_=!0,q(j,W-Z))):(L.sortIndex=se,e(l,L),b||p||(b=!0,J(C))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var O=m;return function(){var W=m;m=O;try{return L.apply(this,arguments)}finally{m=W}}}})(KT);qT.exports=KT;var eD=qT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD=T,cr=eD;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GT=new Set,Qu={};function Wo(t,e){Ja(t,e),Ja(t+"Capture",e)}function Ja(t,e){for(Qu[t]=e,t=0;t<e.length;t++)GT.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,nD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pw={},gw={};function rD(t){return ug.call(gw,t)?!0:ug.call(pw,t)?!1:nD.test(t)?gw[t]=!0:(pw[t]=!0,!1)}function sD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iD(t,e,n,r){if(e===null||typeof e>"u"||sD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xn[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xn[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xn[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xn[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xn[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xn[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xn[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xn[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xn[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var V0=/[\-:]([a-z])/g;function L0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(V0,L0);xn[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(V0,L0);xn[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(V0,L0);xn[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xn[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});xn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xn[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function O0(t,e,n,r){var s=xn.hasOwnProperty(e)?xn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iD(e,n,s,r)&&(n=null),r||s===null?rD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ys=tD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bd=Symbol.for("react.element"),da=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),F0=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),YT=Symbol.for("react.provider"),XT=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),dg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),B0=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),QT=Symbol.for("react.offscreen"),yw=Symbol.iterator;function ql(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,zm;function au(t){if(zm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zm=e&&e[1]||""}return`
`+zm+t}var Um=!1;function Hm(t,e){if(!t||Um)return"";Um=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Um=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?au(t):""}function oD(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=Hm(t.type,!1),t;case 11:return t=Hm(t.type.render,!1),t;case 1:return t=Hm(t.type,!0),t;default:return""}}function hg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case da:return"Portal";case cg:return"Profiler";case F0:return"StrictMode";case dg:return"Suspense";case fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XT:return(t.displayName||"Context")+".Consumer";case YT:return(t._context.displayName||"Context")+".Provider";case $0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B0:return e=t.displayName||null,e!==null?e:hg(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return hg(t(e))}catch{}}return null}function aD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hg(e);case 8:return e===F0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lD(t){var e=JT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sd(t){t._valueTracker||(t._valueTracker=lD(t))}function ZT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eP(t,e){e=e.checked,e!=null&&O0(t,"checked",e,!1)}function pg(t,e){eP(t,e);var n=ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gg(t,e.type,n):e.hasOwnProperty("defaultValue")&&gg(t,e.type,ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gg(t,e,n){(e!=="number"||Mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lu=Array.isArray;function La(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ji(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ww(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(re(92));if(lu(n)){if(1<n.length)throw Error(re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ji(n)}}function tP(t,e){var n=ji(e.value),r=ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function nP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _d,rP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_d=_d||document.createElement("div"),_d.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_d.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ju(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uD=["Webkit","ms","Moz","O"];Object.keys(wu).forEach(function(t){uD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wu[e]=wu[t]})});function sP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wu.hasOwnProperty(t)&&wu[t]?(""+e).trim():e+"px"}function iP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cD=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xg(t,e){if(e){if(cD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bg=null;function z0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sg=null,Oa=null,Fa=null;function Sw(t){if(t=Uc(t)){if(typeof Sg!="function")throw Error(re(280));var e=t.stateNode;e&&(e=Wh(e),Sg(t.stateNode,t.type,e))}}function oP(t){Oa?Fa?Fa.push(t):Fa=[t]:Oa=t}function aP(){if(Oa){var t=Oa,e=Fa;if(Fa=Oa=null,Sw(t),e)for(t=0;t<e.length;t++)Sw(e[t])}}function lP(t,e){return t(e)}function uP(){}var Wm=!1;function cP(t,e,n){if(Wm)return t(e,n);Wm=!0;try{return lP(t,e,n)}finally{Wm=!1,(Oa!==null||Fa!==null)&&(uP(),aP())}}function Zu(t,e){var n=t.stateNode;if(n===null)return null;var r=Wh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(re(231,e,typeof n));return n}var _g=!1;if(Ds)try{var Kl={};Object.defineProperty(Kl,"passive",{get:function(){_g=!0}}),window.addEventListener("test",Kl,Kl),window.removeEventListener("test",Kl,Kl)}catch{_g=!1}function dD(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var bu=!1,Vf=null,Lf=!1,Eg=null,fD={onError:function(t){bu=!0,Vf=t}};function hD(t,e,n,r,s,i,o,a,l){bu=!1,Vf=null,dD.apply(fD,arguments)}function mD(t,e,n,r,s,i,o,a,l){if(hD.apply(this,arguments),bu){if(bu){var u=Vf;bu=!1,Vf=null}else throw Error(re(198));Lf||(Lf=!0,Eg=u)}}function qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _w(t){if(qo(t)!==t)throw Error(re(188))}function pD(t){var e=t.alternate;if(!e){if(e=qo(t),e===null)throw Error(re(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _w(s),t;if(i===r)return _w(s),e;i=i.sibling}throw Error(re(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(re(189))}}if(n.alternate!==r)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?t:e}function fP(t){return t=pD(t),t!==null?hP(t):null}function hP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hP(t);if(e!==null)return e;t=t.sibling}return null}var mP=cr.unstable_scheduleCallback,Ew=cr.unstable_cancelCallback,gD=cr.unstable_shouldYield,yD=cr.unstable_requestPaint,$t=cr.unstable_now,vD=cr.unstable_getCurrentPriorityLevel,U0=cr.unstable_ImmediatePriority,pP=cr.unstable_UserBlockingPriority,Of=cr.unstable_NormalPriority,xD=cr.unstable_LowPriority,gP=cr.unstable_IdlePriority,Bh=null,os=null;function wD(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:_D,bD=Math.log,SD=Math.LN2;function _D(t){return t>>>=0,t===0?32:31-(bD(t)/SD|0)|0}var Ed=64,Td=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ff(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=uu(a):(i&=o,i!==0&&(r=uu(i)))}else o=n&~s,o!==0?r=uu(o):i!==0&&(r=uu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hr(e),s=1<<n,r|=t[n],e&=~s;return r}function ED(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ED(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yP(){var t=Ed;return Ed<<=1,!(Ed&4194240)&&(Ed=64),t}function qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hr(e),t[e]=n}function PD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function H0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var et=0;function vP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xP,W0,wP,bP,SP,Pg=!1,Pd=[],wi=null,bi=null,Si=null,ec=new Map,tc=new Map,fi=[],AD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tw(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(e.pointerId)}}function Gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Uc(e),e!==null&&W0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function CD(t,e,n,r,s){switch(e){case"focusin":return wi=Gl(wi,t,e,n,r,s),!0;case"dragenter":return bi=Gl(bi,t,e,n,r,s),!0;case"mouseover":return Si=Gl(Si,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ec.set(i,Gl(ec.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,tc.set(i,Gl(tc.get(i)||null,t,e,n,r,s)),!0}return!1}function _P(t){var e=go(t.target);if(e!==null){var n=qo(e);if(n!==null){if(e=n.tag,e===13){if(e=dP(n),e!==null){t.blockedOn=e,SP(t.priority,function(){wP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ag(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bg=r,n.target.dispatchEvent(r),bg=null}else return e=Uc(n),e!==null&&W0(e),t.blockedOn=n,!1;e.shift()}return!0}function Pw(t,e,n){lf(t)&&n.delete(e)}function ID(){Pg=!1,wi!==null&&lf(wi)&&(wi=null),bi!==null&&lf(bi)&&(bi=null),Si!==null&&lf(Si)&&(Si=null),ec.forEach(Pw),tc.forEach(Pw)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Pg||(Pg=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,ID)))}function nc(t){function e(s){return Yl(s,t)}if(0<Pd.length){Yl(Pd[0],t);for(var n=1;n<Pd.length;n++){var r=Pd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&Yl(wi,t),bi!==null&&Yl(bi,t),Si!==null&&Yl(Si,t),ec.forEach(e),tc.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)_P(n),n.blockedOn===null&&fi.shift()}var $a=Ys.ReactCurrentBatchConfig,$f=!0;function kD(t,e,n,r){var s=et,i=$a.transition;$a.transition=null;try{et=1,q0(t,e,n,r)}finally{et=s,$a.transition=i}}function ND(t,e,n,r){var s=et,i=$a.transition;$a.transition=null;try{et=4,q0(t,e,n,r)}finally{et=s,$a.transition=i}}function q0(t,e,n,r){if($f){var s=Ag(t,e,n,r);if(s===null)np(t,e,r,Bf,n),Tw(t,r);else if(CD(s,t,e,n,r))r.stopPropagation();else if(Tw(t,r),e&4&&-1<AD.indexOf(t)){for(;s!==null;){var i=Uc(s);if(i!==null&&xP(i),i=Ag(t,e,n,r),i===null&&np(t,e,r,Bf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else np(t,e,r,null,n)}}var Bf=null;function Ag(t,e,n,r){if(Bf=null,t=z0(r),t=go(t),t!==null)if(e=qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bf=t,null}function EP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vD()){case U0:return 1;case pP:return 4;case Of:case xD:return 16;case gP:return 536870912;default:return 16}default:return 16}}var mi=null,K0=null,uf=null;function TP(){if(uf)return uf;var t,e=K0,n=e.length,r,s="value"in mi?mi.value:mi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return uf=s.slice(t,1<r?1-r:void 0)}function cf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ad(){return!0}function Aw(){return!1}function hr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ad:Aw,this.isPropagationStopped=Aw,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),e}var El={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},G0=hr(El),zc=It({},El,{view:0,detail:0}),jD=hr(zc),Km,Gm,Xl,zh=It({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Y0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(Km=t.screenX-Xl.screenX,Gm=t.screenY-Xl.screenY):Gm=Km=0,Xl=t),Km)},movementY:function(t){return"movementY"in t?t.movementY:Gm}}),Cw=hr(zh),RD=It({},zh,{dataTransfer:0}),DD=hr(RD),MD=It({},zc,{relatedTarget:0}),Ym=hr(MD),VD=It({},El,{animationName:0,elapsedTime:0,pseudoElement:0}),LD=hr(VD),OD=It({},El,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FD=hr(OD),$D=It({},El,{data:0}),Iw=hr($D),BD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UD[t])?!!e[t]:!1}function Y0(){return HD}var WD=It({},zc,{key:function(t){if(t.key){var e=BD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Y0,charCode:function(t){return t.type==="keypress"?cf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qD=hr(WD),KD=It({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kw=hr(KD),GD=It({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Y0}),YD=hr(GD),XD=It({},El,{propertyName:0,elapsedTime:0,pseudoElement:0}),QD=hr(XD),JD=It({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZD=hr(JD),e3=[9,13,27,32],X0=Ds&&"CompositionEvent"in window,Su=null;Ds&&"documentMode"in document&&(Su=document.documentMode);var t3=Ds&&"TextEvent"in window&&!Su,PP=Ds&&(!X0||Su&&8<Su&&11>=Su),Nw=" ",jw=!1;function AP(t,e){switch(t){case"keyup":return e3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function n3(t,e){switch(t){case"compositionend":return CP(e);case"keypress":return e.which!==32?null:(jw=!0,Nw);case"textInput":return t=e.data,t===Nw&&jw?null:t;default:return null}}function r3(t,e){if(ha)return t==="compositionend"||!X0&&AP(t,e)?(t=TP(),uf=K0=mi=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PP&&e.locale!=="ko"?null:e.data;default:return null}}var s3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s3[t.type]:e==="textarea"}function IP(t,e,n,r){oP(r),e=zf(e,"onChange"),0<e.length&&(n=new G0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _u=null,rc=null;function i3(t){$P(t,0)}function Uh(t){var e=ga(t);if(ZT(e))return t}function o3(t,e){if(t==="change")return e}var kP=!1;if(Ds){var Xm;if(Ds){var Qm="oninput"in document;if(!Qm){var Dw=document.createElement("div");Dw.setAttribute("oninput","return;"),Qm=typeof Dw.oninput=="function"}Xm=Qm}else Xm=!1;kP=Xm&&(!document.documentMode||9<document.documentMode)}function Mw(){_u&&(_u.detachEvent("onpropertychange",NP),rc=_u=null)}function NP(t){if(t.propertyName==="value"&&Uh(rc)){var e=[];IP(e,rc,t,z0(t)),cP(i3,e)}}function a3(t,e,n){t==="focusin"?(Mw(),_u=e,rc=n,_u.attachEvent("onpropertychange",NP)):t==="focusout"&&Mw()}function l3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(rc)}function u3(t,e){if(t==="click")return Uh(e)}function c3(t,e){if(t==="input"||t==="change")return Uh(e)}function d3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kr=typeof Object.is=="function"?Object.is:d3;function sc(t,e){if(Kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ug.call(e,s)||!Kr(t[s],e[s]))return!1}return!0}function Vw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lw(t,e){var n=Vw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vw(n)}}function jP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RP(){for(var t=window,e=Mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mf(t.document)}return e}function Q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f3(t){var e=RP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jP(n.ownerDocument.documentElement,n)){if(r!==null&&Q0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Lw(n,i);var o=Lw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var h3=Ds&&"documentMode"in document&&11>=document.documentMode,ma=null,Cg=null,Eu=null,Ig=!1;function Ow(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ig||ma==null||ma!==Mf(r)||(r=ma,"selectionStart"in r&&Q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Eu&&sc(Eu,r)||(Eu=r,r=zf(Cg,"onSelect"),0<r.length&&(e=new G0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ma)))}function Cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pa={animationend:Cd("Animation","AnimationEnd"),animationiteration:Cd("Animation","AnimationIteration"),animationstart:Cd("Animation","AnimationStart"),transitionend:Cd("Transition","TransitionEnd")},Jm={},DP={};Ds&&(DP=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Hh(t){if(Jm[t])return Jm[t];if(!pa[t])return t;var e=pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DP)return Jm[t]=e[n];return t}var MP=Hh("animationend"),VP=Hh("animationiteration"),LP=Hh("animationstart"),OP=Hh("transitionend"),FP=new Map,Fw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,e){FP.set(t,e),Wo(e,[t])}for(var Zm=0;Zm<Fw.length;Zm++){var ep=Fw[Zm],m3=ep.toLowerCase(),p3=ep[0].toUpperCase()+ep.slice(1);qi(m3,"on"+p3)}qi(MP,"onAnimationEnd");qi(VP,"onAnimationIteration");qi(LP,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi(OP,"onTransitionEnd");Ja("onMouseEnter",["mouseout","mouseover"]);Ja("onMouseLeave",["mouseout","mouseover"]);Ja("onPointerEnter",["pointerout","pointerover"]);Ja("onPointerLeave",["pointerout","pointerover"]);Wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g3=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function $w(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,mD(r,e,void 0,t),t.currentTarget=null}function $P(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;$w(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;$w(s,a,u),i=l}}}if(Lf)throw t=Eg,Lf=!1,Eg=null,t}function ct(t,e){var n=e[Dg];n===void 0&&(n=e[Dg]=new Set);var r=t+"__bubble";n.has(r)||(BP(e,t,2,!1),n.add(r))}function tp(t,e,n){var r=0;e&&(r|=4),BP(n,t,r,e)}var Id="_reactListening"+Math.random().toString(36).slice(2);function ic(t){if(!t[Id]){t[Id]=!0,GT.forEach(function(n){n!=="selectionchange"&&(g3.has(n)||tp(n,!1,t),tp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Id]||(e[Id]=!0,tp("selectionchange",!1,e))}}function BP(t,e,n,r){switch(EP(e)){case 1:var s=kD;break;case 4:s=ND;break;default:s=q0}n=s.bind(null,e,n,t),s=void 0,!_g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function np(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}cP(function(){var u=i,d=z0(n),h=[];e:{var m=FP.get(t);if(m!==void 0){var p=G0,b=t;switch(t){case"keypress":if(cf(n)===0)break e;case"keydown":case"keyup":p=qD;break;case"focusin":b="focus",p=Ym;break;case"focusout":b="blur",p=Ym;break;case"beforeblur":case"afterblur":p=Ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Cw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=DD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=YD;break;case MP:case VP:case LP:p=LD;break;case OP:p=QD;break;case"scroll":p=jD;break;case"wheel":p=ZD;break;case"copy":case"cut":case"paste":p=FD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kw}var _=(e&4)!==0,P=!_&&t==="scroll",v=_?m!==null?m+"Capture":null:m;_=[];for(var y=u,E;y!==null;){E=y;var j=E.stateNode;if(E.tag===5&&j!==null&&(E=j,v!==null&&(j=Zu(y,v),j!=null&&_.push(oc(y,j,E)))),P)break;y=y.return}0<_.length&&(m=new p(m,b,null,n,d),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==bg&&(b=n.relatedTarget||n.fromElement)&&(go(b)||b[Ms]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?go(b):null,b!==null&&(P=qo(b),b!==P||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(_=Cw,j="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=kw,j="onPointerLeave",v="onPointerEnter",y="pointer"),P=p==null?m:ga(p),E=b==null?m:ga(b),m=new _(j,y+"leave",p,n,d),m.target=P,m.relatedTarget=E,j=null,go(d)===u&&(_=new _(v,y+"enter",b,n,d),_.target=E,_.relatedTarget=P,j=_),P=j,p&&b)t:{for(_=p,v=b,y=0,E=_;E;E=ea(E))y++;for(E=0,j=v;j;j=ea(j))E++;for(;0<y-E;)_=ea(_),y--;for(;0<E-y;)v=ea(v),E--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=ea(_),v=ea(v)}_=null}else _=null;p!==null&&Bw(h,m,p,_,!1),b!==null&&P!==null&&Bw(h,P,b,_,!0)}}e:{if(m=u?ga(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=o3;else if(Rw(m))if(kP)C=c3;else{C=l3;var V=a3}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=u3);if(C&&(C=C(t,u))){IP(h,C,n,d);break e}V&&V(t,m,u),t==="focusout"&&(V=m._wrapperState)&&V.controlled&&m.type==="number"&&gg(m,"number",m.value)}switch(V=u?ga(u):window,t){case"focusin":(Rw(V)||V.contentEditable==="true")&&(ma=V,Cg=u,Eu=null);break;case"focusout":Eu=Cg=ma=null;break;case"mousedown":Ig=!0;break;case"contextmenu":case"mouseup":case"dragend":Ig=!1,Ow(h,n,d);break;case"selectionchange":if(h3)break;case"keydown":case"keyup":Ow(h,n,d)}var x;if(X0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ha?AP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(PP&&n.locale!=="ko"&&(ha||S!=="onCompositionStart"?S==="onCompositionEnd"&&ha&&(x=TP()):(mi=d,K0="value"in mi?mi.value:mi.textContent,ha=!0)),V=zf(u,S),0<V.length&&(S=new Iw(S,t,null,n,d),h.push({event:S,listeners:V}),x?S.data=x:(x=CP(n),x!==null&&(S.data=x)))),(x=t3?n3(t,n):r3(t,n))&&(u=zf(u,"onBeforeInput"),0<u.length&&(d=new Iw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=x))}$P(h,e)})}function oc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zu(t,n),i!=null&&r.unshift(oc(t,i,s)),i=Zu(t,e),i!=null&&r.push(oc(t,i,s))),t=t.return}return r}function ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Zu(n,i),l!=null&&o.unshift(oc(n,l,a))):s||(l=Zu(n,i),l!=null&&o.push(oc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y3=/\r\n?/g,v3=/\u0000|\uFFFD/g;function zw(t){return(typeof t=="string"?t:""+t).replace(y3,`
`).replace(v3,"")}function kd(t,e,n){if(e=zw(e),zw(t)!==e&&n)throw Error(re(425))}function Uf(){}var kg=null,Ng=null;function jg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,x3=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,w3=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(t){return Uw.resolve(null).then(t).catch(b3)}:Rg;function b3(t){setTimeout(function(){throw t})}function rp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);nc(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),ns="__reactFiber$"+Tl,ac="__reactProps$"+Tl,Ms="__reactContainer$"+Tl,Dg="__reactEvents$"+Tl,S3="__reactListeners$"+Tl,_3="__reactHandles$"+Tl;function go(t){var e=t[ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ms]||n[ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hw(t);t!==null;){if(n=t[ns])return n;t=Hw(t)}return e}t=n,n=t.parentNode}return null}function Uc(t){return t=t[ns]||t[Ms],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function Wh(t){return t[ac]||null}var Mg=[],ya=-1;function Ki(t){return{current:t}}function dt(t){0>ya||(t.current=Mg[ya],Mg[ya]=null,ya--)}function it(t,e){ya++,Mg[ya]=t.current,t.current=e}var Ri={},Rn=Ki(Ri),Xn=Ki(!1),Do=Ri;function Za(t,e){var n=t.type.contextTypes;if(!n)return Ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Qn(t){return t=t.childContextTypes,t!=null}function Hf(){dt(Xn),dt(Rn)}function Ww(t,e,n){if(Rn.current!==Ri)throw Error(re(168));it(Rn,e),it(Xn,n)}function zP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(re(108,aD(t)||"Unknown",s));return It({},n,r)}function Wf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ri,Do=Rn.current,it(Rn,t),it(Xn,Xn.current),!0}function qw(t,e,n){var r=t.stateNode;if(!r)throw Error(re(169));n?(t=zP(t,e,Do),r.__reactInternalMemoizedMergedChildContext=t,dt(Xn),dt(Rn),it(Rn,t)):dt(Xn),it(Xn,n)}var bs=null,qh=!1,sp=!1;function UP(t){bs===null?bs=[t]:bs.push(t)}function E3(t){qh=!0,UP(t)}function Gi(){if(!sp&&bs!==null){sp=!0;var t=0,e=et;try{var n=bs;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bs=null,qh=!1}catch(s){throw bs!==null&&(bs=bs.slice(t+1)),mP(U0,Gi),s}finally{et=e,sp=!1}}return null}var va=[],xa=0,qf=null,Kf=0,_r=[],Er=0,Mo=null,_s=1,Es="";function oo(t,e){va[xa++]=Kf,va[xa++]=qf,qf=t,Kf=e}function HP(t,e,n){_r[Er++]=_s,_r[Er++]=Es,_r[Er++]=Mo,Mo=t;var r=_s;t=Es;var s=32-Hr(r)-1;r&=~(1<<s),n+=1;var i=32-Hr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_s=1<<32-Hr(e)+s|n<<s|r,Es=i+t}else _s=1<<i|n<<s|r,Es=t}function J0(t){t.return!==null&&(oo(t,1),HP(t,1,0))}function Z0(t){for(;t===qf;)qf=va[--xa],va[xa]=null,Kf=va[--xa],va[xa]=null;for(;t===Mo;)Mo=_r[--Er],_r[Er]=null,Es=_r[--Er],_r[Er]=null,_s=_r[--Er],_r[Er]=null}var lr=null,ar=null,vt=!1,$r=null;function WP(t,e){var n=Tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lr=t,ar=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lr=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mo!==null?{id:_s,overflow:Es}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lr=t,ar=null,!0):!1;default:return!1}}function Vg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lg(t){if(vt){var e=ar;if(e){var n=e;if(!Kw(t,e)){if(Vg(t))throw Error(re(418));e=_i(n.nextSibling);var r=lr;e&&Kw(t,e)?WP(r,n):(t.flags=t.flags&-4097|2,vt=!1,lr=t)}}else{if(Vg(t))throw Error(re(418));t.flags=t.flags&-4097|2,vt=!1,lr=t}}}function Gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lr=t}function Nd(t){if(t!==lr)return!1;if(!vt)return Gw(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jg(t.type,t.memoizedProps)),e&&(e=ar)){if(Vg(t))throw qP(),Error(re(418));for(;e;)WP(t,e),e=_i(e.nextSibling)}if(Gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=lr?_i(t.stateNode.nextSibling):null;return!0}function qP(){for(var t=ar;t;)t=_i(t.nextSibling)}function el(){ar=lr=null,vt=!1}function ev(t){$r===null?$r=[t]:$r.push(t)}var T3=Ys.ReactCurrentBatchConfig;function Ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var r=n.stateNode}if(!r)throw Error(re(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,t))}return t}function jd(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yw(t){var e=t._init;return e(t._payload)}function KP(t){function e(v,y){if(t){var E=v.deletions;E===null?(v.deletions=[y],v.flags|=16):E.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Ai(v,y),v.index=0,v.sibling=null,v}function i(v,y,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<y?(v.flags|=2,y):E):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,E,j){return y===null||y.tag!==6?(y=dp(E,v.mode,j),y.return=v,y):(y=s(y,E),y.return=v,y)}function l(v,y,E,j){var C=E.type;return C===fa?d(v,y,E.props.children,j,E.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ci&&Yw(C)===y.type)?(j=s(y,E.props),j.ref=Ql(v,y,E),j.return=v,j):(j=yf(E.type,E.key,E.props,null,v.mode,j),j.ref=Ql(v,y,E),j.return=v,j)}function u(v,y,E,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=fp(E,v.mode,j),y.return=v,y):(y=s(y,E.children||[]),y.return=v,y)}function d(v,y,E,j,C){return y===null||y.tag!==7?(y=Ao(E,v.mode,j,C),y.return=v,y):(y=s(y,E),y.return=v,y)}function h(v,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dp(""+y,v.mode,E),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case bd:return E=yf(y.type,y.key,y.props,null,v.mode,E),E.ref=Ql(v,null,y),E.return=v,E;case da:return y=fp(y,v.mode,E),y.return=v,y;case ci:var j=y._init;return h(v,j(y._payload),E)}if(lu(y)||ql(y))return y=Ao(y,v.mode,E,null),y.return=v,y;jd(v,y)}return null}function m(v,y,E,j){var C=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return C!==null?null:a(v,y,""+E,j);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case bd:return E.key===C?l(v,y,E,j):null;case da:return E.key===C?u(v,y,E,j):null;case ci:return C=E._init,m(v,y,C(E._payload),j)}if(lu(E)||ql(E))return C!==null?null:d(v,y,E,j,null);jd(v,E)}return null}function p(v,y,E,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(E)||null,a(y,v,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case bd:return v=v.get(j.key===null?E:j.key)||null,l(y,v,j,C);case da:return v=v.get(j.key===null?E:j.key)||null,u(y,v,j,C);case ci:var V=j._init;return p(v,y,E,V(j._payload),C)}if(lu(j)||ql(j))return v=v.get(E)||null,d(y,v,j,C,null);jd(y,j)}return null}function b(v,y,E,j){for(var C=null,V=null,x=y,S=y=0,A=null;x!==null&&S<E.length;S++){x.index>S?(A=x,x=null):A=x.sibling;var I=m(v,x,E[S],j);if(I===null){x===null&&(x=A);break}t&&x&&I.alternate===null&&e(v,x),y=i(I,y,S),V===null?C=I:V.sibling=I,V=I,x=A}if(S===E.length)return n(v,x),vt&&oo(v,S),C;if(x===null){for(;S<E.length;S++)x=h(v,E[S],j),x!==null&&(y=i(x,y,S),V===null?C=x:V.sibling=x,V=x);return vt&&oo(v,S),C}for(x=r(v,x);S<E.length;S++)A=p(x,v,S,E[S],j),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?S:A.key),y=i(A,y,S),V===null?C=A:V.sibling=A,V=A);return t&&x.forEach(function(R){return e(v,R)}),vt&&oo(v,S),C}function _(v,y,E,j){var C=ql(E);if(typeof C!="function")throw Error(re(150));if(E=C.call(E),E==null)throw Error(re(151));for(var V=C=null,x=y,S=y=0,A=null,I=E.next();x!==null&&!I.done;S++,I=E.next()){x.index>S?(A=x,x=null):A=x.sibling;var R=m(v,x,I.value,j);if(R===null){x===null&&(x=A);break}t&&x&&R.alternate===null&&e(v,x),y=i(R,y,S),V===null?C=R:V.sibling=R,V=R,x=A}if(I.done)return n(v,x),vt&&oo(v,S),C;if(x===null){for(;!I.done;S++,I=E.next())I=h(v,I.value,j),I!==null&&(y=i(I,y,S),V===null?C=I:V.sibling=I,V=I);return vt&&oo(v,S),C}for(x=r(v,x);!I.done;S++,I=E.next())I=p(x,v,S,I.value,j),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?S:I.key),y=i(I,y,S),V===null?C=I:V.sibling=I,V=I);return t&&x.forEach(function(M){return e(v,M)}),vt&&oo(v,S),C}function P(v,y,E,j){if(typeof E=="object"&&E!==null&&E.type===fa&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case bd:e:{for(var C=E.key,V=y;V!==null;){if(V.key===C){if(C=E.type,C===fa){if(V.tag===7){n(v,V.sibling),y=s(V,E.props.children),y.return=v,v=y;break e}}else if(V.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ci&&Yw(C)===V.type){n(v,V.sibling),y=s(V,E.props),y.ref=Ql(v,V,E),y.return=v,v=y;break e}n(v,V);break}else e(v,V);V=V.sibling}E.type===fa?(y=Ao(E.props.children,v.mode,j,E.key),y.return=v,v=y):(j=yf(E.type,E.key,E.props,null,v.mode,j),j.ref=Ql(v,y,E),j.return=v,v=j)}return o(v);case da:e:{for(V=E.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(v,y.sibling),y=s(y,E.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=fp(E,v.mode,j),y.return=v,v=y}return o(v);case ci:return V=E._init,P(v,y,V(E._payload),j)}if(lu(E))return b(v,y,E,j);if(ql(E))return _(v,y,E,j);jd(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,E),y.return=v,v=y):(n(v,y),y=dp(E,v.mode,j),y.return=v,v=y),o(v)):n(v,y)}return P}var tl=KP(!0),GP=KP(!1),Gf=Ki(null),Yf=null,wa=null,tv=null;function nv(){tv=wa=Yf=null}function rv(t){var e=Gf.current;dt(Gf),t._currentValue=e}function Og(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ba(t,e){Yf=t,tv=wa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(tv!==t)if(t={context:t,memoizedValue:e,next:null},wa===null){if(Yf===null)throw Error(re(308));wa=t,Yf.dependencies={lanes:0,firstContext:t}}else wa=wa.next=t;return e}var yo=null;function sv(t){yo===null?yo=[t]:yo.push(t)}function YP(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,sv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vs(t,r)}function Vs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var di=!1;function iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function As(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vs(t,n)}return s=r.interleaved,s===null?(e.next=e,sv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vs(t,n)}function df(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}function Xw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xf(t,e,n,r){var s=t.updateQueue;di=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,_=a;switch(m=e,p=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){h=b.call(p,h,m);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,m=typeof b=="function"?b.call(p,h,m):b,m==null)break e;h=It({},h,m);break e;case 2:di=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Lo|=o,t.lanes=o,t.memoizedState=h}}function Qw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(re(191,s));s.call(r)}}}var Hc={},as=Ki(Hc),lc=Ki(Hc),uc=Ki(Hc);function vo(t){if(t===Hc)throw Error(re(174));return t}function ov(t,e){switch(it(uc,e),it(lc,t),it(as,Hc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vg(e,t)}dt(as),it(as,e)}function nl(){dt(as),dt(lc),dt(uc)}function QP(t){vo(uc.current);var e=vo(as.current),n=vg(e,t.type);e!==n&&(it(lc,t),it(as,n))}function av(t){lc.current===t&&(dt(as),dt(lc))}var Et=Ki(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ip=[];function lv(){for(var t=0;t<ip.length;t++)ip[t]._workInProgressVersionPrimary=null;ip.length=0}var ff=Ys.ReactCurrentDispatcher,op=Ys.ReactCurrentBatchConfig,Vo=0,At=null,Qt=null,on=null,Jf=!1,Tu=!1,cc=0,P3=0;function _n(){throw Error(re(321))}function uv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function cv(t,e,n,r,s,i){if(Vo=i,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ff.current=t===null||t.memoizedState===null?k3:N3,t=n(r,s),Tu){i=0;do{if(Tu=!1,cc=0,25<=i)throw Error(re(301));i+=1,on=Qt=null,e.updateQueue=null,ff.current=j3,t=n(r,s)}while(Tu)}if(ff.current=Zf,e=Qt!==null&&Qt.next!==null,Vo=0,on=Qt=At=null,Jf=!1,e)throw Error(re(300));return t}function dv(){var t=cc!==0;return cc=0,t}function Zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?At.memoizedState=on=t:on=on.next=t,on}function kr(){if(Qt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var e=on===null?At.memoizedState:on.next;if(e!==null)on=e,Qt=t;else{if(t===null)throw Error(re(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},on===null?At.memoizedState=on=t:on=on.next=t}return on}function dc(t,e){return typeof e=="function"?e(t):e}function ap(t){var e=kr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=Qt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Vo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,At.lanes|=d,Lo|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Kr(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,At.lanes|=i,Lo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lp(t){var e=kr(),n=e.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Kr(i,e.memoizedState)||(Gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function JP(){}function ZP(t,e){var n=At,r=kr(),s=e(),i=!Kr(r.memoizedState,s);if(i&&(r.memoizedState=s,Gn=!0),r=r.queue,fv(nA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||on!==null&&on.memoizedState.tag&1){if(n.flags|=2048,fc(9,tA.bind(null,n,r,s,e),void 0,null),un===null)throw Error(re(349));Vo&30||eA(n,e,s)}return s}function eA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tA(t,e,n,r){e.value=n,e.getSnapshot=r,rA(e)&&sA(t)}function nA(t,e,n){return n(function(){rA(e)&&sA(t)})}function rA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kr(t,n)}catch{return!0}}function sA(t){var e=Vs(t,1);e!==null&&Wr(e,t,1,-1)}function Jw(t){var e=Zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:t},e.queue=t,t=t.dispatch=I3.bind(null,At,t),[e.memoizedState,t]}function fc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iA(){return kr().memoizedState}function hf(t,e,n,r){var s=Zr();At.flags|=t,s.memoizedState=fc(1|e,n,void 0,r===void 0?null:r)}function Kh(t,e,n,r){var s=kr();r=r===void 0?null:r;var i=void 0;if(Qt!==null){var o=Qt.memoizedState;if(i=o.destroy,r!==null&&uv(r,o.deps)){s.memoizedState=fc(e,n,i,r);return}}At.flags|=t,s.memoizedState=fc(1|e,n,i,r)}function Zw(t,e){return hf(8390656,8,t,e)}function fv(t,e){return Kh(2048,8,t,e)}function oA(t,e){return Kh(4,2,t,e)}function aA(t,e){return Kh(4,4,t,e)}function lA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uA(t,e,n){return n=n!=null?n.concat([t]):null,Kh(4,4,lA.bind(null,e,t),n)}function hv(){}function cA(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dA(t,e){var n=kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fA(t,e,n){return Vo&21?(Kr(n,e)||(n=yP(),At.lanes|=n,Lo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function A3(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=op.transition;op.transition={};try{t(!1),e()}finally{et=n,op.transition=r}}function hA(){return kr().memoizedState}function C3(t,e,n){var r=Pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mA(t))pA(e,n);else if(n=YP(t,e,n,r),n!==null){var s=On();Wr(n,t,r,s),gA(n,e,r)}}function I3(t,e,n){var r=Pi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mA(t))pA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Kr(a,o)){var l=e.interleaved;l===null?(s.next=s,sv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=YP(t,e,s,r),n!==null&&(s=On(),Wr(n,t,r,s),gA(n,e,r))}}function mA(t){var e=t.alternate;return t===At||e!==null&&e===At}function pA(t,e){Tu=Jf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}var Zf={readContext:Ir,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},k3={readContext:Ir,useCallback:function(t,e){return Zr().memoizedState=[t,e===void 0?null:e],t},useContext:Ir,useEffect:Zw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hf(4194308,4,lA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hf(4194308,4,t,e)},useInsertionEffect:function(t,e){return hf(4,2,t,e)},useMemo:function(t,e){var n=Zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=C3.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=Zr();return t={current:t},e.memoizedState=t},useState:Jw,useDebugValue:hv,useDeferredValue:function(t){return Zr().memoizedState=t},useTransition:function(){var t=Jw(!1),e=t[0];return t=A3.bind(null,t[1]),Zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,s=Zr();if(vt){if(n===void 0)throw Error(re(407));n=n()}else{if(n=e(),un===null)throw Error(re(349));Vo&30||eA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Zw(nA.bind(null,r,i,t),[t]),r.flags|=2048,fc(9,tA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Zr(),e=un.identifierPrefix;if(vt){var n=Es,r=_s;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N3={readContext:Ir,useCallback:cA,useContext:Ir,useEffect:fv,useImperativeHandle:uA,useInsertionEffect:oA,useLayoutEffect:aA,useMemo:dA,useReducer:ap,useRef:iA,useState:function(){return ap(dc)},useDebugValue:hv,useDeferredValue:function(t){var e=kr();return fA(e,Qt.memoizedState,t)},useTransition:function(){var t=ap(dc)[0],e=kr().memoizedState;return[t,e]},useMutableSource:JP,useSyncExternalStore:ZP,useId:hA,unstable_isNewReconciler:!1},j3={readContext:Ir,useCallback:cA,useContext:Ir,useEffect:fv,useImperativeHandle:uA,useInsertionEffect:oA,useLayoutEffect:aA,useMemo:dA,useReducer:lp,useRef:iA,useState:function(){return lp(dc)},useDebugValue:hv,useDeferredValue:function(t){var e=kr();return Qt===null?e.memoizedState=t:fA(e,Qt.memoizedState,t)},useTransition:function(){var t=lp(dc)[0],e=kr().memoizedState;return[t,e]},useMutableSource:JP,useSyncExternalStore:ZP,useId:hA,unstable_isNewReconciler:!1};function Lr(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gh={isMounted:function(t){return(t=t._reactInternals)?qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),s=Pi(t),i=As(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ei(t,i,s),e!==null&&(Wr(e,t,s,r),df(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),s=Pi(t),i=As(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ei(t,i,s),e!==null&&(Wr(e,t,s,r),df(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=Pi(t),s=As(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ei(t,s,r),e!==null&&(Wr(e,t,r,n),df(e,t,r))}};function eb(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!sc(n,r)||!sc(s,i):!0}function yA(t,e,n){var r=!1,s=Ri,i=e.contextType;return typeof i=="object"&&i!==null?i=Ir(i):(s=Qn(e)?Do:Rn.current,r=e.contextTypes,i=(r=r!=null)?Za(t,s):Ri),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function tb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function $g(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},iv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ir(i):(i=Qn(e)?Do:Rn.current,s.context=Za(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gh.enqueueReplaceState(s,s.state,null),Xf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function rl(t,e){try{var n="",r=e;do n+=oD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function up(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var R3=typeof WeakMap=="function"?WeakMap:Map;function vA(t,e,n){n=As(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){th||(th=!0,Qg=r),Bg(t,e)},n}function xA(t,e,n){n=As(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Bg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Bg(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new R3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=K3.bind(null,t,e,n),e.then(t,t))}function rb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=As(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var D3=Ys.ReactCurrentOwner,Gn=!1;function Vn(t,e,n,r){e.child=t===null?GP(e,null,n,r):tl(e,t.child,n,r)}function ib(t,e,n,r,s){n=n.render;var i=e.ref;return Ba(e,s),r=cv(t,e,n,r,i,s),n=dv(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(vt&&n&&J0(e),e.flags|=1,Vn(t,e,r,s),e.child)}function ob(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!bv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,wA(t,e,i,r,s)):(t=yf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:sc,n(o,r)&&t.ref===e.ref)return Ls(t,e,s)}return e.flags|=1,t=Ai(i,r),t.ref=e.ref,t.return=e,e.child=t}function wA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(sc(i,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,Ls(t,e,s)}return zg(t,e,n,r,s)}function bA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Sa,sr),sr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(Sa,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,it(Sa,sr),sr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,it(Sa,sr),sr|=r;return Vn(t,e,s,n),e.child}function SA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,r,s){var i=Qn(n)?Do:Rn.current;return i=Za(e,i),Ba(e,s),n=cv(t,e,n,r,i,s),r=dv(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ls(t,e,s)):(vt&&r&&J0(e),e.flags|=1,Vn(t,e,n,s),e.child)}function ab(t,e,n,r,s){if(Qn(n)){var i=!0;Wf(e)}else i=!1;if(Ba(e,s),e.stateNode===null)mf(t,e),yA(e,n,r),$g(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ir(u):(u=Qn(n)?Do:Rn.current,u=Za(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&tb(e,o,r,u),di=!1;var m=e.memoizedState;o.state=m,Xf(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Xn.current||di?(typeof d=="function"&&(Fg(e,n,d,r),l=e.memoizedState),(a=di||eb(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,XP(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Lr(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ir(l):(l=Qn(n)?Do:Rn.current,l=Za(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&tb(e,o,r,l),di=!1,m=e.memoizedState,o.state=m,Xf(e,r,o,s);var b=e.memoizedState;a!==h||m!==b||Xn.current||di?(typeof p=="function"&&(Fg(e,n,p,r),b=e.memoizedState),(u=di||eb(e,n,u,r,m,b,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ug(t,e,n,r,i,s)}function Ug(t,e,n,r,s,i){SA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&qw(e,n,!1),Ls(t,e,i);r=e.stateNode,D3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=tl(e,t.child,null,i),e.child=tl(e,null,a,i)):Vn(t,e,a,i),e.memoizedState=r.state,s&&qw(e,n,!0),e.child}function _A(t){var e=t.stateNode;e.pendingContext?Ww(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ww(t,e.context,!1),ov(t,e.containerInfo)}function lb(t,e,n,r,s){return el(),ev(s),e.flags|=256,Vn(t,e,n,r),e.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function Wg(t){return{baseLanes:t,cachePool:null,transitions:null}}function EA(t,e,n){var r=e.pendingProps,s=Et.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),it(Et,s&1),t===null)return Lg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qh(o,r,0,null),t=Ao(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wg(n),e.memoizedState=Hg,t):mv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return M3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ai(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ai(a,i):(i=Ao(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hg,r}return i=t.child,t=i.sibling,r=Ai(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mv(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rd(t,e,n,r){return r!==null&&ev(r),tl(e,t.child,null,n),t=mv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=up(Error(re(422))),Rd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Qh({mode:"visible",children:r.children},s,0,null),i=Ao(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&tl(e,t.child,null,o),e.child.memoizedState=Wg(o),e.memoizedState=Hg,i);if(!(e.mode&1))return Rd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(re(419)),r=up(i,r,void 0),Rd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gn||a){if(r=un,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vs(t,s),Wr(r,t,s,-1))}return wv(),r=up(Error(re(421))),Rd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=G3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ar=_i(s.nextSibling),lr=e,vt=!0,$r=null,t!==null&&(_r[Er++]=_s,_r[Er++]=Es,_r[Er++]=Mo,_s=t.id,Es=t.overflow,Mo=e),e=mv(e,r.children),e.flags|=4096,e)}function ub(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Og(t.return,e,n)}function cp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function TA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Vn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ub(t,n,e);else if(t.tag===19)ub(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(Et,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Qf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),cp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Qf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}cp(e,!0,n,null,i);break;case"together":cp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V3(t,e,n){switch(e.tag){case 3:_A(e),el();break;case 5:QP(e);break;case 1:Qn(e.type)&&Wf(e);break;case 4:ov(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;it(Gf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?EA(t,e,n):(it(Et,Et.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);it(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),it(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,bA(t,e,n)}return Ls(t,e,n)}var PA,qg,AA,CA;PA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qg=function(){};AA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vo(as.current);var i=null;switch(n){case"input":s=mg(t,s),r=mg(t,r),i=[];break;case"select":s=It({},s,{value:void 0}),r=It({},r,{value:void 0}),i=[];break;case"textarea":s=yg(t,s),r=yg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}xg(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qu.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ct("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};CA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jl(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function En(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function L3(t,e,n){var r=e.pendingProps;switch(Z0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return Qn(e.type)&&Hf(),En(e),null;case 3:return r=e.stateNode,nl(),dt(Xn),dt(Rn),lv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(ey($r),$r=null))),qg(t,e),En(e),null;case 5:av(e);var s=vo(uc.current);if(n=e.type,t!==null&&e.stateNode!=null)AA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(re(166));return En(e),null}if(t=vo(as.current),Nd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ns]=e,r[ac]=i,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(s=0;s<cu.length;s++)ct(cu[s],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":vw(r,i),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ct("invalid",r);break;case"textarea":ww(r,i),ct("invalid",r)}xg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&kd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&kd(r.textContent,a,t),s=["children",""+a]):Qu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":Sd(r),xw(r,i,!0);break;case"textarea":Sd(r),bw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=nP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ns]=e,t[ac]=r,PA(t,e,!1,!1),e.stateNode=t;e:{switch(o=wg(n,r),n){case"dialog":ct("cancel",t),ct("close",t),s=r;break;case"iframe":case"object":case"embed":ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<cu.length;s++)ct(cu[s],t);s=r;break;case"source":ct("error",t),s=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),s=r;break;case"details":ct("toggle",t),s=r;break;case"input":vw(t,r),s=mg(t,r),ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=It({},r,{value:void 0}),ct("invalid",t);break;case"textarea":ww(t,r),s=yg(t,r),ct("invalid",t);break;default:s=r}xg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?iP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ju(t,l):typeof l=="number"&&Ju(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ct("scroll",t):l!=null&&O0(t,i,l,o))}switch(n){case"input":Sd(t),xw(t,r,!1);break;case"textarea":Sd(t),bw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ji(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?La(t,!!r.multiple,i,!1):r.defaultValue!=null&&La(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(t&&e.stateNode!=null)CA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(re(166));if(n=vo(uc.current),vo(as.current),Nd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ns]=e,(i=r.nodeValue!==n)&&(t=lr,t!==null))switch(t.tag){case 3:kd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ns]=e,e.stateNode=r}return En(e),null;case 13:if(dt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&ar!==null&&e.mode&1&&!(e.flags&128))qP(),el(),e.flags|=98560,i=!1;else if(i=Nd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(re(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(re(317));i[ns]=e}else el(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),i=!1}else $r!==null&&(ey($r),$r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Zt===0&&(Zt=3):wv())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return nl(),qg(t,e),t===null&&ic(e.stateNode.containerInfo),En(e),null;case 10:return rv(e.type._context),En(e),null;case 17:return Qn(e.type)&&Hf(),En(e),null;case 19:if(dt(Et),i=e.memoizedState,i===null)return En(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Jl(i,!1);else{if(Zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qf(t),o!==null){for(e.flags|=128,Jl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(Et,Et.current&1|2),e.child}t=t.sibling}i.tail!==null&&$t()>sl&&(e.flags|=128,r=!0,Jl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return En(e),null}else 2*$t()-i.renderingStartTime>sl&&n!==1073741824&&(e.flags|=128,r=!0,Jl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$t(),e.sibling=null,n=Et.current,it(Et,r?n&1|2:n&1),e):(En(e),null);case 22:case 23:return xv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function O3(t,e){switch(Z0(e),e.tag){case 1:return Qn(e.type)&&Hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nl(),dt(Xn),dt(Rn),lv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return av(e),null;case 13:if(dt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));el()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(Et),null;case 4:return nl(),null;case 10:return rv(e.type._context),null;case 22:case 23:return xv(),null;case 24:return null;default:return null}}var Dd=!1,Cn=!1,F3=typeof WeakSet=="function"?WeakSet:Set,me=null;function ba(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function Kg(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var cb=!1;function $3(t,e){if(kg=$f,t=RP(),Q0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ng={focusedElem:t,selectionRange:n},$f=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,P=b.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Lr(e.type,_),P);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(j){Mt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return b=cb,cb=!1,b}function Pu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kg(e,n,i)}s=s.next}while(s!==r)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function IA(t){var e=t.alternate;e!==null&&(t.alternate=null,IA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ns],delete e[ac],delete e[Dg],delete e[S3],delete e[_3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kA(t){return t.tag===5||t.tag===3||t.tag===4}function db(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}function Xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xg(t,e,n),t=t.sibling;t!==null;)Xg(t,e,n),t=t.sibling}var mn=null,Or=!1;function ii(t,e,n){for(n=n.child;n!==null;)NA(t,e,n),n=n.sibling}function NA(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:Cn||ba(n,e);case 6:var r=mn,s=Or;mn=null,ii(t,e,n),mn=r,Or=s,mn!==null&&(Or?(t=mn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mn.removeChild(n.stateNode));break;case 18:mn!==null&&(Or?(t=mn,n=n.stateNode,t.nodeType===8?rp(t.parentNode,n):t.nodeType===1&&rp(t,n),nc(t)):rp(mn,n.stateNode));break;case 4:r=mn,s=Or,mn=n.stateNode.containerInfo,Or=!0,ii(t,e,n),mn=r,Or=s;break;case 0:case 11:case 14:case 15:if(!Cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kg(n,e,o),s=s.next}while(s!==r)}ii(t,e,n);break;case 1:if(!Cn&&(ba(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}ii(t,e,n);break;case 21:ii(t,e,n);break;case 22:n.mode&1?(Cn=(r=Cn)||n.memoizedState!==null,ii(t,e,n),Cn=r):ii(t,e,n);break;default:ii(t,e,n)}}function fb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new F3),e.forEach(function(r){var s=Y3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mn=a.stateNode,Or=!1;break e;case 3:mn=a.stateNode.containerInfo,Or=!0;break e;case 4:mn=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(mn===null)throw Error(re(160));NA(i,o,s),mn=null,Or=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Mt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jA(e,t),e=e.sibling}function jA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),Jr(t),r&4){try{Pu(3,t,t.return),Yh(3,t)}catch(_){Mt(t,t.return,_)}try{Pu(5,t,t.return)}catch(_){Mt(t,t.return,_)}}break;case 1:Dr(e,t),Jr(t),r&512&&n!==null&&ba(n,n.return);break;case 5:if(Dr(e,t),Jr(t),r&512&&n!==null&&ba(n,n.return),t.flags&32){var s=t.stateNode;try{Ju(s,"")}catch(_){Mt(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&eP(s,i),wg(a,o);var u=wg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?iP(s,h):d==="dangerouslySetInnerHTML"?rP(s,h):d==="children"?Ju(s,h):O0(s,d,h,u)}switch(a){case"input":pg(s,i);break;case"textarea":tP(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?La(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?La(s,!!i.multiple,i.defaultValue,!0):La(s,!!i.multiple,i.multiple?[]:"",!1))}s[ac]=i}catch(_){Mt(t,t.return,_)}}break;case 6:if(Dr(e,t),Jr(t),r&4){if(t.stateNode===null)throw Error(re(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Mt(t,t.return,_)}}break;case 3:if(Dr(e,t),Jr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nc(e.containerInfo)}catch(_){Mt(t,t.return,_)}break;case 4:Dr(e,t),Jr(t);break;case 13:Dr(e,t),Jr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yv=$t())),r&4&&fb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Cn=(u=Cn)||d,Dr(e,t),Cn=u):Dr(e,t),Jr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(h=me=d;me!==null;){switch(m=me,p=m.child,m.tag){case 0:case 11:case 14:case 15:Pu(4,m,m.return);break;case 1:ba(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){Mt(r,n,_)}}break;case 5:ba(m,m.return);break;case 22:if(m.memoizedState!==null){mb(h);continue}}p!==null?(p.return=m,me=p):mb(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sP("display",o))}catch(_){Mt(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Mt(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dr(e,t),Jr(t),r&4&&fb(t);break;case 21:break;default:Dr(e,t),Jr(t)}}function Jr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kA(n)){var r=n;break e}n=n.return}throw Error(re(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ju(s,""),r.flags&=-33);var i=db(t);Xg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=db(t);Yg(t,a,o);break;default:throw Error(re(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function B3(t,e,n){me=t,RA(t)}function RA(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var s=me,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Dd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Cn;a=Dd;var u=Cn;if(Dd=o,(Cn=l)&&!u)for(me=s;me!==null;)o=me,l=o.child,o.tag===22&&o.memoizedState!==null?pb(s):l!==null?(l.return=o,me=l):pb(s);for(;i!==null;)me=i,RA(i),i=i.sibling;me=s,Dd=a,Cn=u}hb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,me=i):hb(t)}}function hb(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cn||Yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Cn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Lr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&nc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Cn||e.flags&512&&Gg(e)}catch(m){Mt(e,e.return,m)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function mb(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function pb(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yh(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Mt(e,s,l)}}var i=e.return;try{Gg(e)}catch(l){Mt(e,i,l)}break;case 5:var o=e.return;try{Gg(e)}catch(l){Mt(e,o,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var z3=Math.ceil,eh=Ys.ReactCurrentDispatcher,pv=Ys.ReactCurrentOwner,Ar=Ys.ReactCurrentBatchConfig,Qe=0,un=null,Gt=null,vn=0,sr=0,Sa=Ki(0),Zt=0,hc=null,Lo=0,Xh=0,gv=0,Au=null,Kn=null,yv=0,sl=1/0,ws=null,th=!1,Qg=null,Ti=null,Md=!1,pi=null,nh=0,Cu=0,Jg=null,pf=-1,gf=0;function On(){return Qe&6?$t():pf!==-1?pf:pf=$t()}function Pi(t){return t.mode&1?Qe&2&&vn!==0?vn&-vn:T3.transition!==null?(gf===0&&(gf=yP()),gf):(t=et,t!==0||(t=window.event,t=t===void 0?16:EP(t.type)),t):1}function Wr(t,e,n,r){if(50<Cu)throw Cu=0,Jg=null,Error(re(185));Bc(t,n,r),(!(Qe&2)||t!==un)&&(t===un&&(!(Qe&2)&&(Xh|=n),Zt===4&&hi(t,vn)),Jn(t,r),n===1&&Qe===0&&!(e.mode&1)&&(sl=$t()+500,qh&&Gi()))}function Jn(t,e){var n=t.callbackNode;TD(t,e);var r=Ff(t,t===un?vn:0);if(r===0)n!==null&&Ew(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ew(n),e===1)t.tag===0?E3(gb.bind(null,t)):UP(gb.bind(null,t)),w3(function(){!(Qe&6)&&Gi()}),n=null;else{switch(vP(r)){case 1:n=U0;break;case 4:n=pP;break;case 16:n=Of;break;case 536870912:n=gP;break;default:n=Of}n=BA(n,DA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DA(t,e){if(pf=-1,gf=0,Qe&6)throw Error(re(327));var n=t.callbackNode;if(za()&&t.callbackNode!==n)return null;var r=Ff(t,t===un?vn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rh(t,r);else{e=r;var s=Qe;Qe|=2;var i=VA();(un!==t||vn!==e)&&(ws=null,sl=$t()+500,Po(t,e));do try{W3();break}catch(a){MA(t,a)}while(!0);nv(),eh.current=i,Qe=s,Gt!==null?e=0:(un=null,vn=0,e=Zt)}if(e!==0){if(e===2&&(s=Tg(t),s!==0&&(r=s,e=Zg(t,s))),e===1)throw n=hc,Po(t,0),hi(t,r),Jn(t,$t()),n;if(e===6)hi(t,r);else{if(s=t.current.alternate,!(r&30)&&!U3(s)&&(e=rh(t,r),e===2&&(i=Tg(t),i!==0&&(r=i,e=Zg(t,i))),e===1))throw n=hc,Po(t,0),hi(t,r),Jn(t,$t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(re(345));case 2:ao(t,Kn,ws);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=yv+500-$t(),10<e)){if(Ff(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rg(ao.bind(null,t,Kn,ws),e);break}ao(t,Kn,ws);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*z3(r/1960))-r,10<r){t.timeoutHandle=Rg(ao.bind(null,t,Kn,ws),r);break}ao(t,Kn,ws);break;case 5:ao(t,Kn,ws);break;default:throw Error(re(329))}}}return Jn(t,$t()),t.callbackNode===n?DA.bind(null,t):null}function Zg(t,e){var n=Au;return t.current.memoizedState.isDehydrated&&(Po(t,e).flags|=256),t=rh(t,e),t!==2&&(e=Kn,Kn=n,e!==null&&ey(e)),t}function ey(t){Kn===null?Kn=t:Kn.push.apply(Kn,t)}function U3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~gv,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hr(e),r=1<<n;t[n]=-1,e&=~r}}function gb(t){if(Qe&6)throw Error(re(327));za();var e=Ff(t,0);if(!(e&1))return Jn(t,$t()),null;var n=rh(t,e);if(t.tag!==0&&n===2){var r=Tg(t);r!==0&&(e=r,n=Zg(t,r))}if(n===1)throw n=hc,Po(t,0),hi(t,e),Jn(t,$t()),n;if(n===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ao(t,Kn,ws),Jn(t,$t()),null}function vv(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(sl=$t()+500,qh&&Gi())}}function Oo(t){pi!==null&&pi.tag===0&&!(Qe&6)&&za();var e=Qe;Qe|=1;var n=Ar.transition,r=et;try{if(Ar.transition=null,et=1,t)return t()}finally{et=r,Ar.transition=n,Qe=e,!(Qe&6)&&Gi()}}function xv(){sr=Sa.current,dt(Sa)}function Po(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,x3(n)),Gt!==null)for(n=Gt.return;n!==null;){var r=n;switch(Z0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hf();break;case 3:nl(),dt(Xn),dt(Rn),lv();break;case 5:av(r);break;case 4:nl();break;case 13:dt(Et);break;case 19:dt(Et);break;case 10:rv(r.type._context);break;case 22:case 23:xv()}n=n.return}if(un=t,Gt=t=Ai(t.current,null),vn=sr=e,Zt=0,hc=null,gv=Xh=Lo=0,Kn=Au=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yo=null}return t}function MA(t,e){do{var n=Gt;try{if(nv(),ff.current=Zf,Jf){for(var r=At.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Jf=!1}if(Vo=0,on=Qt=At=null,Tu=!1,cc=0,pv.current=null,n===null||n.return===null){Zt=1,hc=e,Gt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=vn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=rb(o);if(p!==null){p.flags&=-257,sb(p,o,a,i,e),p.mode&1&&nb(i,u,e),e=p,l=u;var b=e.updateQueue;if(b===null){var _=new Set;_.add(l),e.updateQueue=_}else b.add(l);break e}else{if(!(e&1)){nb(i,u,e),wv();break e}l=Error(re(426))}}else if(vt&&a.mode&1){var P=rb(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),sb(P,o,a,i,e),ev(rl(l,a));break e}}i=l=rl(l,a),Zt!==4&&(Zt=2),Au===null?Au=[i]:Au.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=vA(i,l,e);Xw(i,v);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ti===null||!Ti.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=xA(i,a,e);Xw(i,j);break e}}i=i.return}while(i!==null)}OA(n)}catch(C){e=C,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(!0)}function VA(){var t=eh.current;return eh.current=Zf,t===null?Zf:t}function wv(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),un===null||!(Lo&268435455)&&!(Xh&268435455)||hi(un,vn)}function rh(t,e){var n=Qe;Qe|=2;var r=VA();(un!==t||vn!==e)&&(ws=null,Po(t,e));do try{H3();break}catch(s){MA(t,s)}while(!0);if(nv(),Qe=n,eh.current=r,Gt!==null)throw Error(re(261));return un=null,vn=0,Zt}function H3(){for(;Gt!==null;)LA(Gt)}function W3(){for(;Gt!==null&&!gD();)LA(Gt)}function LA(t){var e=$A(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?OA(t):Gt=e,pv.current=null}function OA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=O3(n,e),n!==null){n.flags&=32767,Gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Gt=null;return}}else if(n=L3(n,e,sr),n!==null){Gt=n;return}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);Zt===0&&(Zt=5)}function ao(t,e,n){var r=et,s=Ar.transition;try{Ar.transition=null,et=1,q3(t,e,n,r)}finally{Ar.transition=s,et=r}return null}function q3(t,e,n,r){do za();while(pi!==null);if(Qe&6)throw Error(re(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(PD(t,i),t===un&&(Gt=un=null,vn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Md||(Md=!0,BA(Of,function(){return za(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ar.transition,Ar.transition=null;var o=et;et=1;var a=Qe;Qe|=4,pv.current=null,$3(t,n),jA(n,t),f3(Ng),$f=!!kg,Ng=kg=null,t.current=n,B3(n),yD(),Qe=a,et=o,Ar.transition=i}else t.current=n;if(Md&&(Md=!1,pi=t,nh=s),i=t.pendingLanes,i===0&&(Ti=null),wD(n.stateNode),Jn(t,$t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(th)throw th=!1,t=Qg,Qg=null,t;return nh&1&&t.tag!==0&&za(),i=t.pendingLanes,i&1?t===Jg?Cu++:(Cu=0,Jg=t):Cu=0,Gi(),null}function za(){if(pi!==null){var t=vP(nh),e=Ar.transition,n=et;try{if(Ar.transition=null,et=16>t?16:t,pi===null)var r=!1;else{if(t=pi,pi=null,nh=0,Qe&6)throw Error(re(331));var s=Qe;for(Qe|=4,me=t.current;me!==null;){var i=me,o=i.child;if(me.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Pu(8,d,i)}var h=d.child;if(h!==null)h.return=d,me=h;else for(;me!==null;){d=me;var m=d.sibling,p=d.return;if(IA(d),d===u){me=null;break}if(m!==null){m.return=p,me=m;break}me=p}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,me=o;else e:for(;me!==null;){if(i=me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pu(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,me=v;break e}me=i.return}}var y=t.current;for(me=y;me!==null;){o=me;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,me=E;else e:for(o=y;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yh(9,a)}}catch(C){Mt(a,a.return,C)}if(a===o){me=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,me=j;break e}me=a.return}}if(Qe=s,Gi(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(Bh,t)}catch{}r=!0}return r}finally{et=n,Ar.transition=e}}return!1}function yb(t,e,n){e=rl(n,e),e=vA(t,e,1),t=Ei(t,e,1),e=On(),t!==null&&(Bc(t,1,e),Jn(t,e))}function Mt(t,e,n){if(t.tag===3)yb(t,t,n);else for(;e!==null;){if(e.tag===3){yb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=rl(n,t),t=xA(e,t,1),e=Ei(e,t,1),t=On(),e!==null&&(Bc(e,1,t),Jn(e,t));break}}e=e.return}}function K3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(vn&n)===n&&(Zt===4||Zt===3&&(vn&130023424)===vn&&500>$t()-yv?Po(t,0):gv|=n),Jn(t,e)}function FA(t,e){e===0&&(t.mode&1?(e=Td,Td<<=1,!(Td&130023424)&&(Td=4194304)):e=1);var n=On();t=Vs(t,e),t!==null&&(Bc(t,e,n),Jn(t,n))}function G3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FA(t,n)}function Y3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(re(314))}r!==null&&r.delete(e),FA(t,n)}var $A;$A=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,V3(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,vt&&e.flags&1048576&&HP(e,Kf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mf(t,e),t=e.pendingProps;var s=Za(e,Rn.current);Ba(e,n),s=cv(null,e,r,t,s,n);var i=dv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qn(r)?(i=!0,Wf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,iv(e),s.updater=Gh,e.stateNode=s,s._reactInternals=e,$g(e,r,t,n),e=Ug(null,e,r,!0,i,n)):(e.tag=0,vt&&i&&J0(e),Vn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Q3(r),t=Lr(r,t),s){case 0:e=zg(null,e,r,t,n);break e;case 1:e=ab(null,e,r,t,n);break e;case 11:e=ib(null,e,r,t,n);break e;case 14:e=ob(null,e,r,Lr(r.type,t),n);break e}throw Error(re(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),zg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),ab(t,e,r,s,n);case 3:e:{if(_A(e),t===null)throw Error(re(387));r=e.pendingProps,i=e.memoizedState,s=i.element,XP(t,e),Xf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=rl(Error(re(423)),e),e=lb(t,e,r,n,s);break e}else if(r!==s){s=rl(Error(re(424)),e),e=lb(t,e,r,n,s);break e}else for(ar=_i(e.stateNode.containerInfo.firstChild),lr=e,vt=!0,$r=null,n=GP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(el(),r===s){e=Ls(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return QP(e),t===null&&Lg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,jg(r,s)?o=null:i!==null&&jg(r,i)&&(e.flags|=32),SA(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&Lg(e),null;case 13:return EA(t,e,n);case 4:return ov(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tl(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),ib(t,e,r,s,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,it(Gf,r._currentValue),r._currentValue=o,i!==null)if(Kr(i.value,o)){if(i.children===s.children&&!Xn.current){e=Ls(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=As(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Og(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(re(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Og(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Vn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ba(e,n),s=Ir(s),r=r(s),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,s=Lr(r,e.pendingProps),s=Lr(r.type,s),ob(t,e,r,s,n);case 15:return wA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),mf(t,e),e.tag=1,Qn(r)?(t=!0,Wf(e)):t=!1,Ba(e,n),yA(e,r,s),$g(e,r,s,n),Ug(null,e,r,!0,t,n);case 19:return TA(t,e,n);case 22:return bA(t,e,n)}throw Error(re(156,e.tag))};function BA(t,e){return mP(t,e)}function X3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(t,e,n,r){return new X3(t,e,n,r)}function bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Q3(t){if(typeof t=="function")return bv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$0)return 11;if(t===B0)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")bv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fa:return Ao(n.children,s,i,e);case F0:o=8,s|=8;break;case cg:return t=Tr(12,n,e,s|2),t.elementType=cg,t.lanes=i,t;case dg:return t=Tr(13,n,e,s),t.elementType=dg,t.lanes=i,t;case fg:return t=Tr(19,n,e,s),t.elementType=fg,t.lanes=i,t;case QT:return Qh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YT:o=10;break e;case XT:o=9;break e;case $0:o=11;break e;case B0:o=14;break e;case ci:o=16,r=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=Tr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ao(t,e,n,r){return t=Tr(7,t,r,e),t.lanes=n,t}function Qh(t,e,n,r){return t=Tr(22,t,r,e),t.elementType=QT,t.lanes=n,t.stateNode={isHidden:!1},t}function dp(t,e,n){return t=Tr(6,t,null,e),t.lanes=n,t}function fp(t,e,n){return e=Tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function J3(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qm(0),this.expirationTimes=qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Sv(t,e,n,r,s,i,o,a,l){return t=new J3(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Tr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iv(i),t}function Z3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zA(t){if(!t)return Ri;t=t._reactInternals;e:{if(qo(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var n=t.type;if(Qn(n))return zP(t,n,e)}return e}function UA(t,e,n,r,s,i,o,a,l){return t=Sv(n,r,!0,t,s,i,o,a,l),t.context=zA(null),n=t.current,r=On(),s=Pi(n),i=As(r,s),i.callback=e??null,Ei(n,i,s),t.current.lanes=s,Bc(t,s,r),Jn(t,r),t}function Jh(t,e,n,r){var s=e.current,i=On(),o=Pi(s);return n=zA(n),e.context===null?e.context=n:e.pendingContext=n,e=As(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(s,e,o),t!==null&&(Wr(t,s,o,i),df(t,s,o)),o}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _v(t,e){vb(t,e),(t=t.alternate)&&vb(t,e)}function eM(){return null}var HA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ev(t){this._internalRoot=t}Zh.prototype.render=Ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Jh(t,e,null,null)};Zh.prototype.unmount=Ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Jh(null,t,null,null)}),e[Ms]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=bP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&_P(t)}};function Tv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xb(){}function tM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=sh(o);i.call(u)}}var o=UA(e,r,t,0,null,!1,!1,"",xb);return t._reactRootContainer=o,t[Ms]=o.current,ic(t.nodeType===8?t.parentNode:t),Oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=sh(l);a.call(u)}}var l=Sv(t,0,!1,null,null,!1,!1,"",xb);return t._reactRootContainer=l,t[Ms]=l.current,ic(t.nodeType===8?t.parentNode:t),Oo(function(){Jh(e,l,n,r)}),l}function tm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=sh(o);a.call(l)}}Jh(e,o,t,s)}else o=tM(n,e,t,s,r);return sh(o)}xP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uu(e.pendingLanes);n!==0&&(H0(e,n|1),Jn(e,$t()),!(Qe&6)&&(sl=$t()+500,Gi()))}break;case 13:Oo(function(){var r=Vs(t,1);if(r!==null){var s=On();Wr(r,t,1,s)}}),_v(t,1)}};W0=function(t){if(t.tag===13){var e=Vs(t,134217728);if(e!==null){var n=On();Wr(e,t,134217728,n)}_v(t,134217728)}};wP=function(t){if(t.tag===13){var e=Pi(t),n=Vs(t,e);if(n!==null){var r=On();Wr(n,t,e,r)}_v(t,e)}};bP=function(){return et};SP=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};Sg=function(t,e,n){switch(e){case"input":if(pg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wh(r);if(!s)throw Error(re(90));ZT(r),pg(r,s)}}}break;case"textarea":tP(t,n);break;case"select":e=n.value,e!=null&&La(t,!!n.multiple,e,!1)}};lP=vv;uP=Oo;var nM={usingClientEntryPoint:!1,Events:[Uc,ga,Wh,oP,aP,vv]},Zl={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rM={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fP(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||eM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Bh=Vd.inject(rM),os=Vd}catch{}}fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nM;fr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tv(e))throw Error(re(200));return Z3(t,e,null,n)};fr.createRoot=function(t,e){if(!Tv(t))throw Error(re(299));var n=!1,r="",s=HA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Sv(t,1,!1,null,null,n,!1,r,s),t[Ms]=e.current,ic(t.nodeType===8?t.parentNode:t),new Ev(e)};fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=fP(e),t=t===null?null:t.stateNode,t};fr.flushSync=function(t){return Oo(t)};fr.hydrate=function(t,e,n){if(!em(e))throw Error(re(200));return tm(null,t,e,!0,n)};fr.hydrateRoot=function(t,e,n){if(!Tv(t))throw Error(re(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=HA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=UA(e,null,t,1,n??null,s,!1,i,o),t[Ms]=e.current,ic(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Zh(e)};fr.render=function(t,e,n){if(!em(e))throw Error(re(200));return tm(null,t,e,!1,n)};fr.unmountComponentAtNode=function(t){if(!em(t))throw Error(re(40));return t._reactRootContainer?(Oo(function(){tm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ms]=null})}),!0):!1};fr.unstable_batchedUpdates=vv;fr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!em(n))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return tm(t,e,n,!1,r)};fr.version="18.3.1-next-f1338f8080-20240426";function WA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WA)}catch(t){console.error(t)}}WA(),WT.exports=fr;var Wc=WT.exports;const sM=RT(Wc),iM=jT({__proto__:null,default:sM},[Wc]);var qA,wb=Wc;qA=wb.createRoot,wb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yt.apply(this,arguments)}var qt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qt||(qt={}));const bb="popstate";function oM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return mc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Fo(s)}return lM(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function il(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aM(){return Math.random().toString(36).substr(2,8)}function Sb(t,e){return{usr:t.state,key:t.key,idx:e}}function mc(t,e,n,r){return n===void 0&&(n=null),yt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yi(e):e,{state:n,key:e&&e.key||r||aM()})}function Fo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=qt.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(yt({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=qt.Pop;let P=d(),v=P==null?null:P-u;u=P,l&&l({action:a,location:_.location,delta:v})}function m(P,v){a=qt.Push;let y=mc(_.location,P,v);u=d()+1;let E=Sb(y,u),j=_.createHref(y);try{o.pushState(E,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(j)}i&&l&&l({action:a,location:_.location,delta:1})}function p(P,v){a=qt.Replace;let y=mc(_.location,P,v);u=d();let E=Sb(y,u),j=_.createHref(y);o.replaceState(E,"",j),i&&l&&l({action:a,location:_.location,delta:0})}function b(P){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof P=="string"?P:Fo(P);return y=y.replace(/ $/,"%20"),Be(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let _={get action(){return a},get location(){return t(s,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(bb,h),l=P,()=>{s.removeEventListener(bb,h),l=null}},createHref(P){return e(s,P)},createURL:b,encodeLocation(P){let v=b(P);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(P){return o.go(P)}};return _}var Ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ze||(Ze={}));const uM=new Set(["lazy","caseSensitive","path","id","index","children"]);function cM(t){return t.index===!0}function ih(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Be(s.index!==!0||!s.children,"Cannot specify children on an index route"),Be(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),cM(s)){let l=yt({},s,e(s),{id:a});return r[a]=l,l}else{let l=yt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=ih(s.children,e,o,r)),l}})}function ho(t,e,n){return n===void 0&&(n="/"),vf(t,e,n,!1)}function vf(t,e,n,r){let s=typeof e=="string"?Yi(e):e,i=Pl(s.pathname||"/",n);if(i==null)return null;let o=KA(t);fM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=_M(i);a=bM(o[l],u,r)}return a}function dM(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function KA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Be(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Cs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KA(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:xM(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of GA(i.path))s(i,o,l)}),e}function GA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=GA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hM=/^:[\w-]+$/,mM=3,pM=2,gM=1,yM=10,vM=-2,_b=t=>t==="*";function xM(t,e){let n=t.split("/"),r=n.length;return n.some(_b)&&(r+=vM),e&&(r+=pM),n.filter(s=>!_b(s)).reduce((s,i)=>s+(hM.test(i)?mM:i===""?gM:yM),r)}function wM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bM(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Eb({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Eb({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Cs([i,h.pathname]),pathnameBase:PM(Cs([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Cs([i,h.pathnameBase]))}return o}function Eb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let _=a[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const b=a[h];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function SM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),il(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _M(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return il(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Pl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Yi(t):t;return{pathname:n?n.startsWith("/")?n:TM(n,e):e,search:AM(r),hash:CM(s)}}function TM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pv(t,e){let n=YA(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Av(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Yi(t):(s=yt({},t),Be(!s.pathname||!s.pathname.includes("?"),hp("?","pathname","search",s)),Be(!s.pathname||!s.pathname.includes("#"),hp("#","pathname","hash",s)),Be(!s.search||!s.search.includes("#"),hp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=EM(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Cs=t=>t.join("/").replace(/\/\/+/g,"/"),PM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class oh{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function pc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XA=["post","put","patch","delete"],IM=new Set(XA),kM=["get",...XA],NM=new Set(kM),jM=new Set([301,302,303,307,308]),RM=new Set([307,308]),mp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Cv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),QA="remix-router-transitions";function VM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Be(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;s=F=>({hasErrorBoundary:D(F)})}else s=MM;let i={},o=ih(t.routes,s,void 0,i),a,l=t.basename||"/",u=t.dataStrategy||$M,d=t.patchRoutesOnNavigation,h=yt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,p=new Set,b=null,_=null,P=null,v=t.hydrationData!=null,y=ho(o,t.history.location,l),E=!1,j=null;if(y==null&&!d){let D=Wn(404,{pathname:t.history.location.pathname}),{matches:F,route:z}=Mb(o);y=F,j={[z.id]:D}}y&&!t.hydrationData&&st(y,o,t.history.location.pathname).active&&(y=null);let C;if(y)if(y.some(D=>D.route.lazy))C=!1;else if(!y.some(D=>D.route.loader))C=!0;else if(h.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null;if(F){let z=y.findIndex(Y=>F[Y.route.id]!==void 0);C=y.slice(0,z+1).every(Y=>!ny(Y.route,D,F))}else C=y.every(z=>!ny(z.route,D,F))}else C=t.hydrationData!=null;else if(C=!1,y=[],h.v7_partialHydration){let D=st(null,o,t.history.location.pathname);D.active&&D.matches&&(E=!0,y=D.matches)}let V,x={historyAction:t.history.action,location:t.history.location,matches:y,initialized:C,navigation:mp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},S=qt.Pop,A=!1,I,R=!1,M=new Map,N=null,$=!1,Q=!1,J=[],q=new Set,L=new Map,O=0,W=-1,Z=new Map,se=new Set,we=new Map,pe=new Map,_e=new Set,ke=new Map,De=new Map,ye;function bt(){if(m=t.history.listen(D=>{let{action:F,location:z,delta:Y}=D;if(ye){ye(),ye=void 0;return}il(De.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=ee({currentLocation:x.location,nextLocation:z,historyAction:F});if(te&&Y!=null){let fe=new Promise(de=>{ye=de});t.history.go(Y*-1),G(te,{state:"blocked",location:z,proceed(){G(te,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),fe.then(()=>t.history.go(Y))},reset(){let de=new Map(x.blockers);de.set(te,eu),ze({blockers:de})}});return}return tn(F,z)}),n){e5(e,M);let D=()=>t5(e,M);e.addEventListener("pagehide",D),N=()=>e.removeEventListener("pagehide",D)}return x.initialized||tn(qt.Pop,x.location,{initialHydration:!0}),V}function Bn(){m&&m(),N&&N(),p.clear(),I&&I.abort(),x.fetchers.forEach((D,F)=>yr(F)),x.blockers.forEach((D,F)=>H(F))}function dn(D){return p.add(D),()=>p.delete(D)}function ze(D,F){F===void 0&&(F={}),x=yt({},x,D);let z=[],Y=[];h.v7_fetcherPersist&&x.fetchers.forEach((te,fe)=>{te.state==="idle"&&(_e.has(fe)?Y.push(fe):z.push(fe))}),_e.forEach(te=>{!x.fetchers.has(te)&&!L.has(te)&&Y.push(te)}),[...p].forEach(te=>te(x,{deletedFetchers:Y,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),h.v7_fetcherPersist?(z.forEach(te=>x.fetchers.delete(te)),Y.forEach(te=>yr(te))):Y.forEach(te=>_e.delete(te))}function tt(D,F,z){var Y,te;let{flushSync:fe}=z===void 0?{}:z,de=x.actionData!=null&&x.navigation.formMethod!=null&&Fr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((Y=D.state)==null?void 0:Y._isRedirect)!==!0,K;F.actionData?Object.keys(F.actionData).length>0?K=F.actionData:K=null:de?K=x.actionData:K=null;let ue=F.loaderData?Rb(x.loaderData,F.loaderData,F.matches||[],F.errors):x.loaderData,oe=x.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((Re,at)=>oe.set(at,eu)));let ne=A===!0||x.navigation.formMethod!=null&&Fr(x.navigation.formMethod)&&((te=D.state)==null?void 0:te._isRedirect)!==!0;a&&(o=a,a=void 0),$||S===qt.Pop||(S===qt.Push?t.history.push(D,D.state):S===qt.Replace&&t.history.replace(D,D.state));let ge;if(S===qt.Pop){let Re=M.get(x.location.pathname);Re&&Re.has(D.pathname)?ge={currentLocation:x.location,nextLocation:D}:M.has(D.pathname)&&(ge={currentLocation:D,nextLocation:x.location})}else if(R){let Re=M.get(x.location.pathname);Re?Re.add(D.pathname):(Re=new Set([D.pathname]),M.set(x.location.pathname,Re)),ge={currentLocation:x.location,nextLocation:D}}ze(yt({},F,{actionData:K,loaderData:ue,historyAction:S,location:D,initialized:!0,navigation:mp,revalidation:"idle",restoreScrollPosition:Je(D,F.matches||x.matches),preventScrollReset:ne,blockers:oe}),{viewTransitionOpts:ge,flushSync:fe===!0}),S=qt.Pop,A=!1,R=!1,$=!1,Q=!1,J=[]}async function Ae(D,F){if(typeof D=="number"){t.history.go(D);return}let z=ty(x.location,x.matches,l,h.v7_prependBasename,D,h.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:Y,submission:te,error:fe}=Tb(h.v7_normalizeFormMethod,!1,z,F),de=x.location,K=mc(x.location,Y,F&&F.state);K=yt({},K,t.history.encodeLocation(K));let ue=F&&F.replace!=null?F.replace:void 0,oe=qt.Push;ue===!0?oe=qt.Replace:ue===!1||te!=null&&Fr(te.formMethod)&&te.formAction===x.location.pathname+x.location.search&&(oe=qt.Replace);let ne=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,ge=(F&&F.flushSync)===!0,Re=ee({currentLocation:de,nextLocation:K,historyAction:oe});if(Re){G(Re,{state:"blocked",location:K,proceed(){G(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Ae(D,F)},reset(){let at=new Map(x.blockers);at.set(Re,eu),ze({blockers:at})}});return}return await tn(oe,K,{submission:te,pendingError:fe,preventScrollReset:ne,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:ge})}function Ut(){if(Vt(),ze({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){tn(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}tn(S||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:R===!0})}}async function tn(D,F,z){I&&I.abort(),I=null,S=D,$=(z&&z.startUninterruptedRevalidation)===!0,He(x.location,x.matches),A=(z&&z.preventScrollReset)===!0,R=(z&&z.enableViewTransition)===!0;let Y=a||o,te=z&&z.overrideNavigation,fe=z!=null&&z.initialHydration&&x.matches&&x.matches.length>0&&!E?x.matches:ho(Y,F,l),de=(z&&z.flushSync)===!0;if(fe&&x.initialized&&!Q&&qM(x.location,F)&&!(z&&z.submission&&Fr(z.submission.formMethod))){tt(F,{matches:fe},{flushSync:de});return}let K=st(fe,Y,F.pathname);if(K.active&&K.matches&&(fe=K.matches),!fe){let{error:Ve,notFoundMatches:Le,route:nt}=Pe(F.pathname);tt(F,{matches:Le,loaderData:{},errors:{[nt.id]:Ve}},{flushSync:de});return}I=new AbortController;let ue=ta(t.history,F,I.signal,z&&z.submission),oe;if(z&&z.pendingError)oe=[mo(fe).route.id,{type:Ze.error,error:z.pendingError}];else if(z&&z.submission&&Fr(z.submission.formMethod)){let Ve=await Yr(ue,F,z.submission,fe,K.active,{replace:z.replace,flushSync:de});if(Ve.shortCircuited)return;if(Ve.pendingActionResult){let[Le,nt]=Ve.pendingActionResult;if(ir(nt)&&pc(nt.error)&&nt.error.status===404){I=null,tt(F,{matches:Ve.matches,loaderData:{},errors:{[Le]:nt.error}});return}}fe=Ve.matches||fe,oe=Ve.pendingActionResult,te=pp(F,z.submission),de=!1,K.active=!1,ue=ta(t.history,ue.url,ue.signal)}let{shortCircuited:ne,matches:ge,loaderData:Re,errors:at}=await ms(ue,F,fe,K.active,te,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,de,oe);ne||(I=null,tt(F,yt({matches:ge||fe},Db(oe),{loaderData:Re,errors:at})))}async function Yr(D,F,z,Y,te,fe){fe===void 0&&(fe={}),Vt();let de=JM(F,z);if(ze({navigation:de},{flushSync:fe.flushSync===!0}),te){let oe=await pt(Y,F.pathname,D.signal);if(oe.type==="aborted")return{shortCircuited:!0};if(oe.type==="error"){let ne=mo(oe.partialMatches).route.id;return{matches:oe.partialMatches,pendingActionResult:[ne,{type:Ze.error,error:oe.error}]}}else if(oe.matches)Y=oe.matches;else{let{notFoundMatches:ne,error:ge,route:Re}=Pe(F.pathname);return{matches:ne,pendingActionResult:[Re.id,{type:Ze.error,error:ge}]}}}let K,ue=du(Y,F);if(!ue.route.action&&!ue.route.lazy)K={type:Ze.error,error:Wn(405,{method:D.method,pathname:F.pathname,routeId:ue.route.id})};else if(K=(await Ue("action",x,D,[ue],Y,null))[ue.route.id],D.signal.aborted)return{shortCircuited:!0};if(xo(K)){let oe;return fe&&fe.replace!=null?oe=fe.replace:oe=kb(K.response.headers.get("Location"),new URL(D.url),l)===x.location.pathname+x.location.search,await Ie(D,K,!0,{submission:z,replace:oe}),{shortCircuited:!0}}if(gi(K))throw Wn(400,{type:"defer-action"});if(ir(K)){let oe=mo(Y,ue.route.id);return(fe&&fe.replace)!==!0&&(S=qt.Push),{matches:Y,pendingActionResult:[oe.route.id,K]}}return{matches:Y,pendingActionResult:[ue.route.id,K]}}async function ms(D,F,z,Y,te,fe,de,K,ue,oe,ne){let ge=te||pp(F,fe),Re=fe||de||Lb(ge),at=!$&&(!h.v7_partialHydration||!ue);if(Y){if(at){let lt=St(ne);ze(yt({navigation:ge},lt!==void 0?{actionData:lt}:{}),{flushSync:oe})}let $e=await pt(z,F.pathname,D.signal);if($e.type==="aborted")return{shortCircuited:!0};if($e.type==="error"){let lt=mo($e.partialMatches).route.id;return{matches:$e.partialMatches,loaderData:{},errors:{[lt]:$e.error}}}else if($e.matches)z=$e.matches;else{let{error:lt,notFoundMatches:ys,route:ei}=Pe(F.pathname);return{matches:ys,loaderData:{},errors:{[ei.id]:lt}}}}let Ve=a||o,[Le,nt]=Ab(t.history,x,z,Re,F,h.v7_partialHydration&&ue===!0,h.v7_skipActionErrorRevalidation,Q,J,q,_e,we,se,Ve,l,ne);if(Ee($e=>!(z&&z.some(lt=>lt.route.id===$e))||Le&&Le.some(lt=>lt.route.id===$e)),W=++O,Le.length===0&&nt.length===0){let $e=gs();return tt(F,yt({matches:z,loaderData:{},errors:ne&&ir(ne[1])?{[ne[0]]:ne[1].error}:null},Db(ne),$e?{fetchers:new Map(x.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(at){let $e={};if(!Y){$e.navigation=ge;let lt=St(ne);lt!==void 0&&($e.actionData=lt)}nt.length>0&&($e.fetchers=_t(nt)),ze($e,{flushSync:oe})}nt.forEach($e=>{Lt($e.key),$e.controller&&L.set($e.key,$e.controller)});let fn=()=>nt.forEach($e=>Lt($e.key));I&&I.signal.addEventListener("abort",fn);let{loaderResults:Rr,fetcherResults:hn}=await zn(x,z,Le,nt,D);if(D.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",fn),nt.forEach($e=>L.delete($e.key));let Hn=Ld(Rr);if(Hn)return await Ie(D,Hn.result,!0,{replace:K}),{shortCircuited:!0};if(Hn=Ld(hn),Hn)return se.add(Hn.key),await Ie(D,Hn.result,!0,{replace:K}),{shortCircuited:!0};let{loaderData:Ll,errors:Js}=jb(x,z,Rr,ne,nt,hn,ke);ke.forEach(($e,lt)=>{$e.subscribe(ys=>{(ys||$e.done)&&ke.delete(lt)})}),h.v7_partialHydration&&ue&&x.errors&&(Js=yt({},x.errors,Js));let Xr=gs(),Zi=er(W),Zs=Xr||Zi||nt.length>0;return yt({matches:z,loaderData:Ll,errors:Js},Zs?{fetchers:new Map(x.fetchers)}:{})}function St(D){if(D&&!ir(D[1]))return{[D[0]]:D[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function _t(D){return D.forEach(F=>{let z=x.fetchers.get(F.key),Y=tu(void 0,z?z.data:void 0);x.fetchers.set(F.key,Y)}),new Map(x.fetchers)}function Dn(D,F,z,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Lt(D);let te=(Y&&Y.flushSync)===!0,fe=a||o,de=ty(x.location,x.matches,l,h.v7_prependBasename,z,h.v7_relativeSplatPath,F,Y==null?void 0:Y.relative),K=ho(fe,de,l),ue=st(K,fe,de);if(ue.active&&ue.matches&&(K=ue.matches),!K){Sn(D,F,Wn(404,{pathname:de}),{flushSync:te});return}let{path:oe,submission:ne,error:ge}=Tb(h.v7_normalizeFormMethod,!0,de,Y);if(ge){Sn(D,F,ge,{flushSync:te});return}let Re=du(K,oe),at=(Y&&Y.preventScrollReset)===!0;if(ne&&Fr(ne.formMethod)){Nr(D,F,oe,Re,K,ue.active,te,at,ne);return}we.set(D,{routeId:F,path:oe}),gr(D,F,oe,Re,K,ue.active,te,at,ne)}async function Nr(D,F,z,Y,te,fe,de,K,ue){Vt(),we.delete(D);function oe(kt){if(!kt.route.action&&!kt.route.lazy){let Mn=Wn(405,{method:ue.formMethod,pathname:z,routeId:F});return Sn(D,F,Mn,{flushSync:de}),!0}return!1}if(!fe&&oe(Y))return;let ne=x.fetchers.get(D);nn(D,ZM(ue,ne),{flushSync:de});let ge=new AbortController,Re=ta(t.history,z,ge.signal,ue);if(fe){let kt=await pt(te,new URL(Re.url).pathname,Re.signal,D);if(kt.type==="aborted")return;if(kt.type==="error"){Sn(D,F,kt.error,{flushSync:de});return}else if(kt.matches){if(te=kt.matches,Y=du(te,z),oe(Y))return}else{Sn(D,F,Wn(404,{pathname:z}),{flushSync:de});return}}L.set(D,ge);let at=O,Le=(await Ue("action",x,Re,[Y],te,D))[Y.route.id];if(Re.signal.aborted){L.get(D)===ge&&L.delete(D);return}if(h.v7_fetcherPersist&&_e.has(D)){if(xo(Le)||ir(Le)){nn(D,ai(void 0));return}}else{if(xo(Le))if(L.delete(D),W>at){nn(D,ai(void 0));return}else return se.add(D),nn(D,tu(ue)),Ie(Re,Le,!1,{fetcherSubmission:ue,preventScrollReset:K});if(ir(Le)){Sn(D,F,Le.error);return}}if(gi(Le))throw Wn(400,{type:"defer-action"});let nt=x.navigation.location||x.location,fn=ta(t.history,nt,ge.signal),Rr=a||o,hn=x.navigation.state!=="idle"?ho(Rr,x.navigation.location,l):x.matches;Be(hn,"Didn't find any matches after fetcher action");let Hn=++O;Z.set(D,Hn);let Ll=tu(ue,Le.data);x.fetchers.set(D,Ll);let[Js,Xr]=Ab(t.history,x,hn,ue,nt,!1,h.v7_skipActionErrorRevalidation,Q,J,q,_e,we,se,Rr,l,[Y.route.id,Le]);Xr.filter(kt=>kt.key!==D).forEach(kt=>{let Mn=kt.key,nr=x.fetchers.get(Mn),eo=tu(void 0,nr?nr.data:void 0);x.fetchers.set(Mn,eo),Lt(Mn),kt.controller&&L.set(Mn,kt.controller)}),ze({fetchers:new Map(x.fetchers)});let Zi=()=>Xr.forEach(kt=>Lt(kt.key));ge.signal.addEventListener("abort",Zi);let{loaderResults:Zs,fetcherResults:$e}=await zn(x,hn,Js,Xr,fn);if(ge.signal.aborted)return;ge.signal.removeEventListener("abort",Zi),Z.delete(D),L.delete(D),Xr.forEach(kt=>L.delete(kt.key));let lt=Ld(Zs);if(lt)return Ie(fn,lt.result,!1,{preventScrollReset:K});if(lt=Ld($e),lt)return se.add(lt.key),Ie(fn,lt.result,!1,{preventScrollReset:K});let{loaderData:ys,errors:ei}=jb(x,hn,Zs,void 0,Xr,$e,ke);if(x.fetchers.has(D)){let kt=ai(Le.data);x.fetchers.set(D,kt)}er(Hn),x.navigation.state==="loading"&&Hn>W?(Be(S,"Expected pending action"),I&&I.abort(),tt(x.navigation.location,{matches:hn,loaderData:ys,errors:ei,fetchers:new Map(x.fetchers)})):(ze({errors:ei,loaderData:Rb(x.loaderData,ys,hn,ei),fetchers:new Map(x.fetchers)}),Q=!1)}async function gr(D,F,z,Y,te,fe,de,K,ue){let oe=x.fetchers.get(D);nn(D,tu(ue,oe?oe.data:void 0),{flushSync:de});let ne=new AbortController,ge=ta(t.history,z,ne.signal);if(fe){let Le=await pt(te,new URL(ge.url).pathname,ge.signal,D);if(Le.type==="aborted")return;if(Le.type==="error"){Sn(D,F,Le.error,{flushSync:de});return}else if(Le.matches)te=Le.matches,Y=du(te,z);else{Sn(D,F,Wn(404,{pathname:z}),{flushSync:de});return}}L.set(D,ne);let Re=O,Ve=(await Ue("loader",x,ge,[Y],te,D))[Y.route.id];if(gi(Ve)&&(Ve=await Iv(Ve,ge.signal,!0)||Ve),L.get(D)===ne&&L.delete(D),!ge.signal.aborted){if(_e.has(D)){nn(D,ai(void 0));return}if(xo(Ve))if(W>Re){nn(D,ai(void 0));return}else{se.add(D),await Ie(ge,Ve,!1,{preventScrollReset:K});return}if(ir(Ve)){Sn(D,F,Ve.error);return}Be(!gi(Ve),"Unhandled fetcher deferred data"),nn(D,ai(Ve.data))}}async function Ie(D,F,z,Y){let{submission:te,fetcherSubmission:fe,preventScrollReset:de,replace:K}=Y===void 0?{}:Y;F.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let ue=F.response.headers.get("Location");Be(ue,"Expected a Location header on the redirect Response"),ue=kb(ue,new URL(D.url),l);let oe=mc(x.location,ue,{_isRedirect:!0});if(n){let Le=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Le=!0;else if(Cv.test(ue)){const nt=t.history.createURL(ue);Le=nt.origin!==e.location.origin||Pl(nt.pathname,l)==null}if(Le){K?e.location.replace(ue):e.location.assign(ue);return}}I=null;let ne=K===!0||F.response.headers.has("X-Remix-Replace")?qt.Replace:qt.Push,{formMethod:ge,formAction:Re,formEncType:at}=x.navigation;!te&&!fe&&ge&&Re&&at&&(te=Lb(x.navigation));let Ve=te||fe;if(RM.has(F.response.status)&&Ve&&Fr(Ve.formMethod))await tn(ne,oe,{submission:yt({},Ve,{formAction:ue}),preventScrollReset:de||A,enableViewTransition:z?R:void 0});else{let Le=pp(oe,te);await tn(ne,oe,{overrideNavigation:Le,fetcherSubmission:fe,preventScrollReset:de||A,enableViewTransition:z?R:void 0})}}async function Ue(D,F,z,Y,te,fe){let de,K={};try{de=await BM(u,D,F,z,Y,te,fe,i,s)}catch(ue){return Y.forEach(oe=>{K[oe.route.id]={type:Ze.error,error:ue}}),K}for(let[ue,oe]of Object.entries(de))if(KM(oe)){let ne=oe.result;K[ue]={type:Ze.redirect,response:HM(ne,z,ue,te,l,h.v7_relativeSplatPath)}}else K[ue]=await UM(oe);return K}async function zn(D,F,z,Y,te){let fe=D.matches,de=Ue("loader",D,te,z,F,null),K=Promise.all(Y.map(async ne=>{if(ne.matches&&ne.match&&ne.controller){let Re=(await Ue("loader",D,ta(t.history,ne.path,ne.controller.signal),[ne.match],ne.matches,ne.key))[ne.match.route.id];return{[ne.key]:Re}}else return Promise.resolve({[ne.key]:{type:Ze.error,error:Wn(404,{pathname:ne.path})}})})),ue=await de,oe=(await K).reduce((ne,ge)=>Object.assign(ne,ge),{});return await Promise.all([XM(F,ue,te.signal,fe,D.loaderData),QM(F,oe,Y)]),{loaderResults:ue,fetcherResults:oe}}function Vt(){Q=!0,J.push(...Ee()),we.forEach((D,F)=>{L.has(F)&&q.add(F),Lt(F)})}function nn(D,F,z){z===void 0&&(z={}),x.fetchers.set(D,F),ze({fetchers:new Map(x.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Sn(D,F,z,Y){Y===void 0&&(Y={});let te=mo(x.matches,F);yr(D),ze({errors:{[te.route.id]:z},fetchers:new Map(x.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function ps(D){return pe.set(D,(pe.get(D)||0)+1),_e.has(D)&&_e.delete(D),x.fetchers.get(D)||DM}function yr(D){let F=x.fetchers.get(D);L.has(D)&&!(F&&F.state==="loading"&&Z.has(D))&&Lt(D),we.delete(D),Z.delete(D),se.delete(D),h.v7_fetcherPersist&&_e.delete(D),q.delete(D),x.fetchers.delete(D)}function Zn(D){let F=(pe.get(D)||0)-1;F<=0?(pe.delete(D),_e.add(D),h.v7_fetcherPersist||yr(D)):pe.set(D,F),ze({fetchers:new Map(x.fetchers)})}function Lt(D){let F=L.get(D);F&&(F.abort(),L.delete(D))}function jr(D){for(let F of D){let z=ps(F),Y=ai(z.data);x.fetchers.set(F,Y)}}function gs(){let D=[],F=!1;for(let z of se){let Y=x.fetchers.get(z);Be(Y,"Expected fetcher: "+z),Y.state==="loading"&&(se.delete(z),D.push(z),F=!0)}return jr(D),F}function er(D){let F=[];for(let[z,Y]of Z)if(Y<D){let te=x.fetchers.get(z);Be(te,"Expected fetcher: "+z),te.state==="loading"&&(Lt(z),Z.delete(z),F.push(z))}return jr(F),F.length>0}function Ji(D,F){let z=x.blockers.get(D)||eu;return De.get(D)!==F&&De.set(D,F),z}function H(D){x.blockers.delete(D),De.delete(D)}function G(D,F){let z=x.blockers.get(D)||eu;Be(z.state==="unblocked"&&F.state==="blocked"||z.state==="blocked"&&F.state==="blocked"||z.state==="blocked"&&F.state==="proceeding"||z.state==="blocked"&&F.state==="unblocked"||z.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+F.state);let Y=new Map(x.blockers);Y.set(D,F),ze({blockers:Y})}function ee(D){let{currentLocation:F,nextLocation:z,historyAction:Y}=D;if(De.size===0)return;De.size>1&&il(!1,"A router only supports one blocker at a time");let te=Array.from(De.entries()),[fe,de]=te[te.length-1],K=x.blockers.get(fe);if(!(K&&K.state==="proceeding")&&de({currentLocation:F,nextLocation:z,historyAction:Y}))return fe}function Pe(D){let F=Wn(404,{pathname:D}),z=a||o,{matches:Y,route:te}=Mb(z);return Ee(),{notFoundMatches:Y,route:te,error:F}}function Ee(D){let F=[];return ke.forEach((z,Y)=>{(!D||D(Y))&&(z.cancel(),F.push(Y),ke.delete(Y))}),F}function ce(D,F,z){if(b=D,P=F,_=z||null,!v&&x.navigation===mp){v=!0;let Y=Je(x.location,x.matches);Y!=null&&ze({restoreScrollPosition:Y})}return()=>{b=null,P=null,_=null}}function ot(D,F){return _&&_(D,F.map(Y=>dM(Y,x.loaderData)))||D.key}function He(D,F){if(b&&P){let z=ot(D,F);b[z]=P()}}function Je(D,F){if(b){let z=ot(D,F),Y=b[z];if(typeof Y=="number")return Y}return null}function st(D,F,z){if(d)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:vf(F,z,l,!0)}}else return{active:!0,matches:vf(F,z,l,!0)||[]};return{active:!1,matches:null}}async function pt(D,F,z,Y){if(!d)return{type:"success",matches:D};let te=D;for(;;){let fe=a==null,de=a||o,K=i;try{await d({signal:z,path:F,matches:te,fetcherKey:Y,patch:(ne,ge)=>{z.aborted||Ib(ne,ge,de,K,s)}})}catch(ne){return{type:"error",error:ne,partialMatches:te}}finally{fe&&!z.aborted&&(o=[...o])}if(z.aborted)return{type:"aborted"};let ue=ho(de,F,l);if(ue)return{type:"success",matches:ue};let oe=vf(de,F,l,!0);if(!oe||te.length===oe.length&&te.every((ne,ge)=>ne.route.id===oe[ge].route.id))return{type:"success",matches:null};te=oe}}function Un(D){i={},a=ih(D,s,void 0,i)}function tr(D,F){let z=a==null;Ib(D,F,a||o,i,s),z&&(o=[...o],ze({}))}return V={get basename(){return l},get future(){return h},get state(){return x},get routes(){return o},get window(){return e},initialize:bt,subscribe:dn,enableScrollRestoration:ce,navigate:Ae,fetch:Dn,revalidate:Ut,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:ps,deleteFetcher:Zn,dispose:Bn,getBlocker:Ji,deleteBlocker:H,patchRoutes:tr,_internalFetchControllers:L,_internalActiveDeferreds:ke,_internalSetRoutes:Un},V}function LM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ty(t,e,n,r,s,i,o,a){let l,u;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){u=h;break}}else l=e,u=e[e.length-1];let d=Av(s||".",Pv(l,i),Pl(t.pathname,n)||t.pathname,a==="path");if(s==null&&(d.search=t.search,d.hash=t.hash),(s==null||s===""||s===".")&&u){let h=kv(d.search);if(u.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&h){let m=new URLSearchParams(d.search),p=m.getAll("index");m.delete("index"),p.filter(_=>_).forEach(_=>m.append("index",_));let b=m.toString();d.search=b?"?"+b:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Cs([n,d.pathname])),Fo(d)}function Tb(t,e,n,r){if(!r||!LM(r))return{path:n};if(r.formMethod&&!YM(r.formMethod))return{path:n,error:Wn(405,{method:r.formMethod})};let s=()=>({path:n,error:Wn(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=eC(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fr(o))return s();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,b)=>{let[_,P]=b;return""+p+_+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Fr(o))return s();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return s()}}}Be(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=ry(r.formData),u=r.formData;else if(r.body instanceof FormData)l=ry(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=Nb(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=Nb(l)}catch{return s()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Fr(d.formMethod))return{path:n,submission:d};let h=Yi(n);return e&&h.search&&kv(h.search)&&l.append("index",""),h.search="?"+l,{path:Fo(h),submission:d}}function Pb(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(s=>s.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function Ab(t,e,n,r,s,i,o,a,l,u,d,h,m,p,b,_){let P=_?ir(_[1])?_[1].error:_[1].data:void 0,v=t.createURL(e.location),y=t.createURL(s),E=n;i&&e.errors?E=Pb(n,Object.keys(e.errors)[0],!0):_&&ir(_[1])&&(E=Pb(n,_[0]));let j=_?_[1].statusCode:void 0,C=o&&j&&j>=400,V=E.filter((S,A)=>{let{route:I}=S;if(I.lazy)return!0;if(I.loader==null)return!1;if(i)return ny(I,e.loaderData,e.errors);if(OM(e.loaderData,e.matches[A],S)||l.some(N=>N===S.route.id))return!0;let R=e.matches[A],M=S;return Cb(S,yt({currentUrl:v,currentParams:R.params,nextUrl:y,nextParams:M.params},r,{actionResult:P,actionStatus:j,defaultShouldRevalidate:C?!1:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||JA(R,M)}))}),x=[];return h.forEach((S,A)=>{if(i||!n.some($=>$.route.id===S.routeId)||d.has(A))return;let I=ho(p,S.path,b);if(!I){x.push({key:A,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(A),M=du(I,S.path),N=!1;m.has(A)?N=!1:u.has(A)?(u.delete(A),N=!0):R&&R.state!=="idle"&&R.data===void 0?N=a:N=Cb(M,yt({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:j,defaultShouldRevalidate:C?!1:a})),N&&x.push({key:A,routeId:S.routeId,path:S.path,matches:I,match:M,controller:new AbortController})}),[V,x]}function ny(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function OM(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function JA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Cb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Ib(t,e,n,r,s){var i;let o;if(t){let u=r[t];Be(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=n;let a=e.filter(u=>!o.some(d=>ZA(u,d))),l=ih(a,s,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function ZA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>ZA(n,i))}):!1}async function FM(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Be(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";il(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!uM.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,yt({},e(s),{lazy:void 0}))}async function $M(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function BM(t,e,n,r,s,i,o,a,l,u){let d=i.map(p=>p.route.lazy?FM(p.route,l,a):void 0),h=i.map((p,b)=>{let _=d[b],P=s.some(y=>y.route.id===p.route.id);return yt({},p,{shouldLoad:P,resolve:async y=>(y&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(P=!0),P?zM(e,r,p,_,y,u):Promise.resolve({type:Ze.data,result:void 0}))})}),m=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:u});try{await Promise.all(d)}catch{}return m}async function zM(t,e,n,r,s,i){let o,a,l=u=>{let d,h=new Promise((b,_)=>d=_);a=()=>d(),e.signal.addEventListener("abort",a);let m=b=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):u({request:e,params:n.params,context:i},...b!==void 0?[b]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(_=>m(_)):m())}}catch(b){return{type:"error",result:b}}})();return Promise.race([p,h])};try{let u=n.route[t];if(r)if(u){let d,[h]=await Promise.all([l(u).catch(m=>{d=m}),r]);if(d!==void 0)throw d;o=h}else if(await r,u=n.route[t],u)o=await l(u);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw Wn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Ze.data,result:void 0};else if(u)o=await l(u);else{let d=new URL(e.url),h=d.pathname+d.search;throw Wn(404,{pathname:h})}Be(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Ze.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function UM(t){let{result:e,type:n}=t;if(tC(e)){let h;try{let m=e.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(m){return{type:Ze.error,error:m}}return n===Ze.error?{type:Ze.error,error:new oh(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Ze.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Ze.error){if(Vb(e)){var r,s;if(e.data instanceof Error){var i,o;return{type:Ze.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Ze.error,error:new oh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:pc(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Ze.error,error:e,statusCode:pc(e)?e.status:void 0}}if(GM(e)){var a,l;return{type:Ze.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Vb(e)){var u,d;return{type:Ze.data,data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}}return{type:Ze.data,data:e}}function HM(t,e,n,r,s,i){let o=t.headers.get("Location");if(Be(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Cv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=ty(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function kb(t,e,n){if(Cv.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Pl(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function ta(t,e,n,r){let s=t.createURL(eC(e)).toString(),i={signal:n};if(r&&Fr(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=ry(r.formData):i.body=r.formData}return new Request(s,i)}function ry(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Nb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function WM(t,e,n,r,s){let i={},o=null,a,l=!1,u={},d=n&&ir(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let m=h.route.id,p=e[m];if(Be(!xo(p),"Cannot handle redirect results in processLoaderData"),ir(p)){let b=p.error;d!==void 0&&(b=d,d=void 0),o=o||{};{let _=mo(t,m);o[_.route.id]==null&&(o[_.route.id]=b)}i[m]=void 0,l||(l=!0,a=pc(p.error)?p.error.status:500),p.headers&&(u[m]=p.headers)}else gi(p)?(r.set(m,p.deferredData),i[m]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[m]=p.headers)):(i[m]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(u[m]=p.headers))}),d!==void 0&&n&&(o={[n[0]]:d},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:u}}function jb(t,e,n,r,s,i,o){let{loaderData:a,errors:l}=WM(e,n,r,o);return s.forEach(u=>{let{key:d,match:h,controller:m}=u,p=i[d];if(Be(p,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(ir(p)){let b=mo(t.matches,h==null?void 0:h.route.id);l&&l[b.route.id]||(l=yt({},l,{[b.route.id]:p.error})),t.fetchers.delete(d)}else if(xo(p))Be(!1,"Unhandled fetcher revalidation redirect");else if(gi(p))Be(!1,"Unhandled fetcher deferred data");else{let b=ai(p.data);t.fetchers.set(d,b)}}),{loaderData:a,errors:l}}function Rb(t,e,n,r){let s=yt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Db(t){return t?ir(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function mo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Mb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new oh(t||500,a,new Error(l),!0)}function Ld(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(xo(s))return{key:r,result:s}}}function eC(t){let e=typeof t=="string"?Yi(t):t;return Fo(yt({},e,{hash:""}))}function qM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function KM(t){return tC(t.result)&&jM.has(t.result.status)}function gi(t){return t.type===Ze.deferred}function ir(t){return t.type===Ze.error}function xo(t){return(t&&t.type)===Ze.redirect}function Vb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function GM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function tC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function YM(t){return NM.has(t.toLowerCase())}function Fr(t){return IM.has(t.toLowerCase())}async function XM(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],u=t.find(m=>(m==null?void 0:m.route.id)===a);if(!u)continue;let d=r.find(m=>m.route.id===u.route.id),h=d!=null&&!JA(d,u)&&(s&&s[u.route.id])!==void 0;gi(l)&&h&&await Iv(l,n,!1).then(m=>{m&&(e[a]=m)})}}async function QM(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(u=>(u==null?void 0:u.route.id)===i)&&gi(a)&&(Be(o,"Expected an AbortController for revalidating fetcher deferred result"),await Iv(a,o.signal,!0).then(u=>{u&&(e[s]=u)}))}}async function Iv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ze.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Ze.error,error:s}}return{type:Ze.data,data:t.deferredData.data}}}function kv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function du(t,e){let n=typeof e=="string"?Yi(e).search:e.search;if(t[t.length-1].route.index&&kv(n||""))return t[t.length-1];let r=YA(t);return r[r.length-1]}function Lb(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function pp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function JM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ai(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function e5(t,e){try{let n=t.sessionStorage.getItem(QA);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function t5(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(QA,JSON.stringify(n))}catch(r){il(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(this,arguments)}const nm=T.createContext(null),nC=T.createContext(null),Ko=T.createContext(null),Nv=T.createContext(null),Xs=T.createContext({outlet:null,matches:[],isDataRoute:!1}),rC=T.createContext(null);function n5(t,e){let{relative:n}=e===void 0?{}:e;qc()||Be(!1);let{basename:r,navigator:s}=T.useContext(Ko),{hash:i,pathname:o,search:a}=oC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Cs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function qc(){return T.useContext(Nv)!=null}function Go(){return qc()||Be(!1),T.useContext(Nv).location}function sC(t){T.useContext(Ko).static||T.useLayoutEffect(t)}function Yo(){let{isDataRoute:t}=T.useContext(Xs);return t?g5():r5()}function r5(){qc()||Be(!1);let t=T.useContext(nm),{basename:e,future:n,navigator:r}=T.useContext(Ko),{matches:s}=T.useContext(Xs),{pathname:i}=Go(),o=JSON.stringify(Pv(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return sC(()=>{a.current=!0}),T.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Av(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Cs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const s5=T.createContext(null);function i5(t){let e=T.useContext(Xs).outlet;return e&&T.createElement(s5.Provider,{value:t},e)}function iC(){let{matches:t}=T.useContext(Xs),e=t[t.length-1];return e?e.params:{}}function oC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Ko),{matches:s}=T.useContext(Xs),{pathname:i}=Go(),o=JSON.stringify(Pv(s,r.v7_relativeSplatPath));return T.useMemo(()=>Av(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function o5(t,e,n,r){qc()||Be(!1);let{navigator:s}=T.useContext(Ko),{matches:i}=T.useContext(Xs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Go(),d;d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let p=ho(t,{pathname:m});return d5(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:Cs([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Cs([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,r)}function a5(){let t=p5(),e=pc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,null)}const l5=T.createElement(a5,null);class u5 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Xs.Provider,{value:this.props.routeContext},T.createElement(rC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c5(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(nm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Xs.Provider,{value:e},r)}function d5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Be(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,b=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||b){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let p,b=!1,_=null,P=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||l5,l&&(u<0&&m===0?(y5("route-fallback"),b=!0,P=null):u===m&&(b=!0,P=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),y=()=>{let E;return p?E=_:b?E=P:h.route.Component?E=T.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,T.createElement(c5,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?T.createElement(u5,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var aC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(aC||{}),lC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lC||{});function f5(t){let e=T.useContext(nm);return e||Be(!1),e}function h5(t){let e=T.useContext(nC);return e||Be(!1),e}function m5(t){let e=T.useContext(Xs);return e||Be(!1),e}function uC(t){let e=m5(),n=e.matches[e.matches.length-1];return n.route.id||Be(!1),n.route.id}function p5(){var t;let e=T.useContext(rC),n=h5(lC.UseRouteError),r=uC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function g5(){let{router:t}=f5(aC.UseNavigateStable),e=uC(),n=T.useRef(!1);return sC(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ah({fromRouteId:e},i)))},[t,e])}const Ob={};function y5(t,e,n){Ob[t]||(Ob[t]=!0)}function v5(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function x5(t){return i5(t.context)}function w5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=qt.Pop,navigator:i,static:o=!1,future:a}=t;qc()&&Be(!1);let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:i,static:o,future:ah({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Yi(r));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:b="default"}=r,_=T.useMemo(()=>{let P=Pl(d,l);return P==null?null:{location:{pathname:P,search:h,hash:m,state:p,key:b},navigationType:s}},[l,d,h,m,p,b,s]);return _==null?null:T.createElement(Ko.Provider,{value:u},T.createElement(Nv.Provider,{children:n,value:_}))}new Promise(()=>{});function b5(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function S5(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E5(t,e){return t.button===0&&(!e||e==="_self")&&!_5(t)}const T5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],P5="6";try{window.__reactRouterVersion=P5}catch{}function A5(t,e){return VM({basename:void 0,future:gc({},void 0,{v7_prependBasename:!0}),history:oM({window:void 0}),hydrationData:C5(),routes:t,mapRouteProperties:b5,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function C5(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gc({},e,{errors:I5(e.errors)})),e}function I5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new oh(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const k5=T.createContext({isTransitioning:!1}),N5=T.createContext(new Map),j5="startTransition",Fb=KR[j5],R5="flushSync",$b=iM[R5];function D5(t){Fb?Fb(t):t()}function nu(t){$b?$b(t):t()}let M5=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function V5(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=T.useState(n.state),[o,a]=T.useState(),[l,u]=T.useState({isTransitioning:!1}),[d,h]=T.useState(),[m,p]=T.useState(),[b,_]=T.useState(),P=T.useRef(new Map),{v7_startTransition:v}=r||{},y=T.useCallback(S=>{v?D5(S):S()},[v]),E=T.useCallback((S,A)=>{let{deletedFetchers:I,flushSync:R,viewTransitionOpts:M}=A;S.fetchers.forEach(($,Q)=>{$.data!==void 0&&P.current.set(Q,$.data)}),I.forEach($=>P.current.delete($));let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!M||N){R?nu(()=>i(S)):y(()=>i(S));return}if(R){nu(()=>{m&&(d&&d.resolve(),m.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let $=n.window.document.startViewTransition(()=>{nu(()=>i(S))});$.finished.finally(()=>{nu(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),nu(()=>p($));return}m?(d&&d.resolve(),m.skipTransition(),_({state:S,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(a(S),u({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[n.window,m,d,P,y]);T.useLayoutEffect(()=>n.subscribe(E),[n,E]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new M5)},[l]),T.useEffect(()=>{if(d&&o&&n.window){let S=o,A=d.promise,I=n.window.document.startViewTransition(async()=>{y(()=>i(S)),await A});I.finished.finally(()=>{h(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(I)}},[y,o,d,n.window]),T.useEffect(()=>{d&&o&&s.location.key===o.location.key&&d.resolve()},[d,m,s.location,o]),T.useEffect(()=>{!l.isTransitioning&&b&&(a(b.state),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),_(void 0))},[l.isTransitioning,b]),T.useEffect(()=>{},[]);let j=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,A,I)=>n.navigate(S,{state:A,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(S,A,I)=>n.navigate(S,{replace:!0,state:A,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),C=n.basename||"/",V=T.useMemo(()=>({router:n,navigator:j,static:!1,basename:C}),[n,j,C]),x=T.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return T.useEffect(()=>v5(r,n.future),[r,n.future]),T.createElement(T.Fragment,null,T.createElement(nm.Provider,{value:V},T.createElement(nC.Provider,{value:s},T.createElement(N5.Provider,{value:P.current},T.createElement(k5.Provider,{value:l},T.createElement(w5,{basename:C,location:s.location,navigationType:s.historyAction,navigator:j,future:x},s.initialized||n.future.v7_partialHydration?T.createElement(L5,{routes:n.routes,future:n.future,state:s}):e))))),null)}const L5=T.memo(O5);function O5(t){let{routes:e,future:n,state:r}=t;return o5(e,void 0,r,n)}const F5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jv=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,m=S5(e,T5),{basename:p}=T.useContext(Ko),b,_=!1;if(typeof u=="string"&&$5.test(u)&&(b=u,F5))try{let E=new URL(window.location.href),j=u.startsWith("//")?new URL(E.protocol+u):new URL(u),C=Pl(j.pathname,p);j.origin===E.origin&&C!=null?u=C+j.search+j.hash:_=!0}catch{}let P=n5(u,{relative:s}),v=B5(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function y(E){r&&r(E),E.defaultPrevented||v(E)}return T.createElement("a",gc({},m,{href:b||P,onClick:_||i?r:y,ref:n,target:l}))});var Bb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Bb||(Bb={}));var zb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zb||(zb={}));function B5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Yo(),u=Go(),d=oC(t,{relative:o});return T.useCallback(h=>{if(E5(h,n)){h.preventDefault();let m=r!==void 0?r:Fo(u)===Fo(d);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}const Rv=T.createContext({});function Dv(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const rm=T.createContext(null),Mv=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class z5 extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function U5({children:t,isPresent:e}){const n=T.useId(),r=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=T.useContext(Mv);return T.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(z5,{isPresent:e,childRef:r,sizeRef:s,children:T.cloneElement(t,{ref:r})})}const H5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Dv(W5),l=T.useId(),u=T.useCallback(h=>{a.set(h,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),d=T.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return T.useMemo(()=>{a.forEach((h,m)=>a.set(m,!1))},[n]),T.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=c.jsx(U5,{isPresent:n,children:t})),c.jsx(rm.Provider,{value:d,children:t})};function W5(){return new Map}function cC(t=!0){const e=T.useContext(rm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{t&&s(i)},[t]);const o=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Od=t=>t.key||"";function Ub(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const Vv=typeof window<"u",dC=Vv?T.useLayoutEffect:T.useEffect,yi=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=cC(o),u=T.useMemo(()=>Ub(t),[t]),d=o&&!a?[]:u.map(Od),h=T.useRef(!0),m=T.useRef(u),p=Dv(()=>new Map),[b,_]=T.useState(u),[P,v]=T.useState(u);dC(()=>{h.current=!1,m.current=u;for(let j=0;j<P.length;j++){const C=Od(P[j]);d.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[P,d.length,d.join("-")]);const y=[];if(u!==b){let j=[...u];for(let C=0;C<P.length;C++){const V=P[C],x=Od(V);d.includes(x)||(j.splice(C,0,V),y.push(V))}i==="wait"&&y.length&&(j=y),v(Ub(j)),_(u);return}const{forceRender:E}=T.useContext(Rv);return c.jsx(c.Fragment,{children:P.map(j=>{const C=Od(j),V=o&&!a?!1:u===P||d.includes(C),x=()=>{if(p.has(C))p.set(C,!0);else return;let S=!0;p.forEach(A=>{A||(S=!1)}),S&&(E==null||E(),v(m.current),o&&(l==null||l()),r&&r())};return c.jsx(H5,{isPresent:V,initial:!h.current||n?void 0:!1,custom:V?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:V?void 0:x,children:j},C)})})},ur=t=>t;let fC=ur;function Lv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ol=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Is=t=>t*1e3,ks=t=>t/1e3,q5={useManualTiming:!1};function K5(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),t()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const p=h&&r?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const Fd=["read","resolveKeyframes","update","preRender","render","postRender"],G5=40;function hC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Fd.reduce((v,y)=>(v[y]=K5(i),v),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:m}=o,p=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,G5),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},b=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:Fd.reduce((v,y)=>{const E=o[y];return v[y]=(j,C=!1,V=!1)=>(n||b(),E.schedule(j,C,V)),v},{}),cancel:v=>{for(let y=0;y<Fd.length;y++)o[Fd[y]].cancel(v)},state:s,steps:o}}const{schedule:mt,cancel:Di,state:pn,steps:gp}=hC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ur,!0),mC=T.createContext({strict:!1}),Hb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const t in Hb)al[t]={isEnabled:e=>Hb[t].some(n=>!!e[n])};function Y5(t){for(const e in t)al[e]={...al[e],...t[e]}}const X5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X5.has(t)}let pC=t=>!lh(t);function Q5(t){t&&(pC=e=>e.startsWith("on")?!lh(e):t(e))}try{Q5(require("@emotion/is-prop-valid").default)}catch{}function J5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(pC(s)||n===!0&&lh(s)||!e&&!lh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Z5(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const sm=T.createContext({});function yc(t){return typeof t=="string"||Array.isArray(t)}function im(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ov=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fv=["initial",...Ov];function om(t){return im(t.animate)||Fv.some(e=>yc(t[e]))}function gC(t){return!!(om(t)||t.variants)}function eV(t,e){if(om(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yc(n)?n:void 0,animate:yc(r)?r:void 0}}return t.inherit!==!1?e:{}}function tV(t){const{initial:e,animate:n}=eV(t,T.useContext(sm));return T.useMemo(()=>({initial:e,animate:n}),[Wb(e),Wb(n)])}function Wb(t){return Array.isArray(t)?t.join(" "):t}const nV=Symbol.for("motionComponentSymbol");function _a(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rV(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):_a(n)&&(n.current=r))},[e])}const $v=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sV="framerAppearId",yC="data-"+$v(sV),{schedule:Bv}=hC(queueMicrotask,!1),vC=T.createContext({});function iV(t,e,n,r,s){var i,o;const{visualElement:a}=T.useContext(sm),l=T.useContext(mC),u=T.useContext(rm),d=T.useContext(Mv).reducedMotion,h=T.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=T.useContext(vC);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&oV(h.current,n,s,p);const b=T.useRef(!1);T.useInsertionEffect(()=>{m&&b.current&&m.update(n,u)});const _=n[yC],P=T.useRef(!!_&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return dC(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Bv.render(m.render),P.current&&m.animationState&&m.animationState.animateChanges())}),T.useEffect(()=>{m&&(!P.current&&m.animationState&&m.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,_)}),P.current=!1))}),m}function oV(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&_a(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function xC(t){if(t)return t.options.allowProjection!==!1?t.projection:xC(t.parent)}function aV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&Y5(t);function a(u,d){let h;const m={...T.useContext(Mv),...u,layoutId:lV(u)},{isStatic:p}=m,b=tV(u),_=r(u,p);if(!p&&Vv){uV();const P=cV(m);h=P.MeasureLayout,b.visualElement=iV(s,_,m,e,P.ProjectionNode)}return c.jsxs(sm.Provider,{value:b,children:[h&&b.visualElement?c.jsx(h,{visualElement:b.visualElement,...m}):null,n(s,u,rV(_,b.visualElement,d),_,p,b.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=T.forwardRef(a);return l[nV]=s,l}function lV({layoutId:t}){const e=T.useContext(Rv).id;return e&&t!==void 0?e+"-"+t:t}function uV(t,e){T.useContext(mC).strict}function cV(t){const{drag:e,layout:n}=al;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zv(t){return typeof t!="string"||t.includes("-")?!1:!!(dV.indexOf(t)>-1||/[A-Z]/u.test(t))}function qb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Uv(t,e,n,r){if(typeof e=="function"){const[s,i]=qb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=qb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const sy=t=>Array.isArray(t),fV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),hV=t=>sy(t)?t[t.length-1]||0:t,Nn=t=>!!(t&&t.getVelocity);function xf(t){const e=Nn(t)?t.get():t;return fV(e)?e.toValue():e}function mV({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:pV(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const wC=t=>(e,n)=>{const r=T.useContext(sm),s=T.useContext(rm),i=()=>mV(t,e,r,s);return n?i():Dv(i)};function pV(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=xf(i[m]);let{initial:o,animate:a}=t;const l=om(t),u=gC(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!im(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const b=Uv(t,m[p]);if(b){const{transitionEnd:_,transition:P,...v}=b;for(const y in v){let E=v[y];if(Array.isArray(E)){const j=d?E.length-1:0;E=E[j]}E!==null&&(s[y]=E)}for(const y in _)s[y]=_[y]}}}return s}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xo=new Set(Al),bC=t=>e=>typeof e=="string"&&e.startsWith(t),SC=bC("--"),gV=bC("var(--"),Hv=t=>gV(t)?yV.test(t.split("/*")[0].trim()):!1,yV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_C=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Os=(t,e,n)=>n>e?e:n<t?t:n,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vc={...Cl,transform:t=>Os(0,1,t)},$d={...Cl,default:1},Kc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),li=Kc("deg"),ls=Kc("%"),Te=Kc("px"),vV=Kc("vh"),xV=Kc("vw"),Kb={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},wV={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},bV={rotate:li,rotateX:li,rotateY:li,rotateZ:li,scale:$d,scaleX:$d,scaleY:$d,scaleZ:$d,skew:li,skewX:li,skewY:li,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:vc,originX:Kb,originY:Kb,originZ:Te},Gb={...Cl,transform:Math.round},Wv={...wV,...bV,zIndex:Gb,size:Te,fillOpacity:vc,strokeOpacity:vc,numOctaves:Gb},SV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_V=Al.length;function EV(t,e,n){let r="",s=!0;for(let i=0;i<_V;i++){const o=Al[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=_C(a,Wv[o]);if(!l){s=!1;const d=SV[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function qv(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Xo.has(l)){o=!0;continue}else if(SC(l)){s[l]=u;continue}else{const d=_C(u,Wv[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=EV(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const TV={offset:"stroke-dashoffset",array:"stroke-dasharray"},PV={offset:"strokeDashoffset",array:"strokeDasharray"};function AV(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?TV:PV;t[i.offset]=Te.transform(-r);const o=Te.transform(e),a=Te.transform(n);t[i.array]=`${o} ${a}`}function Yb(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function CV(t,e,n){const r=Yb(e,t.x,t.width),s=Yb(n,t.y,t.height);return`${r} ${s}`}function Kv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(qv(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:b}=t;m.transform&&(b&&(p.transform=m.transform),delete m.transform),b&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=CV(b,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&AV(m,o,a,l,!1)}const Gv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),EC=()=>({...Gv(),attrs:{}}),Yv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TC(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const PC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AC(t,e,n,r){TC(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(PC.has(s)?s:$v(s),e.attrs[s])}const uh={};function IV(t){Object.assign(uh,t)}function CC(t,{layout:e,layoutId:n}){return Xo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uh[t]||t==="opacity")}function Xv(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(Nn(s[o])||e.style&&Nn(e.style[o])||CC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function IC(t,e,n){const r=Xv(t,e,n);for(const s in t)if(Nn(t[s])||Nn(e[s])){const i=Al.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function kV(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Xb=["x","y","width","height","cx","cy","r"],NV={useVisualState:wC({scrapeMotionValuesFromProps:IC,createRenderState:EC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Xo.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<Xb.length;a++){const l=Xb[a];t[l]!==e[l]&&(o=!0)}o&&mt.read(()=>{kV(n,r),mt.render(()=>{Kv(r,s,Yv(n.tagName),t.transformTemplate),AC(n,r)})})}})},jV={useVisualState:wC({scrapeMotionValuesFromProps:Xv,createRenderState:Gv})};function kC(t,e,n){for(const r in e)!Nn(e[r])&&!CC(r,n)&&(t[r]=e[r])}function RV({transformTemplate:t},e){return T.useMemo(()=>{const n=Gv();return qv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DV(t,e){const n=t.style||{},r={};return kC(r,n,t),Object.assign(r,RV(t,e)),r}function MV(t,e){const n={},r=DV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function VV(t,e,n,r){const s=T.useMemo(()=>{const i=EC();return Kv(i,e,Yv(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};kC(i,t.style,t),s.style={...i,...s.style}}return s}function LV(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(zv(n)?VV:MV)(r,i,o,n),u=J5(r,typeof n=="string",t),d=n!==T.Fragment?{...u,...l,ref:s}:{},{children:h}=r,m=T.useMemo(()=>Nn(h)?h.get():h,[h]);return T.createElement(n,{...d,children:m})}}function OV(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...zv(r)?NV:jV,preloadedFeatures:t,useRender:LV(s),createVisualElement:e,Component:r};return aV(o)}}function NC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function am(t,e,n){const r=t.getProps();return Uv(r,e,n!==void 0?n:r.custom,t)}const FV=Lv(()=>window.ScrollTimeline!==void 0);class $V{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(FV()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class BV extends $V{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Qv(t,e){return t?t[e]||t.default||t:void 0}const iy=2e4;function jC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<iy;)e+=n,r=t.next(e);return e>=iy?1/0:e}function Jv(t){return typeof t=="function"}function Qb(t,e){t.timeline=e,t.onfinish=null}const Zv=t=>Array.isArray(t)&&typeof t[0]=="number",zV={linearEasing:void 0};function UV(t,e){const n=Lv(t);return()=>{var r;return(r=zV[e])!==null&&r!==void 0?r:n()}}const ch=UV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),RC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(ol(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function DC(t){return!!(typeof t=="function"&&ch()||!t||typeof t=="string"&&(t in oy||ch())||Zv(t)||Array.isArray(t)&&t.every(DC))}const fu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fu([0,.65,.55,1]),circOut:fu([.55,0,1,.45]),backIn:fu([.31,.01,.66,-.59]),backOut:fu([.33,1.53,.69,.99])};function MC(t,e){if(t)return typeof t=="function"&&ch()?RC(t,e):Zv(t)?fu(t):Array.isArray(t)?t.map(n=>MC(n,e)||oy.easeOut):oy[t]}const Mr={x:!1,y:!1};function VC(){return Mr.x||Mr.y}function HV(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function LC(t,e){const n=HV(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Jb(t){return e=>{e.pointerType==="touch"||VC()||t(e)}}function WV(t,e,n={}){const[r,s,i]=LC(t,n),o=Jb(a=>{const{target:l}=a,u=e(a);if(typeof u!="function"||!l)return;const d=Jb(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const OC=(t,e)=>e?t===e?!0:OC(t,e.parentElement):!1,ex=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KV(t){return qV.has(t.tagName)||t.tabIndex!==-1}const hu=new WeakSet;function Zb(t){return e=>{e.key==="Enter"&&t(e)}}function yp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Zb(()=>{if(hu.has(n))return;yp(n,"down");const s=Zb(()=>{yp(n,"up")}),i=()=>yp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function eS(t){return ex(t)&&!VC()}function YV(t,e,n={}){const[r,s,i]=LC(t,n),o=a=>{const l=a.currentTarget;if(!eS(a)||hu.has(l))return;hu.add(l);const u=e(a),d=(p,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!eS(p)||!hu.has(l))&&(hu.delete(l),typeof u=="function"&&u(p,{success:b}))},h=p=>{d(p,n.useGlobalTarget||OC(l,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{!KV(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>GV(u,s),s)}),i}function XV(t){return t==="x"||t==="y"?Mr[t]?null:(Mr[t]=!0,()=>{Mr[t]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}const FC=new Set(["width","height","top","left","right","bottom",...Al]);let wf;function QV(){wf=void 0}const us={now:()=>(wf===void 0&&us.set(pn.isProcessing||q5.useManualTiming?pn.timestamp:performance.now()),wf),set:t=>{wf=t,queueMicrotask(QV)}};function tx(t,e){t.indexOf(e)===-1&&t.push(e)}function nx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let rx=class{constructor(){this.subscriptions=[]}add(e){return tx(this.subscriptions,e),()=>nx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function $C(t,e){return e?t*(1e3/e):0}const tS=30,JV=t=>!isNaN(parseFloat(t));let ZV=class{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=us.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=JV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rx);const r=this.events[e].add(n);return e==="change"?()=>{r(),mt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tS);return $C(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function xc(t,e){return new ZV(t,e)}function eL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xc(n))}function tL(t,e){const n=am(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=hV(i[o]);eL(t,o,a)}}function nL(t){return!!(Nn(t)&&t.add)}function ay(t,e){const n=t.getValue("willChange");if(nL(n))return n.add(e)}function BC(t){return t.props[yC]}const zC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rL=1e-7,sL=12;function iL(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=zC(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>rL&&++a<sL);return o}function Gc(t,e,n,r){if(t===e&&n===r)return ur;const s=i=>iL(i,0,1,t,n);return i=>i===0||i===1?i:zC(s(i),e,r)}const UC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HC=t=>e=>1-t(1-e),WC=Gc(.33,1.53,.69,.99),sx=HC(WC),qC=UC(sx),KC=t=>(t*=2)<1?.5*sx(t):.5*(2-Math.pow(2,-10*(t-1))),ix=t=>1-Math.sin(Math.acos(t)),GC=HC(ix),YC=UC(ix),XC=t=>/^0[^.\s]+$/u.test(t);function oL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||XC(t):!0}const Iu=t=>Math.round(t*1e5)/1e5,ox=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aL(t){return t==null}const lL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ax=(t,e)=>n=>!!(typeof n=="string"&&lL.test(n)&&n.startsWith(t)||e&&!aL(n)&&Object.prototype.hasOwnProperty.call(n,e)),QC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(ox);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},uL=t=>Os(0,255,t),vp={...Cl,transform:t=>Math.round(uL(t))},wo={test:ax("rgb","red"),parse:QC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vp.transform(t)+", "+vp.transform(e)+", "+vp.transform(n)+", "+Iu(vc.transform(r))+")"};function cL(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const ly={test:ax("#"),parse:cL,transform:wo.transform},Ea={test:ax("hsl","hue"),parse:QC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ls.transform(Iu(e))+", "+ls.transform(Iu(n))+", "+Iu(vc.transform(r))+")"},Pn={test:t=>wo.test(t)||ly.test(t)||Ea.test(t),parse:t=>wo.test(t)?wo.parse(t):Ea.test(t)?Ea.parse(t):ly.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wo.transform(t):Ea.transform(t)},dL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ox))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(dL))===null||n===void 0?void 0:n.length)||0)>0}const JC="number",ZC="color",hL="var",mL="var(",nS="${}",pL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(pL,l=>(Pn.test(l)?(r.color.push(i),s.push(ZC),n.push(Pn.parse(l))):l.startsWith(mL)?(r.var.push(i),s.push(hL),n.push(l)):(r.number.push(i),s.push(JC),n.push(parseFloat(l))),++i,nS)).split(nS);return{values:n,split:a,indexes:r,types:s}}function eI(t){return wc(t).values}function tI(t){const{split:e,types:n}=wc(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===JC?i+=Iu(s[o]):a===ZC?i+=Pn.transform(s[o]):i+=s[o]}return i}}const gL=t=>typeof t=="number"?0:t;function yL(t){const e=eI(t);return tI(t)(e.map(gL))}const Mi={test:fL,parse:eI,createTransformer:tI,getAnimatableNone:yL},vL=new Set(["brightness","contrast","saturate","opacity"]);function xL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ox)||[];if(!r)return t;const s=n.replace(r,"");let i=vL.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const wL=/\b([a-z-]*)\(.*?\)/gu,uy={...Mi,getAnimatableNone:t=>{const e=t.match(wL);return e?e.map(xL).join(" "):t}},bL={...Wv,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:uy,WebkitFilter:uy},lx=t=>bL[t];function nI(t,e){let n=lx(t);return n!==uy&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SL=new Set(["auto","none","0"]);function _L(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!SL.has(i)&&wc(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=nI(n,s)}const rS=t=>t===Cl||t===Te,sS=(t,e)=>parseFloat(t.split(", ")[e]),iS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return sS(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?sS(i[1],t):0}},EL=new Set(["x","y","z"]),TL=Al.filter(t=>!EL.has(t));function PL(t){const e=[];return TL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ll={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:iS(4,13),y:iS(5,14)};ll.translateX=ll.x;ll.translateY=ll.y;const Co=new Set;let cy=!1,dy=!1;function rI(){if(dy){const t=Array.from(Co).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=PL(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dy=!1,cy=!1,Co.forEach(t=>t.complete()),Co.clear()}function sI(){Co.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dy=!0)})}function AL(){sI(),rI()}let ux=class{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Co.add(this),cy||(cy=!0,mt.read(sI),mt.resolveKeyframes(rI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Co.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Co.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const iI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),CL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IL(t){const e=CL.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function oI(t,e,n=1){const[r,s]=IL(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return iI(o)?parseFloat(o):o}return Hv(s)?oI(s,e,n+1):s}const aI=t=>e=>e.test(t),kL={test:t=>t==="auto",parse:t=>t},lI=[Cl,Te,ls,li,xV,vV,kL],oS=t=>lI.find(aI(t));let uI=class extends ux{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Hv(u))){const d=oI(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!FC.has(r)||e.length!==2)return;const[s,i]=e,o=oS(s),a=oS(i);if(o!==a)if(rS(o)&&rS(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)oL(e[s])&&r.push(s);r.length&&_L(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ll[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=ll[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}};const aS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mi.test(t)||t==="0")&&!t.startsWith("url("));function NL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jL(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=aS(s,e),a=aS(i,e);return!o||!a?!1:NL(t)||(n==="spring"||Jv(n))&&r}const RL=t=>t!==null;function lm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(RL),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const DL=40;class cI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=us.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>DL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&AL(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=us.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!jL(e,r,s,i))if(o)this.options.duration=0;else{l&&l(lm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pt=(t,e,n)=>t+(e-t)*n;function xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ML({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=xp(l,a,t+1/3),i=xp(l,a,t),o=xp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function dh(t,e){return n=>n>0?e:t}const wp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},VL=[ly,wo,Ea],LL=t=>VL.find(e=>e.test(t));function lS(t){const e=LL(t);if(!e)return!1;let n=e.parse(t);return e===Ea&&(n=ML(n)),n}const uS=(t,e)=>{const n=lS(t),r=lS(e);if(!n||!r)return dh(t,e);const s={...n};return i=>(s.red=wp(n.red,r.red,i),s.green=wp(n.green,r.green,i),s.blue=wp(n.blue,r.blue,i),s.alpha=Pt(n.alpha,r.alpha,i),wo.transform(s))},OL=(t,e)=>n=>e(t(n)),Yc=(...t)=>t.reduce(OL),fy=new Set(["none","hidden"]);function FL(t,e){return fy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $L(t,e){return n=>Pt(t,e,n)}function cx(t){return typeof t=="number"?$L:typeof t=="string"?Hv(t)?dh:Pn.test(t)?uS:UL:Array.isArray(t)?dI:typeof t=="object"?Pn.test(t)?uS:BL:dh}function dI(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>cx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function BL(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=cx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function zL(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const UL=(t,e)=>{const n=Mi.createTransformer(e),r=wc(t),s=wc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?fy.has(t)&&!s.values.length||fy.has(e)&&!r.values.length?FL(t,e):Yc(dI(zL(r,s),s.values),n):dh(t,e)};function fI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):cx(t)(t,e)}const HL=5;function hI(t,e,n){const r=Math.max(e-HL,0);return $C(n-t(r),e-r)}const Rt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bp=.001;function WL({duration:t=Rt.duration,bounce:e=Rt.bounce,velocity:n=Rt.velocity,mass:r=Rt.mass}){let s,i,o=1-e;o=Os(Rt.minDamping,Rt.maxDamping,o),t=Os(Rt.minDuration,Rt.maxDuration,ks(t)),o<1?(s=u=>{const d=u*o,h=d*t,m=d-n,p=hy(u,o),b=Math.exp(-h);return bp-m/p*b},i=u=>{const h=u*o*t,m=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,b=Math.exp(-h),_=hy(Math.pow(u,2),o);return(-s(u)+bp>0?-1:1)*((m-p)*b)/_}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-bp+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=KL(s,i,a);if(t=Is(t),isNaN(l))return{stiffness:Rt.stiffness,damping:Rt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const qL=12;function KL(t,e,n){let r=n;for(let s=1;s<qL;s++)r=r-t(r)/e(r);return r}function hy(t,e){return t*Math.sqrt(1-e*e)}const GL=["duration","bounce"],YL=["stiffness","damping","mass"];function cS(t,e){return e.some(n=>t[n]!==void 0)}function XL(t){let e={velocity:Rt.velocity,stiffness:Rt.stiffness,damping:Rt.damping,mass:Rt.mass,isResolvedFromDuration:!1,...t};if(!cS(t,YL)&&cS(t,GL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Os(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Rt.mass,stiffness:s,damping:i}}else{const n=WL(t);e={...e,...n,mass:Rt.mass},e.isResolvedFromDuration=!0}return e}function mI(t=Rt.visualDuration,e=Rt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=XL({...n,velocity:-ks(n.velocity||0)}),b=m||0,_=u/(2*Math.sqrt(l*d)),P=o-i,v=ks(Math.sqrt(l/d)),y=Math.abs(P)<5;r||(r=y?Rt.restSpeed.granular:Rt.restSpeed.default),s||(s=y?Rt.restDelta.granular:Rt.restDelta.default);let E;if(_<1){const C=hy(v,_);E=V=>{const x=Math.exp(-_*v*V);return o-x*((b+_*v*P)/C*Math.sin(C*V)+P*Math.cos(C*V))}}else if(_===1)E=C=>o-Math.exp(-v*C)*(P+(b+v*P)*C);else{const C=v*Math.sqrt(_*_-1);E=V=>{const x=Math.exp(-_*v*V),S=Math.min(C*V,300);return o-x*((b+_*v*P)*Math.sinh(S)+C*P*Math.cosh(S))/C}}const j={calculatedDuration:p&&h||null,next:C=>{const V=E(C);if(p)a.done=C>=h;else{let x=0;_<1&&(x=C===0?Is(b):hI(E,C,V));const S=Math.abs(x)<=r,A=Math.abs(o-V)<=s;a.done=S&&A}return a.value=a.done?o:V,a},toString:()=>{const C=Math.min(jC(j),iy),V=RC(x=>j.next(C*x).value,C,30);return C+"ms "+V}};return j}function dS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,b=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let _=n*e;const P=h+_,v=o===void 0?P:o(P);v!==P&&(_=v-h);const y=S=>-_*Math.exp(-S/r),E=S=>v+y(S),j=S=>{const A=y(S),I=E(S);m.done=Math.abs(A)<=u,m.value=m.done?v:I};let C,V;const x=S=>{p(m.value)&&(C=S,V=mI({keyframes:[m.value,b(m.value)],velocity:hI(E,S,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return x(0),{calculatedDuration:null,next:S=>{let A=!1;return!V&&C===void 0&&(A=!0,j(S),x(S)),C!==void 0&&S>=C?V.next(S-C):(!A&&j(S),m)}}}const QL=Gc(.42,0,1,1),JL=Gc(0,0,.58,1),pI=Gc(.42,0,.58,1),ZL=t=>Array.isArray(t)&&typeof t[0]!="number",e6={linear:ur,easeIn:QL,easeInOut:pI,easeOut:JL,circIn:ix,circInOut:YC,circOut:GC,backIn:sx,backInOut:qC,backOut:WC,anticipate:KC},fS=t=>{if(Zv(t)){fC(t.length===4);const[e,n,r,s]=t;return Gc(e,n,r,s)}else if(typeof t=="string")return e6[t];return t};function t6(t,e,n){const r=[],s=n||fI,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ur:e;a=Yc(l,a)}r.push(a)}return r}function n6(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(fC(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=t6(e,r,s),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=ol(t[h],t[h+1],d);return a[h](m)};return n?d=>u(Os(t[0],t[i-1],d)):u}function r6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ol(0,e,r);t.push(Pt(n,1,s))}}function s6(t){const e=[0];return r6(e,t.length-1),e}function i6(t,e){return t.map(n=>n*e)}function o6(t,e){return t.map(()=>e||pI).splice(0,t.length-1)}function fh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=ZL(r)?r.map(fS):fS(r),i={done:!1,value:e[0]},o=i6(n&&n.length===e.length?n:s6(e),t),a=n6(o,e,{ease:Array.isArray(s)?s:o6(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const a6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>mt.update(e,!0),stop:()=>Di(e),now:()=>pn.isProcessing?pn.timestamp:us.now()}},l6={decay:dS,inertia:dS,tween:fh,keyframes:fh,spring:mI},u6=t=>t/100;class dx extends cI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||ux,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Jv(n)?n:l6[n]||fh;let l,u;a!==fh&&typeof e[0]!="number"&&(l=Yc(u6,fI(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});i==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=jC(d));const{calculatedDuration:h}=d,m=h+s,p=m*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:p,repeatType:b,repeatDelay:_,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,j=i;if(p){const S=Math.min(this.currentTime,d)/h;let A=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(b==="reverse"?(I=1-I,_&&(I-=_/h)):b==="mirror"&&(j=o)),E=Os(0,1,I)*h}const C=y?{done:!1,value:l[0]}:j.next(E);a&&(C.value=a(C.value));let{done:V}=C;!y&&u!==null&&(V=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return x&&s!==void 0&&(C.value=lm(l,this.options,s)),P&&P(C.value),x&&this.finish(),C}get duration(){const{resolved:e}=this;return e?ks(e.calculatedDuration):0}get time(){return ks(this.currentTime)}set time(e){e=Is(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ks(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=a6,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const c6=new Set(["opacity","clipPath","filter","transform"]);function d6(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=MC(a,s);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const f6=Lv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hh=10,h6=2e4;function m6(t){return Jv(t.type)||t.type==="spring"||!DC(t.ease)}function p6(t,e){const n=new dx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<h6;)r=n.sample(i),s.push(r.value),i+=hh;return{times:void 0,keyframes:s,duration:i-hh,ease:"linear"}}const gI={anticipate:KC,backInOut:qC,circInOut:YC};function g6(t){return t in gI}class hS extends cI{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new uI(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&ch()&&g6(i)&&(i=gI[i]),m6(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,element:b,..._}=this.options,P=p6(e,_);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,s=P.times,i=P.ease,o="keyframes"}const d=d6(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Qb(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(lm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ks(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ks(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Is(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ur;const{animation:r}=n;Qb(r,e)}return ur}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...p}=this.options,b=new dx({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),_=Is(this.time);u.setWithVelocity(b.sample(_-hh).value,b.sample(_).value,hh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return f6()&&r&&c6.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const y6={type:"spring",stiffness:500,damping:25,restSpeed:10},v6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),x6={type:"keyframes",duration:.8},w6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},b6=(t,{keyframes:e})=>e.length>2?x6:Xo.has(t)?t.startsWith("scale")?v6(e[1]):y6:w6;function S6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const fx=(t,e,n,r={},s,i)=>o=>{const a=Qv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Is(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};S6(a)||(d={...d,...b6(t,d)}),d.duration&&(d.duration=Is(d.duration)),d.repeatDelay&&(d.repeatDelay=Is(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const m=lm(d.keyframes,a);if(m!==void 0)return mt.update(()=>{d.onUpdate(m),d.onComplete()}),new BV([])}return!i&&hS.supports(d)?new hS(d):new dx(d)};function _6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const u=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||d&&_6(d,h))continue;const b={delay:n,...Qv(o||{},h)};let _=!1;if(window.MotionHandoffAnimation){const v=BC(t);if(v){const y=window.MotionHandoffAnimation(v,h,mt);y!==null&&(b.startTime=y,_=!0)}}ay(t,h),m.start(fx(h,m,p,t.shouldReduceMotion&&FC.has(h)?{type:!1}:b,t,_));const P=m.animation;P&&u.push(P)}return a&&Promise.all(u).then(()=>{mt.update(()=>{a&&tL(t,a)})}),u}function my(t,e,n={}){var r;const s=am(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(yI(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return E6(t,e,d+u,h,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function E6(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(T6).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(my(u,e,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function T6(t,e){return t.sortNodePosition(e)}function P6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>my(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=my(t,e,n);else{const s=typeof e=="function"?am(t,e,n.custom):e;r=Promise.all(yI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const A6=Fv.length;function vI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<A6;n++){const r=Fv[n],s=t.props[r];(yc(s)||s===!1)&&(e[r]=s)}return e}const C6=[...Ov].reverse(),I6=Ov.length;function k6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>P6(t,n,r)))}function N6(t){let e=k6(t),n=mS(),r=!0;const s=l=>(u,d)=>{var h;const m=am(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:b,..._}=m;u={...u,..._,...b}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,d=vI(t.parent)||{},h=[],m=new Set;let p={},b=1/0;for(let P=0;P<I6;P++){const v=C6[P],y=n[v],E=u[v]!==void 0?u[v]:d[v],j=yc(E),C=v===l?y.isActive:null;C===!1&&(b=P);let V=E===d[v]&&E!==u[v]&&j;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),y.protectedKeys={...p},!y.isActive&&C===null||!E&&!y.prevProp||im(E)||typeof E=="boolean")continue;const x=j6(y.prevProp,E);let S=x||v===l&&y.isActive&&!V&&j||P>b&&j,A=!1;const I=Array.isArray(E)?E:[E];let R=I.reduce(s(v),{});C===!1&&(R={});const{prevResolvedValues:M={}}=y,N={...M,...R},$=q=>{S=!0,m.has(q)&&(A=!0,m.delete(q)),y.needsAnimating[q]=!0;const L=t.getValue(q);L&&(L.liveStyle=!1)};for(const q in N){const L=R[q],O=M[q];if(p.hasOwnProperty(q))continue;let W=!1;sy(L)&&sy(O)?W=!NC(L,O):W=L!==O,W?L!=null?$(q):m.add(q):L!==void 0&&m.has(q)?$(q):y.protectedKeys[q]=!0}y.prevProp=E,y.prevResolvedValues=R,y.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(V&&x)||A)&&h.push(...I.map(q=>({animation:q,options:{type:v}})))}if(m.size){const P={};m.forEach(v=>{const y=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),P[v]=y??null}),h.push({animation:P})}let _=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=mS(),r=!0}}}function j6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NC(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mS(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}let Xi=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},R6=class extends Xi{constructor(e){super(e),e.animationState||(e.animationState=N6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();im(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}},D6=0,M6=class extends Xi{constructor(){super(...arguments),this.id=D6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}};const V6={animation:{Feature:R6},exit:{Feature:M6}};function bc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xc(t){return{point:{x:t.pageX,y:t.pageY}}}const L6=t=>e=>ex(e)&&t(e,Xc(e));function ku(t,e,n,r){return bc(t,e,L6(n),r)}const pS=(t,e)=>Math.abs(t-e);function O6(t,e){const n=pS(t.x,e.x),r=pS(t.y,e.y);return Math.sqrt(n**2+r**2)}let xI=class{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_p(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=O6(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:b}=h,{timestamp:_}=pn;this.history.push({...b,timestamp:_});const{onStart:P,onMove:v}=this.handlers;m||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Sp(m,this.transformPagePoint),mt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=_p(h.type==="pointercancel"?this.lastMoveEventInfo:Sp(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,P),b&&b(h,P)},!ex(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Xc(e),a=Sp(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=pn;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,_p(a,this.history)),this.removeListeners=Yc(ku(this.contextWindow,"pointermove",this.handlePointerMove),ku(this.contextWindow,"pointerup",this.handlePointerUp),ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Di(this.updatePoint)}};function Sp(t,e){return e?{point:e(t.point)}:t}function gS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _p({point:t},e){return{point:t,delta:gS(t,wI(e)),offset:gS(t,F6(e)),velocity:$6(e,.1)}}function F6(t){return t[0]}function wI(t){return t[t.length-1]}function $6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=wI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Is(e)));)n--;if(!r)return{x:0,y:0};const i=ks(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const bI=1e-4,B6=1-bI,z6=1+bI,SI=.01,U6=0-SI,H6=0+SI;function dr(t){return t.max-t.min}function W6(t,e,n){return Math.abs(t-e)<=n}function yS(t,e,n,r=.5){t.origin=r,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=dr(n)/dr(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=B6&&t.scale<=z6||isNaN(t.scale))&&(t.scale=1),(t.translate>=U6&&t.translate<=H6||isNaN(t.translate))&&(t.translate=0)}function Nu(t,e,n,r){yS(t.x,e.x,n.x,r?r.originX:void 0),yS(t.y,e.y,n.y,r?r.originY:void 0)}function vS(t,e,n){t.min=n.min+e.min,t.max=t.min+dr(e)}function q6(t,e,n){vS(t.x,e.x,n.x),vS(t.y,e.y,n.y)}function xS(t,e,n){t.min=e.min-n.min,t.max=t.min+dr(e)}function ju(t,e,n){xS(t.x,e.x,n.x),xS(t.y,e.y,n.y)}function K6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pt(n,t,r.max):Math.min(t,n)),t}function wS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function G6(t,{top:e,left:n,bottom:r,right:s}){return{x:wS(t.x,n,s),y:wS(t.y,e,r)}}function bS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Y6(t,e){return{x:bS(t.x,e.x),y:bS(t.y,e.y)}}function X6(t,e){let n=.5;const r=dr(t),s=dr(e);return s>r?n=ol(e.min,e.max-r,t.min):r>s&&(n=ol(t.min,t.max-s,e.min)),Os(0,1,n)}function Q6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const py=.35;function J6(t=py){return t===!1?t=0:t===!0&&(t=py),{x:SS(t,"left","right"),y:SS(t,"top","bottom")}}function SS(t,e,n){return{min:_S(t,e),max:_S(t,n)}}function _S(t,e){return typeof t=="number"?t:t[e]||0}const ES=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ta=()=>({x:ES(),y:ES()}),TS=()=>({min:0,max:0}),Ot=()=>({x:TS(),y:TS()});function wr(t){return[t("x"),t("y")]}function _I({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Z6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ep(t){return t===void 0||t===1}function gy({scale:t,scaleX:e,scaleY:n}){return!Ep(t)||!Ep(e)||!Ep(n)}function lo(t){return gy(t)||EI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function EI(t){return PS(t.x)||PS(t.y)}function PS(t){return t&&t!=="0%"}function mh(t,e,n){const r=t-n,s=e*r;return n+s}function AS(t,e,n,r,s){return s!==void 0&&(t=mh(t,s,r)),mh(t,n,r)+e}function yy(t,e=0,n=1,r,s){t.min=AS(t.min,e,n,r,s),t.max=AS(t.max,e,n,r,s)}function TI(t,{x:e,y:n}){yy(t.x,e.translate,e.scale,e.originPoint),yy(t.y,n.translate,n.scale,n.originPoint)}const CS=.999999999999,IS=1.0000000000001;function tO(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Aa(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,TI(t,o)),r&&lo(i.latestValues)&&Aa(t,i.latestValues))}e.x<IS&&e.x>CS&&(e.x=1),e.y<IS&&e.y>CS&&(e.y=1)}function Pa(t,e){t.min=t.min+e,t.max=t.max+e}function kS(t,e,n,r,s=.5){const i=Pt(t.min,t.max,s);yy(t,e,n,i,r)}function Aa(t,e){kS(t.x,e.x,e.scaleX,e.scale,e.originX),kS(t.y,e.y,e.scaleY,e.scale,e.originY)}function PI(t,e){return _I(eO(t.getBoundingClientRect(),e))}function nO(t,e,n){const r=PI(t,n),{scroll:s}=e;return s&&(Pa(r.x,s.offset.x),Pa(r.y,s.offset.y)),r}const AI=({current:t})=>t?t.ownerDocument.defaultView:null,rO=new WeakMap;let sO=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xc(d).point)},i=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:b}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XV(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(P=>{let v=this.getAxisMotionValue(P).get()||0;if(ls.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const E=y.layout.layoutBox[P];E&&(v=dr(E)*(parseFloat(v)/100))}}this.originPoint[P]=v}),b&&mt.postRender(()=>b(d,h)),ay(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:b,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:P}=h;if(p&&this.currentDirection===null){this.currentDirection=iO(P),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),_&&_(d,h)},a=(d,h)=>this.stop(d,h),l=()=>wr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:AI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&mt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Bd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=K6(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&_a(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=G6(s.layoutBox,n):this.constraints=!1,this.elastic=J6(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&wr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Q6(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_a(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=nO(r,s.root,this.visualElement.getTransformPagePoint());let o=Y6(s.layout.layoutBox,i);if(n){const a=n(Z6(o));this.hasMutatedConstraints=!!a,a&&(o=_I(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=wr(d=>{if(!Bd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ay(this.visualElement,e),r.start(fx(e,r,0,n,this.visualElement,!1))}stopAnimation(){wr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){wr(n=>{const{drag:r}=this.getProps();if(!Bd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Pt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_a(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=X6({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),wr(o=>{if(!Bd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Pt(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;rO.set(this.visualElement,this);const e=this.visualElement.current,n=ku(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();_a(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mt.read(r);const o=bc(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(wr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=py,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}};function Bd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let oO=class extends Xi{constructor(e){super(e),this.removeGroupControls=ur,this.removeListeners=ur,this.controls=new sO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ur}unmount(){this.removeGroupControls(),this.removeListeners()}};const NS=t=>(e,n)=>{t&&mt.postRender(()=>t(e,n))};let aO=class extends Xi{constructor(){super(...arguments),this.removePointerDownListener=ur}onPointerDown(e){this.session=new xI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:NS(e),onStart:NS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&mt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ru={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=jS(t,e.target.x),r=jS(t,e.target.y);return`${n}% ${r}%`}},lO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Mi.parse(t);if(s.length>5)return r;const i=Mi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=Pt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let uO=class extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;IV(cO),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||mt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function CI(t){const[e,n]=cC(),r=T.useContext(Rv);return c.jsx(uO,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(vC),isPresent:e,safeToRemove:n})}const cO={borderRadius:{...ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ru,borderTopRightRadius:ru,borderBottomLeftRadius:ru,borderBottomRightRadius:ru,boxShadow:lO};function dO(t,e,n){const r=Nn(t)?t:xc(t);return r.start(fx("",r,e,n)),r.animation}function fO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const hO=(t,e)=>t.depth-e.depth;let mO=class{constructor(){this.children=[],this.isDirty=!1}add(e){tx(this.children,e),this.isDirty=!0}remove(e){nx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hO),this.isDirty=!1,this.children.forEach(e)}};function pO(t,e){const n=us.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Di(r),t(i-e))};return mt.read(r,!0),()=>Di(r)}const II=["TopLeft","TopRight","BottomLeft","BottomRight"],gO=II.length,RS=t=>typeof t=="string"?parseFloat(t):t,DS=t=>typeof t=="number"||Te.test(t);function yO(t,e,n,r,s,i){s?(t.opacity=Pt(0,n.opacity!==void 0?n.opacity:1,vO(r)),t.opacityExit=Pt(e.opacity!==void 0?e.opacity:1,0,xO(r))):i&&(t.opacity=Pt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<gO;o++){const a=`border${II[o]}Radius`;let l=MS(e,a),u=MS(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||DS(l)===DS(u)?(t[a]=Math.max(Pt(RS(l),RS(u),r),0),(ls.test(u)||ls.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,r))}function MS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vO=kI(0,.5,GC),xO=kI(.5,.95,ur);function kI(t,e,n){return r=>r<t?0:r>e?1:n(ol(t,e,r))}function VS(t,e){t.min=e.min,t.max=e.max}function vr(t,e){VS(t.x,e.x),VS(t.y,e.y)}function LS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function OS(t,e,n,r,s){return t-=e,t=mh(t,1/n,r),s!==void 0&&(t=mh(t,1/s,r)),t}function wO(t,e=0,n=1,r=.5,s,i=t,o=t){if(ls.test(e)&&(e=parseFloat(e),e=Pt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pt(i.min,i.max,r);t===i&&(a-=e),t.min=OS(t.min,e,n,a,s),t.max=OS(t.max,e,n,a,s)}function FS(t,e,[n,r,s],i,o){wO(t,e[n],e[r],e[s],e.scale,i,o)}const bO=["x","scaleX","originX"],SO=["y","scaleY","originY"];function $S(t,e,n,r){FS(t.x,e,bO,n?n.x:void 0,r?r.x:void 0),FS(t.y,e,SO,n?n.y:void 0,r?r.y:void 0)}function BS(t){return t.translate===0&&t.scale===1}function NI(t){return BS(t.x)&&BS(t.y)}function zS(t,e){return t.min===e.min&&t.max===e.max}function _O(t,e){return zS(t.x,e.x)&&zS(t.y,e.y)}function US(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jI(t,e){return US(t.x,e.x)&&US(t.y,e.y)}function HS(t){return dr(t.x)/dr(t.y)}function WS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let EO=class{constructor(){this.members=[]}add(e){tx(this.members,e),e.scheduleRender()}remove(e){if(nx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function TO(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const uo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mu=typeof window<"u"&&window.MotionDebug!==void 0,Tp=["","X","Y","Z"],PO={visibility:"hidden"},qS=1e3;let AO=0;function Pp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=BC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",mt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RI(r)}function DI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=AO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mu&&(uo.totalNodes=uo.resolvedTargetDeltas=uo.recalculatedProjection=0),this.nodes.forEach(kO),this.nodes.forEach(MO),this.nodes.forEach(VO),this.nodes.forEach(NO),mu&&window.MotionDebug.record(uo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new mO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fO(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=pO(m,250),bf.hasAnimatedSinceResize&&(bf.hasAnimatedSinceResize=!1,this.nodes.forEach(GS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||BO,{onLayoutAnimationStart:P,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!jI(this.targetLayout,b)||p,E=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const j={...Qv(_,"layout"),onPlay:P,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else m||GS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KS);return}this.isUpdating||this.nodes.forEach(RO),this.isUpdating=!1,this.nodes.forEach(DO),this.nodes.forEach(CO),this.nodes.forEach(IO),this.clearAllSnapshots();const a=us.now();pn.delta=Os(0,1e3/60,a-pn.timestamp),pn.timestamp=a,pn.isProcessing=!0,gp.update.process(pn),gp.preRender.process(pn),gp.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jO),this.sharedNodes.forEach(OO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!NI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||lo(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),zO(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ot();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(UO))){const{scroll:d}=this.root;d&&(Pa(l.x,d.offset.x),Pa(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Ot();if(vr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&vr(l,o),Pa(l.x,h.offset.x),Pa(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Ot();vr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Aa(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),lo(d.latestValues)&&Aa(l,d.latestValues)}return lo(this.latestValues)&&Aa(l,this.latestValues),l}removeTransform(o){const a=Ot();vr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!lo(u.latestValues))continue;gy(u.latestValues)&&u.updateSnapshot();const d=Ot(),h=u.measurePageBox();vr(d,h),$S(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return lo(this.latestValues)&&$S(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=pn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),ju(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),q6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),TI(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),ju(this.relativeTargetOrigin,this.target,p.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mu&&uo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gy(this.parent.latestValues)||EI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;vr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;tO(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ot());const{target:b}=a;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LS(this.prevProjectionDelta.x,this.projectionDelta.x),LS(this.prevProjectionDelta.y,this.projectionDelta.y)),Nu(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!WS(this.projectionDelta.x,this.prevProjectionDelta.x)||!WS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),mu&&uo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ta(),this.projectionDelta=Ta(),this.projectionDeltaWithTransform=Ta()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Ta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Ot(),p=l?l.source:void 0,b=this.layout?this.layout.source:void 0,_=p!==b,P=this.getStack(),v=!P||P.members.length<=1,y=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some($O));this.animationProgress=0;let E;this.mixTargetDelta=j=>{const C=j/1e3;YS(h.x,o.x,C),YS(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ju(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FO(this.relativeTarget,this.relativeTargetOrigin,m,C),E&&_O(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ot()),vr(E,this.relativeTarget)),_&&(this.animationValues=d,yO(d,u,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mt.update(()=>{bf.hasAnimatedSinceResize=!0,this.currentAnimation=dO(0,qS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&MI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ot();const h=dr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=dr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}vr(a,l),Aa(a,d),Nu(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new EO),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Pp("z",o,u,this.animationValues);for(let d=0;d<Tp.length;d++)Pp(`rotate${Tp[d]}`,o,u,this.animationValues),Pp(`skew${Tp[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return PO;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xf(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=xf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!lo(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=TO(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:b}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${b.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in uh){if(m[_]===void 0)continue;const{correct:P,applyTo:v}=uh[_],y=u.transform==="none"?m[_]:P(m[_],h);if(v){const E=v.length;for(let j=0;j<E;j++)u[v[j]]=y}else u[_]=y}return this.options.layoutId&&(u.pointerEvents=h===this?xf(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(KS),this.root.sharedNodes.clear()}}}function CO(t){t.updateLayout()}function IO(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?wr(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],p=dr(m);m.min=r[h].min,m.max=m.min+p}):MI(i,n.layoutBox,r)&&wr(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],p=dr(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Ta();Nu(a,r,n.layoutBox);const l=Ta();o?Nu(l,t.applyTransform(s,!0),n.measuredBox):Nu(l,r,n.layoutBox);const u=!NI(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const b=Ot();ju(b,n.layoutBox,m.layoutBox);const _=Ot();ju(_,r,p.layoutBox),jI(b,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function kO(t){mu&&uo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function NO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jO(t){t.clearSnapshot()}function KS(t){t.clearMeasurements()}function RO(t){t.isLayoutDirty=!1}function DO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function MO(t){t.resolveTargetDelta()}function VO(t){t.calcProjection()}function LO(t){t.resetSkewAndRotation()}function OO(t){t.removeLeadSnapshot()}function YS(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function XS(t,e,n,r){t.min=Pt(e.min,n.min,r),t.max=Pt(e.max,n.max,r)}function FO(t,e,n,r){XS(t.x,e.x,n.x,r),XS(t.y,e.y,n.y,r)}function $O(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BO={duration:.45,ease:[.4,0,.1,1]},QS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),JS=QS("applewebkit/")&&!QS("chrome/")?Math.round:ur;function ZS(t){t.min=JS(t.min),t.max=JS(t.max)}function zO(t){ZS(t.x),ZS(t.y)}function MI(t,e,n){return t==="position"||t==="preserve-aspect"&&!W6(HS(e),HS(n),.2)}function UO(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const HO=DI({attachResizeListener:(t,e)=>bc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ap={current:void 0},VI=DI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ap.current){const t=new HO({});t.mount(window),t.setOptions({layoutScroll:!0}),Ap.current=t}return Ap.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),WO={pan:{Feature:aO},drag:{Feature:oO,ProjectionNode:VI,MeasureLayout:CI}};function e2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&mt.postRender(()=>i(e,Xc(e)))}let qO=class extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=WV(e,n=>(e2(this.node,n,"Start"),r=>e2(this.node,r,"End"))))}unmount(){}},KO=class extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(bc(this.node.current,"focus",()=>this.onFocus()),bc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function t2(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&mt.postRender(()=>i(e,Xc(e)))}let GO=class extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=YV(e,n=>(t2(this.node,n,"Start"),(r,{success:s})=>t2(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const vy=new WeakMap,Cp=new WeakMap,YO=t=>{const e=vy.get(t.target);e&&e(t)},XO=t=>{t.forEach(YO)};function QO({root:t,...e}){const n=t||document;Cp.has(n)||Cp.set(n,{});const r=Cp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(XO,{root:t,...e})),r[s]}function JO(t,e,n){const r=QO(e);return vy.set(t,n),r.observe(t),()=>{vy.delete(t),r.unobserve(t)}}const ZO={some:0,all:1};let eF=class extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ZO[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(l)};return JO(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(tF(e,n))&&this.startObserver()}unmount(){}};function tF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nF={inView:{Feature:eF},tap:{Feature:GO},focus:{Feature:KO},hover:{Feature:qO}},rF={layout:{ProjectionNode:VI,MeasureLayout:CI}},xy={current:null},LI={current:!1};function sF(){if(LI.current=!0,!!Vv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xy.current=t.matches;t.addListener(e),e()}else xy.current=!1}const iF=[...lI,Pn,Mi],oF=t=>iF.find(aI(t)),n2=new WeakMap;function aF(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Nn(s))t.addValue(r,s);else if(Nn(i))t.addValue(r,xc(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,xc(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const r2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let lF=class{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ux,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=us.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,mt.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=om(n),this.isVariantNode=gC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const b=m[p];l[p]!==void 0&&Nn(b)&&b.set(l[p],!1)}}mount(e){this.current=e,n2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LI.current||sF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){n2.delete(this.current),this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Xo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&mt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in al){const n=al[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<r2.length;r++){const s=r2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=aF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(iI(s)||XC(s))?s=parseFloat(s):!oF(s)&&Mi.test(n)&&(s=nI(e,n)),this.setBaseTarget(e,Nn(s)?s.get():s)),Nn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Uv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Nn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},OI=class extends lF{constructor(){super(...arguments),this.KeyframeResolver=uI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function uF(t){return window.getComputedStyle(t)}let cF=class extends OI{constructor(){super(...arguments),this.type="html",this.renderInstance=TC}readValueFromInstance(e,n){if(Xo.has(n)){const r=lx(n);return r&&r.default||0}else{const r=uF(e),s=(SC(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return PI(e,n)}build(e,n,r){qv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Xv(e,n,r)}},dF=class extends OI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xo.has(n)){const r=lx(n);return r&&r.default||0}return n=PC.has(n)?n:$v(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return IC(e,n,r)}build(e,n,r){Kv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){AC(e,n,r,s)}mount(e){this.isSVGTag=Yv(e.tagName),super.mount(e)}};const fF=(t,e)=>zv(t)?new dF(e):new cF(e,{allowProjection:t!==T.Fragment}),hF=OV({...V6,...nF,...WO,...rF},fF),xe=Z5(hF);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...pF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:FI("lucide",s),...a},[...o.map(([u,d])=>T.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(t,e)=>{const n=T.forwardRef(({className:r,...s},i)=>T.createElement(gF,{ref:i,iconNode:e,className:FI(`lucide-${mF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=bn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=bn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=bn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=bn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=bn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=bn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=bn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=bn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=bn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=bn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=bn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=bn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=bn("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=bn("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=bn("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=bn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=bn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hx=async t=>{try{const e={...t,userAgent:navigator.userAgent};console.log(" Logging error to /errors endpoint:",e),await zr(`${CF()}/errors`,{method:"POST",headers:{"Content-Type":"application/json","x-anon-id":Ts(),"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n==="x"?r:r&3|8).toString(16)})},body:JSON.stringify(e)}),console.log(" Error logged successfully")}catch(e){console.error(" Failed to log error:",e)}},xF=async(t,e,n)=>{const r=typeof t=="string"?t:t.message,s=typeof t=="string"?void 0:t.stack;await hx({anon_id:Ts(),session_id:Io(),error_type:"ApiError",message:r,stack:s,page:n||window.location.href,api:e||void 0,userAgent:navigator.userAgent})},zI=async(t,e,n)=>{await hx({anon_id:Ts(),session_id:Io(),error_type:"ReactError",message:t.message,componentStack:e,stack:t.stack,page:n||window.location.href,userAgent:navigator.userAgent})},wF=async(t,e)=>{await hx({anon_id:Ts(),session_id:Io(),error_type:"NotFound",message:t,page:e||window.location.href,userAgent:navigator.userAgent})},c2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",d2="ss_anon_id",f2="ss_session_id";function yh(t){let e="";for(let n=0;n<t;n++)e+=c2.charAt(Math.floor(Math.random()*c2.length));return e}function Ts(){if(typeof window>"u")return"";try{let t=localStorage.getItem(d2);return t||(t=`aid_${yh(4)}`,localStorage.setItem(d2,t)),t}catch(t){return console.warn("Failed to get/create anonymous ID:",t),`aid_${yh(4)}`}}function Io(){if(typeof window>"u")return"";try{let t=sessionStorage.getItem(f2);return t||(t=`sid_${yh(4)}`,sessionStorage.setItem(f2,t)),t}catch(t){return console.warn("Failed to get/create session ID:",t),`sid_${yh(4)}`}}let Sy=null;const bF=t=>{Sy=t},es=(t,e,n)=>{if(Sy){const r=`API Error: ${t}`,s=n?`Status ${n}: ${e}`:e;Sy.showError(r,s,8e3)}},Sf="https://recommender-api-973409790816.europe-west1.run.app",Ua="http://localhost:8080",Ps="ss_api_mode",ia="ss_dev_mode",ul="ss_sandbox_header",um="ss_local_mode",Sc="ss_mock_recommendations",mr=typeof window<"u"&&typeof document<"u";if(mr){if(new URLSearchParams(window.location.search).get("dev")==="1"){const e=localStorage.getItem(ia)==="true";localStorage.setItem(ia,"true"),_y()||localStorage.setItem(Ps,"sandbox"),e||(localStorage.setItem(ul,"true"),localStorage.setItem(Sc,"true"))}window.dev=e=>{if(e==="1"||e===1){const n=localStorage.getItem(ia)==="true";localStorage.setItem(ia,"true"),n||(_y()||localStorage.setItem(Ps,"sandbox"),localStorage.setItem(ul,"true"),localStorage.setItem(Sc,"true")),console.log(" Dev mode enabled"),window.location.reload()}else localStorage.removeItem(ia),console.log(" Dev mode disabled"),window.location.reload()}}function SF(){if(mr)try{const e=new URLSearchParams(window.location.search).get("mode");if(e==="sandbox-local")return localStorage.setItem(Ps,"sandbox-local"),"sandbox-local";if(e==="sandbox")return localStorage.setItem(Ps,"sandbox"),"sandbox";if(e==="prod")return localStorage.setItem(Ps,"prod"),"prod";if(e==="training")return localStorage.setItem(Ps,"training"),"training"}catch{}}function _y(){if(!mr)return;const t=localStorage.getItem(Ps);if(t==="dev")return"sandbox-local";if(t==="sandbox-local"||t==="sandbox"||t==="prod"||t==="training")return t}const Jc=()=>{const t=SF(),e=_y();return t??e??"prod"},UI=()=>mr?localStorage.getItem(ia)==="true":!1,mx=()=>mr?localStorage.getItem(ul)==="true":!1,_F=t=>{mr&&(localStorage.setItem(ul,"true"),localStorage.removeItem(um))},cm=()=>mr?localStorage.getItem(um)==="true":!1,EF=t=>{mr&&(localStorage.setItem(um,"true"),localStorage.removeItem(ul),localStorage.setItem(Ps,"sandbox-local"))},TF=()=>{mr&&(localStorage.removeItem(ul),localStorage.removeItem(um),localStorage.setItem(Ps,"prod"))},PF=()=>!cm()&&!mx(),HI=()=>mr?localStorage.getItem(Sc)==="true":!1,AF=t=>{mr&&(t?localStorage.setItem(Sc,"true"):localStorage.removeItem(Sc))},oa=()=>{if(cm())return Ua;const t=Jc();return mr&&((t==="sandbox-local"||t==="sandbox")&&!window.__ssModeLogShown&&(console.log(` ${t==="sandbox-local"?"Sandbox LOCAL":"Sandbox CLOUD"} API mode enabled`),window.__ssModeLogShown=!0),t==="training"&&!window.__ssModeLogShown&&(console.log(" TRAINING API mode enabled"),window.__ssModeLogShown=!0)),t==="training"||t==="sandbox-local"?Ua:Sf},po=()=>{if(UI())return!0;const t=Jc();return t==="sandbox-local"||t==="sandbox"},oi=()=>po(),CF=()=>{const t=Jc();return t==="training"||t==="sandbox-local"?"http://localhost:8080":"https://recommender-api-973409790816.europe-west1.run.app"},Ca=(t,e)=>{const r=oa().replace(/\/$/,""),s=t.replace(/^\//,""),i=new URL(`${r}/${s}`);return e&&e.forEach((o,a)=>{i.searchParams.append(a,o)}),i.toString()},Ha=()=>{const t=Jc();return t==="prod"?null:t},Ru=t=>{const e={"Content-Type":"application/json"};return!t&&typeof window<"u"&&(t=Ha()||void 0),t==="training"&&(e["X-Training-Mode"]="true"),e},IF=()=>{const t=Ts();return t.startsWith("aid_")?t.replace("aid_","uid_"):t.startsWith("uid_")?t:`uid_${t}`},kF=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),zr=(t,e,n)=>{const r=typeof t=="string"?t:t instanceof URL?t.toString():t.url,s=r.startsWith(Ua)||r.startsWith(Sf),i=po(),o=mr&&i&&s&&/\/recommend(\b|\?|$)/.test(r);if(o){const a=(e==null?void 0:e.method)||"GET";console.log(` API CALL${n?` (${n})`:""}: ${a} ${r}`)}if(s){const a=new Headers((e==null?void 0:e.headers)||{}),l=kF();a.set("X-User-Id",IF()),a.set("X-Request-Id",l),i&&(a.set("Cache-Control","no-cache, no-store, must-revalidate"),a.set("Pragma","no-cache"),a.set("Expires","0")),(mx()||cm())&&a.set("X-Sandbox","true"),HI()&&/\/recommend(\b|\?|$)/.test(r)&&a.set("X-Mock-Recommendations","true"),/\/recommend(\b|\?|$)/.test(r)&&a.set("X-Session-Id",Io());const u=Date.now();return fetch(t,{...e,headers:a}).then(async d=>{const h=Date.now()-u;if(o&&console.log(d.ok?" /recommend success":` /recommend failed ${d.status}`),!d.ok){let m="";try{m=await d.text()}catch{m="Failed to read response text"}const p=(e==null?void 0:e.method)||"GET",b=r.replace(Ua,"").replace(Sf,"")||"/",_=d.headers.get("X-Request-Id")||l;if(i&&s){let v=`${d.status} ${d.statusText}`;if(m)try{const y=JSON.parse(m);y.error&&typeof y.error=="string"?v=y.error:y.message&&typeof y.message=="string"&&(v=y.message)}catch{const y=m.trim();y&&!y.startsWith("<!")&&(v=y)}es(b,v,d.status)}const P=new Error(`API Error: ${d.status} ${d.statusText}`);throw P.apiMetadata={endpoint:b,method:p,status:d.status,duration_ms:h,response_text:m,request_id:_,retry_count:0},P}return d}).catch(d=>{const h=Date.now()-u;if(o&&console.log(` /recommend network error: ${(d==null?void 0:d.message)||d}`),d.apiMetadata)throw d;const m=(e==null?void 0:e.method)||"GET",p=r.replace(Ua,"").replace(Sf,"")||"/";i&&s&&es(p,(d==null?void 0:d.message)||"Network error",0);const b=new Error(`Network Error: ${(d==null?void 0:d.message)||"Unknown network error"}`);throw b.apiMetadata={endpoint:p,method:m,status:0,duration_ms:h,response_text:(d==null?void 0:d.message)||"Network error",request_id:l,retry_count:0},b})}return fetch(t,e).then(a=>(o&&console.log(a.ok?" /recommend success":` /recommend failed ${a.status}`),a)).catch(a=>{throw o&&console.log(` /recommend network error: ${(a==null?void 0:a.message)||a}`),a})},NF=({toast:t,onRemove:e})=>{const[n,r]=T.useState(!0);T.useEffect(()=>{const o=setTimeout(()=>{r(!1),setTimeout(()=>e(t.id),300)},t.duration||5e3);return()=>clearTimeout(o)},[t.id,t.duration,e]);const s=()=>{switch(t.type){case"success":return c.jsx(yF,{className:"w-5 h-5 text-green-500"});case"error":return c.jsx(gh,{className:"w-5 h-5 text-red-500"});case"warning":return c.jsx(gh,{className:"w-5 h-5 text-yellow-500"});case"info":return c.jsx(o2,{className:"w-5 h-5 text-blue-500"});default:return c.jsx(o2,{className:"w-5 h-5 text-gray-500"})}},i=()=>{switch(t.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return c.jsx(yi,{children:n&&c.jsx(xe.div,{initial:{opacity:0,y:-50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.95},transition:{duration:.3,ease:"easeOut"},className:`max-w-sm w-full border rounded-lg shadow-lg p-4 ${i()}`,children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:"flex-shrink-0",children:s()}),c.jsxs("div",{className:"ml-3 flex-1",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:t.title}),c.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.message})]}),c.jsx("div",{className:"ml-4 flex-shrink-0",children:c.jsx("button",{onClick:()=>{r(!1),setTimeout(()=>e(t.id),300)},className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors",children:c.jsx(Qc,{className:"w-4 h-4"})})})]})})})},jF=({toasts:t,onRemove:e})=>c.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(n=>c.jsx(NF,{toast:n,onRemove:e},n.id))}),RF=()=>{const[t,e]=T.useState([]),n=l=>{const u=Math.random().toString(36).substr(2,9);e(d=>[...d,{...l,id:u}])};return{toasts:t,addToast:n,removeToast:l=>{e(u=>u.filter(d=>d.id!==l))},showSuccess:(l,u,d)=>{n({type:"success",title:l,message:u,duration:d})},showError:(l,u,d)=>{n({type:"error",title:l,message:u,duration:d})},showWarning:(l,u,d)=>{n({type:"warning",title:l,message:u,duration:d})},showInfo:(l,u,d)=>{n({type:"info",title:l,message:u,duration:d})}}},WI=T.createContext(void 0),DF=({children:t})=>{const e=RF();return c.jsx(WI.Provider,{value:e,children:t})},qI=()=>{const t=T.useContext(WI);if(t===void 0)throw new Error("useToastContext must be used within a ToastProvider");return t},zd=t=>t.productTitle&&t.productTitle.trim()!==""?t.productTitle:t.name&&t.name.trim()!==""?t.name:t.sku?`Product ${t.sku}`:"Product Title Not Available";function MF(){var M,N;const{recId:t}=iC(),e=Yo(),{showError:n}=qI(),[r,s]=T.useState([]),[i,o]=T.useState(!0),[a,l]=T.useState(!1),[u,d]=T.useState(null),[h,m]=T.useState(!1),[p,b]=T.useState({}),[_,P]=T.useState(!1),[v,y]=T.useState(""),[E,j]=T.useState(!1),[C,V]=T.useState(null),x=($,Q)=>{b(J=>({...J,[$]:J[$]===Q?null:Q})),A("label",$,Q===1?"1":"0")},S=()=>{v.trim()&&(A("comment",void 0,void 0,v),y(""),P(!1),j(!0))},A=async($,Q,J,q,L)=>{try{const O=Ts(),W=Io(),Z={event:$,session_id:W,rec_id:t};Q&&(Z.sku=Q),J&&(Z.label=J),q&&(Z.comment=q),L&&(Z.rating=L);const se={"Content-Type":"application/json","x-anon-id":O,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(ke){const De=Math.random()*16|0;return(ke==="x"?De:De&3|8).toString(16)})},pe=new URLSearchParams(window.location.search).get("client_origin");pe&&(se.client_origin=pe);const _e=await zr(`${oa()}/interactions`,{method:"POST",headers:se,body:JSON.stringify(Z)});_e.ok||(console.warn(`Interaction ${$} failed with status ${_e.status}`),oi()&&es("/interactions",`HTTP ${_e.status}`,_e.status))}catch(O){oi()&&es("/interactions",O instanceof Error?O.message:"Network error")}},I=async()=>{try{const $=Ts(),J={event:"visit_ping",session_id:Io(),rec_id:t},q={"Content-Type":"application/json","x-anon-id":$,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Z){const se=Math.random()*16|0;return(Z==="x"?se:se&3|8).toString(16)})},O=new URLSearchParams(window.location.search).get("client_origin");O&&(q.client_origin=O);const W=await zr(`${oa()}/track`,{method:"POST",headers:q,body:JSON.stringify(J)});W.ok||(console.warn(`Visit ping failed with status ${W.status}`),oi()&&es("/track",`HTTP ${W.status}`,W.status))}catch($){oi()&&es("/track",$ instanceof Error?$.message:"Network error")}},R=async()=>{try{const $=Ts(),Q=Io(),J={event:"visit_shared_link",rec_id:t,session_id:Q},q=await zr(`${oa()}/track`,{method:"POST",headers:{"Content-Type":"application/json","x-anon-id":$,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(L){const O=Math.random()*16|0;return(L==="x"?O:O&3|8).toString(16)})},body:JSON.stringify(J)});q.ok||(console.warn(`Tracking event visit_shared_link failed with status ${q.status}`),oi()&&es("/track",`HTTP ${q.status}`,q.status))}catch($){oi()&&es("/track",$ instanceof Error?$.message:"Network error")}};return T.useEffect(()=>{var $,Q;if(r.length>0&&u){const J=(($=u.relationship)==null?void 0:$.toLowerCase())==="father"?" Top Picks for Dad":((Q=u.relationship)==null?void 0:Q.toLowerCase())==="mother"?" Top Picks for Mum":" Top Picks",q=`Personalized gift recommendations for ${u.personAge?`age ${u.personAge}`:"them"}${u.occasion?` for ${u.occasion}`:""}. ${r.length} carefully curated gift suggestions.`;document.title=`${J} | SimplySent`;const L=(W,Z)=>{let se=document.querySelector(`meta[property="${W}"]`);se||(se=document.createElement("meta"),se.setAttribute("property",W),document.head.appendChild(se)),se.setAttribute("content",Z)},O=(W,Z)=>{let se=document.querySelector(`meta[name="${W}"]`);se||(se=document.createElement("meta"),se.setAttribute("name",W),document.head.appendChild(se)),se.setAttribute("content",Z)};L("og:title",J),L("og:description",q),L("og:url",`https://simplysent.co/${t}`),L("og:type","website"),L("og:site_name","SimplySent"),O("twitter:card","summary_large_image"),O("twitter:title",J),O("twitter:description",q),O("description",q)}},[r,u,t]),T.useEffect(()=>{if(t&&t.startsWith("rec_")){const $=setInterval(()=>{I()},3e4);return V($),()=>{$&&clearInterval($)}}},[t]),T.useEffect(()=>{const $=()=>{console.log("Loading recommendation for ID:",t),console.log("recId type:",typeof t),console.log("recId length:",t==null?void 0:t.length);const Q=async()=>{var J,q;try{const L=`${oa()}/recommend/${t}`;console.log("Current API Mode:",Jc()),console.log("API Base URL:",oa()),console.log("Using API for shared recommendation:",L),console.log("Fetching recommendation from API:",L);const O=Ts(),W=await zr(L,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-anon-id":O,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(se){const we=Math.random()*16|0;return(se==="x"?we:we&3|8).toString(16)})}});if(!W.ok){console.error("API response not OK:",W.status,W.statusText);try{const se=await W.text();console.error("Error response body:",se)}catch{console.error("Could not read error response body")}oi()&&es("/recommend",`HTTP ${W.status}`,W.status),l(!0),o(!1);return}const Z=await W.json();if(console.log("API response data:",Z),Z.context){const se={personAge:((J=Z.context.age)==null?void 0:J.toString())||"",gender:Z.context.gender||"",relationship:Z.context.relationship?Z.context.relationship.charAt(0).toUpperCase()+Z.context.relationship.slice(1):"",occasion:Z.context.occasion?Z.context.occasion.charAt(0).toUpperCase()+Z.context.occasion.slice(1):"",sentiment:Z.context.sentiment?Z.context.sentiment.charAt(0).toUpperCase()+Z.context.sentiment.slice(1):"",interests:Z.context.interests||[],favoritedrink:Z.context.favourite_drink?Z.context.favourite_drink.charAt(0).toUpperCase()+Z.context.favourite_drink.slice(1):"",clothesSize:Z.context.size||"",minBudget:Z.context.budget_min||10,maxBudget:Z.context.budget_max||110};d(se)}if(console.log("Raw products from API:",Z.products),console.log("Products is array:",Array.isArray(Z.products)),console.log("Products length:",(q=Z.products)==null?void 0:q.length),Z.products&&Array.isArray(Z.products)&&Z.products.length>0){const we=[...Z.products.map(pe=>({sku:pe.sku||pe.ASIN||"",productTitle:pe.productTitle||pe.name||"",imageUrl:pe.imageUrl||pe.image_url||"",price:pe.price||"0.00",description:pe.description||"",rank:pe.rank||"999",ASIN:pe.ASIN,name:pe.name,image_url:pe.image_url}))].sort((pe,_e)=>{const ke=parseInt(pe.rank)||999,De=parseInt(_e.rank)||999;return ke-De});s(we),console.log("Products set successfully:",we.length,"products")}else console.error("No recommendations found in API response"),l(!0);o(!1)}catch(L){console.error("Failed to fetch recommendation from API:",L),oi()&&es("/recommend",L instanceof Error?L.message:"Network error"),l(!0),o(!1)}};console.log("About to call fetchFromAPI..."),Q()};t&&t.startsWith("rec_")?($(),R()):(l(!0),o(!1))},[t]),i?c.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-xl"}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})})]}),c.jsx("p",{className:"text-gray-600",children:"Loading your recommendations..."})]})}):a?c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center space-y-6",children:[c.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsx(gh,{className:"w-20 h-20 text-purple-500"})})]}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recommendation Not Found"}),c.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"This recommendation link may be invalid, expired, or the recommendation was created on a different device. Please create a new recommendation to get started."}),c.jsxs("div",{className:"flex gap-4 justify-center",children:[c.jsxs(xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[c.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),c.jsxs(xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[c.jsx(u2,{className:"w-5 h-5 mr-2"}),"Create New Recommendation"]})]})]})}):c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsxs(xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors mb-6",children:[c.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),c.jsx("h1",{className:"text-4xl font-bold font-headline text-gray-900 mb-3",children:((M=u==null?void 0:u.relationship)==null?void 0:M.toLowerCase())==="father"?" Top Picks for Dad":((N=u==null?void 0:u.relationship)==null?void 0:N.toLowerCase())==="mother"?" Top Picks for Mum":" Top Picks"})]}),u&&c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:c.jsxs("div",{className:"relative bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-6 border border-purple-100",children:[c.jsx("div",{className:"space-y-4 pb-20",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[u.personAge&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Age:"})," ",u.personAge]})]}),u.gender&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Gender:"})," ",u.gender]})]}),u.relationship&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Relationship:"})," ",u.relationship]})]}),u.occasion&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Occasion:"})," ",u.occasion]})]}),u.sentiment&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Mood:"})," ",u.sentiment]})]}),u.favoritedrink&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Favorite Drink:"})," ",u.favoritedrink]})]}),u.clothesSize&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Clothes Size:"})," ",u.clothesSize]})]}),(u.minBudget||u.maxBudget)&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-purple-600",children:""}),c.jsxs("span",{className:"text-gray-700",children:[c.jsx("strong",{children:"Budget:"})," ",u.minBudget||0," - ",u.maxBudget||""]})]})]})}),u.interests&&u.interests.length>0&&c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded-b-2xl shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-400/20 via-purple-400/20 to-indigo-400/20 animate-pulse"}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400"}),c.jsx("div",{className:"hidden md:block relative z-10 p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("span",{className:"text-white font-bold text-lg",children:"Interests"})]}),c.jsx("div",{className:"flex flex-wrap gap-2 max-w-4xl",children:u.interests.map(($,Q)=>c.jsx(xe.span,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},transition:{delay:Q*.05},whileHover:{scale:1.1,y:-2},className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-white/90 text-purple-600 shadow-lg hover:shadow-xl transition-all duration-200 border border-white/50 backdrop-blur-sm",children:$},Q))})]})}),c.jsxs("div",{className:"md:hidden relative z-10",children:[c.jsxs(xe.button,{onClick:()=>m(!h),className:"w-full p-4 flex items-center justify-between text-left",whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("span",{className:"text-white font-bold text-lg",children:"Interests"})]}),c.jsx(xe.div,{animate:{rotate:h?180:0},transition:{duration:.2},children:c.jsx(BI,{className:"w-5 h-5 text-white"})})]}),c.jsx(yi,{children:h&&c.jsx(xe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:c.jsx("div",{className:"px-4 pb-4",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:u.interests.map(($,Q)=>c.jsx(xe.span,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},transition:{delay:Q*.05},whileHover:{scale:1.1,y:-2},className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-white/90 text-purple-600 shadow-lg hover:shadow-xl transition-all duration-200 border border-white/50 backdrop-blur-sm",children:$},Q))})})})})]})]})]})}),r.length>0&&c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Top Recommendation"}),c.jsx("p",{className:"text-gray-600",children:"Our #1 pick"})]}),c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs(xe.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-100 via-indigo-50 to-pink-100 rounded-3xl shadow-2xl overflow-hidden border border-purple-200",children:[c.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-purple-200 to-indigo-200 overflow-hidden",children:[r[0].imageUrl?c.jsx("img",{src:r[0].imageUrl,alt:zd(r[0]),className:"w-full h-full object-cover",onError:$=>{const Q=$.target;Q.style.display="none"}}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-purple-400",children:c.jsx(Ip,{className:"w-16 h-16"})}),c.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-3 py-2 rounded-full text-sm font-semibold shadow-lg",children:"#1 TOP PICK"})]}),c.jsxs("div",{className:"p-8",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:zd(r[0])}),c.jsx("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:r[0].description}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(xe.button,{onClick:()=>x(r[0].sku,1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[r[0].sku]?{}:{y:[0,-8,0]},transition:p[r[0].sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-3 rounded-full transition-all shadow-lg hover:shadow-xl ${p[r[0].sku]===1?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50"}`,children:c.jsx(by,{className:"w-5 h-5"})}),c.jsx(xe.button,{onClick:()=>x(r[0].sku,-1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[r[0].sku]?{}:{y:[0,-8,0]},transition:p[r[0].sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-3 rounded-full transition-all shadow-lg hover:shadow-xl ${p[r[0].sku]===-1?"bg-gradient-to-r from-red-400 to-red-500 text-white shadow-red-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-red-300 hover:text-red-500 hover:bg-red-50"}`,children:c.jsx(wy,{className:"w-5 h-5"})})]}),c.jsxs("span",{className:"text-3xl font-bold text-purple-600",children:["",r[0].price]})]}),c.jsxs(xe.a,{href:`https://www.amazon.co.uk/dp/${r[0].ASIN||r[0].sku}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>A("click",r[0].sku),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-3 text-lg",children:[c.jsx(l2,{className:"w-5 h-5"}),"View on Amazon"]})]})]})})]}),r.length>1&&c.jsxs("div",{children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"More Recommendations"}),c.jsx("p",{className:"text-gray-600",children:"Other great options"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.jsx(yi,{children:r.slice(1,5).map(($,Q)=>c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:(Q+1)*.1},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group h-full flex flex-col",children:[c.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[$.imageUrl?c.jsx("img",{src:$.imageUrl,alt:zd($),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:J=>{const q=J.target;q.style.display="none"}}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:c.jsx(Ip,{className:"w-12 h-12"})}),c.jsxs("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-2 py-1 rounded-full text-sm font-medium",children:["#",$.rank]})]}),c.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 flex-grow",children:zd($)}),c.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:$.description}),c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex gap-1",children:[c.jsx(xe.button,{onClick:()=>x($.sku,1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[$.sku]?{}:{y:[0,-6,0]},transition:p[$.sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-2 rounded-full transition-all shadow-md hover:shadow-lg ${p[$.sku]===1?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50"}`,children:c.jsx(by,{className:"w-4 h-4"})}),c.jsx(xe.button,{onClick:()=>x($.sku,-1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[$.sku]?{}:{y:[0,-6,0]},transition:p[$.sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-2 rounded-full transition-all shadow-md hover:shadow-lg ${p[$.sku]===-1?"bg-gradient-to-r from-red-400 to-red-500 text-white shadow-red-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-red-300 hover:text-red-500 hover:bg-red-50"}`,children:c.jsx(wy,{className:"w-4 h-4"})})]}),c.jsxs("span",{className:"text-xl font-bold text-purple-600",children:["",$.price]})]}),c.jsx("div",{className:"mt-auto",children:c.jsxs(xe.a,{href:`https://www.amazon.co.uk/dp/${$.ASIN||$.sku}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>A("click",$.sku),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[c.jsx(l2,{className:"w-4 h-4"}),"View on Amazon"]})})]})]},$.sku))})}),c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"mt-8",children:c.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl shadow-lg",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-yellow-300 to-emerald-300"}),c.jsxs("div",{className:"relative z-10 px-6 py-4 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[c.jsx(xe.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",animate:{y:[0,-4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("h3",{className:"text-lg font-semibold text-white relative z-10",children:"Help them decide!"}),c.jsx(xe.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),c.jsx(xe.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",animate:{y:[0,-4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.75},children:c.jsx("span",{className:"text-lg",children:""})})]}),c.jsx("p",{className:"text-white/90 text-sm",children:"Use the thumbs up/down buttons to show which gifts you think they'd love most"})]})]})})]}),r.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsx(Ip,{className:"w-16 h-16 text-purple-500"})})]}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No recommendations found"}),c.jsx("p",{className:"text-gray-600",children:"This recommendation may not have any products available."})]}),c.jsx("div",{className:"mt-16 pt-8 pb-8 border-t border-gray-200",children:c.jsxs("div",{className:"text-center space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"How did we do?"}),c.jsx("p",{className:"text-gray-600",children:"Rate this recommendation to help us improve"})]}),c.jsx(yi,{mode:"wait",children:p.overall?c.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"flex items-center justify-center gap-2 text-lg text-gray-600",children:[c.jsx("span",{className:"text-xl",children:""}),c.jsx("span",{children:"Thanks for the feedback!"})]},"thank-you"):c.jsx(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"flex justify-center gap-2",children:[1,2,3,4,5].map($=>c.jsx(xe.button,{onClick:()=>{x("overall",$),A("rate",void 0,void 0,void 0,$.toString())},whileHover:{scale:1.1},whileTap:{scale:.9},className:"transition-all",children:c.jsx(ph,{className:"w-8 h-8 text-gray-300 hover:text-yellow-300"})},$))},"stars")}),c.jsx("div",{className:"mt-4",children:c.jsx(yi,{mode:"wait",children:E?c.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:"Thank you for your feedback!"})]},"thank-you"):_?c.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex gap-2 px-4 md:px-16 lg:px-24",children:[c.jsx("input",{type:"text",value:v,onChange:$=>y($.target.value),placeholder:"Share your thoughts...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-0 focus:border-gray-300 bg-gray-50 transition-all duration-200",onKeyPress:$=>$.key==="Enter"&&v.trim()&&S()}),c.jsx(xe.button,{onClick:v.trim()?S:()=>P(!1),whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${v.trim()?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 shadow-sm hover:shadow-md":"bg-gray-200 text-gray-500 hover:bg-gray-300"}`,children:v.trim()?"Submit":"Cancel"})]},"comment-input"):c.jsx(xe.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onClick:()=>P(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 hover:border-gray-300 rounded-lg transition-all duration-200 hover:bg-gray-50",children:"Leave a comment"},"comment-button")})})]})}),c.jsx("div",{className:"pt-8 pb-8 border-t border-gray-200",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("p",{className:"text-gray-600",children:"Want to find more personalized gift recommendations?"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[c.jsxs(xe.a,{href:"https://www.simplysent.co/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",children:[c.jsx(u2,{className:"w-5 h-5 mr-2"}),"Try AI Recommender"]}),c.jsxs(xe.a,{href:"https://www.simplysent.co/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center justify-center px-6 py-3 border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white font-semibold rounded-xl transition-all w-full sm:w-auto",children:[c.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Back to Homepage"]})]})]})})]})}const KI=T.createContext({});function px(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const gx=typeof window<"u",GI=gx?T.useLayoutEffect:T.useEffect,yx=T.createContext(null);function vx(t,e){t.indexOf(e)===-1&&t.push(e)}function dm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fs=(t,e,n)=>n>e?e:n<t?t:n;let xx=()=>{};const $s={},YI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function XI(t){return typeof t=="object"&&t!==null}const QI=t=>/^0[^.\s]+$/u.test(t);function wx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cr=t=>t,VF=(t,e)=>n=>e(t(n)),Zc=(...t)=>t.reduce(VF),cl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class bx{constructor(){this.subscriptions=[]}add(e){return vx(this.subscriptions,e),()=>dm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qr=t=>t*1e3,Pr=t=>t/1e3;function JI(t,e){return e?t*(1e3/e):0}const LF=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},ZI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OF=1e-7,FF=12;function $F(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=ZI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>OF&&++a<FF);return o}function ed(t,e,n,r){if(t===e&&n===r)return Cr;const s=i=>$F(i,0,1,t,n);return i=>i===0||i===1?i:ZI(s(i),e,r)}const ek=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tk=t=>e=>1-t(1-e),nk=ed(.33,1.53,.69,.99),Sx=tk(nk),rk=ek(Sx),sk=t=>(t*=2)<1?.5*Sx(t):.5*(2-Math.pow(2,-10*(t-1))),_x=t=>1-Math.sin(Math.acos(t)),ik=tk(_x),ok=ek(_x),BF=ed(.42,0,1,1),zF=ed(0,0,.58,1),ak=ed(.42,0,.58,1),lk=t=>Array.isArray(t)&&typeof t[0]!="number";function uk(t,e){return lk(t)?t[LF(0,t.length,e)]:t}const ck=t=>Array.isArray(t)&&typeof t[0]=="number",UF={linear:Cr,easeIn:BF,easeInOut:ak,easeOut:zF,circIn:_x,circInOut:ok,circOut:ik,backIn:Sx,backInOut:rk,backOut:nk,anticipate:sk},HF=t=>typeof t=="string",h2=t=>{if(ck(t)){xx(t.length===4);const[e,n,r,s]=t;return ed(e,n,r,s)}else if(HF(t))return UF[t];return t},Ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WF(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(d){o.has(d)&&(u.schedule(d),t()),d(a)}const u={schedule:(d,h=!1,m=!1)=>{const b=m&&s?n:r;return h&&o.add(d),b.has(d)||b.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(d))}};return u}const qF=40;function dk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ud.reduce((E,j)=>(E[j]=WF(i),E),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:h,preRender:m,render:p,postRender:b}=o,_=()=>{const E=$s.useManualTiming?s.timestamp:performance.now();n=!1,$s.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(E-s.timestamp,qF),1)),s.timestamp=E,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),m.process(s),p.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(_))},P=()=>{n=!0,r=!0,s.isProcessing||t(_)};return{schedule:Ud.reduce((E,j)=>{const C=o[j];return E[j]=(V,x=!1,S=!1)=>(n||P(),C.schedule(V,x,S)),E},{}),cancel:E=>{for(let j=0;j<Ud.length;j++)o[Ud[j]].cancel(E)},state:s,steps:o}}const{schedule:ft,cancel:Bs,state:gn,steps:kp}=dk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cr,!0);let _f;function KF(){_f=void 0}const Yn={now:()=>(_f===void 0&&Yn.set(gn.isProcessing||$s.useManualTiming?gn.timestamp:performance.now()),_f),set:t=>{_f=t,queueMicrotask(KF)}},fk=t=>e=>typeof e=="string"&&e.startsWith(t),Ex=fk("--"),GF=fk("var(--"),Tx=t=>GF(t)?YF.test(t.split("/*")[0].trim()):!1,YF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_c={...Il,transform:t=>Fs(0,1,t)},Hd={...Il,default:1},Du=t=>Math.round(t*1e5)/1e5,Px=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XF(t){return t==null}const QF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ax=(t,e)=>n=>!!(typeof n=="string"&&QF.test(n)&&n.startsWith(t)||e&&!XF(n)&&Object.prototype.hasOwnProperty.call(n,e)),hk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Px);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},JF=t=>Fs(0,255,t),Np={...Il,transform:t=>Math.round(JF(t))},bo={test:Ax("rgb","red"),parse:hk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Np.transform(t)+", "+Np.transform(e)+", "+Np.transform(n)+", "+Du(_c.transform(r))+")"};function ZF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ey={test:Ax("#"),parse:ZF,transform:bo.transform},td=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ui=td("deg"),cs=td("%"),Ce=td("px"),e$=td("vh"),t$=td("vw"),m2={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},Ia={test:Ax("hsl","hue"),parse:hk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cs.transform(Du(e))+", "+cs.transform(Du(n))+", "+Du(_c.transform(r))+")"},Kt={test:t=>bo.test(t)||Ey.test(t)||Ia.test(t),parse:t=>bo.test(t)?bo.parse(t):Ia.test(t)?Ia.parse(t):Ey.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bo.transform(t):Ia.transform(t),getAnimatableNone:t=>{const e=Kt.parse(t);return e.alpha=0,Kt.transform(e)}},n$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function r$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Px))==null?void 0:e.length)||0)+(((n=t.match(n$))==null?void 0:n.length)||0)>0}const mk="number",pk="color",s$="var",i$="var(",p2="${}",o$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ec(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(o$,l=>(Kt.test(l)?(r.color.push(i),s.push(pk),n.push(Kt.parse(l))):l.startsWith(i$)?(r.var.push(i),s.push(s$),n.push(l)):(r.number.push(i),s.push(mk),n.push(parseFloat(l))),++i,p2)).split(p2);return{values:n,split:a,indexes:r,types:s}}function gk(t){return Ec(t).values}function yk(t){const{split:e,types:n}=Ec(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===mk?i+=Du(s[o]):a===pk?i+=Kt.transform(s[o]):i+=s[o]}return i}}const a$=t=>typeof t=="number"?0:Kt.test(t)?Kt.getAnimatableNone(t):t;function l$(t){const e=gk(t);return yk(t)(e.map(a$))}const Vi={test:r$,parse:gk,createTransformer:yk,getAnimatableNone:l$};function jp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=jp(l,a,t+1/3),i=jp(l,a,t),o=jp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function vh(t,e){return n=>n>0?e:t}const wt=(t,e,n)=>t+(e-t)*n,Rp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},c$=[Ey,bo,Ia],d$=t=>c$.find(e=>e.test(t));function g2(t){const e=d$(t);if(!e)return!1;let n=e.parse(t);return e===Ia&&(n=u$(n)),n}const y2=(t,e)=>{const n=g2(t),r=g2(e);if(!n||!r)return vh(t,e);const s={...n};return i=>(s.red=Rp(n.red,r.red,i),s.green=Rp(n.green,r.green,i),s.blue=Rp(n.blue,r.blue,i),s.alpha=wt(n.alpha,r.alpha,i),bo.transform(s))},Ty=new Set(["none","hidden"]);function f$(t,e){return Ty.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function h$(t,e){return n=>wt(t,e,n)}function Cx(t){return typeof t=="number"?h$:typeof t=="string"?Tx(t)?vh:Kt.test(t)?y2:g$:Array.isArray(t)?vk:typeof t=="object"?Kt.test(t)?y2:m$:vh}function vk(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Cx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function m$(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Cx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function p$(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const g$=(t,e)=>{const n=Vi.createTransformer(e),r=Ec(t),s=Ec(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ty.has(t)&&!s.values.length||Ty.has(e)&&!r.values.length?f$(t,e):Zc(vk(p$(r,s),s.values),n):vh(t,e)};function xk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wt(t,e,n):Cx(t)(t,e)}const y$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Bs(e),now:()=>gn.isProcessing?gn.timestamp:Yn.now()}},wk=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xh=2e4;function Ix(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xh;)e+=n,r=t.next(e);return e>=xh?1/0:e}function bk(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Ix(r),xh);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Pr(s)}}const v$=5;function Sk(t,e,n){const r=Math.max(e-v$,0);return JI(n-t(r),e-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dp=.001;function x$({duration:t=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let s,i,o=1-e;o=Fs(Dt.minDamping,Dt.maxDamping,o),t=Fs(Dt.minDuration,Dt.maxDuration,Pr(t)),o<1?(s=u=>{const d=u*o,h=d*t,m=d-n,p=Py(u,o),b=Math.exp(-h);return Dp-m/p*b},i=u=>{const h=u*o*t,m=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,b=Math.exp(-h),_=Py(Math.pow(u,2),o);return(-s(u)+Dp>0?-1:1)*((m-p)*b)/_}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Dp+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=b$(s,i,a);if(t=qr(t),isNaN(l))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const w$=12;function b$(t,e,n){let r=n;for(let s=1;s<w$;s++)r=r-t(r)/e(r);return r}function Py(t,e){return t*Math.sqrt(1-e*e)}const S$=["duration","bounce"],_$=["stiffness","damping","mass"];function v2(t,e){return e.some(n=>t[n]!==void 0)}function E$(t){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...t};if(!v2(t,_$)&&v2(t,S$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Fs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Dt.mass,stiffness:s,damping:i}}else{const n=x$(t);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function Tc(t=Dt.visualDuration,e=Dt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=E$({...n,velocity:-Pr(n.velocity||0)}),b=m||0,_=u/(2*Math.sqrt(l*d)),P=o-i,v=Pr(Math.sqrt(l/d)),y=Math.abs(P)<5;r||(r=y?Dt.restSpeed.granular:Dt.restSpeed.default),s||(s=y?Dt.restDelta.granular:Dt.restDelta.default);let E;if(_<1){const C=Py(v,_);E=V=>{const x=Math.exp(-_*v*V);return o-x*((b+_*v*P)/C*Math.sin(C*V)+P*Math.cos(C*V))}}else if(_===1)E=C=>o-Math.exp(-v*C)*(P+(b+v*P)*C);else{const C=v*Math.sqrt(_*_-1);E=V=>{const x=Math.exp(-_*v*V),S=Math.min(C*V,300);return o-x*((b+_*v*P)*Math.sinh(S)+C*P*Math.cosh(S))/C}}const j={calculatedDuration:p&&h||null,next:C=>{const V=E(C);if(p)a.done=C>=h;else{let x=C===0?b:0;_<1&&(x=C===0?qr(b):Sk(E,C,V));const S=Math.abs(x)<=r,A=Math.abs(o-V)<=s;a.done=S&&A}return a.value=a.done?o:V,a},toString:()=>{const C=Math.min(Ix(j),xh),V=wk(x=>j.next(C*x).value,C,30);return C+"ms "+V},toTransition:()=>{}};return j}Tc.applyToOptions=t=>{const e=bk(t,100,Tc);return t.ease=e.ease,t.duration=qr(e.duration),t.type="keyframes",t};function Ay({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,b=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let _=n*e;const P=h+_,v=o===void 0?P:o(P);v!==P&&(_=v-h);const y=S=>-_*Math.exp(-S/r),E=S=>v+y(S),j=S=>{const A=y(S),I=E(S);m.done=Math.abs(A)<=u,m.value=m.done?v:I};let C,V;const x=S=>{p(m.value)&&(C=S,V=Tc({keyframes:[m.value,b(m.value)],velocity:Sk(E,S,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return x(0),{calculatedDuration:null,next:S=>{let A=!1;return!V&&C===void 0&&(A=!0,j(S),x(S)),C!==void 0&&S>=C?V.next(S-C):(!A&&j(S),m)}}}function T$(t,e,n){const r=[],s=n||$s.mix||xk,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Cr:e;a=Zc(l,a)}r.push(a)}return r}function _k(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(xx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=T$(e,r,s),l=a.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=cl(t[h],t[h+1],d);return a[h](m)};return n?d=>u(Fs(t[0],t[i-1],d)):u}function Ek(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=cl(0,e,r);t.push(wt(n,1,s))}}function Tk(t){const e=[0];return Ek(e,t.length-1),e}function P$(t,e){return t.map(n=>n*e)}function A$(t,e){return t.map(()=>e||ak).splice(0,t.length-1)}function Mu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=lk(r)?r.map(h2):h2(r),i={done:!1,value:e[0]},o=P$(n&&n.length===e.length?n:Tk(e),t),a=_k(o,e,{ease:Array.isArray(s)?s:A$(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const C$=t=>t!==null;function kx(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(C$),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const I$={decay:Ay,inertia:Ay,tween:Mu,keyframes:Mu,spring:Tc};function Pk(t){typeof t.type=="string"&&(t.type=I$[t.type])}class Nx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const k$=t=>t/100;class jx extends Nx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Pk(e);const{type:n=Mu,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Mu;l!==Mu&&typeof a[0]!="number"&&(this.mixKeyframes=Zc(k$,xk(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ix(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:p,type:b,onUpdate:_,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,j=r;if(h){const S=Math.min(this.currentTime,s)/a;let A=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(m==="reverse"?(I=1-I,p&&(I-=p/a)):m==="mirror"&&(j=o)),E=Fs(0,1,I)*a}const C=y?{done:!1,value:d[0]}:j.next(E);i&&(C.value=i(C.value));let{done:V}=C;!y&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return x&&b!==Ay&&(C.value=kx(d,this.options,P,this.speed)),_&&_(C.value),x&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Pr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(this.currentTime)}set time(e){var n;e=qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=y$,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function N$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const So=t=>t*180/Math.PI,Cy=t=>{const e=So(Math.atan2(t[1],t[0]));return Iy(e)},j$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Cy,rotateZ:Cy,skewX:t=>So(Math.atan(t[1])),skewY:t=>So(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Iy=t=>(t=t%360,t<0&&(t+=360),t),x2=Cy,w2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),b2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),R$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w2,scaleY:b2,scale:t=>(w2(t)+b2(t))/2,rotateX:t=>Iy(So(Math.atan2(t[6],t[5]))),rotateY:t=>Iy(So(Math.atan2(-t[2],t[0]))),rotateZ:x2,rotate:x2,skewX:t=>So(Math.atan(t[4])),skewY:t=>So(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ky(t){return t.includes("scale")?1:0}function Ny(t,e){if(!t||t==="none")return ky(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=R$,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=j$,s=a}if(!s)return ky(e);const i=r[e],o=s[1].split(",").map(M$);return typeof i=="function"?i(o):o[i]}const D$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ny(n,e)};function M$(t){return parseFloat(t.trim())}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nl=new Set(kl),S2=t=>t===Il||t===Ce,V$=new Set(["x","y","z"]),L$=kl.filter(t=>!V$.has(t));function O$(t){const e=[];return L$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ko={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ny(e,"x"),y:(t,{transform:e})=>Ny(e,"y")};ko.translateX=ko.x;ko.translateY=ko.y;const No=new Set;let jy=!1,Ry=!1,Dy=!1;function Ak(){if(Ry){const t=Array.from(No).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=O$(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ry=!1,jy=!1,No.forEach(t=>t.complete(Dy)),No.clear()}function Ck(){No.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ry=!0)})}function F$(){Dy=!0,Ck(),Ak(),Dy=!1}class Rx{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(No.add(this),jy||(jy=!0,ft.read(Ck),ft.resolveKeyframes(Ak))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}N$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),No.delete(this)}cancel(){this.state==="scheduled"&&(No.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $$=t=>t.startsWith("--");function B$(t,e,n){$$(e)?t.style.setProperty(e,n):t.style[e]=n}const z$=wx(()=>window.ScrollTimeline!==void 0),U$={};function H$(t,e){const n=wx(t);return()=>U$[e]??n()}const Ik=H$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pu([0,.65,.55,1]),circOut:pu([.55,0,1,.45]),backIn:pu([.31,.01,.66,-.59]),backOut:pu([.33,1.53,.69,.99])};function kk(t,e){if(t)return typeof t=="function"?Ik()?wk(t,e):"ease-out":ck(t)?pu(t):Array.isArray(t)?t.map(n=>kk(n,e)||_2.easeOut):_2[t]}function W$(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[e]:n};l&&(d.offset=l);const h=kk(a,s);Array.isArray(h)&&(d.easing=h);const m={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(d,m)}function Dx(t){return typeof t=="function"&&"applyToOptions"in t}function q$({type:t,...e}){return Dx(t)&&Ik()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class K$ extends Nx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,xx(typeof e.type!="string");const u=q$(e);this.animation=W$(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=kx(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):B$(n,r,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Pr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Pr(e)}get time(){return Pr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&z$()?(this.animation.timeline=e,Cr):n(this)}}const Nk={anticipate:sk,backInOut:rk,circInOut:ok};function G$(t){return t in Nk}function Y$(t){typeof t.ease=="string"&&G$(t.ease)&&(t.ease=Nk[t.ease])}const E2=10;class X$ extends K${constructor(e){Y$(e),Pk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new jx({...o,autoplay:!1}),l=qr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-E2).value,a.sample(l).value,E2),a.stop()}}const T2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vi.test(t)||t==="0")&&!t.startsWith("url("));function Q$(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function J$(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=T2(s,e),a=T2(i,e);return!o||!a?!1:Q$(t)||(n==="spring"||Dx(n))&&r}function My(t){t.duration=0,t.type="keyframes"}const Z$=new Set(["opacity","clipPath","filter","transform"]),e9=wx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t9(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return e9()&&n&&Z$.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const n9=40;class r9 extends Nx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:d,...h}){var b;super(),this.stop=()=>{var _,P;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Yn.now();const m={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:d,...h},p=(d==null?void 0:d.KeyframeResolver)||Rx;this.keyframeResolver=new p(a,(_,P,v)=>this.onKeyframesResolved(_,P,m,!v),l,u,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=Yn.now(),J$(e,i,o,a)||(($s.instantAnimations||!l)&&(d==null||d(kx(e,r,n))),e[0]=e[e.length-1],My(r),r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>n9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!u&&t9(m)?new X$({...m,element:m.motionValue.owner.current}):new jx(m);p.finished.then(()=>this.notifyFinished()).catch(Cr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),F$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}class s9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return P2(this.animations,"duration")}get iterationDuration(){return P2(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function P2(t,e){let n=0;for(let r=0;r<t.length;r++){const s=t[r][e];s!==null&&s>n&&(n=s)}return n}class i9 extends s9{then(e,n){return this.finished.finally(e).then(()=>{})}}const o9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a9(t){const e=o9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function jk(t,e,n=1){const[r,s]=a9(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return YI(o)?parseFloat(o):o}return Tx(s)?jk(s,e,n+1):s}function Mx(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Rk=new Set(["width","height","top","left","right","bottom",...kl]),l9={test:t=>t==="auto",parse:t=>t},Dk=t=>e=>e.test(t),Mk=[Il,Ce,cs,ui,t$,e$,l9],A2=t=>Mk.find(Dk(t));function u9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QI(t):!0}const c9=new Set(["brightness","contrast","saturate","opacity"]);function d9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Px)||[];if(!r)return t;const s=n.replace(r,"");let i=c9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const f9=/\b([a-z-]*)\(.*?\)/gu,Vy={...Vi,getAnimatableNone:t=>{const e=t.match(f9);return e?e.map(d9).join(" "):t}},C2={...Il,transform:Math.round},h9={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:Hd,scaleX:Hd,scaleY:Hd,scaleZ:Hd,skew:ui,skewX:ui,skewY:ui,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:_c,originX:m2,originY:m2,originZ:Ce},Vx={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...h9,zIndex:C2,fillOpacity:_c,strokeOpacity:_c,numOctaves:C2},m9={...Vx,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Vy,WebkitFilter:Vy},Vk=t=>m9[t];function Lk(t,e){let n=Vk(t);return n!==Vy&&(n=Vi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const p9=new Set(["auto","none","0"]);function g9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!p9.has(i)&&Ec(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Lk(n,s)}class y9 extends Rx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Tx(u))){const d=jk(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Rk.has(r)||e.length!==2)return;const[s,i]=e,o=A2(s),a=A2(i);if(o!==a)if(S2(o)&&S2(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else ko[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||u9(e[s]))&&r.push(s);r.length&&g9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ko[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ko[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Ok(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Fk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function v9(t){return XI(t)&&"offsetHeight"in t}const I2=30,x9=t=>!isNaN(parseFloat(t)),Vu={current:void 0};class w9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Yn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=x9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new bx);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Vu.current&&Vu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>I2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,I2);return JI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $o(t,e){return new w9(t,e)}const{schedule:Lx}=dk(queueMicrotask,!1),Vr={x:!1,y:!1};function $k(){return Vr.x||Vr.y}function b9(t){return t==="x"||t==="y"?Vr[t]?null:(Vr[t]=!0,()=>{Vr[t]=!1}):Vr.x||Vr.y?null:(Vr.x=Vr.y=!0,()=>{Vr.x=Vr.y=!1})}function Bk(t,e){const n=Ok(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function k2(t){return!(t.pointerType==="touch"||$k())}function S9(t,e,n={}){const[r,s,i]=Bk(t,n),o=a=>{if(!k2(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const d=h=>{k2(h)&&(u(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const zk=(t,e)=>e?t===e?!0:zk(t,e.parentElement):!1,Ox=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E9(t){return _9.has(t.tagName)||t.tabIndex!==-1}const Ef=new WeakSet;function N2(t){return e=>{e.key==="Enter"&&t(e)}}function Mp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=N2(()=>{if(Ef.has(n))return;Mp(n,"down");const s=N2(()=>{Mp(n,"up")}),i=()=>Mp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function j2(t){return Ox(t)&&!$k()}function P9(t,e,n={}){const[r,s,i]=Bk(t,n),o=a=>{const l=a.currentTarget;if(!j2(a))return;Ef.add(l);const u=e(l,a),d=(p,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Ef.has(l)&&Ef.delete(l),j2(p)&&typeof u=="function"&&u(p,{success:b})},h=p=>{d(p,l===window||l===document||n.useGlobalTarget||zk(l,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),v9(a)&&(a.addEventListener("focus",u=>T9(u,s)),!E9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Fx(t){return XI(t)&&"ownerSVGElement"in t}function Uk(t){return Fx(t)&&t.tagName==="svg"}function Tf(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=_k(s,i,o);return e?a(r):a}const an=t=>!!(t&&t.getVelocity),A9=[...Mk,Kt,Vi],C9=t=>A9.find(Dk(t)),$x=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function I9(t=!0){const e=T.useContext(yx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=T.useId();T.useEffect(()=>{if(t)return s(i)},[t]);const o=T.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Hk=T.createContext({strict:!1}),R2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},dl={};for(const t in R2)dl[t]={isEnabled:e=>R2[t].some(n=>!!e[n])};function k9(t){for(const e in t)dl[e]={...dl[e],...t[e]}}const N9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||N9.has(t)}let Wk=t=>!wh(t);function j9(t){typeof t=="function"&&(Wk=e=>e.startsWith("on")?!wh(e):t(e))}try{j9(require("@emotion/is-prop-valid").default)}catch{}function R9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Wk(s)||n===!0&&wh(s)||!e&&!wh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const fm=T.createContext({});function hm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pc(t){return typeof t=="string"||Array.isArray(t)}const Bx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zx=["initial",...Bx];function mm(t){return hm(t.animate)||zx.some(e=>Pc(t[e]))}function qk(t){return!!(mm(t)||t.variants)}function D9(t,e){if(mm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pc(n)?n:void 0,animate:Pc(r)?r:void 0}}return t.inherit!==!1?e:{}}function M9(t){const{initial:e,animate:n}=D9(t,T.useContext(fm));return T.useMemo(()=>({initial:e,animate:n}),[D2(e),D2(n)])}function D2(t){return Array.isArray(t)?t.join(" "):t}const Ac={};function V9(t){for(const e in t)Ac[e]=t[e],Ex(e)&&(Ac[e].isCSSVariable=!0)}function Kk(t,{layout:e,layoutId:n}){return Nl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ac[t]||t==="opacity")}const L9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O9=kl.length;function F9(t,e,n){let r="",s=!0;for(let i=0;i<O9;i++){const o=kl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Fk(a,Vx[o]);if(!l){s=!1;const d=L9[o]||o;r+=`${d}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Ux(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(Nl.has(l)){o=!0;continue}else if(Ex(l)){s[l]=u;continue}else{const d=Fk(u,Vx[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=F9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const Hx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gk(t,e,n){for(const r in e)!an(e[r])&&!Kk(r,n)&&(t[r]=e[r])}function $9({transformTemplate:t},e){return T.useMemo(()=>{const n=Hx();return Ux(n,e,t),Object.assign({},n.vars,n.style)},[e])}function B9(t,e){const n=t.style||{},r={};return Gk(r,n,t),Object.assign(r,$9(t,e)),r}function z9(t,e){const n={},r=B9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const U9={offset:"stroke-dashoffset",array:"stroke-dasharray"},H9={offset:"strokeDashoffset",array:"strokeDasharray"};function W9(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?U9:H9;t[i.offset]=Ce.transform(-r);const o=Ce.transform(e),a=Ce.transform(n);t[i.array]=`${o} ${a}`}function Yk(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,d){if(Ux(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&W9(h,s,i,o,!1)}const Xk=()=>({...Hx(),attrs:{}}),Qk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function q9(t,e,n,r){const s=T.useMemo(()=>{const i=Xk();return Yk(i,e,Qk(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Gk(i,t.style,t),s.style={...i,...s.style}}return s}const K9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wx(t){return typeof t!="string"||t.includes("-")?!1:!!(K9.indexOf(t)>-1||/[A-Z]/u.test(t))}function G9(t,e,n,{latestValues:r},s,i=!1){const a=(Wx(t)?q9:z9)(e,r,s,t),l=R9(e,typeof t=="string",i),u=t!==T.Fragment?{...l,...a,ref:n}:{},{children:d}=e,h=T.useMemo(()=>an(d)?d.get():d,[d]);return T.createElement(t,{...u,children:h})}function M2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function qx(t,e,n,r){if(typeof e=="function"){const[s,i]=M2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=M2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Pf(t){return an(t)?t.get():t}function Y9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:X9(n,r,s,t),renderState:e()}}function X9(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Pf(i[m]);let{initial:o,animate:a}=t;const l=mm(t),u=qk(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!hm(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const b=qx(t,m[p]);if(b){const{transitionEnd:_,transition:P,...v}=b;for(const y in v){let E=v[y];if(Array.isArray(E)){const j=d?E.length-1:0;E=E[j]}E!==null&&(s[y]=E)}for(const y in _)s[y]=_[y]}}}return s}const Jk=t=>(e,n)=>{const r=T.useContext(fm),s=T.useContext(yx),i=()=>Y9(t,e,r,s);return n?i():px(i)};function Kx(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(an(r[o])||e.style&&an(e.style[o])||Kk(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Q9=Jk({scrapeMotionValuesFromProps:Kx,createRenderState:Hx});function Zk(t,e,n){const r=Kx(t,e,n);for(const s in t)if(an(t[s])||an(e[s])){const i=kl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const J9=Jk({scrapeMotionValuesFromProps:Zk,createRenderState:Xk}),Z9=Symbol.for("motionComponentSymbol");function ka(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function e7(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ka(n)&&(n.current=r))},[e])}const Gx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t7="framerAppearId",eN="data-"+Gx(t7),tN=T.createContext({});function n7(t,e,n,r,s){var _,P;const{visualElement:i}=T.useContext(fm),o=T.useContext(Hk),a=T.useContext(yx),l=T.useContext($x).reducedMotion,u=T.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=T.useContext(tN);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&r7(u.current,n,s,h);const m=T.useRef(!1);T.useInsertionEffect(()=>{d&&m.current&&d.update(n,a)});const p=n[eN],b=T.useRef(!!p&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,p))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,p)));return GI(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),b.current&&d.animationState&&d.animationState.animateChanges())}),T.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),b.current=!1),d.enteringChildren=void 0)}),d}function r7(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:nN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ka(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function nN(t){if(t)return t.options.allowProjection!==!1?t.projection:nN(t.parent)}function Vp(t,{forwardMotionProps:e=!1}={},n,r){n&&k9(n);const s=Wx(t)?J9:Q9;function i(a,l){let u;const d={...T.useContext($x),...a,layoutId:s7(a)},{isStatic:h}=d,m=M9(a),p=s(a,h);if(!h&&gx){i7();const b=o7(d);u=b.MeasureLayout,m.visualElement=n7(t,p,d,r,b.ProjectionNode)}return c.jsxs(fm.Provider,{value:m,children:[u&&m.visualElement?c.jsx(u,{visualElement:m.visualElement,...d}):null,G9(t,a,e7(p,m.visualElement,l),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=T.forwardRef(i);return o[Z9]=t,o}function s7({layoutId:t}){const e=T.useContext(KI).id;return e&&t!==void 0?e+"-"+t:t}function i7(t,e){T.useContext(Hk).strict}function o7(t){const{drag:e,layout:n}=dl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function a7(t,e){if(typeof Proxy>"u")return Vp;const n=new Map,r=(i,o)=>Vp(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,Vp(o,void 0,t,e)),n.get(o))})}function rN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function l7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function u7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lp(t){return t===void 0||t===1}function Ly({scale:t,scaleX:e,scaleY:n}){return!Lp(t)||!Lp(e)||!Lp(n)}function co(t){return Ly(t)||sN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sN(t){return V2(t.x)||V2(t.y)}function V2(t){return t&&t!=="0%"}function bh(t,e,n){const r=t-n,s=e*r;return n+s}function L2(t,e,n,r,s){return s!==void 0&&(t=bh(t,s,r)),bh(t,n,r)+e}function Oy(t,e=0,n=1,r,s){t.min=L2(t.min,e,n,r,s),t.max=L2(t.max,e,n,r,s)}function iN(t,{x:e,y:n}){Oy(t.x,e.translate,e.scale,e.originPoint),Oy(t.y,n.translate,n.scale,n.originPoint)}const O2=.999999999999,F2=1.0000000000001;function c7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ja(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,iN(t,o)),r&&co(i.latestValues)&&ja(t,i.latestValues))}e.x<F2&&e.x>O2&&(e.x=1),e.y<F2&&e.y>O2&&(e.y=1)}function Na(t,e){t.min=t.min+e,t.max=t.max+e}function $2(t,e,n,r,s=.5){const i=wt(t.min,t.max,s);Oy(t,e,n,i,r)}function ja(t,e){$2(t.x,e.x,e.scaleX,e.scale,e.originX),$2(t.y,e.y,e.scaleY,e.scale,e.originY)}function oN(t,e){return rN(u7(t.getBoundingClientRect(),e))}function d7(t,e,n){const r=oN(t,n),{scroll:s}=e;return s&&(Na(r.x,s.offset.x),Na(r.y,s.offset.y)),r}const B2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ra=()=>({x:B2(),y:B2()}),z2=()=>({min:0,max:0}),jt=()=>({x:z2(),y:z2()}),Sh={current:null},Yx={current:!1};function aN(){if(Yx.current=!0,!!gx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sh.current=t.matches;t.addEventListener("change",e),e()}else Sh.current=!1}const Cc=new WeakMap;function f7(t,e,n){for(const r in e){const s=e[r],i=n[r];if(an(s))t.addValue(r,s);else if(an(i))t.addValue(r,$o(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,$o(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const U2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Yn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ft.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=mm(n),this.isVariantNode=qk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];l[m]!==void 0&&an(p)&&p.set(l[m])}}mount(e){var n;this.current=e,Cc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Yx.current||aN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sh.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Nl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dl){const n=dl[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<U2.length;r++){const s=U2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=f7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=$o(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(YI(r)||QI(r))?r=parseFloat(r):!C9(r)&&Vi.test(n)&&(r=Lk(e,n)),this.setBaseTarget(e,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=qx(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!an(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new bx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Lx.render(this.render)}}class uN extends lN{constructor(){super(...arguments),this.KeyframeResolver=y9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cN(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function h7(t){return window.getComputedStyle(t)}class dN extends uN{constructor(){super(...arguments),this.type="html",this.renderInstance=cN}readValueFromInstance(e,n){var r;if(Nl.has(n))return(r=this.projection)!=null&&r.isProjecting?ky(n):D$(e,n);{const s=h7(e),i=(Ex(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oN(e,n)}build(e,n,r){Ux(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Kx(e,n,r)}}const fN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function m7(t,e,n,r){cN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(fN.has(s)?s:Gx(s),e.attrs[s])}class hN extends uN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Nl.has(n)){const r=Vk(n);return r&&r.default||0}return n=fN.has(n)?n:Gx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Zk(e,n,r)}build(e,n,r){Yk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){m7(e,n,r,s)}mount(e){this.isSVGTag=Qk(e.tagName),super.mount(e)}}const p7=(t,e)=>Wx(t)?new hN(e):new dN(e,{allowProjection:t!==T.Fragment});function Wa(t,e,n){const r=t.getProps();return qx(r,e,n!==void 0?n:r.custom,t)}const Fy=t=>Array.isArray(t);function g7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,$o(n))}function y7(t){return Fy(t)?t[t.length-1]||0:t}function v7(t,e){const n=Wa(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=y7(i[o]);g7(t,o,a)}}function x7(t){return!!(an(t)&&t.add)}function $y(t,e){const n=t.getValue("willChange");if(x7(n))return n.add(e);if(!n&&$s.WillChange){const r=new $s.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function mN(t){return t.props[eN]}const w7=t=>t!==null;function b7(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(w7),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const S7={type:"spring",stiffness:500,damping:25,restSpeed:10},_7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E7={type:"keyframes",duration:.8},T7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P7=(t,{keyframes:e})=>e.length>2?E7:Nl.has(t)?t.startsWith("scale")?_7(e[1]):S7:T7;function A7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Xx=(t,e,n,r={},s,i)=>o=>{const a=Mx(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-qr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};A7(a)||Object.assign(d,P7(t,d)),d.duration&&(d.duration=qr(d.duration)),d.repeatDelay&&(d.repeatDelay=qr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(My(d),d.delay===0&&(h=!0)),($s.instantAnimations||$s.skipAnimations)&&(h=!0,My(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const m=b7(d.keyframes,a);if(m!==void 0){ft.update(()=>{d.onUpdate(m),d.onComplete()});return}}return a.isSync?new jx(d):new r9(d)};function C7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Qx(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const h=t.getValue(d,t.latestValues[d]??null),m=a[d];if(m===void 0||u&&C7(u,d))continue;const p={delay:n,...Mx(i||{},d)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===b&&!p.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const v=mN(t);if(v){const y=window.MotionHandoffAnimation(v,d,ft);y!==null&&(p.startTime=y,_=!0)}}$y(t,d),h.start(Xx(d,h,m,t.shouldReduceMotion&&Rk.has(d)?{type:!1}:p,t,_));const P=h.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{ft.update(()=>{o&&v7(t,o)})}),l}function pN(t,e,n,r=0,s=1){const i=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function By(t,e,n={}){var l;const r=Wa(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Qx(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=s;return I7(t,e,u,d,h,m,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,d]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function I7(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(By(l,e,{...o,delay:n+(typeof r=="function"?0:r)+pN(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function k7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>By(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=By(t,e,n);else{const s=typeof e=="function"?Wa(t,e,n.custom):e;r=Promise.all(Qx(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function gN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const N7=zx.length;function yN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N7;n++){const r=zx[n],s=t.props[r];(Pc(s)||s===!1)&&(e[r]=s)}return e}const j7=[...Bx].reverse(),R7=Bx.length;function D7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>k7(t,n,r)))}function M7(t){let e=D7(t),n=H2(),r=!0;const s=l=>(u,d)=>{var m;const h=Wa(t,d,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:b,..._}=h;u={...u,..._,...b}}return u};function i(l){e=l(t)}function o(l){const{props:u}=t,d=yN(t.parent)||{},h=[],m=new Set;let p={},b=1/0;for(let P=0;P<R7;P++){const v=j7[P],y=n[v],E=u[v]!==void 0?u[v]:d[v],j=Pc(E),C=v===l?y.isActive:null;C===!1&&(b=P);let V=E===d[v]&&E!==u[v]&&j;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),y.protectedKeys={...p},!y.isActive&&C===null||!E&&!y.prevProp||hm(E)||typeof E=="boolean")continue;const x=V7(y.prevProp,E);let S=x||v===l&&y.isActive&&!V&&j||P>b&&j,A=!1;const I=Array.isArray(E)?E:[E];let R=I.reduce(s(v),{});C===!1&&(R={});const{prevResolvedValues:M={}}=y,N={...M,...R},$=q=>{S=!0,m.has(q)&&(A=!0,m.delete(q)),y.needsAnimating[q]=!0;const L=t.getValue(q);L&&(L.liveStyle=!1)};for(const q in N){const L=R[q],O=M[q];if(p.hasOwnProperty(q))continue;let W=!1;Fy(L)&&Fy(O)?W=!gN(L,O):W=L!==O,W?L!=null?$(q):m.add(q):L!==void 0&&m.has(q)?$(q):y.protectedKeys[q]=!0}y.prevProp=E,y.prevResolvedValues=R,y.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(S=!1);const Q=V&&x;S&&(!Q||A)&&h.push(...I.map(q=>{const L={type:v};if(typeof q=="string"&&r&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:O}=t,W=Wa(O,q);if(O.enteringChildren&&W){const{delayChildren:Z}=W.transition||{};L.delay=pN(O.enteringChildren,t,Z)}}return{animation:q,options:L}}))}if(m.size){const P={};if(typeof u.initial!="boolean"){const v=Wa(t,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(P.transition=v.transition)}m.forEach(v=>{const y=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),P[v]=y??null}),h.push({animation:P})}let _=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(h):Promise.resolve()}function a(l,u){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const d=o(l);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=H2()}}}function V7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!gN(e,t):!1}function io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H2(){return{animate:io(!0),whileInView:io(),whileHover:io(),whileTap:io(),whileDrag:io(),whileFocus:io(),exit:io()}}class Qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class L7 extends Qi{constructor(e){super(e),e.animationState||(e.animationState=M7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let O7=0;class F7 extends Qi{constructor(){super(...arguments),this.id=O7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $7={animation:{Feature:L7},exit:{Feature:F7}};function Ic(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function nd(t){return{point:{x:t.pageX,y:t.pageY}}}const B7=t=>e=>Ox(e)&&t(e,nd(e));function Lu(t,e,n,r){return Ic(t,e,B7(n),r)}const vN=1e-4,z7=1-vN,U7=1+vN,xN=.01,H7=0-xN,W7=0+xN;function Ln(t){return t.max-t.min}function q7(t,e,n){return Math.abs(t-e)<=n}function W2(t,e,n,r=.5){t.origin=r,t.originPoint=wt(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=wt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=z7&&t.scale<=U7||isNaN(t.scale))&&(t.scale=1),(t.translate>=H7&&t.translate<=W7||isNaN(t.translate))&&(t.translate=0)}function Ou(t,e,n,r){W2(t.x,e.x,n.x,r?r.originX:void 0),W2(t.y,e.y,n.y,r?r.originY:void 0)}function q2(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function K7(t,e,n){q2(t.x,e.x,n.x),q2(t.y,e.y,n.y)}function K2(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function Fu(t,e,n){K2(t.x,e.x,n.x),K2(t.y,e.y,n.y)}function br(t){return[t("x"),t("y")]}const wN=({current:t})=>t?t.ownerDocument.defaultView:null,G2=(t,e)=>Math.abs(t-e);function G7(t,e){const n=G2(t.x,e.x),r=G2(t.y,e.y);return Math.sqrt(n**2+r**2)}class bN{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Fp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,b=G7(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!b)return;const{point:_}=m,{timestamp:P}=gn;this.history.push({..._,timestamp:P});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Op(p,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Fp(m.type==="pointercancel"?this.lastMoveEventInfo:Op(p,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,v),_&&_(m,v)},!Ox(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=nd(e),l=Op(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=gn;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Fp(l,this.history)),this.removeListeners=Zc(Lu(this.contextWindow,"pointermove",this.handlePointerMove),Lu(this.contextWindow,"pointerup",this.handlePointerUp),Lu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bs(this.updatePoint)}}function Op(t,e){return e?{point:e(t.point)}:t}function Y2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fp({point:t},e){return{point:t,delta:Y2(t,SN(e)),offset:Y2(t,Y7(e)),velocity:X7(e,.1)}}function Y7(t){return t[0]}function SN(t){return t[t.length-1]}function X7(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=SN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>qr(e)));)n--;if(!r)return{x:0,y:0};const i=Pr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Q7(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wt(n,t,r.max):Math.min(t,n)),t}function X2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function J7(t,{top:e,left:n,bottom:r,right:s}){return{x:X2(t.x,n,s),y:X2(t.y,e,r)}}function Q2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Z7(t,e){return{x:Q2(t.x,e.x),y:Q2(t.y,e.y)}}function e8(t,e){let n=.5;const r=Ln(t),s=Ln(e);return s>r?n=cl(e.min,e.max-r,t.min):r>s&&(n=cl(t.min,t.max-s,e.min)),Fs(0,1,n)}function t8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zy=.35;function n8(t=zy){return t===!1?t=0:t===!0&&(t=zy),{x:J2(t,"left","right"),y:J2(t,"top","bottom")}}function J2(t,e,n){return{min:Z2(t,e),max:Z2(t,n)}}function Z2(t,e){return typeof t=="number"?t:t[e]||0}const r8=new WeakMap;class s8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nd(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:b,onDragStart:_}=this.getProps();if(p&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b9(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),br(v=>{let y=this.getAxisMotionValue(v).get()||0;if(cs.test(y)){const{projection:E}=this.visualElement;if(E&&E.layout){const j=E.layout.layoutBox[v];j&&(y=Ln(j)*(parseFloat(y)/100))}}this.originPoint[v]=y}),_&&ft.postRender(()=>_(h,m)),$y(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},a=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:b,onDirectionLock:_,onDrag:P}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=m;if(b&&this.currentDirection===null){this.currentDirection=i8(v),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),P&&P(h,m)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>br(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new bN(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:wN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ft.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Wd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Q7(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&ka(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=J7(r.layoutBox,e):this.constraints=!1,this.elastic=n8(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&br(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=t8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ka(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=d7(r,s.root,this.visualElement.getTransformPagePoint());let o=Z7(s.layout.layoutBox,i);if(n){const a=n(l7(o));this.hasMutatedConstraints=!!a,a&&(o=rN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=br(d=>{if(!Wd(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,b={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $y(this.visualElement,e),r.start(Xx(e,r,0,n,this.visualElement,!1))}stopAnimation(){br(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){br(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){br(n=>{const{drag:r}=this.getProps();if(!Wd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-wt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ka(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};br(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=e8({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),br(o=>{if(!Wd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(wt(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;r8.set(this.visualElement,this);const e=this.visualElement.current,n=Lu(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ka(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ft.read(r);const o=Ic(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(br(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=zy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Wd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function i8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class o8 extends Qi{constructor(e){super(e),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new s8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const e_=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class a8 extends Qi{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(e){this.session=new bN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:e_(e),onStart:e_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ft.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Lu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Af={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function t_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const su={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ce.test(t))t=parseFloat(t);else return t;const n=t_(t,e.target.x),r=t_(t,e.target.y);return`${n}% ${r}%`}},l8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Vi.parse(t);if(s.length>5)return r;const i=Vi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const u=wt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let $p=!1;class u8 extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;V9(c8),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),$p&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Af.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,$p=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ft.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;$p=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _N(t){const[e,n]=I9(),r=T.useContext(KI);return c.jsx(u8,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(tN),isPresent:e,safeToRemove:n})}const c8={borderRadius:{...su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:su,borderTopRightRadius:su,borderBottomLeftRadius:su,borderBottomRightRadius:su,boxShadow:l8};function EN(t,e,n){const r=an(t)?t:$o(t);return r.start(Xx("",r,e,n)),r.animation}const d8=(t,e)=>t.depth-e.depth;class f8{constructor(){this.children=[],this.isDirty=!1}add(e){vx(this.children,e),this.isDirty=!0}remove(e){dm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d8),this.isDirty=!1,this.children.forEach(e)}}function h8(t,e){const n=Yn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Bs(r),t(i-e))};return ft.setup(r,!0),()=>Bs(r)}const TN=["TopLeft","TopRight","BottomLeft","BottomRight"],m8=TN.length,n_=t=>typeof t=="string"?parseFloat(t):t,r_=t=>typeof t=="number"||Ce.test(t);function p8(t,e,n,r,s,i){s?(t.opacity=wt(0,n.opacity??1,g8(r)),t.opacityExit=wt(e.opacity??1,0,y8(r))):i&&(t.opacity=wt(e.opacity??1,n.opacity??1,r));for(let o=0;o<m8;o++){const a=`border${TN[o]}Radius`;let l=s_(e,a),u=s_(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||r_(l)===r_(u)?(t[a]=Math.max(wt(n_(l),n_(u),r),0),(cs.test(u)||cs.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=wt(e.rotate||0,n.rotate||0,r))}function s_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const g8=PN(0,.5,ik),y8=PN(.5,.95,Cr);function PN(t,e,n){return r=>r<t?0:r>e?1:n(cl(t,e,r))}function i_(t,e){t.min=e.min,t.max=e.max}function xr(t,e){i_(t.x,e.x),i_(t.y,e.y)}function o_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function a_(t,e,n,r,s){return t-=e,t=bh(t,1/n,r),s!==void 0&&(t=bh(t,1/s,r)),t}function v8(t,e=0,n=1,r=.5,s,i=t,o=t){if(cs.test(e)&&(e=parseFloat(e),e=wt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=wt(i.min,i.max,r);t===i&&(a-=e),t.min=a_(t.min,e,n,a,s),t.max=a_(t.max,e,n,a,s)}function l_(t,e,[n,r,s],i,o){v8(t,e[n],e[r],e[s],e.scale,i,o)}const x8=["x","scaleX","originX"],w8=["y","scaleY","originY"];function u_(t,e,n,r){l_(t.x,e,x8,n?n.x:void 0,r?r.x:void 0),l_(t.y,e,w8,n?n.y:void 0,r?r.y:void 0)}function c_(t){return t.translate===0&&t.scale===1}function AN(t){return c_(t.x)&&c_(t.y)}function d_(t,e){return t.min===e.min&&t.max===e.max}function b8(t,e){return d_(t.x,e.x)&&d_(t.y,e.y)}function f_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CN(t,e){return f_(t.x,e.x)&&f_(t.y,e.y)}function h_(t){return Ln(t.x)/Ln(t.y)}function m_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class S8{constructor(){this.members=[]}add(e){vx(this.members,e),e.scheduleRender()}remove(e){if(dm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Bp=["","X","Y","Z"],E8=1e3;let T8=0;function zp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function IN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&IN(r)}function kN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=T8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C8),this.nodes.forEach(j8),this.nodes.forEach(R8),this.nodes.forEach(I8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new f8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new bx),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Fx(o)&&!Uk(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let d,h=0;const m=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,d&&d(),d=h8(m,250),Af.hasAnimatedSinceResize&&(Af.hasAnimatedSinceResize=!1,this.nodes.forEach(y_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||O8,{onLayoutAnimationStart:_,onLayoutAnimationComplete:P}=u.getProps(),v=!this.targetLayout||!CN(this.targetLayout,p),y=!h&&m;if(this.options.layoutRoot||this.resumeFrom||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...Mx(b,"layout"),onPlay:_,onComplete:P};(u.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(d,y)}else h||y_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(D8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(p_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(g_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N8),this.nodes.forEach(P8),this.nodes.forEach(A8)):this.nodes.forEach(g_),this.clearAllSnapshots();const a=Yn.now();gn.delta=Fs(0,1e3/60,a-gn.timestamp),gn.timestamp=a,gn.isProcessing=!0,kp.update.process(gn),kp.preRender.process(gn),kp.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(k8),this.sharedNodes.forEach(M8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!AN(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||co(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),F8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return jt();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some($8))){const{scroll:d}=this.root;d&&(Na(a.x,d.offset.x),Na(a.y,d.offset.y))}return a}removeElementScroll(o){var l;const a=jt();if(xr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&xr(a,o),Na(a.x,h.offset.x),Na(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=jt();xr(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ja(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),co(d.latestValues)&&ja(l,d.latestValues)}return co(this.latestValues)&&ja(l,this.latestValues),l}removeTransform(o){const a=jt();xr(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!co(u.latestValues))continue;Ly(u.latestValues)&&u.updateSnapshot();const d=jt(),h=u.measurePageBox();xr(d,h),u_(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return co(this.latestValues)&&u_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=gn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Fu(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),K7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xr(this.target,this.layout.layoutBox),iN(this.target,this.targetDelta)):xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Fu(this.relativeTargetOrigin,this.target,p.target),xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ly(this.parent.latestValues)||sN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;xr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;c7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(o_(this.prevProjectionDelta.x,this.projectionDelta.x),o_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ou(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!m_(this.projectionDelta.x,this.prevProjectionDelta.x)||!m_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ra(),this.projectionDelta=Ra(),this.projectionDeltaWithTransform=Ra()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Ra();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=jt(),p=l?l.source:void 0,b=this.layout?this.layout.source:void 0,_=p!==b,P=this.getStack(),v=!P||P.members.length<=1,y=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(L8));this.animationProgress=0;let E;this.mixTargetDelta=j=>{const C=j/1e3;v_(h.x,o.x,C),v_(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fu(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),V8(this.relativeTarget,this.relativeTargetOrigin,m,C),E&&b8(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=jt()),xr(E,this.relativeTarget)),_&&(this.animationValues=d,p8(d,u,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Af.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$o(0)),this.currentAnimation=EN(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&NN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||jt();const h=Ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=Ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}xr(a,l),ja(a,d),Ou(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new S8),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&zp("z",o,u,this.animationValues);for(let d=0;d<Bp.length;d++)zp(`rotate${Bp[d]}`,o,u,this.animationValues),zp(`skew${Bp[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Pf(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Pf(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=_8(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in Ac){if(d[b]===void 0)continue;const{correct:_,applyTo:P,isCSSVariable:v}=Ac[b],y=h==="none"?d[b]:_(d[b],u);if(P){const E=P.length;for(let j=0;j<E;j++)o[P[j]]=y}else v?this.options.visualElement.renderState.vars[b]=y:o[b]=y}this.options.layoutId&&(o.pointerEvents=u===this?Pf(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(p_),this.root.sharedNodes.clear()}}}function P8(t){t.updateLayout()}function A8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?br(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],p=Ln(m);m.min=r[h].min,m.max=m.min+p}):NN(i,e.layoutBox,r)&&br(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],p=Ln(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Ra();Ou(a,r,e.layoutBox);const l=Ra();o?Ou(l,t.applyTransform(s,!0),e.measuredBox):Ou(l,r,e.layoutBox);const u=!AN(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const b=jt();Fu(b,e.layoutBox,m.layoutBox);const _=jt();Fu(_,r,p.layoutBox),CN(b,_)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=b,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function C8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function k8(t){t.clearSnapshot()}function p_(t){t.clearMeasurements()}function g_(t){t.isLayoutDirty=!1}function N8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function y_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function j8(t){t.resolveTargetDelta()}function R8(t){t.calcProjection()}function D8(t){t.resetSkewAndRotation()}function M8(t){t.removeLeadSnapshot()}function v_(t,e,n){t.translate=wt(e.translate,0,n),t.scale=wt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function x_(t,e,n,r){t.min=wt(e.min,n.min,r),t.max=wt(e.max,n.max,r)}function V8(t,e,n,r){x_(t.x,e.x,n.x,r),x_(t.y,e.y,n.y,r)}function L8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const O8={duration:.45,ease:[.4,0,.1,1]},w_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),b_=w_("applewebkit/")&&!w_("chrome/")?Math.round:Cr;function S_(t){t.min=b_(t.min),t.max=b_(t.max)}function F8(t){S_(t.x),S_(t.y)}function NN(t,e,n){return t==="position"||t==="preserve-aspect"&&!q7(h_(e),h_(n),.2)}function $8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const B8=kN({attachResizeListener:(t,e)=>Ic(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Up={current:void 0},jN=kN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Up.current){const t=new B8({});t.mount(window),t.setOptions({layoutScroll:!0}),Up.current=t}return Up.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),z8={pan:{Feature:a8},drag:{Feature:o8,ProjectionNode:jN,MeasureLayout:_N}};function __(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ft.postRender(()=>i(e,nd(e)))}class U8 extends Qi{mount(){const{current:e}=this.node;e&&(this.unmount=S9(e,(n,r)=>(__(this.node,r,"Start"),s=>__(this.node,s,"End"))))}unmount(){}}class H8 extends Qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zc(Ic(this.node.current,"focus",()=>this.onFocus()),Ic(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ft.postRender(()=>i(e,nd(e)))}class W8 extends Qi{mount(){const{current:e}=this.node;e&&(this.unmount=P9(e,(n,r)=>(E_(this.node,r,"Start"),(s,{success:i})=>E_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Uy=new WeakMap,Hp=new WeakMap,q8=t=>{const e=Uy.get(t.target);e&&e(t)},K8=t=>{t.forEach(q8)};function G8({root:t,...e}){const n=t||document;Hp.has(n)||Hp.set(n,{});const r=Hp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(K8,{root:t,...e})),r[s]}function Y8(t,e,n){const r=G8(e);return Uy.set(t,n),r.observe(t),()=>{Uy.delete(t),r.unobserve(t)}}const X8={some:0,all:1};class Q8 extends Qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:X8[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(l)};return Y8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(J8(e,n))&&this.startObserver()}unmount(){}}function J8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Z8={inView:{Feature:Q8},tap:{Feature:W8},focus:{Feature:H8},hover:{Feature:U8}},eB={layout:{ProjectionNode:jN,MeasureLayout:_N}},tB={...$7,...Z8,...z8,...eB},zs=a7(tB,p7);function Hy(t){const e=px(()=>$o(t)),{isStatic:n}=T.useContext($x);if(n){const[,r]=T.useState(t);T.useEffect(()=>e.on("change",r),[])}return e}function RN(t,e){const n=Hy(e()),r=()=>n.set(e());return r(),GI(()=>{const s=()=>ft.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),Bs(r)}}),n}function nB(t){Vu.current=[],t();const e=RN(Vu.current,t);return Vu.current=void 0,e}function $u(t,e,n,r){if(typeof t=="function")return nB(t);const s=typeof e=="function"?e:Tf(e,n,r);return Array.isArray(t)?T_(t,s):T_([t],([i])=>s(i))}function T_(t,e){const n=px(()=>[]);return RN(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function rB(){!Yx.current&&aN();const[t]=T.useState(Sh.current);return t}function Jx(t){return typeof t=="object"&&!Array.isArray(t)}function DN(t,e,n,r){return typeof t=="string"&&Jx(e)?Ok(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function sB(t,e,n){return t*(e+1)}function P_(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function iB(t,e,n){for(let r=0;r<t.length;r++){const s=t[r];s.at>e&&s.at<n&&(dm(t,s),r--)}}function oB(t,e,n,r,s,i){iB(t,s,i);for(let o=0;o<e.length;o++)t.push({value:e[o],at:wt(s,i,r[o]),easing:uk(n,o)})}function aB(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function lB(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const uB="easeInOut";function cB(t,{defaultTransition:e={},...n}={},r,s){const i=e.duration||.3,o=new Map,a=new Map,l={},u=new Map;let d=0,h=0,m=0;for(let p=0;p<t.length;p++){const b=t[p];if(typeof b=="string"){u.set(b,h);continue}else if(!Array.isArray(b)){u.set(b.name,P_(h,b.at,d,u));continue}let[_,P,v={}]=b;v.at!==void 0&&(h=P_(h,v.at,d,u));let y=0;const E=(j,C,V,x=0,S=0)=>{const A=dB(j),{delay:I=0,times:R=Tk(A),type:M="keyframes",repeat:N,repeatType:$,repeatDelay:Q=0,...J}=C;let{ease:q=e.ease||"easeOut",duration:L}=C;const O=typeof I=="function"?I(x,S):I,W=A.length,Z=Dx(M)?M:s==null?void 0:s[M||"keyframes"];if(W<=2&&Z){let _e=100;if(W===2&&mB(A)){const ye=A[1]-A[0];_e=Math.abs(ye)}const ke={...J};L!==void 0&&(ke.duration=qr(L));const De=bk(ke,_e,Z);q=De.ease,L=De.duration}L??(L=i);const se=h+O;R.length===1&&R[0]===0&&(R[1]=1);const we=R.length-A.length;if(we>0&&Ek(R,we),A.length===1&&A.unshift(null),N){L=sB(L,N);const _e=[...A],ke=[...R];q=Array.isArray(q)?[...q]:[q];const De=[...q];for(let ye=0;ye<N;ye++){A.push(..._e);for(let bt=0;bt<_e.length;bt++)R.push(ke[bt]+(ye+1)),q.push(bt===0?"linear":uk(De,bt-1))}aB(R,N)}const pe=se+L;oB(V,A,q,R,se,pe),y=Math.max(O+L,y),m=Math.max(pe,m)};if(an(_)){const j=A_(_,a);E(P,v,C_("default",j))}else{const j=DN(_,P,r,l),C=j.length;for(let V=0;V<C;V++){P=P,v=v;const x=j[V],S=A_(x,a);for(const A in P)E(P[A],fB(v,A),C_(A,S),V,C)}}d=h,h+=y}return a.forEach((p,b)=>{for(const _ in p){const P=p[_];P.sort(lB);const v=[],y=[],E=[];for(let C=0;C<P.length;C++){const{at:V,value:x,easing:S}=P[C];v.push(x),y.push(cl(0,m,V)),E.push(S||"easeOut")}y[0]!==0&&(y.unshift(0),v.unshift(v[0]),E.unshift(uB)),y[y.length-1]!==1&&(y.push(1),v.push(null)),o.has(b)||o.set(b,{keyframes:{},transition:{}});const j=o.get(b);j.keyframes[_]=v,j.transition[_]={...e,duration:m,ease:E,times:y,...n}}}),o}function A_(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function C_(t,e){return e[t]||(e[t]=[]),e[t]}function dB(t){return Array.isArray(t)?t:[t]}function fB(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const hB=t=>typeof t=="number",mB=t=>t.every(hB);function pB(t,e){return t in e}class gB extends lN{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(pB(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return jt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function yB(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Fx(t)&&!Uk(t)?new hN(e):new dN(e);n.mount(t),Cc.set(t,n)}function vB(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new gB(e);n.mount(t),Cc.set(t,n)}function xB(t,e){return an(t)||typeof t=="number"||typeof t=="string"&&!Jx(e)}function MN(t,e,n,r){const s=[];if(xB(t,e))s.push(EN(t,Jx(e)&&e.default||e,n&&(n.default||n)));else{const i=DN(t,e,r),o=i.length;for(let a=0;a<o;a++){const l=i[a],u=l instanceof Element?yB:vB;Cc.has(l)||u(l);const d=Cc.get(l),h={...n};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(a,o)),s.push(...Qx(d,{...e,transition:h},{}))}}return s}function wB(t,e,n){const r=[];return cB(t,e,n,{spring:Tc}).forEach(({keyframes:i,transition:o},a)=>{r.push(...MN(a,i,o))}),r}function bB(t){return Array.isArray(t)&&t.some(Array.isArray)}function SB(t){function e(n,r,s){let i=[],o;if(bB(n))i=wB(n,r,t);else{const{onComplete:l,...u}=s||{};typeof l=="function"&&(o=l),i=MN(n,r,u,t)}const a=new i9(i);return o&&a.finished.then(o),a}return e}const qd=SB();function I_(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function _B({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,o]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,d=T.useRef(!1);T.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,m,p]=T.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:y,top:E,width:j,height:C,bottom:V,right:x,x:S,y:A}=a.current.element.getBoundingClientRect(),I={left:y,top:E,width:j,height:C,bottom:V,right:x,x:S,y:A};a.current.element instanceof HTMLElement&&r&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),d.current&&!AB(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[v,u?I_(v,u):v,l?I_(v,l):v]},[o,r,l,u]);function b(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function _(){a.current.element&&(a.current.resizeObserver=new s(p),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const P=v=>{!v||v===a.current.element||(b(),a.current.element=v,a.current.scrollContainers=VN(v),_())};return TB(p,!!e),EB(m),T.useEffect(()=>{b(),_()},[e,p,m]),T.useEffect(()=>b,[]),[P,i,h]}function EB(t){T.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function TB(t,e){T.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function VN(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:s}=window.getComputedStyle(t);return[n,r,s].some(i=>i==="auto"||i==="scroll")&&e.push(t),[...e,...VN(t.parentElement)]}const PB=["x","y","top","bottom","left","right","width","height"],AB=(t,e)=>PB.every(n=>t[n]===e[n]);var LN=T.createContext(void 0);function rd(){const t=T.useContext(LN);if(!t)throw new Error("Sheet context error");return t}var Us={root:{base:{position:"fixed",top:0,bottom:0,left:0,right:0,overflow:"hidden",pointerEvents:"none"},decorative:{}},backdrop:{base:{zIndex:1,position:"fixed",top:0,left:0,width:"100%",height:"100%",touchAction:"none",userSelect:"none"},decorative:{backgroundColor:"rgba(0, 0, 0, 0.2)",border:"none",WebkitTapHighlightColor:"transparent"}},container:{base:{zIndex:2,position:"absolute",left:0,bottom:0,width:"100%",pointerEvents:"auto",display:"flex",flexDirection:"column"},decorative:{backgroundColor:"#fff",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxShadow:"0px -2px 16px rgba(0, 0, 0, 0.3)"}},headerWrapper:{base:{width:"100%"},decorative:{}},header:{base:{width:"100%",position:"relative"},decorative:{height:"40px",display:"flex",alignItems:"center",justifyContent:"center"}},indicatorWrapper:{base:{display:"flex"},decorative:{}},indicator:{base:{display:"inline-block"},decorative:{width:"18px",height:"4px",borderRadius:"99px",backgroundColor:"#ddd"}},content:{base:{minHeight:"0px",position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},decorative:{}},scroller:{base:{height:"100%",overflowY:"auto",overscrollBehaviorY:"none"},decorative:{}}},k_="calc(100% - env(safe-area-inset-top) - 34px)",kc=typeof window>"u",CB={ease:"easeOut",duration:.2},IB={ease:"linear",duration:.01},kB=.6,NB=500;function Hs(t,e){return e?t.base:{...t.base,...t.decorative}}function jB(t){for(let e=0;e<t.length;e++)if(t[e+1]<t[e])return!1;return!0}function _h(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})}}function Zx(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform):!1}function pm(t){let e=null;return()=>(e==null&&(e=t()),e)}var RB=pm(function(){return Zx(/^Mac/i)}),DB=pm(function(){return Zx(/^iPhone/i)}),MB=pm(function(){return Zx(/^iPad/i)||RB()&&navigator.maxTouchPoints>1}),VB=pm(function(){return DB()||MB()});function LB(t,e=50,n=20){return new Promise(r=>{let s=0;const i=setInterval(()=>{const o=document.getElementsByClassName(t)[0];s++,(o||s>=n)&&(clearInterval(i),r(o))},e)})}var OB=t=>!!t.onClick||!!t.onTap,ON=T.forwardRef(({style:t,className:e="",unstyled:n,...r},s)=>{const i=rd(),o=OB(r),a=o?zs.button:zs.div,l=o?"auto":"none",u=n??i.unstyled,d={...Hs(Us.backdrop,u),...t,pointerEvents:l};return ln.createElement(a,{...r,ref:s,className:`react-modal-sheet-backdrop ${e}`,style:d,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1}})});ON.displayName="SheetBackdrop";var FN=T.forwardRef(({children:t,style:e,className:n="",unstyled:r,...s},i)=>{const o=rd(),a=r??o.unstyled,l={...Hs(Us.container,a),...e,y:o.y};return o.detent==="default"&&(l.height=k_),o.detent==="full"&&(l.height="100%",l.maxHeight="100%"),o.detent==="content"&&(l.height="auto",l.maxHeight=k_),ln.createElement(zs.div,{...s,ref:_h([i,o.sheetRef,o.sheetBoundsRef]),className:`react-modal-sheet-container ${n}`,style:l},t)});FN.displayName="SheetContainer";var FB={bottom:0,top:0,left:0,right:0};function $N(){const t=T.useRef(null),e=T.useCallback(()=>FB,[]);return{ref:t,onMeasure:e}}function $B(t={}){const{debounceDelay:e=32,isEnabled:n=!0}=t,[r,s]=T.useState(null),[i,o]=T.useState(void 0);return T.useEffect(()=>{if(!r||!n)return;let a=null;function l(h){const{scrollTop:m,scrollHeight:p,clientHeight:b}=h;if(!(p>b)){i&&o(void 0);return}const P=m<=0,v=Math.ceil(p)-Math.ceil(m)===Math.ceil(b);let y;P?y="top":v?y="bottom":y="middle",y!==i&&o(y)}function u(h){if(h.currentTarget instanceof HTMLElement){const m=h.currentTarget;a&&clearTimeout(a),e===0?l(m):a=setTimeout(()=>l(m),e)}}function d(h){h.currentTarget instanceof HTMLElement&&l(h.currentTarget)}return l(r),r.addEventListener("scroll",u),r.addEventListener("touchstart",d),()=>{a&&clearTimeout(a),r.removeEventListener("scroll",u),r.removeEventListener("touchstart",d)}},[r,n]),{scrollRef:a=>s(a),scrollPosition:i}}var BN=T.forwardRef(({disableScroll:t,disableDrag:e,children:n,style:r,className:s="",scrollClassName:i="",scrollStyle:o,scrollRef:a=null,unstyled:l,...u},d)=>{const h=rd(),m=$N(),p=$B(),b=typeof t=="function"?t({scrollPosition:p.scrollPosition,currentSnap:h.currentSnap}):!!t,_=!b&&p.scrollPosition&&p.scrollPosition!=="top",y=(typeof e=="function"?e({scrollPosition:p.scrollPosition,currentSnap:h.currentSnap}):!!e)||_||h.disableDrag||h.disableDrag?void 0:h.dragProps,E=l??h.unstyled,j={...Hs(Us.content,E),...r},C=Hs(Us.scroller,E);return h.avoidKeyboard&&(C.paddingBottom="env(keyboard-inset-height, var(--keyboard-inset-height, 0px))"),b&&(C.overflowY="hidden"),ln.createElement(zs.div,{...u,ref:_h([d,m.ref]),className:`react-modal-sheet-content ${s}`,style:j,...y,dragConstraints:m.ref,onMeasureDragConstraints:m.onMeasure},ln.createElement(zs.div,{ref:_h([p.scrollRef,a]),style:{...C,...o},className:`react-modal-sheet-content-scroller ${i}`},n))});BN.displayName="SheetContent";function zN({style:t,className:e="",unstyled:n,...r}){const s=rd(),i=$u(s.indicatorRotation,d=>`translateX(2px) rotate(${d}deg)`),o=$u(s.indicatorRotation,d=>`translateX(-2px) rotate(${-1*d}deg)`),a=n??s.unstyled,l={...Hs(Us.indicatorWrapper,a),...t},u=Hs(Us.indicator,a);return ln.createElement("div",{className:`react-modal-sheet-drag-indicator-container ${e}`,style:l,...r},ln.createElement(zs.span,{className:"react-modal-sheet-drag-indicator",style:{...u,transform:i}}),ln.createElement(zs.span,{className:"react-modal-sheet-drag-indicator",style:{...u,transform:o}}))}var UN=T.forwardRef(({children:t,style:e,disableDrag:n,unstyled:r,className:s="",...i},o)=>{const a=rd(),l=$N(),u=n||a.disableDrag?void 0:a.dragProps,d=r??a.unstyled,h={...Hs(Us.headerWrapper,d),...e},m=Hs(Us.header,d);return ln.createElement(zs.div,{...i,ref:_h([o,l.ref]),style:h,className:`react-modal-sheet-header-container ${s}`,...u,dragConstraints:l.ref,onMeasureDragConstraints:l.onMeasure},t||ln.createElement("div",{className:"react-modal-sheet-header",style:m},ln.createElement(zN,null)))});UN.displayName="SheetHeader";var Nc=kc?T.useEffect:T.useLayoutEffect;function BB(){const[t,e]=T.useState(()=>({windowHeight:kc?0:window.innerHeight,windowWidth:kc?0:window.innerWidth}));return Nc(()=>{function n(){e({windowHeight:window.innerHeight,windowWidth:window.innerWidth})}return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t}function zB(){const[t]=T.useState(()=>{const e={top:0,left:0,right:0,bottom:0};if(kc)return e;const n=document.querySelector(":root");if(!n)return e;n.style.setProperty("--rms-sat","env(safe-area-inset-top)"),n.style.setProperty("--rms-sal","env(safe-area-inset-left)"),n.style.setProperty("--rms-sar","env(safe-area-inset-right)"),n.style.setProperty("--rms-sab","env(safe-area-inset-bottom)");const r=getComputedStyle(n),s=Kd(r,"--rms-sat"),i=Kd(r,"--rms-sal"),o=Kd(r,"--rms-sar"),a=Kd(r,"--rms-sab");return n.style.removeProperty("--rms-sat"),n.style.removeProperty("--rms-sal"),n.style.removeProperty("--rms-sar"),n.style.removeProperty("--rms-sab"),{top:s,left:i,right:o,bottom:a}});return t}function Kd(t,e){const n=t.getPropertyValue(e).replace("px","").trim();return parseInt(n,10)||0}function UB({y:t,detent:e,rootId:n,sheetHeight:r,snapPoints:s,startThreshold:i}){const o=zB().top;let a=n;a&&e==="full"&&(console.warn('Using "full" detent with modal effect is not supported.'),a=void 0),Nc(()=>()=>{a&&N_(a)},[]),Nc(()=>{if(!a)return;const l=document.querySelector(`#${a}`);if(!l)return;const u=t.on("animationStart",()=>{HB(a)}),d=t.on("change",b=>{if(!l)return;let _=Math.max(0,1-b/r);const P=s.length>1?s[s.length-2]:void 0;if(P!==void 0){const C=P.snapValueY;b<=C?_=(C-b)/C:_=0}if(i!==void 0){const C=r-Math.min(Math.floor(i*r),r);b<=C?_=(C-b)/C:_=0}_=Math.max(0,Math.min(1,_));const v=window.innerWidth,y=Tf(_,[0,1],[0,24+o]),E=Tf(_,[0,1],[1,(v-16)/v]),j=Tf(_,[0,1],[0,10]);l.style.transform=`scale(${E}) translate3d(0, ${y}px, 0)`,l.style.borderTopRightRadius=`${j}px`,l.style.borderTopLeftRadius=`${j}px`});function h(){t.get()-5>=r&&N_(a)}const m=t.on("animationComplete",h),p=t.on("animationCancel",h);return()=>{u(),d(),m(),p()}},[t,a,o,i,r])}function HB(t){const e=document.querySelector(`#${t}`),n=document.querySelector("body");e&&(n.style.backgroundColor="#000",e.style.overflow="hidden",e.style.transitionTimingFunction="cubic-bezier(0.32, 0.72, 0, 1)",e.style.transitionProperty="transform, border-radius",e.style.transitionDuration="0.5s",e.style.transformOrigin="center top")}function N_(t){const e=document.querySelector(`#${t}`),n=document.querySelector("body");e&&(n.style.removeProperty("background-color"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-timing-function"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transform-origin"),e.style.removeProperty("transform"),e.style.removeProperty("border-top-right-radius"),e.style.removeProperty("border-top-left-radius"))}var WB=24;function Wy(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}var Wp=typeof document<"u"&&window.visualViewport;function j_(t,e){if(!t)return!1;const n=window.getComputedStyle(t);let r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&e&&(r=t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth),r}function HN(t,e){let n=t;for(j_(n,e)&&(n=n.parentElement);n&&!j_(n,e);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}var qB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Gd=0,Yd;function KB(t={}){const{isDisabled:e}=t;Nc(()=>{if(!e)return Gd++,Gd===1&&(VB()?Yd=YB():Yd=GB()),()=>{Gd--,Gd===0&&(Yd==null||Yd())}},[e])}function GB(){return Wy(Bu(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Bu(document.documentElement,"overflow","hidden"))}function YB(){let t,e=0;const n=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];t=HN(p,!0),!(t===document.documentElement&&t===document.body)&&(e=h.changedTouches[0].pageY)},r=h=>{if(t===void 0)return;if(!t||t===document.documentElement||t===document.body){h.preventDefault();return}const m=h.changedTouches[0].pageY,p=t.scrollTop,b=t.scrollHeight-t.clientHeight;b!==0&&((p<=0&&m>e||p>=b&&m<e)&&h.preventDefault(),e=m)},s=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];D_(p)&&p!==document.activeElement&&(h.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},i=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];D_(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Wp&&(Wp.height<window.innerHeight?requestAnimationFrame(()=>{R_(p)}):Wp.addEventListener("resize",()=>R_(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,u=Wy(Bu(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Bu(document.documentElement,"overflow","hidden"),Bu(document.body,"marginTop",`-${l}px`));window.scrollTo(0,0);const d=Wy(iu(document,"touchstart",n,{passive:!1,capture:!0}),iu(document,"touchmove",r,{passive:!1,capture:!0}),iu(document,"touchend",s,{passive:!1,capture:!0}),iu(document,"focus",i,!0),iu(window,"scroll",o));return()=>{u(),d(),window.scrollTo(a,l)}}function Bu(t,e,n){const r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function iu(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function R_(t){const e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){const n=HN(t);if(n!==document.documentElement&&n!==document.body&&n!==t){const r=n.getBoundingClientRect().top,s=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom,o=n.getBoundingClientRect().bottom+WB;i>o&&(n.scrollTop+=s-r)}t=n.parentElement}}function D_(t){return t instanceof HTMLInputElement&&!qB.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Sr(t){const e=T.useRef(void 0);return Nc(()=>{e.current=t}),T.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}function XB({isOpen:t,onClosed:e,onOpening:n,onOpen:r,onClosing:s}){const[i,o]=T.useState(t?"opening":"closed"),a=Sr(()=>e==null?void 0:e()),l=Sr(()=>n==null?void 0:n()),u=Sr(()=>r==null?void 0:r()),d=Sr(()=>s==null?void 0:s());return T.useEffect(()=>{t&&i==="closed"?o("opening"):!t&&(i==="open"||i==="opening")&&o("closing")},[t,i]),T.useEffect(()=>{async function h(){switch(i){case"closed":await(a==null?void 0:a());break;case"opening":await(l==null?void 0:l()),o("open");break;case"open":await(u==null?void 0:u());break;case"closing":await(d==null?void 0:d()),o("closed");break}}h().catch(m=>{console.error("Internal sheet state error:",m)})},[i]),i}function QB(t={}){const{containerRef:e,isEnabled:n=!0,debounceDelay:r=100,includeContentEditable:s=!0,visualViewportThreshold:i=100}=t,[o,a]=T.useState({isVisible:!1,height:0}),l=T.useRef(null),u=T.useRef(null),d=Sr(h=>(h==null?void 0:h.tagName)==="INPUT"||(h==null?void 0:h.tagName)==="TEXTAREA"||s&&h instanceof HTMLElement&&h.isContentEditable);return T.useEffect(()=>{if(!n)return;const h=window.visualViewport,m=navigator.virtualKeyboard;function p(y){const E=(e==null?void 0:e.current)||document.documentElement;window.isSecureContext?E.style.setProperty("--keyboard-inset-height",`env(keyboard-inset-height, ${y}px)`):E.style.setProperty("--keyboard-inset-height",`${y}px`)}function b(y){y.target instanceof HTMLElement&&d(y.target)&&(l.current=y.target,P())}function _(){l.current=null,P()}function P(){u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{const y=l.current;if(!d(y)){p(0),a({isVisible:!1,height:0});return}if(h){const j=window.innerHeight-h.height;j>i?(p(j),a({isVisible:!0,height:j})):(p(0),a({isVisible:!1,height:0}))}},r)}window.addEventListener("focusin",b),window.addEventListener("focusout",_),h&&(h.addEventListener("resize",P),h.addEventListener("scroll",P));let v=!1;return m&&(v=m.overlaysContent,m.overlaysContent=!0),()=>{window.removeEventListener("focusin",b),window.removeEventListener("focusout",_),h&&(h.removeEventListener("resize",P),h.removeEventListener("scroll",P)),m&&(m.overlaysContent=v),u.current&&clearTimeout(u.current)}},[r,s,n,i]),{keyboardHeight:o.height,isKeyboardOpen:o.isVisible}}function JB({snapPointsProp:t,sheetHeight:e}){if(t[0]!==0&&(console.error(`First snap point should be 0 to ensure the sheet can be fully closed. Got: [${t.join(", ")}]`),t.unshift(0)),t[t.length-1]!==1&&(console.error(`Last snap point should be 1 to ensure the sheet can be fully opened. Got: [${t.join(", ")}]`),t.push(1)),e<=0)return console.error(`Sheet height is ${e}, cannot compute snap points. Make sure the sheet is mounted and has a valid height.`),[];const n=t.map(r=>r>0&&r<=1?Math.round(r*e):r<0?e+r:r);return console.assert(jB(n),`Snap points need to be in ascending order got: [${t.join(", ")}]`),n.forEach(r=>{(r<0||r>e)&&console.warn(`Snap point ${r} is outside of the sheet height ${e}. This can cause unexpected behavior. Consider adjusting your snap points.`)}),n.includes(e)||(console.warn("Snap points do not include the sheet height.Please include `1` as the last snap point or it will be included automatically.This is to ensure the sheet can be fully opened."),n.push(e)),n.map((r,s)=>({snapIndex:s,snapValue:r,snapValueY:e-r}))}function ZB({snapPoints:t,currentY:e}){return t.reduce((n,r)=>Math.abs(r.snapValueY-e)<Math.abs(n.snapValueY-e)?r:n)}function ez({y:t,snapPoints:e,dragDirection:n}){return n==="down"?e.slice().reverse().find(r=>r.snapValueY>t):e.find(r=>r.snapValueY<t)}function tz({dragDirection:t,snapPoints:e}){const n=e[0],r=e[e.length-1];return t==="down"?{yTo:n.snapValueY,snapIndex:n.snapIndex}:{yTo:r.snapValueY,snapIndex:r.snapIndex}}function nz({currentSnapPoint:t,currentY:e,dragDirection:n,snapPoints:r,velocity:s}){const i=ZB({snapPoints:r,currentY:e});if(Math.abs(s)<20)return{yTo:i.snapValueY,snapIndex:i.snapIndex};const o=ez({y:e,snapPoints:r,dragDirection:n});return o?{yTo:o.snapValueY,snapIndex:o.snapIndex}:{yTo:t.snapValueY,snapIndex:t.snapIndex}}var WN=T.forwardRef(({avoidKeyboard:t=!0,children:e,className:n="",detent:r="default",disableDismiss:s=!1,disableDrag:i=!1,disableScrollLocking:o=!1,dragCloseThreshold:a=kB,dragVelocityThreshold:l=NB,initialSnap:u,isOpen:d,modalEffectRootId:h,modalEffectThreshold:m,mountPoint:p,prefersReducedMotion:b=!1,snapPoints:_,style:P,tweenConfig:v=CB,unstyled:y=!1,onOpenStart:E,onOpenEnd:j,onClose:C,onCloseStart:V,onCloseEnd:x,onSnap:S,onDrag:A,onDragStart:I,onDragEnd:R,...M},N)=>{const[$,Q]=_B(),J=T.useRef(null),q=Math.round(Q.height),[L,O]=T.useState(u),W=_&&q>0?JB({sheetHeight:q,snapPointsProp:_}):[],{windowHeight:Z}=BB(),se=q>0?q:Z,we=Hy(se),pe=$u(we,Ie=>Math.max(q-Ie,0)),_e=Hy(0),ke=rB(),ye={type:"tween",...!!(b||ke)?IB:v},Bn=QB({isEnabled:d&&t,containerRef:J}).isKeyboardOpen||i,dn=$u(we,Ie=>Ie+2>=se?-1:(P==null?void 0:P.zIndex)??9999),ze=$u(we,Ie=>Ie+2>=se?"hidden":"visible"),tt=Sr(Ie=>{O(Ie),S==null||S(Ie)}),Ae=Sr(Ie=>_&&W?Ie<0||Ie>=W.length?(console.warn(`Invalid snap index ${Ie}. Snap points are: [${_.join(", ")}] and their computed values are: [${W.map(Ue=>Ue.snapValue).join(", ")}]`),null):W[Ie]:null),Ut=Sr(async Ie=>{if(!_){console.warn("Snapping is not possible without `snapPoints` prop.");return}const Ue=Ae(Ie);if(Ue===null){console.warn(`Invalid snap index ${Ie}.`);return}if(Ie===0){C();return}await qd(we,Ue.snapValueY,{...ye,onComplete:()=>tt(Ie)})}),tn=Sr(()=>{const Ie=document.activeElement;if(!Ie||!J.current)return;(Ie.tagName==="INPUT"||Ie.tagName==="TEXTAREA")&&J.current.contains(Ie)&&Ie.blur()}),Yr=Sr((Ie,Ue)=>{A==null||A(Ie,Ue);const zn=we.get(),Vt=we.getVelocity();Vt>0&&_e.set(10),Vt<0&&_e.set(-10),we.set(Math.max(zn+Ue.delta.y,0))}),ms=Sr((Ie,Ue)=>{tn(),I==null||I(Ie,Ue)}),St=Sr((Ie,Ue)=>{tn(),R==null||R(Ie,Ue);const zn=we.get();let Vt=0;const nn=L!==void 0?Ae(L):null;if(nn){const Sn=Ue.offset.y>0?"down":"up",ps=Ue.velocity.y>0?"down":"up",yr=Math.abs(Ue.velocity.y)>l;let Zn;if(yr?Zn=tz({snapPoints:W,dragDirection:ps}):Zn=nz({currentSnapPoint:nn,currentY:zn,dragDirection:Sn,snapPoints:W,velocity:Ue.velocity.y}),Vt=Zn.yTo,s&&Vt+1>=q){const Lt=W.find(jr=>jr.snapValue>0);Lt?(Vt=Lt.snapValueY,tt(Lt.snapIndex)):Vt=zn}else Zn.snapIndex!==void 0&&tt(Zn.snapIndex)}else(Ue.velocity.y>l||zn>q*a)&&(s?Vt=0:Vt=se);qd(we,Vt,ye),Vt+1>=q&&!s&&C(),_e.set(0)});T.useImperativeHandle(N,()=>({y:we,yInverted:pe,height:q,snapTo:Ut})),UB({y:we,detent:r,sheetHeight:q,snapPoints:W,rootId:h,startThreshold:m}),KB({isDisabled:o||!d});const _t=XB({isOpen:d,onOpen:async()=>{E==null||E(),await LB("react-modal-sheet-container");const Ie=u!==void 0?Ae(u):null,Ue=(Ie==null?void 0:Ie.snapValueY)??0;await qd(we,Ue,ye),u!==void 0&&tt(u),j==null||j()},onClosing:async()=>{V==null||V(),await qd(we,se,ye),x==null||x()}}),Nr={currentSnap:L,detent:r,disableDrag:Bn,dragProps:{drag:"y",dragElastic:0,dragMomentum:!1,dragPropagation:!1,onDrag:Yr,onDragStart:ms,onDragEnd:St},indicatorRotation:_e,avoidKeyboard:t,sheetBoundsRef:$,sheetRef:J,unstyled:y,y:we},gr=ln.createElement(LN.Provider,{value:Nr},ln.createElement(zs.div,{...M,ref:N,"data-sheet-state":_t,className:`react-modal-sheet-root ${n}`,style:{...Hs(Us.root,y),zIndex:dn,visibility:ze,...P}},_t!=="closed"?e:null));return kc?gr:Wc.createPortal(gr,p??document.body)});WN.displayName="Sheet";var xt=Object.assign(WN,{Container:FN,Header:UN,DragIndicator:zN,Content:BN,Backdrop:ON});const Ye=({children:t,onClick:e,variant:n="primary",size:r="medium",disabled:s=!1,fullWidth:i=!1,className:o="",type:a="button"})=>{const l="font-medium rounded-full transition-all duration-200 focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation relative overflow-hidden",u={primary:"bg-[#5E57AC] text-white hover:bg-[#4e47a0] active:bg-[#463f8f] active:opacity-95 focus:ring-[#5E57AC]/30 disabled:hover:bg-[#5E57AC]",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-300 active:opacity-95 focus:ring-gray-300/50 disabled:hover:bg-gray-200",outline:"bg-transparent border-2 border-gray-300 text-[#5E57AC] hover:bg-[#5E57AC] hover:text-white hover:border-[#5E57AC] active:bg-[#5E57AC] active:text-white active:border-[#5E57AC] active:opacity-95 focus:ring-[#5E57AC]/30 disabled:hover:bg-transparent disabled:hover:text-[#5E57AC] disabled:hover:border-gray-300",ghost:"bg-transparent text-[#5E57AC] hover:bg-[#5E57AC]/10 active:bg-[#5E57AC]/20 active:opacity-95 focus:ring-[#5E57AC]/20 disabled:hover:bg-transparent",cta:"bg-gradient-to-r from-[#4A4490] via-[#5E57AC] to-[#7C6FBE] bg-[length:200%_auto] text-white font-semibold focus:ring-[#5E57AC]/40 animate-gradient-slide overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:translate-x-[-200%] hover:before:translate-x-[200%] before:transition-transform before:duration-[1500ms] disabled:animate-none disabled:opacity-60"},d={small:"px-5 py-2 text-sm",medium:"px-7 py-3.5 text-base",large:"px-9 py-4 text-lg"},h=i?"w-full":"",m="",p=o.replace(/\brounded-\w+\b/g,"").trim();return c.jsx("button",{type:a,onClick:e,disabled:s,className:`${l} ${u[n]} ${d[r]} ${h} ${m} ${p} rounded-full`,children:c.jsx("span",{className:"relative z-10",children:t})})},rz=({label:t,options:e,selectedValue:n,onChange:r,className:s=""})=>c.jsxs("div",{className:`w-full ${s}`,children:[t&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 whitespace-nowrap",children:t}),c.jsx("div",{className:"flex flex-col gap-2.5 pb-1",children:e.map(i=>{const o=n===i.value;return c.jsxs("button",{type:"button",onClick:()=>r(i.value),className:`w-full px-6 py-4 rounded-full text-base font-normal transition-all duration-200 flex items-center justify-between
                                ${o?"bg-[#5E57AC] text-white border-2 border-[#5E57AC]":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}
                            `,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[i.emoji&&c.jsx("span",{className:"text-2xl",children:i.emoji}),c.jsx("span",{children:i.label})]}),o&&c.jsx($I,{size:20,className:"text-white flex-shrink-0"})]},i.value)})})]}),sz=[{value:"mother",label:"Mother",emoji:""},{value:"father",label:"Father",emoji:""},{value:"partner",label:"Partner",emoji:""},{value:"brother",label:"Brother",emoji:""},{value:"sister",label:"Sister",emoji:""},{value:"son",label:"Son",emoji:""},{value:"daughter",label:"Daughter",emoji:""},{value:"cousin",label:"Cousin",emoji:""},{value:"friend",label:"Friend",emoji:""},{value:"other",label:"Other",emoji:""}],iz=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer-not-to-say",label:"Prefer not to say"}],oz=[{value:"xs",label:"XS"},{value:"s",label:"S"},{value:"m",label:"M"},{value:"l",label:"L"},{value:"xl",label:"XL"},{value:"xxl",label:"XXL"},{value:"not-sure",label:"Not sure"}],az=[{value:"coffee",label:"Coffee"},{value:"tea",label:"Tea"},{value:"wine",label:"Wine"},{value:"beer",label:"Beer"},{value:"cocktails",label:"Cocktails"},{value:"whiskey",label:"Whiskey"},{value:"soft-drinks",label:"Soft Drinks"},{value:"other",label:"Other"}],Ss=[{value:"tech",label:"Tech",emoji:""},{value:"sports-fan",label:"Sports Fan",emoji:""},{value:"diy-tools",label:"DIY & Tools",emoji:""},{value:"gaming",label:"Gaming",emoji:""},{value:"bbq-grilling",label:"BBQ & Grilling",emoji:""},{value:"fiction-reading",label:"Fiction Reading",emoji:""},{value:"non-fiction-reading",label:"Non-Fiction Reading",emoji:""},{value:"fitness-gym",label:"Fitness & Gym",emoji:""},{value:"movies-tv",label:"Movies & TV",emoji:""},{value:"music",label:"Music",emoji:""},{value:"automotive",label:"Automotive",emoji:""},{value:"camping",label:"Camping",emoji:""},{value:"cooking",label:"Cooking",emoji:""},{value:"coffee",label:"Coffee",emoji:""},{value:"fishing",label:"Fishing",emoji:""},{value:"golf",label:"Golf",emoji:""},{value:"watches",label:"Watches",emoji:""},{value:"sneakers",label:"Sneakers",emoji:""},{value:"photography",label:"Photography",emoji:""},{value:"travel",label:"Travel",emoji:""},{value:"cycling",label:"Cycling",emoji:""},{value:"gardening",label:"Gardening",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"grooming",label:"Grooming",emoji:""},{value:"hiking",label:"Hiking",emoji:""}],rs=[{value:"beauty-makeup",label:"Beauty & Makeup",emoji:""},{value:"home-decor",label:"Home Decor",emoji:""},{value:"tech",label:"Tech",emoji:""},{value:"cozy-homebody",label:"Cozy & Homebody",emoji:""},{value:"fiction-reading",label:"Fiction Reading",emoji:""},{value:"non-fiction-reading",label:"Non-Fiction Reading",emoji:""},{value:"cooking",label:"Cooking",emoji:""},{value:"fitness",label:"Fitness",emoji:""},{value:"skincare",label:"Skincare",emoji:""},{value:"jewelry",label:"Jewelry",emoji:""},{value:"gardening",label:"Gardening",emoji:""},{value:"fashion-accessories",label:"Fashion Accessories",emoji:""},{value:"baking",label:"Baking",emoji:""},{value:"coffee",label:"Coffee",emoji:""},{value:"tea",label:"Tea",emoji:""},{value:"crafting",label:"Crafting",emoji:""},{value:"yoga",label:"Yoga",emoji:""},{value:"travel",label:"Travel",emoji:""},{value:"art-painting",label:"Art & Painting",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"bath-spa",label:"Bath & Spa",emoji:""},{value:"perfume",label:"Perfume",emoji:""},{value:"knitting",label:"Knitting",emoji:""},{value:"journaling",label:"Journaling",emoji:""}],fl=[{value:"video-games",label:"Video Games",emoji:""},{value:"lego",label:"LEGO",emoji:""},{value:"superheroes",label:"Superheroes",emoji:""},{value:"cars-vehicles",label:"Cars & Vehicles",emoji:""},{value:"science-fiction",label:"Science Fiction",emoji:""},{value:"sports",label:"Sports",emoji:""},{value:"novels",label:"Novels",emoji:""},{value:"dinosaurs",label:"Dinosaurs",emoji:""},{value:"space",label:"Space",emoji:""},{value:"construction-toys",label:"Construction Toys",emoji:""},{value:"minecraft",label:"Minecraft",emoji:""},{value:"science-stem",label:"Science & STEM",emoji:""},{value:"star-wars",label:"Star Wars",emoji:""},{value:"outdoor-play",label:"Outdoor Play",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"drawing",label:"Drawing",emoji:""},{value:"comics",label:"Comics",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"skateboarding",label:"Skateboarding",emoji:""},{value:"magic",label:"Magic",emoji:""},{value:"coding",label:"Coding",emoji:""},{value:"pranks",label:"Pranks",emoji:""},{value:"nerf",label:"Nerf",emoji:""},{value:"music",label:"Music",emoji:""},{value:"camping",label:"Camping",emoji:""}],hl=[{value:"arts-crafts",label:"Arts & Crafts",emoji:""},{value:"dolls-plushies",label:"Dolls & Plushies",emoji:""},{value:"fashion-style",label:"Fashion & Style",emoji:""},{value:"teen-fiction",label:"Teen Fiction",emoji:""},{value:"novels",label:"Novels",emoji:""},{value:"jewelry-making",label:"Jewelry Making",emoji:""},{value:"lego",label:"LEGO",emoji:""},{value:"room-decor",label:"Room Decor",emoji:""},{value:"baking",label:"Baking",emoji:""},{value:"makeup-beauty",label:"Makeup & Beauty",emoji:""},{value:"disney",label:"Disney",emoji:""},{value:"animals-fantasy",label:"Animals & Fantasy",emoji:""},{value:"science-stem",label:"Science & STEM",emoji:""},{value:"diaries-writing",label:"Diaries & Writing",emoji:""},{value:"dance",label:"Dance",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"video-games",label:"Video Games",emoji:""},{value:"photography",label:"Photography",emoji:""},{value:"gymnastics",label:"Gymnastics",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"outdoor-play",label:"Outdoor Play",emoji:""},{value:"anime",label:"Anime",emoji:""},{value:"harry-potter",label:"Harry Potter",emoji:""},{value:"squishmallows",label:"Squishmallows",emoji:""},{value:"nail-art",label:"Nail Art",emoji:""}],qy=t=>{const e=[...Ss,...rs,...fl,...hl],n=new Map;return e.forEach(r=>{n.set(r.value,r.label)}),n.has(t)?n.get(t):t},Eh=t=>t.map(e=>qy(e)),lz=(t,e,n)=>{const r=e!==void 0&&e<=12;if(t==="father")return{primary:Ss};if(t==="mother")return{primary:rs};if(r){if(t==="brother"||t==="son")return{primary:fl};if(t==="sister"||t==="daughter")return{primary:hl}}if(!r){if(n==="male")return{primary:Ss};if(n==="female")return{primary:rs}}if(!n){if(t==="brother"||t==="son")return r?{primary:fl}:{primary:Ss};if(t==="sister"||t==="daughter")return r?{primary:hl}:{primary:rs}}const s=Ss.slice(0,12),i=rs.slice(0,12),o=[],a=Math.max(s.length,i.length);for(let m=0;m<a;m++)m<s.length&&o.push(s[m]),m<i.length&&o.push(i[m]);const l=Ss.slice(12),u=rs.slice(12),d=[],h=Math.max(l.length,u.length);for(let m=0;m<h;m++)m<l.length&&d.push(l[m]),m<u.length&&d.push(u[m]);return{primary:o,other:d}};[...Ss,...rs,...fl,...hl].filter((t,e,n)=>e===n.findIndex(r=>r.value===t.value));Array.from({length:100},(t,e)=>({value:String(e+1),label:String(e+1)}));const uz=({onNext:t})=>{const[e,n]=T.useState("");T.useEffect(()=>{localStorage.getItem("ss_autofill_enabled")==="true"&&n("father")},[]);const r=()=>{e&&t({relationship:e})};return c.jsxs("div",{className:"flex flex-col h-full py-4",children:[c.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:c.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 1"})}),c.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:c.jsx(rz,{options:sz,selectedValue:e,onChange:n})}),c.jsx("div",{className:"flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:c.jsx(Ye,{fullWidth:!0,size:"large",onClick:r,disabled:!e,className:"!font-normal",children:"Next"})})]})},or=({label:t,placeholder:e="Select an option",value:n,options:r,onChange:s,error:i,disabled:o=!1,className:a=""})=>{const[l,u]=T.useState(!1),[d,h]=T.useState(null),m=T.useRef(null),p=T.useRef(null),b=T.useRef(null);T.useEffect(()=>{if(l&&p.current){const P=()=>{if(p.current){const v=p.current.getBoundingClientRect();h({top:Math.round(v.bottom)+8,left:Math.round(v.left),width:Math.round(v.width)})}};requestAnimationFrame(()=>{requestAnimationFrame(P)})}else h(null)},[l]),T.useEffect(()=>{var P,v;if(l){let y=((P=p.current)==null?void 0:P.closest('[style*="overflow-y"]'))||null;if(y||(y=((v=p.current)==null?void 0:v.closest(".overflow-y-auto"))||null),y){const E=y.style.overflow;return y.style.overflow="hidden",()=>{y.style.overflow=E}}}},[l]),T.useEffect(()=>{const P=v=>{const y=v.target;m.current&&!m.current.contains(y)&&b.current&&!b.current.contains(y)&&u(!1)};if(l){const v=setTimeout(()=>{document.addEventListener("mousedown",P)},0);return()=>{clearTimeout(v),document.removeEventListener("mousedown",P)}}},[l]);const _=r.find(P=>P.value===n);return c.jsxs("div",{className:`w-full ${a}`,ref:m,children:[t&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 whitespace-nowrap",children:t}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{ref:p,type:"button",onClick:()=>!o&&u(!l),disabled:o,className:`w-full px-6 py-4 rounded-full border-2 transition-all duration-200 font-medium text-left flex items-center justify-between
            ${i?"border-red-500 focus:border-red-600":"border-gray-200 focus:border-[#5E57AC]"}
            ${o?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-gray-300"}
            focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/20
          `,children:[c.jsx("span",{className:_?"text-gray-800":"text-gray-400",children:_?_.label:e}),c.jsx(BI,{size:20,className:`transition-transform duration-200 ${l?"rotate-180":""} ${o?"text-gray-400":"text-gray-600"}`})]}),l&&!o&&d&&typeof document<"u"&&Wc.createPortal(c.jsx("div",{ref:b,className:"fixed bg-white border-2 border-gray-200 rounded-3xl shadow-lg overflow-hidden z-[10000] sheet-scrollable",style:{top:`${d.top}px`,left:`${d.left}px`,width:`${d.width}px`,maxHeight:"180px",overflowY:"auto",WebkitOverflowScrolling:"touch",transform:"translateZ(0)"},onClick:P=>P.stopPropagation(),onMouseDown:P=>P.stopPropagation(),children:r.map(P=>c.jsx("button",{type:"button",onClick:()=>{s(P.value),u(!1)},className:`w-full px-6 py-4 text-left transition-colors duration-200 font-medium
                  ${P.value===n?"bg-[#5E57AC] text-white":"hover:bg-gray-100 text-gray-800"}
                `,children:P.label},P.value))}),document.body)]}),i&&c.jsx("p",{className:"mt-2 text-sm text-red-600 px-2",children:i})]})},Da=({label:t,placeholder:e="",value:n,onChange:r,type:s="text",error:i,disabled:o=!1,className:a="",onKeyDown:l,inputMode:u})=>c.jsxs("div",{className:`w-full ${a}`,children:[t&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),c.jsx("input",{type:s,value:n,onChange:d=>r(d.target.value),onKeyDown:l,placeholder:e,disabled:o,inputMode:u,className:`w-full px-6 py-4 rounded-full border-2 transition-all duration-200 font-medium text-gray-900
          ${i?"border-red-500 focus:border-red-600":"border-gray-200 focus:border-[#5E57AC]"}
          ${o?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-white hover:border-gray-300"}
          focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/20
          placeholder:text-gray-400
        `}),i&&c.jsx("p",{className:"mt-2 text-sm text-red-600 px-2",children:i})]}),cz=["mother","father","brother","sister","son","daughter"],dz=["mother","father"],fz=({onBack:t,onNext:e,relationship:n=""})=>{const[r,s]=T.useState(""),[i,o]=T.useState(""),a=!dz.includes(n),l=!cz.includes(n),u=()=>{const d={};a&&r&&(d.name=r),l&&i&&(d.gender=i),e(d)};return c.jsxs("div",{className:"flex flex-col h-full py-4",children:[c.jsx("div",{className:"text-left mb-6 flex-shrink-0",children:c.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 2"})}),c.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:c.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[a&&c.jsx("div",{className:"space-y-2",children:c.jsx(Da,{label:"Name",placeholder:"Enter their name",value:r,onChange:s})}),l&&c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Gender (optional)",placeholder:"Select gender",value:i,options:iz,onChange:o})}),!a&&!l&&c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("p",{className:"text-gray-500 text-sm text-center",children:"All information can be inferred from the relationship."})})]})}),c.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[c.jsx(Ye,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),c.jsx(Ye,{fullWidth:!0,size:"large",onClick:u,className:"!font-normal",children:"Next"})]})]})},M_=Array.from({length:31},(t,e)=>({value:String(e+1),label:String(e+1)})),V_=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],L_=new Date().getFullYear(),hz=Array.from({length:100},(t,e)=>({value:String(L_-e),label:String(L_-e)})),mz=({onBack:t,onNext:e})=>{const[n,r]=T.useState(!1),[s,i]=T.useState(""),[o,a]=T.useState(""),[l,u]=T.useState(""),[d,h]=T.useState(""),[m,p]=T.useState(""),[b,_]=T.useState(""),[P,v]=T.useState(null),[y,E]=T.useState(null);T.useEffect(()=>{localStorage.getItem("ss_autofill_enabled")==="true"&&!s&&!o&&!l&&!d&&(r(!1),i("1"),a("1"),u("1960"))},[]),T.useEffect(()=>{if(n&&d&&d.trim()!==""){const V=parseInt(d.trim());if(!isNaN(V)&&V>0&&V<=120){const S=new Date().getFullYear()-V;v(S)}else v(null)}else v(null)},[d,n]),T.useEffect(()=>{if(!n&&s&&o&&l)try{const V=new Date(parseInt(l),parseInt(o)-1,parseInt(s)),x=new Date;let S=x.getFullYear()-V.getFullYear();const A=x.getMonth()-V.getMonth();(A<0||A===0&&x.getDate()<V.getDate())&&S--,S>=0&&S<=120?E(S):E(null)}catch{E(null)}else E(null)},[s,o,l,n]);const j=()=>{if(n&&d&&d.trim()!==""){const V=parseInt(d.trim());if(!isNaN(V)&&V>0&&V<=120){const x={age:V};m&&(x.ageMonth=m),b&&(x.ageDay=b),e(x)}}else if(s&&o&&l){const V=`${s.padStart(2,"0")}/${o.padStart(2,"0")}/${l}`;e({dob:V})}},C=n?d&&d.trim()!==""&&!isNaN(parseInt(d.trim()))&&parseInt(d.trim())>0&&parseInt(d.trim())<=120:s&&o&&l;return c.jsxs("div",{className:"flex flex-col h-full py-4",children:[c.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:c.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 3"})}),c.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:c.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("button",{type:"button",onClick:()=>{r(!1),h(""),p(""),_("")},style:{backgroundColor:n?"#F3F4F6":"#5E57AC",color:n?"#374151":"#FFFFFF"},className:"flex-1 px-4 py-3 rounded-full text-sm font-normal transition-all duration-200 hover:bg-opacity-90","aria-pressed":!n,children:"Date of Birth"}),c.jsx("button",{type:"button",onClick:()=>{r(!0),i(""),a(""),u("")},style:{backgroundColor:n?"#5E57AC":"#F3F4F6",color:n?"#FFFFFF":"#374151"},className:"flex-1 px-4 py-3 rounded-full text-sm font-normal transition-all duration-200 hover:bg-opacity-90","aria-pressed":n,children:"Current Age"})]}),n?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx(Da,{label:"Current Age",placeholder:"Enter age",value:d,onChange:V=>{const x=V.replace(/[^0-9]/g,"");h(x)},type:"text",inputMode:"numeric"}),d&&d.trim()!==""&&P===null&&c.jsx("p",{className:"text-sm text-red-600 px-2",children:"Please enter a valid age (1-120)"}),c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Month (optional)",placeholder:"Select month",value:m,options:V_,onChange:p})}),c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Day (optional)",placeholder:"Select day",value:b,options:M_,onChange:_})}),P!==null&&c.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full border-2 border-purple-200/50 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Year of birth"}),c.jsx("span",{className:"text-2xl font-bold text-[#5E57AC]",children:P})]})})]}):c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Day",placeholder:"Day",value:s,options:M_,onChange:i})}),c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Month",placeholder:"Month",value:o,options:V_,onChange:a})}),c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Year",placeholder:"Year",value:l,options:hz,onChange:u})}),y!==null&&c.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full border-2 border-purple-200/50 shadow-sm",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("span",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Age"}),c.jsx("span",{className:"text-2xl font-bold text-[#5E57AC]",children:y})]})})]})]})}),c.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[c.jsx(Ye,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),c.jsx(Ye,{fullWidth:!0,size:"large",onClick:j,disabled:!C,className:"!font-normal",children:"Next"})]})]})},Th=({label:t,options:e,selectedValues:n,onChange:r,className:s=""})=>{const i=o=>{n.includes(o)?r(n.filter(a=>a!==o)):r([...n,o])};return c.jsxs("div",{className:`w-full ${s}`,children:[t&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 whitespace-nowrap",children:t}),c.jsx("div",{className:"flex flex-col gap-2.5 pb-1",children:e.map(o=>{const a=n.includes(o.value);return c.jsxs("button",{type:"button",onClick:()=>i(o.value),style:{backgroundColor:a?"#5E57AC":"#FFFFFF",color:a?"#FFFFFF":"#374151",borderColor:a?"#5E57AC":"#E5E7EB"},className:`w-full px-6 py-4 rounded-full text-base font-normal transition-all duration-200 flex items-center justify-between border-2 ${a?"":"hover:border-gray-300"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[o.emoji&&c.jsx("span",{className:"text-2xl",children:o.emoji}),c.jsx("span",{children:o.label})]}),a&&c.jsx($I,{size:20,className:"text-white flex-shrink-0"})]},o.value)})})]})},pz=({onBack:t,onNext:e,relationship:n,age:r,gender:s})=>{const[i,o]=T.useState([]),{primary:a,other:l}=T.useMemo(()=>lz(n,r,s),[n,r,s]);T.useEffect(()=>{if(!(localStorage.getItem("ss_autofill_enabled")==="true")||i.length>0)return;const h=[...a,...l||[]];if(h.length===0)return;const m=h.map(b=>b.value),p=["tech","golf"].filter(b=>m.includes(b));p.length>0&&o(p)},[a,l,i.length]);const u=()=>{e({interests:i})};return c.jsxs("div",{className:"flex flex-col h-full py-4",children:[c.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:c.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 4"})}),c.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:c.jsxs("div",{className:"flex flex-col gap-6",children:[c.jsx(Th,{options:a,selectedValues:i,onChange:o},`primary-${i.join(",")}`),l&&l.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-3 font-medium",children:"Other"}),c.jsx(Th,{options:l,selectedValues:i,onChange:o},`other-${i.join(",")}`)]})]})}),c.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[c.jsx(Ye,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),c.jsx(Ye,{fullWidth:!0,size:"large",onClick:u,className:"!font-normal",children:"Next"})]})]})},gz=({onBack:t,onNext:e})=>{const[n,r]=T.useState(""),[s,i]=T.useState("");T.useEffect(()=>{localStorage.getItem("ss_autofill_enabled")==="true"&&!n&&!s&&(r("m"),i("beer"))},[]);const o=()=>{n&&s&&e({clothingSize:n,favouriteDrink:s})},a=n&&s;return c.jsxs("div",{className:"flex flex-col h-full py-4",children:[c.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:c.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 5"})}),c.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:c.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Clothing Size",placeholder:"Select size",value:n,options:oz,onChange:r})}),c.jsx("div",{style:{position:"relative",zIndex:10},children:c.jsx(or,{label:"Favourite Drink",placeholder:"Select drink",value:s,options:az,onChange:i})})]})}),c.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[c.jsx(Ye,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,className:"!font-normal",children:"Back"}),c.jsx(Ye,{fullWidth:!0,size:"large",onClick:o,disabled:!a,className:"!font-normal",children:"Next"})]})]})},e1=({min:t,max:e,minValue:n,maxValue:r,onChange:s,label:i,className:o=""})=>{const[a,l]=T.useState(!1),[u,d]=T.useState(!1),h=T.useRef(null),m=v=>(v-t)/(e-t)*100,p=T.useCallback(v=>{if(!h.current)return t;const y=h.current.getBoundingClientRect(),E=Math.max(0,Math.min(1,(v-y.left)/y.width)),j=Math.round(t+E*(e-t)),C=Math.round(j/5)*5;return Math.max(t,Math.min(e,C))},[t,e]),b=v=>{v==="min"?l(!0):d(!0)};T.useEffect(()=>{const v=j=>{if(a||u){j.preventDefault();const C=p(j.clientX);if(a){const V=Math.min(C,r-1);s(Math.max(t,V),r)}else if(u){const V=Math.max(C,n+1);s(n,Math.min(e,V))}}},y=()=>{l(!1),d(!1)},E=j=>{if(a||u){j.preventDefault();const C=j.touches[0],V=p(C.clientX);if(a){const x=Math.min(V,r-1);s(Math.max(t,x),r)}else if(u){const x=Math.max(V,n+1);s(n,Math.min(e,x))}}};return(a||u)&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("touchend",y)),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",y)}},[a,u,n,r,t,e,s,p]);const _=m(n),P=m(r);return c.jsxs("div",{className:`w-full ${o}`,children:[i&&c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:i}),c.jsxs("div",{className:"px-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{className:"bg-[#5E57AC] text-white px-5 py-2 rounded-full font-normal",children:["",n]}),c.jsx("span",{className:"text-gray-500 font-normal",children:"to"}),c.jsxs("div",{className:"bg-[#5E57AC] text-white px-5 py-2 rounded-full font-normal",children:["",r]})]}),c.jsxs("div",{className:"relative",ref:h,children:[c.jsx("div",{className:"h-3 bg-gray-200 rounded-full"}),c.jsx("div",{className:"absolute top-0 h-3 bg-[#5E57AC] rounded-full",style:{left:`${_}%`,right:`${100-P}%`}}),c.jsx("button",{type:"button",className:"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-white border-4 border-[#5E57AC] rounded-full cursor-grab active:cursor-grabbing hover:scale-110 transition-transform shadow-lg focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/30",style:{left:`calc(${_}% - 14px)`},onMouseDown:()=>b("min"),onTouchStart:()=>b("min"),"aria-label":`Minimum value: ${n}`,children:c.jsxs("span",{className:"sr-only",children:["Min: ",n]})}),c.jsx("button",{type:"button",className:"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-white border-4 border-[#5E57AC] rounded-full cursor-grab active:cursor-grabbing hover:scale-110 transition-transform shadow-lg focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/30",style:{left:`calc(${P}% - 14px)`},onMouseDown:()=>b("max"),onTouchStart:()=>b("max"),"aria-label":`Maximum value: ${r}`,children:c.jsxs("span",{className:"sr-only",children:["Max: ",r]})})]}),c.jsxs("div",{className:"flex justify-between items-center mt-3 px-1",children:[c.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["",t]}),c.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["",e]})]})]})]})},yz=({onBack:t,onNext:e,isSubmitting:n=!1})=>{const[r,s]=T.useState(50),[i,o]=T.useState(300),a=(u,d)=>{s(u),o(d)},l=()=>{e({minBudget:r,maxBudget:i})};return c.jsxs("div",{className:"flex flex-col h-full py-4",children:[c.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:c.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 6"})}),c.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{minHeight:0},children:c.jsx(e1,{label:"Budget Range",min:10,max:500,minValue:r,maxValue:i,onChange:a})}),c.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[c.jsx(Ye,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,disabled:n,className:"!font-normal",children:"Back"}),c.jsx(Ye,{fullWidth:!0,size:"large",variant:"cta",onClick:l,disabled:n,className:"!font-normal",children:n?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx(vF,{className:"animate-spin",size:20}),"Finding perfect gifts..."]}):" Show Gift Ideas "})]})]})},vz=[0,1],qN=({open:t,onOpenChange:e,title:n="Add Person",children:r,snapPoints:s=vz,initialSnap:i=1,onComplete:o})=>{const a=T.useRef(null),l=ln.useMemo(()=>{var h;if(typeof window>"u")return"90vh";const u=(h=window.visualViewport)!=null&&h.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(u*.9+12)}px`},[t]);return T.useEffect(()=>{if(t){const u=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=u,document.body.classList.remove("sheet-open")}}},[t]),c.jsx(c.Fragment,{children:c.jsxs(xt,{ref:a,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[c.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${l} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[c.jsx(xt.Header,{children:c.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[c.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:c.jsx(xt.DragIndicator,{style:{display:"none"}})}),c.jsx("h2",{className:"m-0 text-xl font-bold text-gray-800 select-none",children:n}),c.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:c.jsx(Qc,{size:24,className:"text-gray-600"})})]})}),c.jsx(xt.Content,{style:{padding:"0 24px 24px 24px",paddingBottom:"calc(36px + env(safe-area-inset-bottom))",display:"flex",flexDirection:"column",flex:1,minHeight:0,overflow:"hidden"},children:r??c.jsx(xz,{onClose:()=>e(!1),onComplete:o})})]}),t&&c.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"env(safe-area-inset-bottom)",background:"#ff0000",pointerEvents:"none",zIndex:999999}}),c.jsx(xt.Backdrop,{onTap:()=>e(!1)})]})})},xz=({onClose:t,onComplete:e})=>{const n=Yo(),[r,s]=T.useState(1),[i,o]=T.useState(!1),[a,l]=T.useState({}),u=C=>{const V={...a,relationship:C.relationship};V.name||(C.relationship==="mother"?V.name="Mum":C.relationship==="father"&&(V.name="Dad")),l(V),C.relationship==="mother"||C.relationship==="father"?s(3):s(2)},d=()=>s(1),h=C=>{l({...a,...C}),s(3)},m=()=>{a.relationship==="mother"||a.relationship==="father"?s(1):s(2)},p=C=>{l({...a,...C}),s(4)},b=()=>s(3),_=C=>{l({...a,interests:C.interests}),s(5)},P=()=>s(4),v=C=>{l({...a,...C}),s(6)},y=()=>s(5),E=async C=>{const V={...a,...C};console.log("All data collected:",V),o(!0);try{const x=se=>`15/03/${new Date().getFullYear()-se}`,S=se=>{const we={xs:"XS",small:"S",s:"S",medium:"M",m:"M",large:"L",l:"L",xlarge:"XL",xl:"XL",xxlarge:"XXL",xxl:"XXL","not-sure":"M"},pe=se.toLowerCase().trim();return we[pe]||"M"};let A;V.dob?A=V.dob:V.age!==void 0?A=x(V.age):A=x(30);const I=V.interests&&V.interests.length>0?V.interests:["General"],R=Eh(I),M={context:{name:V.name||"Friend",relationship:V.relationship?V.relationship.charAt(0).toUpperCase()+V.relationship.slice(1).toLowerCase():"Friend",gender:(V.gender||"male").toLowerCase(),dob:A,interests:R,budget_min:V.minBudget||10,budget_max:V.maxBudget||110,other:{clothing_size:S(V.clothingSize||"medium"),favourite_drink:(V.favouriteDrink||"beer").toLowerCase()}}},$=new URLSearchParams(window.location.search).get("client_origin"),Q=new URLSearchParams;$&&Q.append("client_origin",$);const J=Ha(),q=Ca("/recommend",Q),L=Ru(J||void 0);console.log("Making API call to:",q),console.log("Request headers:",L),console.log("Request body:",M),console.log("Mode:",J);const O=await zr(q,{method:"POST",headers:L,body:JSON.stringify(M)},"POST /recommend");if(!O.ok)throw new Error(`HTTP error! status: ${O.status}`);const W=await O.json();console.log("API Response:",W);const Z=W.recommendation_id||`person-${Date.now()}`;try{const se={id:Z,name:V.name||"Friend",relationship:V.relationship,gender:V.gender,interests:V.interests||[],minBudget:V.minBudget,maxBudget:V.maxBudget,createdAt:Date.now()},we=localStorage.getItem("saved_persons"),pe=we?JSON.parse(we):[];if(pe.push(se),localStorage.setItem("saved_persons",JSON.stringify(pe)),W.products&&W.products.length>0){const _e="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",ke=W.products.map(ye=>{const bt=ye.asin||`ai-${ye.rank||Math.random().toString(36).substr(2,9)}`,Bn=ye.product_title||`Product ${ye.rank||"Unknown"}`,dn=ye.product_photo||`https://storage.googleapis.com/simplysent-product-images/${bt}/t_${bt}_1.png`;let ze=0;if(ye.price_numeric!==void 0&&ye.price_numeric!==null)ze=typeof ye.price_numeric=="number"?ye.price_numeric:parseFloat(String(ye.price_numeric))||0;else if(ye.product_price){const Ut=String(ye.product_price).replace(/[$,]/g,"");ze=parseFloat(Ut)||0}let tt;if(ye.rating_numeric!==void 0&&ye.rating_numeric!==null){const Ut=typeof ye.rating_numeric=="number"?ye.rating_numeric:parseFloat(String(ye.rating_numeric));!isNaN(Ut)&&Ut>0&&Ut<=5&&(tt=Ut)}const Ae=ye.num_ratings_numeric!==void 0&&ye.num_ratings_numeric!==null?typeof ye.num_ratings_numeric=="number"?ye.num_ratings_numeric:parseInt(String(ye.num_ratings_numeric))||0:ye.product_num_ratings||0;return{id:bt,image:dn,name:Bn,price:ze,rating:tt,numRatings:Ae,description:_e}}),De="person_page_ai_picks_cache";try{localStorage.setItem(De,JSON.stringify({products:ke,timestamp:Date.now(),recommendationId:W.recommendation_id,personId:Z})),console.log(" ActionPersonSheet: Saved AI picks to cache for PersonPage")}catch(ye){console.warn(" ActionPersonSheet: Error saving to cache:",ye)}}window.dispatchEvent(new CustomEvent("person-added",{detail:se}))}catch(se){console.warn("Failed to save person:",se)}t(),e?e():n("/")}catch(x){console.error("Error calling /recommend:",x),alert("Failed to get recommendations. Please try again."),o(!1)}};if(r===1)return c.jsx(uz,{onNext:u});if(r===2)return c.jsx(fz,{onBack:d,onNext:h,relationship:a.relationship});if(r===3)return c.jsx(mz,{onBack:m,onNext:p});const j=()=>{if(a.age!==void 0)return a.age;if(a.dob){const C=a.dob.split("/");if(C.length===3){const V=parseInt(C[0]),x=parseInt(C[1])-1,S=parseInt(C[2]);try{const A=new Date(S,x,V),I=new Date;let R=I.getFullYear()-A.getFullYear();const M=I.getMonth()-A.getMonth();return(M<0||M===0&&I.getDate()<A.getDate())&&R--,R>=0&&R<=120?R:void 0}catch{return}}}};return r===4?c.jsx(pz,{onBack:b,onNext:_,relationship:a.relationship,age:j(),gender:a.gender}):r===5?c.jsx(gz,{onBack:P,onNext:v}):r===6?c.jsx(yz,{onBack:y,onNext:E,isSubmitting:i}):null};function wz(){const t=Yo(),[e,n]=T.useState(!1),r=()=>{sessionStorage.setItem("navigating_from_onboarding","true"),t("/person"),setTimeout(()=>{n(!1)},100)};return c.jsxs("div",{className:"min-h-screen w-full flex flex-col items-center px-6 pt-12 pb-8 relative overflow-hidden",children:[c.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[c.jsx(xe.div,{animate:{background:["linear-gradient(135deg, #f7f6fe 0%, #f1eefe 50%, #faf9ff 100%)","linear-gradient(225deg, #faf9ff 0%, #f1eefe 50%, #f7f6fe 100%)","linear-gradient(135deg, #f7f6fe 0%, #f1eefe 50%, #faf9ff 100%)"]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0"}),c.jsx(xe.div,{animate:{x:["0%","20%","0%"],y:["0%","30%","0%"],scale:[1,1.2,1]},transition:{duration:12,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-96 h-96 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(133, 64, 222, 0.4) 0%, transparent 70%)"}}),c.jsx(xe.div,{animate:{x:["100%","80%","100%"],y:["100%","70%","100%"],scale:[1,1.3,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-0 right-0 w-96 h-96 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(197, 85, 151, 0.4) 0%, transparent 70%)"}}),c.jsx("div",{className:"absolute inset-0 opacity-[0.12]",style:{backgroundImage:`
                            repeating-linear-gradient(45deg, transparent, transparent 40px, rgba(94, 87, 172, 0.04) 40px, rgba(94, 87, 172, 0.04) 80px),
                            repeating-linear-gradient(-45deg, transparent, transparent 40px, rgba(122, 88, 158, 0.04) 40px, rgba(122, 88, 158, 0.04) 80px),
                            radial-gradient(circle at 20% 30%, rgba(133, 64, 222, 0.1) 0%, transparent 50%),
                            radial-gradient(circle at 80% 70%, rgba(197, 85, 151, 0.1) 0%, transparent 50%)
                        `}}),c.jsx(xe.div,{animate:{opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-0 w-full h-1/3",style:{background:"linear-gradient(to bottom, rgba(133, 64, 222, 0.15) 0%, rgba(122, 88, 158, 0.1) 50%, transparent 100%)"}}),c.jsx(xe.div,{animate:{opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-0 right-0 w-full h-1/3",style:{background:"linear-gradient(to top, rgba(197, 85, 151, 0.15) 0%, rgba(171, 86, 154, 0.1) 50%, transparent 100%)"}})]}),c.jsx("div",{className:"w-full max-w-7xl flex flex-col items-center relative z-10",children:c.jsxs("div",{className:"w-full flex flex-col items-center gap-6 md:gap-8 pt-8 md:pt-12",children:[c.jsx(xe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-4 md:mb-6",children:c.jsx("h1",{className:"font-notch font-bold text-3xl md:text-4xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent tracking-tight drop-shadow-sm",children:"SimplySent"})}),c.jsx(xe.div,{initial:{opacity:0,scale:.8,y:30},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"relative flex items-center justify-center",children:c.jsx("img",{src:"/img/gifs/gift.gif",alt:"Gift animation",className:"w-56 md:w-72 h-auto"})}),c.jsxs(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},className:"flex flex-col items-center space-y-8 max-w-2xl text-center pt-2 md:pt-4",children:[c.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-headline font-medium leading-tight relative",children:c.jsx("span",{className:"relative z-10",style:{color:"#5E57AC",textShadow:"0 2px 8px rgba(94, 87, 172, 0.15), 0 4px 16px rgba(122, 88, 158, 0.1)"},children:"Find the perfect gift in 3 minutes"})}),c.jsx(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"pt-2",children:c.jsxs(xe.button,{onClick:()=>n(!0),whileHover:{scale:1.05,boxShadow:"0 25px 50px rgba(133, 64, 222, 0.4)"},whileTap:{scale:.95,boxShadow:"0 10px 25px rgba(133, 64, 222, 0.3)"},className:"relative px-12 py-4 md:px-16 md:py-5 rounded-full font-medium text-lg md:text-xl text-white overflow-hidden group transition-all duration-300",style:{boxShadow:"0 15px 40px rgba(133, 64, 222, 0.3)"},children:[c.jsx(xe.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:5,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full",style:{background:"linear-gradient(135deg, #8540de 0%, #7a589e 33%, #ab569a 66%, #c55597 100%)",backgroundSize:"200% 200%"}}),c.jsx(xe.div,{animate:{backgroundPosition:["100% 50%","0% 50%","100% 50%"]},transition:{duration:6,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full opacity-80",style:{background:"linear-gradient(225deg, #c55597 0%, #ab569a 33%, #7a589e 66%, #8540de 100%)",backgroundSize:"200% 200%"}}),c.jsx(xe.div,{animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-12"}),c.jsx("span",{className:"relative z-10 font-normal",children:"Lets impress"}),c.jsx(xe.div,{initial:{opacity:0},whileTap:{opacity:1},className:"absolute inset-0 rounded-full bg-black/20"})]})})]})]})}),c.jsx(qN,{open:e,onOpenChange:n,title:"Add Person",onComplete:r})]})}function bz(){return T.useEffect(()=>{window.scrollTo(0,0)},[]),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[c.jsxs(jv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"About SimplySent"}),c.jsxs("div",{className:"prose max-w-none",children:[c.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Welcome to SimplySent, where finding the perfect gift becomes a delightful experience rather than a stressful task."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Mission"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"At SimplySent, we believe that the perfect gift has the power to strengthen relationships and create lasting memories. Our mission is to help you discover thoughtful, personalized gifts for every person in your life, no matter the occasion."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Story"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent was born from a simple frustration: gift-giving should be joyful, not stressful. Our founder spent countless hours searching for the perfect gifts for friends and family, only to end up with generic, uninspired options."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"That's when the idea struckwhat if AI could help match people's unique interests and personalities with truly thoughtful gifts? After months of development, SimplySent launched with a mission to revolutionize how we discover and give gifts."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"How It Works"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Our AI-powered recommendation engine analyzes thousands of products and matches them with the recipient's interests, age, occasion, and your budget. The result? Personalized gift suggestions that feel thoughtful and unique."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"We've carefully curated our product selection to include items from independent creators, popular brands, and everything in between. Each product is vetted for quality, value, and gift-worthiness."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Values"}),c.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Thoughtfulness:"})," We believe gifts should reflect genuine care and consideration."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Simplicity:"})," Finding the perfect gift shouldn't be complicated or time-consuming."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Personalization:"})," The best gifts are tailored to the individual's unique personality and interests."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Quality:"})," We only recommend products we'd be proud to give ourselves."]})]}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Join Us"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Whether you're shopping for a birthday, holiday, or just because, SimplySent is here to make gift-giving a joyful experience. Try our AI Gift Finder today and discover the perfect present for someone special."}),c.jsxs("p",{className:"text-gray-700 mb-4",children:["Have questions or feedback? We'd love to hear from you! Contact us at"," ",c.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}function Sz(){return T.useEffect(()=>{window.scrollTo(0,0)},[]),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[c.jsxs(jv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Privacy Policy"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last Updated: June 1, 2023"}),c.jsxs("div",{className:"prose max-w-none",children:[c.jsx("p",{className:"text-gray-700 mb-4",children:"At SimplySent, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our AI Gift Finder service."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Information We Collect"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"We collect information that you voluntarily provide to us when you use our AI Gift Finder, subscribe to our newsletter, or contact us."}),c.jsxs("p",{className:"text-gray-700 mb-4",children:[c.jsx("strong",{children:"Personal Data:"})," When using our AI Gift Finder, we may ask for information about gift recipients, such as their age, interests, and preferences. This information is used solely to provide personalized gift recommendations."]}),c.jsxs("p",{className:"text-gray-700 mb-4",children:[c.jsx("strong",{children:"Usage Data:"})," We may also collect information on how the website is accessed and used. This usage data may include information such as your computer's IP address, browser type, browser version, the pages of our website that you visit, the time and date of your visit, the time spent on those pages, and other diagnostic data."]}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"How We Use Your Information"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"We use the information we collect in various ways, including to:"}),c.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[c.jsx("li",{children:"Provide, operate, and maintain our website"}),c.jsx("li",{children:"Generate personalized gift recommendations"}),c.jsx("li",{children:"Improve, personalize, and expand our website and services"}),c.jsx("li",{children:"Understand and analyze how you use our website"}),c.jsx("li",{children:"Develop new products, services, features, and functionality"}),c.jsx("li",{children:"Communicate with you about updates, promotions, and news"}),c.jsx("li",{children:"Send you emails and newsletters if you've subscribed"}),c.jsx("li",{children:"Find and prevent fraud"})]}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Cookies and Tracking Technologies"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"We use cookies and similar tracking technologies to track activity on our website and store certain information. Cookies are files with a small amount of data which may include an anonymous unique identifier."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our website."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Third-Party Disclosure"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"We do not sell, trade, or otherwise transfer your personally identifiable information to outside parties except as described below:"}),c.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Service Providers:"})," We may share your information with third-party vendors, service providers, and other third parties who perform services on our behalf."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Business Transfers:"})," If SimplySent is involved in a merger, acquisition, or sale of assets, your information may be transferred as part of that transaction."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Legal Requirements:"})," We may disclose your information if required to do so by law or in response to valid requests by public authorities."]})]}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Your Rights"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),c.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[c.jsx("li",{children:"The right to access the personal information we hold about you"}),c.jsx("li",{children:"The right to request correction of inaccurate information"}),c.jsx("li",{children:"The right to request deletion of your personal information"}),c.jsx("li",{children:"The right to restrict or object to processing of your personal information"}),c.jsx("li",{children:"The right to data portability"})]}),c.jsxs("p",{className:"text-gray-700 mb-4",children:["To exercise any of these rights, please contact us at"," ",c.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Changes to This Privacy Policy"}),c.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date at the top of this page.'}),c.jsx("p",{className:"text-gray-700 mb-4",children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Contact Us"}),c.jsxs("p",{className:"text-gray-700 mb-4",children:["If you have any questions about this Privacy Policy, please contact us at"," ",c.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}function _z(){return T.useEffect(()=>{window.scrollTo(0,0)},[]),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[c.jsxs(jv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[c.jsx(Ns,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms of Service"}),c.jsx("p",{className:"text-gray-500 mb-8",children:"Last Updated: June 1, 2023"}),c.jsxs("div",{className:"prose max-w-none",children:[c.jsx("p",{className:"text-gray-700 mb-4",children:'Please read these Terms of Service ("Terms", "Terms of Service") carefully before using the SimplySent website and AI Gift Finder service operated by SimplySent ("us", "we", or "our").'}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms. These Terms apply to all visitors, users, and others who access or use the Service."}),c.jsx("p",{className:"text-gray-700 mb-6",children:"By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms, you may not access the Service."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Use of Service"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent provides an AI-powered gift recommendation service. Our service is designed to help users find appropriate gifts based on information provided about the recipient and occasion."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"You agree to use the Service only for lawful purposes and in accordance with these Terms. You agree not to:"}),c.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[c.jsx("li",{children:"Use the Service in any way that violates any applicable national or international law or regulation"}),c.jsx("li",{children:"Use the Service for the purpose of exploiting, harming, or attempting to exploit or harm minors"}),c.jsx("li",{children:"Attempt to gain unauthorized access to our servers or any part of the Service"}),c.jsx("li",{children:"Interfere with or disrupt the Service or servers or networks connected to the Service"}),c.jsx("li",{children:"Collect or track the personal information of others"}),c.jsx("li",{children:"Impersonate or attempt to impersonate SimplySent, a SimplySent employee, another user, or any other person or entity"}),c.jsx("li",{children:"Engage in any other conduct that restricts or inhibits anyone's use or enjoyment of the Service"})]}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Affiliate Disclosure"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent is a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for sites to earn advertising fees by advertising and linking to Amazon.com."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"As an Amazon Associate, we earn from qualifying purchases. This means that when you click on links to products on Amazon from our website and make a purchase, we receive a small commission at no additional cost to you."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"We only recommend products that we believe will be of value to our users. However, we cannot guarantee that all products will meet your expectations or needs."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Intellectual Property"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"The Service and its original content, features, and functionality are and will remain the exclusive property of SimplySent and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of SimplySent."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Limitation of Liability"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"In no event shall SimplySent, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from:"}),c.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[c.jsx("li",{children:"Your access to or use of or inability to access or use the Service"}),c.jsx("li",{children:"Any conduct or content of any third party on the Service"}),c.jsx("li",{children:"Any content obtained from the Service"}),c.jsx("li",{children:"Unauthorized access, use or alteration of your transmissions or content"}),c.jsx("li",{children:"The quality, appropriateness, or satisfaction with products purchased based on our recommendations"})]}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Disclaimer"}),c.jsx("p",{className:"text-gray-700 mb-4",children:'Your use of the Service is at your sole risk. The Service is provided on an "AS IS" and "AS AVAILABLE" basis. The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement, or course of performance.'}),c.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent does not warrant that the Service will be uninterrupted, timely, secure, or error-free, or that any defects will be corrected. We do not warrant that the results that may be obtained from the use of the Service will be accurate or reliable."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Changes"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will try to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"By continuing to access or use our Service after those revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, please stop using the Service."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Governing Law"}),c.jsx("p",{className:"text-gray-700 mb-4",children:"These Terms shall be governed and construed in accordance with the laws of the United Kingdom, without regard to its conflict of law provisions."}),c.jsx("p",{className:"text-gray-700 mb-4",children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect."}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Contact Us"}),c.jsxs("p",{className:"text-gray-700 mb-4",children:["If you have any questions about these Terms, please contact us at"," ",c.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function Ky(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ez(t){if(Array.isArray(t))return t}function Tz(t){if(Array.isArray(t))return Ky(t)}function Pz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Az(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KN(r.key),r)}}function Cz(t,e,n){return e&&Az(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cf(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=t1(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function Me(t,e,n){return(e=KN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return a}}function Nz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gm(t,e){return Ez(t)||kz(t,e)||t1(t,e)||Nz()}function Gr(t){return Tz(t)||Iz(t)||t1(t)||jz()}function Rz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KN(t){var e=Rz(t,"string");return typeof e=="symbol"?e:e+""}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function t1(t,e){if(t){if(typeof t=="string")return Ky(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ky(t,e):void 0}}var F_=function(){},n1={},GN={},YN=null,XN={mark:F_,measure:F_};try{typeof window<"u"&&(n1=window),typeof document<"u"&&(GN=document),typeof MutationObserver<"u"&&(YN=MutationObserver),typeof performance<"u"&&(XN=performance)}catch{}var Dz=n1.navigator||{},$_=Dz.userAgent,B_=$_===void 0?"":$_,Li=n1,ht=GN,z_=YN,Xd=XN;Li.document;var Qs=!!ht.documentElement&&!!ht.head&&typeof ht.addEventListener=="function"&&typeof ht.createElement=="function",QN=~B_.indexOf("MSIE")||~B_.indexOf("Trident/"),qp,Mz=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Vz=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,JN={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Lz={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},ZN=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],wn="classic",sd="duotone",e4="sharp",t4="sharp-duotone",n4="chisel",r4="etch",s4="jelly",i4="jelly-duo",o4="jelly-fill",a4="notdog",l4="notdog-duo",u4="slab",c4="slab-press",d4="thumbprint",f4="utility",h4="utility-duo",m4="utility-fill",p4="whiteboard",Oz="Classic",Fz="Duotone",$z="Sharp",Bz="Sharp Duotone",zz="Chisel",Uz="Etch",Hz="Jelly",Wz="Jelly Duo",qz="Jelly Fill",Kz="Notdog",Gz="Notdog Duo",Yz="Slab",Xz="Slab Press",Qz="Thumbprint",Jz="Utility",Zz="Utility Duo",eU="Utility Fill",tU="Whiteboard",g4=[wn,sd,e4,t4,n4,r4,s4,i4,o4,a4,l4,u4,c4,d4,f4,h4,m4,p4];qp={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(qp,wn,Oz),sd,Fz),e4,$z),t4,Bz),n4,zz),r4,Uz),s4,Hz),i4,Wz),o4,qz),a4,Kz),Me(Me(Me(Me(Me(Me(Me(Me(qp,l4,Gz),u4,Yz),c4,Xz),d4,Qz),f4,Jz),h4,Zz),m4,eU),p4,tU);var nU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},rU={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},sU=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),iU={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},y4=["fak","fa-kit","fakd","fa-kit-duotone"],U_={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},oU=["kit"],aU="kit",lU="kit-duotone",uU="Kit",cU="Kit Duotone";Me(Me({},aU,uU),lU,cU);var dU={kit:{"fa-kit":"fak"}},fU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},hU={kit:{fak:"fa-kit"}},H_={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Kp,Qd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],pU="classic",gU="duotone",yU="sharp",vU="sharp-duotone",xU="chisel",wU="etch",bU="jelly",SU="jelly-duo",_U="jelly-fill",EU="notdog",TU="notdog-duo",PU="slab",AU="slab-press",CU="thumbprint",IU="utility",kU="utility-duo",NU="utility-fill",jU="whiteboard",RU="Classic",DU="Duotone",MU="Sharp",VU="Sharp Duotone",LU="Chisel",OU="Etch",FU="Jelly",$U="Jelly Duo",BU="Jelly Fill",zU="Notdog",UU="Notdog Duo",HU="Slab",WU="Slab Press",qU="Thumbprint",KU="Utility",GU="Utility Duo",YU="Utility Fill",XU="Whiteboard";Kp={},Me(Me(Me(Me(Me(Me(Me(Me(Me(Me(Kp,pU,RU),gU,DU),yU,MU),vU,VU),xU,LU),wU,OU),bU,FU),SU,$U),_U,BU),EU,zU),Me(Me(Me(Me(Me(Me(Me(Me(Kp,TU,UU),PU,HU),AU,WU),CU,qU),IU,KU),kU,GU),NU,YU),jU,XU);var QU="kit",JU="kit-duotone",ZU="Kit",eH="Kit Duotone";Me(Me({},QU,ZU),JU,eH);var tH={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},nH={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Gy={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},rH=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],v4=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(mU,rH),sH=["solid","regular","light","thin","duotone","brands","semibold"],x4=[1,2,3,4,5,6,7,8,9,10],iH=x4.concat([11,12,13,14,15,16,17,18,19,20]),oH=["aw","fw","pull-left","pull-right"],aH=[].concat(Gr(Object.keys(nH)),sH,oH,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Qd.GROUP,Qd.SWAP_OPACITY,Qd.PRIMARY,Qd.SECONDARY]).concat(x4.map(function(t){return"".concat(t,"x")})).concat(iH.map(function(t){return"w-".concat(t)})),lH={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Ws="___FONT_AWESOME___",Yy=16,w4="fa",b4="svg-inline--fa",Bo="data-fa-i2svg",Xy="data-fa-pseudo-element",uH="data-fa-pseudo-element-pending",r1="data-prefix",s1="data-icon",W_="fontawesome-i2svg",cH="async",dH=["HTML","HEAD","STYLE","SCRIPT"],S4=["::before","::after",":before",":after"],_4=function(){try{return!0}catch{return!1}}();function id(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[wn]}})}var E4=ie({},JN);E4[wn]=ie(ie(ie(ie({},{"fa-duotone":"duotone"}),JN[wn]),U_.kit),U_["kit-duotone"]);var fH=id(E4),Qy=ie({},iU);Qy[wn]=ie(ie(ie(ie({},{duotone:"fad"}),Qy[wn]),H_.kit),H_["kit-duotone"]);var q_=id(Qy),Jy=ie({},Gy);Jy[wn]=ie(ie({},Jy[wn]),hU.kit);var i1=id(Jy),Zy=ie({},tH);Zy[wn]=ie(ie({},Zy[wn]),dU.kit);id(Zy);var hH=Mz,T4="fa-layers-text",mH=Vz,pH=ie({},nU);id(pH);var gH=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Gp=Lz,yH=[].concat(Gr(oU),Gr(aH)),zu=Li.FontAwesomeConfig||{};function vH(t){var e=ht.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function xH(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(ht&&typeof ht.querySelector=="function"){var wH=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];wH.forEach(function(t){var e=gm(t,2),n=e[0],r=e[1],s=xH(vH(n));s!=null&&(zu[r]=s)})}var P4={styleDefault:"solid",familyDefault:wn,cssPrefix:w4,replacementClass:b4,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zu.familyPrefix&&(zu.cssPrefix=zu.familyPrefix);var ml=ie(ie({},P4),zu);ml.autoReplaceSvg||(ml.observeMutations=!1);var be={};Object.keys(P4).forEach(function(t){Object.defineProperty(be,t,{enumerable:!0,set:function(n){ml[t]=n,Uu.forEach(function(r){return r(be)})},get:function(){return ml[t]}})});Object.defineProperty(be,"familyPrefix",{enumerable:!0,set:function(e){ml.cssPrefix=e,Uu.forEach(function(n){return n(be)})},get:function(){return ml.cssPrefix}});Li.FontAwesomeConfig=be;var Uu=[];function bH(t){return Uu.push(t),function(){Uu.splice(Uu.indexOf(t),1)}}var na=Yy,is={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function SH(t){if(!(!t||!Qs)){var e=ht.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=ht.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return ht.head.insertBefore(e,r),t}}var _H="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function K_(){for(var t=12,e="";t-- >0;)e+=_H[Math.random()*62|0];return e}function jl(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function o1(t){return t.classList?jl(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function A4(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function EH(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(A4(t[n]),'" ')},"").trim()}function ym(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function a1(t){return t.size!==is.size||t.x!==is.x||t.y!==is.y||t.rotate!==is.rotate||t.flipX||t.flipY}function TH(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:u}}function PH(t){var e=t.transform,n=t.width,r=n===void 0?Yy:n,s=t.height,i=s===void 0?Yy:s,o="";return QN?o+="translate(".concat(e.x/na-r/2,"em, ").concat(e.y/na-i/2,"em) "):o+="translate(calc(-50% + ".concat(e.x/na,"em), calc(-50% + ").concat(e.y/na,"em)) "),o+="scale(".concat(e.size/na*(e.flipX?-1:1),", ").concat(e.size/na*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var AH=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function C4(){var t=w4,e=b4,n=be.cssPrefix,r=be.replacementClass,s=AH;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return s}var G_=!1;function Yp(){be.autoAddCss&&!G_&&(SH(C4()),G_=!0)}var CH={mixout:function(){return{dom:{css:C4,insertCss:Yp}}},hooks:function(){return{beforeDOMElementCreation:function(){Yp()},beforeI2svg:function(){Yp()}}}},qs=Li||{};qs[Ws]||(qs[Ws]={});qs[Ws].styles||(qs[Ws].styles={});qs[Ws].hooks||(qs[Ws].hooks={});qs[Ws].shims||(qs[Ws].shims=[]);var Ur=qs[Ws],I4=[],k4=function(){ht.removeEventListener("DOMContentLoaded",k4),Ah=1,I4.map(function(e){return e()})},Ah=!1;Qs&&(Ah=(ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ht.readyState),Ah||ht.addEventListener("DOMContentLoaded",k4));function IH(t){Qs&&(Ah?setTimeout(t,0):I4.push(t))}function od(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?A4(t):"<".concat(e," ").concat(EH(r),">").concat(i.map(od).join(""),"</").concat(e,">")}function Y_(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var Xp=function(e,n,r,s){var i=Object.keys(e),o=i.length,a=n,l,u,d;for(r===void 0?(l=1,d=e[i[0]]):(l=0,d=r);l<o;l++)u=i[l],d=a(d,e[u],u,e);return d};function N4(t){return Gr(t).length!==1?null:t.codePointAt(0).toString(16)}function X_(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function e0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=X_(e);typeof Ur.hooks.addPack=="function"&&!s?Ur.hooks.addPack(t,X_(e)):Ur.styles[t]=ie(ie({},Ur.styles[t]||{}),i),t==="fas"&&e0("fa",e)}var jc=Ur.styles,kH=Ur.shims,j4=Object.keys(i1),NH=j4.reduce(function(t,e){return t[e]=Object.keys(i1[e]),t},{}),l1=null,R4={},D4={},M4={},V4={},L4={};function jH(t){return~yH.indexOf(t)}function RH(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!jH(s)?s:null}var O4=function(){var e=function(i){return Xp(jc,function(o,a,l){return o[l]=Xp(a,i,{}),o},{})};R4=e(function(s,i,o){if(i[3]&&(s[i[3]]=o),i[2]){var a=i[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),D4=e(function(s,i,o){if(s[o]=o,i[2]){var a=i[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),L4=e(function(s,i,o){var a=i[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in jc||be.autoFetchSvg,r=Xp(kH,function(s,i){var o=i[0],a=i[1],l=i[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});M4=r.names,V4=r.unicodes,l1=vm(be.styleDefault,{family:be.familyDefault})};bH(function(t){l1=vm(t.styleDefault,{family:be.familyDefault})});O4();function u1(t,e){return(R4[t]||{})[e]}function DH(t,e){return(D4[t]||{})[e]}function _o(t,e){return(L4[t]||{})[e]}function F4(t){return M4[t]||{prefix:null,iconName:null}}function MH(t){var e=V4[t],n=u1("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Oi(){return l1}var $4=function(){return{prefix:null,iconName:null,rest:[]}};function VH(t){var e=wn,n=j4.reduce(function(r,s){return r[s]="".concat(be.cssPrefix,"-").concat(s),r},{});return g4.forEach(function(r){(t.includes(n[r])||t.some(function(s){return NH[r].includes(s)}))&&(e=r)}),e}function vm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?wn:n,s=fH[r][t];if(r===sd&&!t)return"fad";var i=q_[r][t]||q_[r][s],o=t in Ur.styles?t:null,a=i||o||null;return a}function LH(t){var e=[],n=null;return t.forEach(function(r){var s=RH(be.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function Q_(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var J_=v4.concat(y4);function xm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=Q_(t.filter(function(p){return J_.includes(p)})),o=Q_(t.filter(function(p){return!J_.includes(p)})),a=i.filter(function(p){return s=p,!ZN.includes(p)}),l=gm(a,1),u=l[0],d=u===void 0?null:u,h=VH(i),m=ie(ie({},LH(o)),{},{prefix:vm(d,{family:h})});return ie(ie(ie({},m),BH({values:t,family:h,styles:jc,config:be,canonical:m,givenPrefix:s})),OH(r,s,m))}function OH(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?F4(s):{},o=_o(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!jc.far&&jc.fas&&!be.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var FH=g4.filter(function(t){return t!==wn||t!==sd}),$H=Object.keys(Gy).filter(function(t){return t!==wn}).map(function(t){return Object.keys(Gy[t])}).flat();function BH(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,o=t.styles,a=o===void 0?{}:o,l=t.config,u=l===void 0?{}:l,d=n===sd,h=e.includes("fa-duotone")||e.includes("fad"),m=u.familyDefault==="duotone",p=r.prefix==="fad"||r.prefix==="fa-duotone";if(!d&&(h||m||p)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&FH.includes(n)){var b=Object.keys(a).find(function(P){return $H.includes(P)});if(b||u.autoFetchSvg){var _=sU.get(n).defaultShortPrefixId;r.prefix=_,r.iconName=_o(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=Oi()||"fas"),r}var zH=function(){function t(){Pz(this,t),this.definitions={}}return Cz(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=ie(ie({},n.definitions[a]||{}),o[a]),e0(a,o[a]);var l=i1[wn][a];l&&e0(l,o[a]),O4()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var o=s[i],a=o.prefix,l=o.iconName,u=o.icon,d=u[2];n[a]||(n[a]={}),d.length>0&&d.forEach(function(h){typeof h=="string"&&(n[a][h]=u)}),n[a][l]=u}),n}}])}(),Z_=[],Ma={},qa={},UH=Object.keys(qa);function HH(t,e){var n=e.mixoutsTo;return Z_=t,Ma={},Object.keys(qa).forEach(function(r){UH.indexOf(r)===-1&&delete qa[r]}),Z_.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),Ph(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(o){Ma[o]||(Ma[o]=[]),Ma[o].push(i[o])})}r.provides&&r.provides(qa)}),n}function t0(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=Ma[t]||[];return i.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function zo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=Ma[t]||[];s.forEach(function(i){i.apply(null,n)})}function Fi(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return qa[t]?qa[t].apply(null,e):void 0}function n0(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Oi();if(e)return e=_o(n,e)||e,Y_(B4.definitions,n,e)||Y_(Ur.styles,n,e)}var B4=new zH,WH=function(){be.autoReplaceSvg=!1,be.observeMutations=!1,zo("noAuto")},qH={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Qs?(zo("beforeI2svg",e),Fi("pseudoElements2svg",e),Fi("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;be.autoReplaceSvg===!1&&(be.autoReplaceSvg=!0),be.observeMutations=!0,IH(function(){GH({autoReplaceSvgRoot:n}),zo("watch",e)})}},KH={icon:function(e){if(e===null)return null;if(Ph(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:_o(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=vm(e[0]);return{prefix:r,iconName:_o(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(be.cssPrefix,"-"))>-1||e.match(hH))){var s=xm(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||Oi(),iconName:_o(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=Oi();return{prefix:i,iconName:_o(i,e)||e}}}},pr={noAuto:WH,config:be,dom:qH,parse:KH,library:B4,findIconDefinition:n0,toHtml:od},GH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?ht:n;(Object.keys(Ur.styles).length>0||be.autoFetchSvg)&&Qs&&be.autoReplaceSvg&&pr.dom.i2svg({node:r})};function wm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return od(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Qs){var r=ht.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function YH(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,o=t.transform;if(a1(o)&&n.found&&!r.found){var a=n.width,l=n.height,u={x:a/l/2,y:.5};s.style=ym(ie(ie({},i),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function XH(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,o=i===!0?"".concat(e,"-").concat(be.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},s),{},{id:o}),children:r}]}]}function QH(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function c1(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,o=t.transform,a=t.symbol,l=t.maskId,u=t.extra,d=t.watchable,h=d===void 0?!1:d,m=r.found?r:n,p=m.width,b=m.height,_=[be.replacementClass,i?"".concat(be.cssPrefix,"-").concat(i):""].filter(function(C){return u.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(u.classes).join(" "),P={children:[],attributes:ie(ie({},u.attributes),{},{"data-prefix":s,"data-icon":i,class:_,role:u.attributes.role||"img",viewBox:"0 0 ".concat(p," ").concat(b)})};!QH(u.attributes)&&!u.attributes["aria-hidden"]&&(P.attributes["aria-hidden"]="true"),h&&(P.attributes[Bo]="");var v=ie(ie({},P),{},{prefix:s,iconName:i,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:ie({},u.styles)}),y=r.found&&n.found?Fi("generateAbstractMask",v)||{children:[],attributes:{}}:Fi("generateAbstractIcon",v)||{children:[],attributes:{}},E=y.children,j=y.attributes;return v.children=E,v.attributes=j,a?XH(v):YH(v)}function eE(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,o=t.watchable,a=o===void 0?!1:o,l=ie(ie({},i.attributes),{},{class:i.classes.join(" ")});a&&(l[Bo]="");var u=ie({},i.styles);a1(s)&&(u.transform=PH({transform:s,width:n,height:r}),u["-webkit-transform"]=u.transform);var d=ym(u);d.length>0&&(l.style=d);var h=[];return h.push({tag:"span",attributes:l,children:[e]}),h}function JH(t){var e=t.content,n=t.extra,r=ie(ie({},n.attributes),{},{class:n.classes.join(" ")}),s=ym(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var Qp=Ur.styles;function r0(t){var e=t[0],n=t[1],r=t.slice(4),s=gm(r,1),i=s[0],o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(be.cssPrefix,"-").concat(Gp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(Gp.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(Gp.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:o}}var ZH={found:!1,width:512,height:512};function eW(t,e){!_4&&!be.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function s0(t,e){var n=e;return e==="fa"&&be.styleDefault!==null&&(e=Oi()),new Promise(function(r,s){if(n==="fa"){var i=F4(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&Qp[e]&&Qp[e][t]){var o=Qp[e][t];return r(r0(o))}eW(t,e),r(ie(ie({},ZH),{},{icon:be.showMissingIcons&&t?Fi("missingIconAbstract")||{}:{}}))})}var tE=function(){},i0=be.measurePerformance&&Xd&&Xd.mark&&Xd.measure?Xd:{mark:tE,measure:tE},gu='FA "7.1.0"',tW=function(e){return i0.mark("".concat(gu," ").concat(e," begins")),function(){return z4(e)}},z4=function(e){i0.mark("".concat(gu," ").concat(e," ends")),i0.measure("".concat(gu," ").concat(e),"".concat(gu," ").concat(e," begins"),"".concat(gu," ").concat(e," ends"))},d1={begin:tW,end:z4},If=function(){};function nE(t){var e=t.getAttribute?t.getAttribute(Bo):null;return typeof e=="string"}function nW(t){var e=t.getAttribute?t.getAttribute(r1):null,n=t.getAttribute?t.getAttribute(s1):null;return e&&n}function rW(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(be.replacementClass)}function sW(){if(be.autoReplaceSvg===!0)return kf.replace;var t=kf[be.autoReplaceSvg];return t||kf.replace}function iW(t){return ht.createElementNS("http://www.w3.org/2000/svg",t)}function oW(t){return ht.createElement(t)}function U4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?iW:oW:n;if(typeof t=="string")return ht.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){s.setAttribute(o,t.attributes[o])});var i=t.children||[];return i.forEach(function(o){s.appendChild(U4(o,{ceFn:r}))}),s}function aW(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var kf={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(U4(s),n)}),n.getAttribute(Bo)===null&&be.keepOriginalSource){var r=ht.createComment(aW(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~o1(n).indexOf(be.replacementClass))return kf.replace(e);var s=new RegExp("".concat(be.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(a,l){return l===be.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var o=r.map(function(a){return od(a)}).join(`
`);n.setAttribute(Bo,""),n.innerHTML=o}};function rE(t){t()}function H4(t,e){var n=typeof e=="function"?e:If;if(t.length===0)n();else{var r=rE;be.mutateApproach===cH&&(r=Li.requestAnimationFrame||rE),r(function(){var s=sW(),i=d1.begin("mutate");t.map(s),i(),n()})}}var f1=!1;function W4(){f1=!0}function o0(){f1=!1}var Ch=null;function sE(t){if(z_&&be.observeMutations){var e=t.treeCallback,n=e===void 0?If:e,r=t.nodeCallback,s=r===void 0?If:r,i=t.pseudoElementsCallback,o=i===void 0?If:i,a=t.observeMutationsRoot,l=a===void 0?ht:a;Ch=new z_(function(u){if(!f1){var d=Oi();jl(u).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!nE(h.addedNodes[0])&&(be.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&be.searchPseudoElements&&o([h.target],!0),h.type==="attributes"&&nE(h.target)&&~gH.indexOf(h.attributeName))if(h.attributeName==="class"&&nW(h.target)){var m=xm(o1(h.target)),p=m.prefix,b=m.iconName;h.target.setAttribute(r1,p||d),b&&h.target.setAttribute(s1,b)}else rW(h.target)&&s(h.target)})}}),Qs&&Ch.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function lW(){Ch&&Ch.disconnect()}function uW(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),o=i[0],a=i.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function cW(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=xm(o1(t));return s.prefix||(s.prefix=Oi()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=DH(s.prefix,t.innerText)||u1(s.prefix,N4(t.innerText))),!s.iconName&&be.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function dW(t){var e=jl(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function fW(){return{iconName:null,prefix:null,transform:is,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function iE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=cW(t),r=n.iconName,s=n.prefix,i=n.rest,o=dW(t),a=t0("parseNodeAttributes",{},t),l=e.styleParser?uW(t):[];return ie({iconName:r,prefix:s,transform:is,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:o}},a)}var hW=Ur.styles;function q4(t){var e=be.autoReplaceSvg==="nest"?iE(t,{styleParser:!1}):iE(t);return~e.extra.classes.indexOf(T4)?Fi("generateLayersText",t,e):Fi("generateSvgReplacementMutation",t,e)}function mW(){return[].concat(Gr(y4),Gr(v4))}function oE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Qs)return Promise.resolve();var n=ht.documentElement.classList,r=function(h){return n.add("".concat(W_,"-").concat(h))},s=function(h){return n.remove("".concat(W_,"-").concat(h))},i=be.autoFetchSvg?mW():ZN.concat(Object.keys(hW));i.includes("fa")||i.push("fa");var o=[".".concat(T4,":not([").concat(Bo,"])")].concat(i.map(function(d){return".".concat(d,":not([").concat(Bo,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=jl(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),s("complete");else return Promise.resolve();var l=d1.begin("onTree"),u=a.reduce(function(d,h){try{var m=q4(h);m&&d.push(m)}catch(p){_4||p.name==="MissingIcon"&&console.error(p)}return d},[]);return new Promise(function(d,h){Promise.all(u).then(function(m){H4(m,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),d()})}).catch(function(m){l(),h(m)})})}function pW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;q4(t).then(function(n){n&&H4([n],e)})}function gW(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:n0(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:n0(s||{})),t(r,ie(ie({},n),{},{mask:s}))}}var yW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?is:r,i=n.symbol,o=i===void 0?!1:i,a=n.mask,l=a===void 0?null:a,u=n.maskId,d=u===void 0?null:u,h=n.classes,m=h===void 0?[]:h,p=n.attributes,b=p===void 0?{}:p,_=n.styles,P=_===void 0?{}:_;if(e){var v=e.prefix,y=e.iconName,E=e.icon;return wm(ie({type:"icon"},e),function(){return zo("beforeDOMElementCreation",{iconDefinition:e,params:n}),c1({icons:{main:r0(E),mask:l?r0(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:y,transform:ie(ie({},is),s),symbol:o,maskId:d,extra:{attributes:b,styles:P,classes:m}})})}},vW={mixout:function(){return{icon:gW(yW)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=oE,n.nodeCallback=pW,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?ht:r,i=n.callback,o=i===void 0?function(){}:i;return oE(s,o)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,o=r.transform,a=r.symbol,l=r.mask,u=r.maskId,d=r.extra;return new Promise(function(h,m){Promise.all([s0(s,i),l.iconName?s0(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(p){var b=gm(p,2),_=b[0],P=b[1];h([n,c1({icons:{main:_,mask:P},prefix:i,iconName:s,transform:o,symbol:a,maskId:u,extra:d,watchable:!0})])}).catch(m)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,o=n.transform,a=n.styles,l=ym(a);l.length>0&&(s.style=l);var u;return a1(o)&&(u=Fi("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),r.push(u||i.icon),{children:r,attributes:s}}}},xW={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return wm({type:"layer"},function(){zo("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(be.cssPrefix,"-layers")].concat(Gr(i)).join(" ")},children:o}]})}}}},wW={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,o=r.attributes,a=o===void 0?{}:o,l=r.styles,u=l===void 0?{}:l;return wm({type:"counter",content:n},function(){return zo("beforeDOMElementCreation",{content:n,params:r}),JH({content:n.toString(),extra:{attributes:a,styles:u,classes:["".concat(be.cssPrefix,"-layers-counter")].concat(Gr(i))}})})}}}},bW={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?is:s,o=r.classes,a=o===void 0?[]:o,l=r.attributes,u=l===void 0?{}:l,d=r.styles,h=d===void 0?{}:d;return wm({type:"text",content:n},function(){return zo("beforeDOMElementCreation",{content:n,params:r}),eE({content:n,transform:ie(ie({},is),i),extra:{attributes:u,styles:h,classes:["".concat(be.cssPrefix,"-layers-text")].concat(Gr(a))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,o=null,a=null;if(QN){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();o=u.width/l,a=u.height/l}return Promise.resolve([n,eE({content:n.innerHTML,width:o,height:a,transform:s,extra:i,watchable:!0})])}}},K4=new RegExp('"',"ug"),aE=[1105920,1112319],lE=ie(ie(ie(ie({},{FontAwesome:{normal:"fas",400:"fas"}}),rU),lH),fU),a0=Object.keys(lE).reduce(function(t,e){return t[e.toLowerCase()]=lE[e],t},{}),SW=Object.keys(a0).reduce(function(t,e){var n=a0[e];return t[e]=n[900]||Gr(Object.entries(n))[0][1],t},{});function _W(t){var e=t.replace(K4,"");return N4(Gr(e)[0]||"")}function EW(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(K4,""),s=r.codePointAt(0),i=s>=aE[0]&&s<=aE[1],o=r.length===2?r[0]===r[1]:!1;return i||o||e}function TW(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(a0[n]||{})[s]||SW[n]}function uE(t,e){var n="".concat(uH).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=jl(t.children),o=i.filter(function(V){return V.getAttribute(Xy)===e})[0],a=Li.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),u=l.match(mH),d=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&h!=="none"&&h!==""){var m=a.getPropertyValue("content"),p=TW(l,d),b=_W(m),_=u[0].startsWith("FontAwesome"),P=EW(a),v=u1(p,b),y=v;if(_){var E=MH(b);E.iconName&&E.prefix&&(v=E.iconName,p=E.prefix)}if(v&&!P&&(!o||o.getAttribute(r1)!==p||o.getAttribute(s1)!==y)){t.setAttribute(n,y),o&&t.removeChild(o);var j=fW(),C=j.extra;C.attributes[Xy]=e,s0(v,p).then(function(V){var x=c1(ie(ie({},j),{},{icons:{main:V,mask:$4()},prefix:p,iconName:y,extra:C,watchable:!0})),S=ht.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(S,t.firstChild):t.appendChild(S),S.outerHTML=x.map(function(A){return od(A)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function PW(t){return Promise.all([uE(t,"::before"),uE(t,"::after")])}function AW(t){return t.parentNode!==document.head&&!~dH.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Xy)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var CW=function(e){return!!e&&S4.some(function(n){return e.includes(n)})},IW=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(l){return l.trim()});r=r.flatMap(function(l){return l.includes("(")?l:l.split(",").map(function(u){return u.trim()})});var s=Cf(r),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;if(CW(o)){var a=S4.reduce(function(l,u){return l.replace(u,"")},o);a!==""&&a!=="*"&&n.add(a)}}}catch(l){s.e(l)}finally{s.f()}return n};function cE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Qs){var n;if(e)n=t;else if(be.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=Cf(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;try{var a=Cf(o.cssRules),l;try{for(a.s();!(l=a.n()).done;){var u=l.value,d=IW(u.selectorText),h=Cf(d),m;try{for(h.s();!(m=h.n()).done;){var p=m.value;r.add(p)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){a.e(_)}finally{a.f()}}catch(_){be.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(_.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(_){s.e(_)}finally{s.f()}if(!r.size)return;var b=Array.from(r).join(", ");try{n=t.querySelectorAll(b)}catch{}}return new Promise(function(_,P){var v=jl(n).filter(AW).map(PW),y=d1.begin("searchPseudoElements");W4(),Promise.all(v).then(function(){y(),o0(),_()}).catch(function(){y(),o0(),P()})})}}var kW={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=cE,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?ht:r;be.searchPseudoElements&&cE(s)}}},dE=!1,NW={mixout:function(){return{dom:{unwatch:function(){W4(),dE=!0}}}},hooks:function(){return{bootstrap:function(){sE(t0("mutationObserverCallbacks",{}))},noAuto:function(){lW()},watch:function(n){var r=n.observeMutationsRoot;dE?o0():sE(t0("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},fE=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),o=i[0],a=i.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},jW={mixout:function(){return{parse:{transform:function(n){return fE(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=fE(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),u="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),d="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(u," ").concat(d)},m={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:h,path:m};return{tag:"g",attributes:ie({},p.outer),children:[{tag:"g",attributes:ie({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ie(ie({},r.icon.attributes),p.path)}]}]}}}},Jp={x:0,y:0,width:"100%",height:"100%"};function hE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function RW(t){return t.tag==="g"?t.children:[t]}var DW={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?xm(s.split(" ").map(function(o){return o.trim()})):$4();return i.prefix||(i.prefix=Oi()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,o=n.mask,a=n.maskId,l=n.transform,u=i.width,d=i.icon,h=o.width,m=o.icon,p=TH({transform:l,containerWidth:h,iconWidth:u}),b={tag:"rect",attributes:ie(ie({},Jp),{},{fill:"white"})},_=d.children?{children:d.children.map(hE)}:{},P={tag:"g",attributes:ie({},p.inner),children:[hE(ie({tag:d.tag,attributes:ie(ie({},d.attributes),p.path)},_))]},v={tag:"g",attributes:ie({},p.outer),children:[P]},y="mask-".concat(a||K_()),E="clip-".concat(a||K_()),j={tag:"mask",attributes:ie(ie({},Jp),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[b,v]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:RW(m)},j]};return r.push(C,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(y,")")},Jp)}),{children:r,attributes:s}}}},MW={provides:function(e){var n=!1;Li.matchMedia&&(n=Li.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ie(ie({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ie(ie({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ie(ie({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:ie(ie({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ie(ie({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:ie(ie({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:ie(ie({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},VW={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},LW=[CH,vW,xW,wW,bW,kW,NW,jW,DW,MW,VW];HH(LW,{mixoutsTo:pr});pr.noAuto;var Rc=pr.config;pr.library;pr.dom;var G4=pr.parse;pr.findIconDefinition;pr.toHtml;var OW=pr.icon;pr.layer;pr.text;pr.counter;function FW(t){return t=t-0,t===t}function Y4(t){return FW(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function $W(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ra=new Map,BW=1e3;function zW(t){if(ra.has(t))return ra.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,o=t.slice(n,i).trim();if(o){const a=o.indexOf(":");if(a>0){const l=o.slice(0,a).trim(),u=o.slice(a+1).trim();if(l&&u){const d=Y4(l);e[d.startsWith("webkit")?$W(d):d]=u}}}n=i+1}if(ra.size===BW){const s=ra.keys().next().value;s&&ra.delete(s)}return ra.set(t,e),e}function X4(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(u=>X4(t,u)),s=e.attributes||{},i={};for(const[u,d]of Object.entries(s))switch(!0){case u==="class":{i.className=d;break}case u==="style":{i.style=zW(String(d));break}case u.startsWith("aria-"):case u.startsWith("data-"):{i[u.toLowerCase()]=d;break}default:i[Y4(u)]=d}const{style:o,"aria-label":a,...l}=n;return o&&(i.style=i.style?{...i.style,...o}:o),a&&(i["aria-label"]=a,i["aria-hidden"]="false"),t(e.tag,{...l,...i},...r)}var UW=X4.bind(null,ln.createElement),mE=(t,e)=>{const n=T.useId();return t||(e?n:void 0)},HW=class{constructor(e="react-fontawesome"){this.enabled=!1;let n=!1;try{n=typeof process<"u"&&!1}catch{}this.scope=e,this.enabled=n}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}},WW="searchPseudoElementsFullScan"in Rc?"7.0.0":"6.0.0",qW=Number.parseInt(WW)>=7,Hu="fa",vs={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},KW={left:"fa-pull-left",right:"fa-pull-right"},GW={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},YW={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},xs={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function XW(t){const e=Rc.cssPrefix||Rc.familyPrefix||Hu;return e===Hu?t:t.replace(new RegExp(`(?<=^|\\s)${Hu}-`,"g"),`${e}-`)}function QW(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:o,spinPulse:a,spinReverse:l,pulse:u,fixedWidth:d,inverse:h,border:m,flip:p,size:b,rotation:_,pull:P,swapOpacity:v,rotateBy:y,widthAuto:E,className:j}=t,C=[];return j&&C.push(...j.split(" ")),e&&C.push(vs.beat),n&&C.push(vs.fade),r&&C.push(vs.beatFade),s&&C.push(vs.bounce),i&&C.push(vs.shake),o&&C.push(vs.spin),l&&C.push(vs.spinReverse),a&&C.push(vs.spinPulse),u&&C.push(vs.pulse),d&&C.push(xs.fixedWidth),h&&C.push(xs.inverse),m&&C.push(xs.border),p===!0&&C.push(xs.flip),(p==="horizontal"||p==="both")&&C.push(xs.flipHorizontal),(p==="vertical"||p==="both")&&C.push(xs.flipVertical),b!=null&&C.push(YW[b]),_!=null&&_!==0&&C.push(GW[_]),P!=null&&C.push(KW[P]),v&&C.push(xs.swapOpacity),qW?(y&&C.push(xs.rotateBy),E&&C.push(xs.widthAuto),(Rc.cssPrefix||Rc.familyPrefix||Hu)===Hu?C:C.map(XW)):C}var JW=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function pE(t){if(t)return JW(t)?t:G4.icon(t)}function ZW(t){return Object.keys(t)}var gE=new HW("FontAwesomeIcon"),Q4={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},eq=new Set(Object.keys(Q4)),Wt=ln.forwardRef((t,e)=>{const n={...Q4,...t},{icon:r,mask:s,symbol:i,title:o,titleId:a,maskId:l,transform:u}=n,d=mE(l,!!s),h=mE(a,!!o),m=pE(r);if(!m)return gE.error("Icon lookup is undefined",r),null;const p=QW(n),b=typeof u=="string"?G4.transform(u):u,_=pE(s),P=OW(m,{...p.length>0&&{classes:p},...b&&{transform:b},..._&&{mask:_},symbol:i,title:o,titleId:h,maskId:d});if(!P)return gE.error("Could not find icon",m),null;const{abstract:v}=P,y={ref:e};for(const E of ZW(n))eq.has(E)||(y[E]=n[E]);return UW(v[0],y)});Wt.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Jd={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},tq={prefix:"fas",iconName:"gift",icon:[512,512,[127873],"f06b","M321.5 68.8C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40s-17.9 40-40 40l-73.3 0 34.8-59.2zm-131 0l34.8 59.2-73.3 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zm89.6-24.3l-24.1 41-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0c-48.6 0-88 39.4-88 88 0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 32c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-32c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40 0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4zM480 272l-200 0 0 208 136 0c35.3 0 64-28.7 64-64l0-144zm-248 0l-200 0 0 144c0 35.3 28.7 64 64 64l136 0 0-208z"]},nq={prefix:"fas",iconName:"share-nodes",icon:[512,512,["share-alt"],"f1e0","M384 192c53 0 96-43 96-96s-43-96-96-96-96 43-96 96c0 5.4 .5 10.8 1.3 16L159.6 184.1c-16.9-15-39.2-24.1-63.6-24.1-53 0-96 43-96 96s43 96 96 96c24.4 0 46.6-9.1 63.6-24.1L289.3 400c-.9 5.2-1.3 10.5-1.3 16 0 53 43 96 96 96s96-43 96-96-43-96-96-96c-24.4 0-46.6 9.1-63.6 24.1L190.7 272c.9-5.2 1.3-10.5 1.3-16s-.5-10.8-1.3-16l129.7-72.1c16.9 15 39.2 24.1 63.6 24.1z"]},rq={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},sq=rq,iq={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},oq={prefix:"fas",iconName:"golf-ball-tee",icon:[384,512,["golf-ball"],"f450","M298.5 384.1c12.1 1.2 21.5 11.5 21.5 23.9s-9.4 22.6-21.5 23.9l-2.5 .1-80 0 0 88c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-88-80 0c-13.3 0-24-10.7-24-24 0-12.4 9.4-22.6 21.5-23.9l2.5-.1 208 0 2.5 .1zM192 0c106 0 192 86 192 192 0 57.4-25.2 108.8-65.1 144L65.1 336C25.2 300.8 0 249.4 0 192 0 86 86 0 192 0zm32 240c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16zm64-64c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16zm-80-16c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16z"]},aq={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]},yE={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},lq={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 224zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384z"]},uq={prefix:"fas",iconName:"tags",icon:[576,512,[],"f02c","M401.2 39.1L549.4 189.4c27.7 28.1 27.7 73.1 0 101.2L393 448.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L515.3 256.8c9.2-9.3 9.2-24.4 0-33.7L367 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM32.1 229.5L32.1 96c0-35.3 28.7-64 64-64l133.5 0c17 0 33.3 6.7 45.3 18.7l144 144c25 25 25 65.5 0 90.5L285.4 418.7c-25 25-65.5 25-90.5 0l-144-144c-12-12-18.7-28.3-18.7-45.3zm144-85.5a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},cq={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M488 192l-144 0c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l46.7-46.7c-75.3-58.6-184.3-53.3-253.5 15.9-75 75-75 196.5 0 271.5s196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c94.3-94.3 243.7-99.6 344.3-16.2L471 7c6.9-6.9 17.2-8.9 26.2-5.2S512 14.3 512 24l0 144c0 13.3-10.7 24-24 24z"]},dq={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},fq={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c-35.3 0-64 28.7-64 64l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c0 35.3 28.7 64 64 64l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c35.3 0 64-28.7 64-64l40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0c0-35.3-28.7-64-64-64l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40zM160 128l192 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32l0-192c0-17.7 14.3-32 32-32zm16 48l0 160 160 0 0-160-160 0z"]},vE={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};const Eo=({id:t,image:e,name:n,price:r,rating:s,numRatings:i,className:o="",badge:a,isFavorite:l,onFavoriteToggle:u,onRemove:d,hideActions:h=!1,compact:m=!1,favouritesVariant:p=!1,onClick:b,isSpecial:_=!1,textColor:P,priceColor:v,isAiPick:y=!1,showWelcomeTrainingAnimation:E=!1,disableRemove:j=!1})=>{const[C,V]=T.useState(!1),[x,S]=T.useState(!1),[A,I]=T.useState(!1),[R,M]=T.useState(!1),[N,$]=T.useState(!1),Q=W=>{W.preventDefault(),W.stopPropagation(),!x&&($(!0),S(!1),V(!C))},J=W=>{if(W.preventDefault(),W.stopPropagation(),C)return;const Z=x;$(!0),S(!x),Z||(V(!1),M(!1),u&&u())},q=(W,Z=20)=>W.length<=Z?W:W.slice(0,Z)+"...";T.useEffect(()=>{if(R&&d&&t&&!j){const W=setTimeout(()=>{d(t)},600);return()=>clearTimeout(W)}},[R,d,t,j]);const L=p?"175px":"260px",O=p?"240px":"180px";return c.jsx("div",{className:`relative transition-all ${R?"duration-700 w-0 min-w-0 opacity-0 scale-75":"duration-300 opacity-100 scale-100"}`,style:R?{transform:"translateY(-100px)",transition:"all 700ms ease-out",marginLeft:p?"-175px":"-260px"}:{width:L,minWidth:L,marginLeft:"0"},children:p?c.jsxs("div",{className:`bg-white rounded-3xl relative flex flex-col ${o} shadow-[0_4px_20px_rgba(0,0,0,0.06)] ${b?"cursor-pointer":""}`,onClick:b,style:{minHeight:O},children:[c.jsx("div",{className:"w-full flex-shrink-0 relative pt-3 px-3",onClick:b,style:{cursor:b?"pointer":"default"},children:c.jsx("div",{className:"w-full rounded-xl overflow-hidden",style:{aspectRatio:"1 / 1"},children:c.jsx("img",{src:e,alt:n,className:"w-full h-full object-contain",style:{pointerEvents:"none"}})})}),a&&c.jsx("div",{className:"absolute top-3 left-3 z-10",children:a}),c.jsxs("div",{className:"flex flex-col flex-grow font-['Stack_Sans'] px-3 pb-3 pt-2",children:[c.jsx("h3",{className:"font-['Stack_Sans'] font-semibold text-gray-600 mb-0 text-sm leading-tight truncate pl-0.5",style:{minHeight:"32px",fontWeight:600},title:n,children:q(n,18)}),c.jsx("div",{className:"flex items-center justify-between -mt-2 pl-0.5",children:c.jsxs("p",{className:"font-normal text-[#816fe8] text-base",children:["",r.toFixed(2)]})})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-full overflow-visible flex-shrink-0 relative z-10 px-4 pt-0",onClick:b,style:{cursor:b?"pointer":"default"},children:c.jsx("div",{className:"w-full rounded-2xl overflow-visible relative",style:m?{aspectRatio:"10 / 8.5"}:{aspectRatio:"1 / 1"},children:c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsx("div",{className:"relative w-full h-full",style:{transform:"scale(1.1)"},children:c.jsx("img",{src:e,alt:n,className:"w-full h-full object-contain relative",style:{pointerEvents:"none",zIndex:10}})})})})}),c.jsxs("div",{className:`${y?"bg-gradient-to-br from-purple-50/50 via-white to-purple-100/30":"bg-white"} rounded-3xl relative flex flex-col overflow-hidden ${o} ${m?y?"":"shadow-[0_8px_30px_rgba(0,0,0,0.08)]":y?"":"shadow-[0_10px_40px_rgba(0,0,0,0.1)]"} ${b?"cursor-pointer":""} ${y?m?"animate-purple-glow":"animate-purple-glow-large":""}`,onClick:b,style:{marginTop:"-50%",minHeight:O},children:[y&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-3xl",style:{background:"radial-gradient(circle at center, rgba(122, 117, 186, 0.25) 0%, rgba(95, 89, 166, 0.15) 40%, rgba(122, 117, 186, 0.08) 70%, transparent 100%)",animation:"purple-inner-glow 3s ease-in-out infinite",zIndex:1}}),c.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-3xl",style:{border:"1px solid",borderColor:"rgba(122, 117, 186, 0.2)",zIndex:1}})]}),a&&c.jsx("div",{className:"absolute top-3 left-3 z-10",children:a}),c.jsxs("div",{className:`flex flex-col flex-grow font-['Stack_Sans'] relative z-10 ${m?"px-5 pt-[58%] pb-3":"px-7 pt-[63%] pb-4"}`,children:[c.jsx("h3",{className:`font-['Stack_Sans'] font-semibold text-gray-600 mb-0 truncate ${m?"text-base leading-tight":"text-xl mb-0"}`,style:m?{minHeight:"40px",fontWeight:600}:{fontWeight:600},title:n,children:m?n:q(n,20)}),c.jsx("div",{className:"flex items-center gap-0.5 mb-1 -mt-3",children:[1,2,3,4,5].map(W=>{const se=W<=(s||0);return c.jsx(ph,{size:m?12:14,className:se?"fill-amber-400 text-amber-400":"text-gray-300"},W)})}),!h&&c.jsxs("div",{className:"flex items-end justify-between gap-2 -mt-3 mb-2",children:[c.jsxs("p",{className:`font-light text-[#816fe8] ${m?"text-lg":"text-xl"}`,children:["",r.toFixed(2)]}),c.jsxs("div",{className:"flex items-center gap-4 -ml-3",children:[c.jsx("button",{onClick:J,className:`flex items-center justify-center rounded-2xl transition-all duration-200 hover:scale-110 focus:outline-none active:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 ${E&&!N?"animate-bounce":""}`,style:{padding:m?"12px":"14px",border:"none",outline:"none",boxShadow:"0 4px 12px rgba(100,100,100,0.15)",WebkitTapHighlightColor:"transparent",animationDelay:E?"0s":void 0,animationDuration:E?"1s":void 0,animationIterationCount:E?"infinite":void 0},onFocus:W=>W.target.blur(),onMouseDown:W=>W.preventDefault(),"aria-label":"Thumbs up",children:c.jsx(by,{size:m?16:18,className:x?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:x?"currentColor":"none"})}),c.jsx("button",{onClick:Q,className:`flex items-center justify-center rounded-2xl transition-all duration-200 hover:scale-110 focus:outline-none active:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 ${E&&!N?"animate-bounce":""}`,style:{padding:m?"12px":"14px",border:"none",outline:"none",boxShadow:"0 4px 12px rgba(100,100,100,0.15)",WebkitTapHighlightColor:"transparent",animationDelay:E?"0.5s":void 0,animationDuration:E?"1s":void 0,animationIterationCount:E?"infinite":void 0},onFocus:W=>W.target.blur(),onMouseDown:W=>W.preventDefault(),"aria-label":"Thumbs down",children:c.jsx(wy,{size:m?16:18,className:C?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:C?"currentColor":"none"})})]})]})]})]})]})})},hq=({open:t,onOpenChange:e,initialMinBudget:n=50,initialMaxBudget:r=300,onSave:s})=>{const i=T.useRef(null),[o,a]=T.useState(n),[l,u]=T.useState(r);T.useEffect(()=>{a(n),u(r)},[n,r]);const d=ln.useMemo(()=>{var _;if(typeof window>"u")return"50vh";const p=(_=window.visualViewport)!=null&&_.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(p*.5)}px`},[t]);T.useEffect(()=>{if(t){const p=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=p,document.body.classList.remove("sheet-open")}}},[t]);const h=(p,b)=>{a(p),u(b)},m=()=>{s&&s(o,l),e(!1)};return c.jsx(c.Fragment,{children:c.jsxs(xt,{ref:i,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[c.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${d} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[c.jsx(xt.Header,{children:c.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[c.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:c.jsx(xt.DragIndicator,{style:{display:"none"}})}),c.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Edit Budget"}),c.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:c.jsx(Qc,{size:24,className:"text-gray-600"})})]})}),c.jsxs(xt.Content,{style:{padding:"24px",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[c.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:c.jsx(e1,{min:10,max:500,minValue:o,maxValue:l,onChange:h,label:"Select your budget range (5 steps)"})}),c.jsx("div",{className:"pt-6 pb-4",children:c.jsx(Ye,{onClick:m,variant:"primary",size:"large",fullWidth:!0,className:"!font-normal",children:"Save Budget"})})]})]}),c.jsx(xt.Backdrop,{onTap:()=>e(!1)})]})})},mq=({open:t,onOpenChange:e,initialInterests:n=[],gender:r,onSave:s})=>{const i=T.useRef(null),[o,a]=T.useState(n);T.useEffect(()=>{a(n)},[n]);const l=()=>{const h=[...Ss,...rs,...fl,...hl];return Array.from(new Map(h.map(p=>[p.value,p])).values())},u=ln.useMemo(()=>{var p;if(typeof window>"u")return"75vh";const h=(p=window.visualViewport)!=null&&p.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(h*.75)}px`},[t]);T.useEffect(()=>{if(t){const h=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=h,document.body.classList.remove("sheet-open")}}},[t]);const d=()=>{s&&s(o),e(!1)};return c.jsx(c.Fragment,{children:c.jsxs(xt,{ref:i,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[c.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${u} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[c.jsx(xt.Header,{children:c.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[c.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:c.jsx(xt.DragIndicator,{style:{display:"none"}})}),c.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Edit Interests"}),c.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:c.jsx(Qc,{size:24,className:"text-gray-600"})})]})}),c.jsxs(xt.Content,{style:{padding:"16px 24px",paddingBottom:"calc(80px + env(safe-area-inset-bottom))",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[c.jsx("div",{className:"flex-1 overflow-y-auto",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:c.jsx(Th,{options:l(),selectedValues:o,onChange:a})}),c.jsx("div",{className:"pt-4 pb-4",children:c.jsx(Ye,{onClick:d,variant:"primary",size:"large",fullWidth:!0,className:"!font-normal",children:"Save Interests"})})]})]}),c.jsx(xt.Backdrop,{onTap:()=>e(!1)})]})})},pq="rec_history",xE=()=>{try{const t=localStorage.getItem(pq);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting recommendation history:",t),[]}},wE=t=>{const n=[...Ss,...rs,...fl,...hl].find(r=>r.value===t);return n?n.label:t.charAt(0).toUpperCase()+t.slice(1).replace(/-/g," ")},bE=t=>{var e;if(t instanceof Error){const n=t;if((e=n.apiMetadata)!=null&&e.response_text)try{const r=JSON.parse(n.apiMetadata.response_text);if(r.error&&typeof r.error=="string")return r.error;if(r.message&&typeof r.message=="string")return r.message}catch{const r=n.apiMetadata.response_text.trim();if(r&&!r.startsWith("<!"))return r}return"Unable to load recommendations. Please try again later."}return"Unable to load recommendations. Please try again later."},Zd="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",gq=()=>{var zn,Vt,nn,Sn,ps,yr,Zn,Lt,jr,gs,er,Ji;const t=Yo();Go();const[e,n]=T.useState("gifts"),[r,s]=T.useState(new Set),[i,o]=T.useState(new Set),[a,l]=T.useState(!1),[u,d]=T.useState(!1),[h,m]=T.useState(!1),[p,b]=T.useState(null),[_,P]=T.useState(!1),v=T.useRef(null),[y,E]=T.useState([]),[j,C]=T.useState(!0),[V,x]=T.useState(null),[S,A]=T.useState(!1),[I,R]=T.useState([]),[M,N]=T.useState(null),[$,Q]=T.useState([]),[J,q]=T.useState(null),[L,O]=T.useState({}),[W,Z]=T.useState({}),[se,we]=T.useState(0),pe="person_page_ai_picks_cache",_e="person_page_interest_products_cache",ke="person_page_carousel_scroll",De="person_page_navigated_from_product",ye=T.useRef(null),bt=T.useRef(!1),Bn=T.useRef(!1),dn=T.useRef(!1),ze=T.useRef(null),tt=T.useRef(null);T.useEffect(()=>{if(!J){C(!1),ze.current=null,dn.current=!1;return}try{const Ee=localStorage.getItem(pe);if(Ee){const ce=JSON.parse(Ee),ot=Date.now()-(ce.timestamp||0),He=60*60*1e3,Je=ce.personId===J;if(Je&&ot<He&&ce.products&&ce.products.length>0){console.log(" PersonPage: Using cached AI picks (from ActionPersonSheet or browser refresh)"),Bn.current=!0,ze.current=J;try{const st=localStorage.getItem("saved_persons"),pt=st?JSON.parse(st):[];tt.current=`${J}-${pt.length}`}catch{tt.current=`${J}-0`}dn.current=!1,E(ce.products),C(!1),x(null);return}else Je?ot>=He&&console.log(" PersonPage: Cache expired, will fetch fresh data"):console.log(` PersonPage: Cache is for different person (cache: ${ce.personId}, selected: ${J}), will fetch fresh data`)}}catch(Ee){console.warn(" PersonPage: Error reading cache, fetching fresh data:",Ee)}if(!$.find(Ee=>Ee.id===J)){console.log(" PersonPage: Person not found in savedPersons yet, waiting..."),dn.current=!1;return}const G=`${J}-${$.length}`;if(tt.current===G){console.log(" PersonPage: Already processed this person with current data, skipping");return}if(dn.current){console.log(" PersonPage: Already fetching, skipping duplicate call");return}if(ze.current===J){console.log(" PersonPage: Already fetched for this person, skipping duplicate call"),tt.current=G;return}if(dn.current=!0,ze.current=J,tt.current=G,!(sessionStorage.getItem(De)==="true"))try{localStorage.removeItem(ke)}catch{}Bn.current=!1,(async()=>{if(C(!0),x(null),!po()&&xE().length===0){C(!1),x("Please fill out the onboarding form or add a person to get recommendations."),E([]);return}try{let ce=null;const ot=oe=>`15/03/${new Date().getFullYear()-oe}`,He=oe=>{const ne={small:"S",medium:"M",large:"L",xlarge:"XL",xxlarge:"XXL",s:"S",m:"M",l:"L",xl:"XL",xxl:"XXL"},ge=oe.toLowerCase().trim();return ne[ge]||"M"},Je=$.find(oe=>oe.id===J);if(Je)ce={personAge:(Je.createdAt?Math.floor((Date.now()-Je.createdAt)/31536e6):30).toString(),gender:Je.gender||"male",relationship:Je.relationship||"friend",interests:Je.interests||[],favoritedrink:"beer",clothesSize:"medium",minBudget:Je.minBudget||10,maxBudget:Je.maxBudget||50,name:Je.name||"Friend"};else{C(!1),x("Please select a person to get recommendations."),E([]);return}const st=ce.interests&&ce.interests.length>0?ce.interests:["General"],pt=Eh(st),Un=parseInt(ce.personAge||"30"),tr=ot(Un),D={context:{name:ce.name||"Friend",relationship:ce.relationship?ce.relationship.charAt(0).toUpperCase()+ce.relationship.slice(1).toLowerCase():"Friend",gender:(ce.gender||"male").toLowerCase(),dob:tr,interests:pt,budget_min:ce.minBudget||10,budget_max:ce.maxBudget||50,other:{clothing_size:He(ce.clothesSize||"medium"),favourite_drink:(ce.favoritedrink||"beer").toLowerCase()}}},z=new URLSearchParams(window.location.search).get("client_origin"),Y=new URLSearchParams;z&&Y.append("client_origin",z);const te=Ha(),fe=Ca("/recommend",Y),de=Ru(te||void 0);console.log("Making API call to:",fe),console.log("Request headers:",de),console.log("Request body:",D),console.log("Mode:",te);const K=await zr(fe,{method:"POST",headers:de,body:JSON.stringify(D)},"POST /recommend");if(!K.ok)throw new Error(`HTTP error! status: ${K.status}`);const ue=await K.json();if(ue.products&&ue.products.length>0){const oe=ue.products.map(ne=>{const ge=ne.asin||`ai-${ne.rank||Math.random().toString(36).substr(2,9)}`,Re=ne.product_title||`Product ${ne.rank||"Unknown"}`,at=ne.product_photo||`https://storage.googleapis.com/simplysent-product-images/${ge}/t_${ge}_1.png`;let Ve=0;if(ne.price_numeric!==void 0&&ne.price_numeric!==null)Ve=typeof ne.price_numeric=="number"?ne.price_numeric:parseFloat(String(ne.price_numeric))||0;else if(ne.product_price){const fn=String(ne.product_price).replace(/[$,]/g,"");Ve=parseFloat(fn)||0}let Le;if(ne.rating_numeric!==void 0&&ne.rating_numeric!==null){const fn=typeof ne.rating_numeric=="number"?ne.rating_numeric:parseFloat(String(ne.rating_numeric));!isNaN(fn)&&fn>0&&fn<=5&&(Le=fn)}const nt=ne.num_ratings_numeric!==void 0&&ne.num_ratings_numeric!==null?typeof ne.num_ratings_numeric=="number"?ne.num_ratings_numeric:parseInt(String(ne.num_ratings_numeric))||0:ne.product_num_ratings||0;return console.log(` Product ${ge}:`,{name:Re,image:at,price:Ve,rating:Le,numRatings:nt}),{id:ge,image:at,name:Re,price:Ve,rating:Le,numRatings:nt,description:Zd}});console.log(" PersonPage: Transformed products from API:",oe),ze.current=J,tt.current=`${J}-${$.length}`;try{localStorage.setItem(pe,JSON.stringify({products:oe,timestamp:Date.now(),recommendationId:ue.recommendation_id,personId:J})),console.log(" PersonPage: Saved AI picks to cache")}catch(ne){console.warn(" PersonPage: Error saving to cache:",ne)}E(oe)}else throw new Error("No product recommendations received")}catch(ce){console.error("Error fetching AI picks:",ce),x(bE(ce)),E([]),tt.current=`${J}-${$.length}`}finally{C(!1),A(!1),dn.current=!1}})()},[J,$.length]);const Ae=()=>{A(!0);try{localStorage.removeItem(pe),localStorage.removeItem(_e),console.log(" PersonPage: Cleared all caches for refresh")}catch(G){console.warn(" PersonPage: Error clearing cache:",G)}dn.current=!1,ze.current=null,O({}),Ut.current.clear(),Bn.current=!1,we(G=>G+1),(async()=>{if(C(!0),x(null),!po()&&xE().length===0){C(!1),x("Please fill out the onboarding form or add a person to get recommendations."),E([]),A(!1);return}try{let ee=null;const Pe=de=>`15/03/${new Date().getFullYear()-de}`,Ee=de=>{const K={small:"S",medium:"M",large:"L",xlarge:"XL",xxlarge:"XXL",s:"S",m:"M",l:"L",xl:"XL",xxl:"XXL"},ue=de.toLowerCase().trim();return K[ue]||"M"},ce=$.find(de=>de.id===J);if(ce)ee={personAge:(ce.createdAt?Math.floor((Date.now()-ce.createdAt)/31536e6):30).toString(),gender:ce.gender||"male",relationship:ce.relationship||"friend",interests:ce.interests||[],favoritedrink:"beer",clothesSize:"medium",minBudget:ce.minBudget||10,maxBudget:ce.maxBudget||50,name:ce.name||"Friend"};else{C(!1),x("Please select a person to get recommendations."),E([]),A(!1);return}const ot=ee.interests&&ee.interests.length>0?ee.interests:["General"],He=Eh(ot),Je=parseInt(ee.personAge||"30"),st=Pe(Je),pt={context:{name:ee.name||"Friend",relationship:ee.relationship?ee.relationship.charAt(0).toUpperCase()+ee.relationship.slice(1).toLowerCase():"Friend",gender:(ee.gender||"male").toLowerCase(),dob:st,interests:He,budget_min:ee.minBudget||10,budget_max:ee.maxBudget||50,other:{clothing_size:Ee(ee.clothesSize||"medium"),favourite_drink:(ee.favoritedrink||"beer").toLowerCase()}}},tr=new URLSearchParams(window.location.search).get("client_origin"),D=new URLSearchParams;tr&&D.append("client_origin",tr);const F=Ha(),z=Ca("/recommend",D),Y=Ru(F||void 0),te=await zr(z,{method:"POST",headers:Y,body:JSON.stringify(pt)},"POST /recommend");if(!te.ok)throw new Error(`HTTP error! status: ${te.status}`);const fe=await te.json();if(fe.products&&fe.products.length>0){const de=fe.products.map(K=>{const ue=K.asin||`ai-${K.rank||Math.random().toString(36).substr(2,9)}`,oe=K.product_title||`Product ${K.rank||"Unknown"}`,ne=K.product_photo||`https://storage.googleapis.com/simplysent-product-images/${ue}/t_${ue}_1.png`;let ge=0;if(K.price_numeric!==void 0&&K.price_numeric!==null)ge=typeof K.price_numeric=="number"?K.price_numeric:parseFloat(String(K.price_numeric))||0;else if(K.product_price){const Ve=String(K.product_price).replace(/[$,]/g,"");ge=parseFloat(Ve)||0}let Re;if(K.rating_numeric!==void 0&&K.rating_numeric!==null){const Ve=typeof K.rating_numeric=="number"?K.rating_numeric:parseFloat(String(K.rating_numeric));!isNaN(Ve)&&Ve>0&&Ve<=5&&(Re=Ve)}const at=K.num_ratings_numeric!==void 0&&K.num_ratings_numeric!==null?typeof K.num_ratings_numeric=="number"?K.num_ratings_numeric:parseInt(String(K.num_ratings_numeric))||0:K.product_num_ratings||0;return{id:ue,image:ne,name:oe,price:ge,rating:Re,numRatings:at,description:Zd}});E(de);try{localStorage.setItem(pe,JSON.stringify({products:de,timestamp:Date.now(),recommendationId:fe.recommendation_id,personId:J})),console.log(" PersonPage: Saved AI picks to cache (refresh)")}catch(K){console.warn(" PersonPage: Error saving to cache:",K)}}else throw new Error("No product recommendations received")}catch(ee){console.error("Error fetching AI picks:",ee),x(bE(ee)),E([])}finally{C(!1),A(!1)}})()};T.useEffect(()=>{const G=!sessionStorage.getItem("persons_cleared_on_app_load"),ee=sessionStorage.getItem("navigating_from_onboarding")==="true";if(G)try{localStorage.removeItem("saved_persons"),sessionStorage.setItem("persons_cleared_on_app_load","true")}catch(He){console.warn("Error clearing saved persons:",He)}const Pe={current:null};let Ee=!1;const ce=()=>{try{const He=localStorage.getItem("saved_persons");if(He){const Je=JSON.parse(He);if(Je.length>0)return Ee=!0,Q(Je),J||q(Je[Je.length-1].id),Pe.current&&(clearTimeout(Pe.current),Pe.current=null),ee&&sessionStorage.removeItem("navigating_from_onboarding"),!0}return Ee=!1,!1}catch(He){return console.warn("Error loading saved persons:",He),Ee=!1,!1}},ot=()=>{console.log("Person added event received"),Pe.current&&(clearTimeout(Pe.current),Pe.current=null),sessionStorage.removeItem("navigating_from_onboarding"),setTimeout(()=>{ce()},100)};return window.addEventListener("person-added",ot),ce(),ee&&setTimeout(()=>{sessionStorage.removeItem("navigating_from_onboarding")},1e3),!Ee&&!G&&!ee&&(Pe.current=setTimeout(()=>{const He=localStorage.getItem("saved_persons");(He?JSON.parse(He):[]).length===0?(console.log("No persons found, redirecting to onboarding"),t("/")):(console.log("Persons found after timeout, loading them"),ce()),Pe.current=null},2e3)),()=>{window.removeEventListener("person-added",ot),Pe.current&&clearTimeout(Pe.current)}},[t,J]),T.useEffect(()=>{const H=()=>{try{const ee=localStorage.getItem("rapidapi_products");if(ee){const Pe=JSON.parse(ee);Pe.products&&Array.isArray(Pe.products)&&R(Pe.products)}}catch(ee){console.warn("Error loading RapidAPI products:",ee)}};H();const G=()=>{H()};return window.addEventListener("rapidapi-products-updated",G),()=>{window.removeEventListener("rapidapi-products-updated",G)}},[]);const Ut=T.useRef(new Set),tn=T.useMemo(()=>{if(!J)return[];const H=$.find(G=>G.id===J);return(H==null?void 0:H.interests)||[]},[J,$]);T.useEffect(()=>{if(!J||tn.length===0)return;const H=async G=>{if(Ut.current.has(G)){console.log(` PersonPage: Already fetching products for interest "${G}", skipping duplicate call`);return}try{const ee=localStorage.getItem(_e);if(ee){const Pe=JSON.parse(ee),Ee=`${J}_${G}`,ce=Pe[Ee];if(ce){const ot=Date.now()-(ce.timestamp||0),He=60*60*1e3;if(ot<He&&ce.products&&ce.products.length>0)if(ce.products.length<40)console.log(` PersonPage: Cached products for "${G}" have ${ce.products.length}, fetching fresh`);else{console.log(` PersonPage: Using cached products for interest "${G}"`),O(Je=>({...Je,[G]:ce.products})),Z(Je=>({...Je,[G]:!1}));return}}}}catch(ee){console.warn(` PersonPage: Error reading cache for interest "${G}", fetching fresh data:`,ee)}Ut.current.add(G),Z(ee=>({...ee,[G]:!0}));try{const ee=new URLSearchParams,Pe=qy(G);ee.append("interest",Pe),ee.append("limit","80"),ee.append("offset","0"),ee.append("collection","amazon");const Ee=Ha(),ce=Ca("/products",ee),ot=Ru(Ee||void 0);console.log(` PersonPage: Fetching products for interest "${Pe}" (normalized from "${G}") from:`,ce);const He=await zr(ce,{method:"GET",headers:ot},`GET /products?interest=${Pe}`);if(!He.ok){const pt=await He.text();throw console.error(` PersonPage: API error for interest "${G}":`,He.status,pt),new Error(`HTTP error! status: ${He.status}`)}const st=(await He.json()).products||[];if(console.log(` PersonPage: Received ${Array.isArray(st)?st.length:0} products for interest "${G}"`),Array.isArray(st)&&st.length>0){let Un=st.map(D=>{let F=0;if(D.price_numeric!==void 0&&D.price_numeric!==null)F=typeof D.price_numeric=="number"?D.price_numeric:parseFloat(D.price_numeric.toString())||0;else if(D.product_price){const te=D.product_price.toString().replace(/[$,]/g,"");F=parseFloat(te)||0}let z;if(D.rating_numeric!==void 0&&D.rating_numeric!==null){const te=typeof D.rating_numeric=="number"?D.rating_numeric:parseFloat(D.rating_numeric.toString());!isNaN(te)&&te>0&&te<=5&&(z=te)}const Y=D.num_ratings_numeric!==void 0&&D.num_ratings_numeric!==null?typeof D.num_ratings_numeric=="number"?D.num_ratings_numeric:parseInt(D.num_ratings_numeric.toString())||0:0;return{id:D.asin||`${G}-${Math.random().toString(36).substr(2,9)}`,image:D.product_photo||"",name:D.product_title||"Unknown Product",price:F,rating:z,numRatings:Y,description:Zd}}),tr=80;for(;Un.length<40&&tr<500;){const D=new URLSearchParams,F=qy(G);D.append("interest",F),D.append("limit","80"),D.append("offset",String(tr)),D.append("collection","amazon");try{const z=Ca("/products",D),Y=await zr(z,{method:"GET",headers:ot},`GET /products?interest=${F}&offset=${tr}`);if(!Y.ok)break;const fe=(await Y.json()).products||[];if(fe.length===0)break;const de=fe.map(K=>{let ue=0;if(K.price_numeric!==void 0&&K.price_numeric!==null)ue=typeof K.price_numeric=="number"?K.price_numeric:parseFloat(String(K.price_numeric))||0;else if(K.product_price){const ge=String(K.product_price).replace(/[$,]/g,"");ue=parseFloat(ge)||0}let oe;if(K.rating_numeric!==void 0&&K.rating_numeric!==null){const ge=typeof K.rating_numeric=="number"?K.rating_numeric:parseFloat(String(K.rating_numeric));!isNaN(ge)&&ge>0&&ge<=5&&(oe=ge)}const ne=K.num_ratings_numeric!==void 0&&K.num_ratings_numeric!==null?typeof K.num_ratings_numeric=="number"?K.num_ratings_numeric:parseInt(String(K.num_ratings_numeric))||0:0;return{id:K.asin||`${G}-${Math.random().toString(36).substr(2,9)}`,image:K.product_photo||"",name:K.product_title||"Unknown Product",price:ue,rating:oe,numRatings:ne,description:Zd}});if(Un=[...Un,...de],Un.length>=40)break;tr+=80}catch(z){console.warn(` PersonPage: Error fetching additional products for "${G}":`,z);break}}console.log(` PersonPage: Fetched ${Un.length} products for interest "${G}"`),O(D=>({...D,[G]:Un}));try{const D=localStorage.getItem(_e),F=D?JSON.parse(D):{},z=`${J}_${G}`;F[z]={products:Un,timestamp:Date.now()},localStorage.setItem(_e,JSON.stringify(F)),console.log(` PersonPage: Saved products for interest "${G}" to cache`)}catch(D){console.warn(` PersonPage: Error saving to cache for interest "${G}":`,D)}}else console.log(` PersonPage: No products returned for interest "${G}"`),O(pt=>({...pt,[G]:[]}))}catch(ee){console.error(` PersonPage: Error fetching products for interest "${G}":`,ee),O(Pe=>({...Pe,[G]:[]}))}finally{Z(ee=>({...ee,[G]:!1})),Ut.current.delete(G)}};tn.forEach(G=>{const ee=L[G]||[];(!ee.length||ee.length<40)&&!W[G]&&!Ut.current.has(G)&&(console.log(` PersonPage: Refetching "${G}" - current: ${ee.length}, need: 40`),O(Pe=>{const Ee={...Pe};return delete Ee[G],Ee}),Ut.current.delete(G),H(G))})},[J,tn.join(","),se]);const Yr=T.useMemo(()=>{if(!p)return y;const H=[...y];return p==="highest"?H.sort((G,ee)=>ee.price-G.price):H.sort((G,ee)=>G.price-ee.price)},[y,p]),ms=T.useMemo(()=>{if(!M)return I;const H=[...I];return M==="highest"?H.sort((G,ee)=>ee.price-G.price):H.sort((G,ee)=>G.price-ee.price)},[I,M]),St=T.useMemo(()=>{const H={};return Object.keys(L).forEach(G=>{const ee=[...L[G]];let Pe=ee;p==="highest"?Pe=ee.sort((Ee,ce)=>ce.price-Ee.price):p==="lowest"&&(Pe=ee.sort((Ee,ce)=>Ee.price-ce.price)),H[G]=Pe.slice(0,40)}),H},[L,p]),_t=T.useMemo(()=>new Set(y.map(H=>H.id)),[y]),Dn=T.useMemo(()=>({"ai-picks":Yr,rapidapi:ms.filter(H=>!_t.has(H.id))}),[Yr,ms,_t]),Nr=T.useMemo(()=>Object.values(Dn).flat(),[Dn]),gr=H=>{s(G=>{const ee=new Set(G);return ee.has(H)?ee.delete(H):ee.add(H),ee})},Ie=H=>{o(G=>{const ee=new Set(G);return ee.add(H),ee})},Ue=H=>{console.log(` PersonPage: handleProductClick called for productId: ${H}`);const G=ye.current||document.querySelector('[data-carousel="ai-picks"]');if(G){const ee=G.scrollLeft;console.log(` PersonPage: Saving scroll position: ${ee}`,{element:G,scrollLeft:G.scrollLeft,scrollWidth:G.scrollWidth,clientWidth:G.clientWidth});try{localStorage.setItem(ke,ee.toString()),sessionStorage.setItem(De,"true"),console.log(` PersonPage: Saved carousel scroll position: ${ee}`)}catch(Pe){console.warn(" PersonPage: Error saving scroll position:",Pe)}}else console.warn(" PersonPage: Could not find carousel element to save scroll position");t(`/product/${H}`)};return T.useEffect(()=>{const H=G=>{v.current&&!v.current.contains(G.target)&&l(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),T.useEffect(()=>{if(u||h||_){const H=document.createElement("div");return H.style.position="fixed",H.style.bottom="0",H.style.left="0",H.style.right="0",H.style.height="34px",H.style.background="#ffffff",H.style.pointerEvents="none",H.style.zIndex="9999999",H.id="sheet-bottom-safe-area",document.body.appendChild(H),()=>{const G=document.getElementById("sheet-bottom-safe-area");G&&G.remove()}}},[u,h,_]),T.useEffect(()=>{Nr.length>=2&&s(H=>H.size===0?new Set([Nr[0].id,Nr[1].id]):H)},[Nr]),T.useLayoutEffect(()=>{if(y.length===0||j||bt.current)return;if(!(sessionStorage.getItem(De)==="true")){try{localStorage.removeItem(ke),sessionStorage.removeItem(De)}catch{}bt.current=!1;return}const G=ye.current;if(G)try{const ee=localStorage.getItem(ke);if(ee){const Pe=parseInt(ee,10);if(!isNaN(Pe)&&Pe>0){const Ee=G.style.visibility,ce=G.style.opacity;G.style.visibility="hidden",G.style.opacity="0";const ot=G.querySelectorAll("*"),He=[];ot.forEach(st=>{st instanceof HTMLElement&&(He.push({element:st,transition:st.style.transition}),st.style.transition="none")});const Je=G.style.transition;G.style.transition="none",G.scrollLeft=Pe,G.offsetHeight,requestAnimationFrame(()=>{G.style.visibility=Ee||"",G.style.opacity=ce||"",G.style.transition=Je||"",He.forEach(({element:st,transition:pt})=>{st.style.transition=pt||""}),sessionStorage.removeItem(De),bt.current=!0})}}}catch(ee){console.warn(" PersonPage: Error restoring scroll:",ee)}},[y,j]),T.useEffect(()=>{Bn.current||(bt.current=!1)},[y.length]),c.jsxs("div",{className:"overscroll-contain bg-gradient-to-b from-[#f7f6fe] to-[#f1eefe] min-h-screen",children:[c.jsx("header",{id:"topnav",className:"bg-[#f7f6fe]",style:{paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:c.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[c.jsx("h1",{className:"font-notch font-bold text-2xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent tracking-tight drop-shadow-sm",children:"SimplySent"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:v,children:[c.jsxs("button",{type:"button",onClick:()=>l(!a),id:"person-select-button",className:"inline-flex items-center gap-3 bg-white rounded-full border border-gray-200 px-5 py-2.5 hover:bg-gray-50 transition-colors shadow-[0_8px_30px_rgba(0,0,0,0.08)]","aria-label":"Select person",children:[c.jsx(Wt,{icon:tq,className:"w-6 h-6 text-gray-700"}),c.jsx("span",{className:"font-semibold text-gray-800 text-base",children:J&&((zn=$.find(H=>H.id===J))==null?void 0:zn.name)||"Kevin"})]}),a&&c.jsxs("div",{className:"absolute left-0 mt-2 bg-white rounded-3xl shadow-[0_8px_30px_rgba(0,0,0,0.08)] border border-gray-200 z-50 min-w-[120px] overflow-hidden max-h-[400px] overflow-y-auto",children:[$.map(H=>c.jsx("button",{type:"button",onClick:()=>{q(H.id),l(!1)},className:`block w-full pl-5 pr-4 py-2.5 font-semibold transition-colors text-left text-gray-800 hover:bg-purple-50 ${J===H.id?"bg-purple-50":""}`,children:H.name},H.id)),$.length===0&&c.jsx("div",{className:"px-5 py-2.5 text-sm text-gray-500",children:"No persons added yet"})]})]}),c.jsx("button",{type:"button",onClick:()=>P(!0),id:"add-person-button",className:"flex items-center justify-center w-12 h-12 rounded-full bg-simplysent-purple hover:bg-simplysent-purple-dark transition-colors shadow-[0_8px_30px_rgba(0,0,0,0.08)]","aria-label":"Add person",children:c.jsx(Wt,{icon:aq,className:"w-6 h-6 text-white"})})]})]})}),c.jsx("div",{className:"px-4 pb-4",style:{paddingLeft:"max(1rem, env(safe-area-inset-left))",paddingRight:"max(1rem, env(safe-area-inset-right))",paddingBottom:"calc(env(safe-area-inset-bottom) + 80px)"},children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[e==="gifts"&&c.jsxs("div",{children:[c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"flex items-center justify-evenly gap-0.5 mb-4 overflow-x-auto no-scrollbar -mx-4 px-2",children:[c.jsxs(Ye,{variant:p==="highest"?"primary":"outline",size:"small",onClick:()=>b("highest"),className:"flex items-center justify-center gap-1 !px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Sort by highest price",children:[c.jsx(Wt,{icon:Jd,className:"w-2.5 h-2.5"}),c.jsx(Wt,{icon:yE,className:"w-2.5 h-2.5"}),c.jsx("span",{children:"High"})]}),c.jsxs(Ye,{variant:p==="lowest"?"primary":"outline",size:"small",onClick:()=>b("lowest"),className:"flex items-center justify-center gap-1 !px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Sort by lowest price",children:[c.jsx(Wt,{icon:Jd,className:"w-2.5 h-2.5"}),c.jsx(Wt,{icon:vE,className:"w-2.5 h-2.5"}),c.jsx("span",{children:"Low"})]}),c.jsx(Ye,{variant:"outline",size:"small",onClick:()=>d(!0),className:"!px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Edit budget",children:c.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[c.jsx(Wt,{icon:lq,className:"w-2.5 h-2.5"}),c.jsx("span",{children:"Budget"})]})}),c.jsx(Ye,{variant:"outline",size:"small",onClick:()=>m(!0),className:"!px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 !border-gray-200","aria-label":"Edit interests",children:c.jsxs("span",{className:"flex items-center justify-center gap-1.5",children:[c.jsx(Wt,{icon:uq,className:"w-2.5 h-2.5"}),c.jsx("span",{children:"Interests"})]})})]}),c.jsxs("div",{className:"flex items-center justify-between gap-3 mb-0",children:[c.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:["AI Picks For ",J&&((Vt=$.find(H=>H.id===J))==null?void 0:Vt.name)||"Kevin",po()&&c.jsxs("span",{className:"ml-2 text-base font-normal text-gray-500",children:["(",((nn=Dn["ai-picks"])==null?void 0:nn.filter(H=>!i.has(H.id)).length)||0,")"]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{type:"button",onClick:Ae,disabled:S||j,className:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh recommendations",children:c.jsx(Wt,{icon:cq,className:`w-4 h-4 text-gray-500 ${S?"animate-spin":""}`})})})]}),j?c.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:c.jsxs("div",{className:"text-center px-4",children:[c.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),c.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("svg",{className:"w-8 h-8 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),c.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Loading AI recommendations..."}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Finding the perfect picks for you"})]})}):V?c.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:c.jsxs("div",{className:"text-center px-4 max-w-md",children:[c.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-red-100 to-red-50"}),c.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),c.jsx("p",{className:"text-red-600 font-semibold text-lg mb-2",children:"Unable to load recommendations"}),c.jsx("p",{className:"text-gray-500 text-sm",children:V})]})}):((Sn=Dn["ai-picks"])==null?void 0:Sn.filter(H=>!i.has(H.id)).length)===0?c.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:c.jsxs("div",{className:"text-center px-4",children:[c.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50"}),c.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-simplysent-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]}),c.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Swipe down to generate new recommendations"}),c.jsx("p",{className:"text-gray-500 text-sm",children:"We'll find more great picks for you"})]})}):c.jsx("div",{ref:ye,"data-carousel":"ai-picks",className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-12 mt-[10px]",children:c.jsx("div",{className:"flex gap-4 transition-all duration-700 ease-out",children:(ps=Dn["ai-picks"])==null?void 0:ps.filter(H=>!i.has(H.id)).map((H,G)=>c.jsx("div",{className:"flex-shrink-0 w-[260px] transition-all duration-700 ease-out",style:{animation:`fadeInSlide 0.6s ease-out ${G*.05}s both`},children:c.jsx(Eo,{id:H.id,image:H.image,name:H.name,price:H.price,rating:H.rating,numRatings:H.numRatings,compact:!0,isAiPick:!0,isFavorite:r.has(H.id),onFavoriteToggle:()=>gr(H.id),onRemove:Ie,onClick:()=>Ue(H.id)})},H.id))})})]}),J&&((yr=$.find(H=>H.id===J))==null?void 0:yr.interests.map(H=>{const G=St[H]||[];if((W[H]||!1)&&G.length===0)return c.jsxs("div",{className:"mt-[10px]",children:[c.jsx("div",{className:"flex items-center gap-3 mb-0",children:c.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:[wE(H),po()&&c.jsx("span",{className:"ml-2 text-base font-normal text-gray-500",children:"(loading...)"})]})}),c.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"200px"},children:c.jsx("div",{className:"text-center px-4",children:c.jsxs("div",{className:"relative mx-auto mb-4 w-12 h-12",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),c.jsx("div",{className:"absolute inset-1 rounded-full bg-white"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("svg",{className:"w-6 h-6 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})})]},H);if(G.filter(ce=>!i.has(ce.id)).length===0)return null;const Ee=G.filter(ce=>!i.has(ce.id)).length;return c.jsxs("div",{className:"mt-[10px]",children:[c.jsx("div",{className:"flex items-center gap-3 mb-0",children:c.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:[wE(H),po()&&c.jsxs("span",{className:"ml-2 text-base font-normal text-gray-500",children:["(",Ee,")"]})]})}),c.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-8 mt-[10px]",children:c.jsx("div",{className:"flex gap-4 transition-all duration-1000",children:G.filter(ce=>!i.has(ce.id)).map(ce=>c.jsx("div",{className:"flex-shrink-0 w-[260px]",children:c.jsx(Eo,{id:ce.id,image:ce.image,name:ce.name,price:ce.price,rating:ce.rating,numRatings:ce.numRatings,compact:!0,className:"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",isFavorite:r.has(ce.id),onFavoriteToggle:()=>gr(ce.id),onRemove:Ie,onClick:()=>Ue(ce.id)})},ce.id))})})]},H)})),I.length>0&&c.jsxs("div",{className:"mt-[10px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 mb-0",children:[c.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"From RapidAPI"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ye,{variant:M==="highest"?"primary":"outline",size:"small",onClick:()=>N("highest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap border-gray-300","aria-label":"Sort by highest price",children:[c.jsx(Wt,{icon:Jd,className:"w-2.5 h-2.5"}),c.jsx(Wt,{icon:yE,className:"w-2.5 h-2.5"}),c.jsx("span",{children:"High"})]}),c.jsxs(Ye,{variant:M==="lowest"?"primary":"outline",size:"small",onClick:()=>N("lowest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap border-gray-300","aria-label":"Sort by lowest price",children:[c.jsx(Wt,{icon:Jd,className:"w-2.5 h-2.5"}),c.jsx(Wt,{icon:vE,className:"w-2.5 h-2.5"}),c.jsx("span",{children:"Low"})]})]})]}),((Zn=Dn.rapidapi)==null?void 0:Zn.filter(H=>!i.has(H.id)).length)===0?c.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("p",{className:"text-gray-400 text-lg font-medium",children:"No more recommendations here."}),c.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for new picks!"})]})}):c.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-8 mt-[10px]",children:c.jsx("div",{className:"flex gap-4 transition-all duration-1000",children:(Lt=Dn.rapidapi)==null?void 0:Lt.filter(H=>!i.has(H.id)).map(H=>c.jsx("div",{className:"flex-shrink-0 w-[260px]",children:c.jsx(Eo,{id:H.id,image:H.image,name:H.name,price:H.price,rating:H.rating,numRatings:H.numRatings,compact:!0,className:"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",isFavorite:r.has(H.id),onFavoriteToggle:()=>gr(H.id),onRemove:Ie})},H.id))})})]})]}),e==="favourites"&&c.jsxs("div",{children:[c.jsx("div",{className:"mt-6",children:c.jsx("div",{className:"flex items-center gap-3 mb-0",children:c.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"Favourites"})})}),Array.from(r).length===0?c.jsx("div",{className:"mt-6",children:c.jsx("p",{className:"text-center text-gray-600",children:"No favourites yet. Tap the heart on any product to add it here."})}):c.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3 sm:gap-4",children:Nr.filter(H=>r.has(H.id)).map(H=>{const G=y.some(ee=>ee.id===H.id);return c.jsx("div",{className:"flex justify-center w-full",children:c.jsx(Eo,{id:H.id,image:H.image,name:H.name,price:H.price,rating:H.rating,numRatings:H.numRatings,isFavorite:!0,onFavoriteToggle:()=>gr(H.id),hideActions:!0,favouritesVariant:!0,onClick:G?()=>Ue(H.id):void 0})},H.id)})})]}),e==="share"&&c.jsxs("div",{children:[c.jsx("div",{className:"mt-6",children:c.jsx("div",{className:"flex items-center gap-3 mb-0",children:c.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"Share"})})}),c.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[c.jsxs("div",{className:"w-full max-w-xl flex items-center gap-3 bg-white rounded-xl border-2 border-gray-200 p-3",children:[c.jsx("input",{value:"https://simplysent.co/1234",readOnly:!0,className:"flex-1 bg-transparent outline-none text-gray-800"}),c.jsx(Ye,{size:"small",onClick:()=>navigator.clipboard.writeText("https://simplysent.co/1234"),variant:"secondary",children:"Copy"})]}),c.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Share this link with friends and family"})]})]})]})}),c.jsx(hq,{open:u,onOpenChange:d,initialMinBudget:J&&((jr=$.find(H=>H.id===J))==null?void 0:jr.minBudget)||50,initialMaxBudget:J&&((gs=$.find(H=>H.id===J))==null?void 0:gs.maxBudget)||300,onSave:(H,G)=>{if(J){const ee=$.map(Pe=>Pe.id===J?{...Pe,minBudget:H,maxBudget:G}:Pe);Q(ee),localStorage.setItem("saved_persons",JSON.stringify(ee)),Ae()}}}),c.jsx(mq,{open:h,onOpenChange:m,initialInterests:J?((er=$.find(H=>H.id===J))==null?void 0:er.interests)||[]:[],gender:J?(Ji=$.find(H=>H.id===J))==null?void 0:Ji.gender:void 0,onSave:H=>{if(J){const G=$.map(ee=>ee.id===J?{...ee,interests:H}:ee);Q(G),localStorage.setItem("saved_persons",JSON.stringify(G));try{localStorage.removeItem(_e)}catch(ee){console.warn("Error clearing interest products cache:",ee)}O({}),Ut.current.clear(),we(ee=>ee+1),Ae()}}}),c.jsx("div",{id:"floating-nav",className:`fixed inset-x-0 z-40 transition-opacity duration-300 ${u||h?"opacity-0 pointer-events-none":"opacity-100"}`,style:{bottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:c.jsx("div",{className:"w-full flex justify-center",children:c.jsxs("div",{className:"relative inline-flex items-center bg-white/95 backdrop-blur-lg rounded-full border border-gray-200 p-1.5 shadow-lg overflow-hidden will-change-transform gap-1.5",children:[c.jsx("div",{className:"absolute rounded-full transition-transform duration-300 ease-[cubic-bezier(.32,.72,.33,.99)] pointer-events-none",style:{width:"60px",height:"60px",left:"4px",top:"50%",transform:`translateY(-50%) translateX(${e==="gifts"?0:e==="favourites"?62:124}px)`},children:c.jsx("div",{className:"w-full h-full bg-simplysent-purple rounded-full shadow-md"})}),c.jsx("button",{type:"button",onMouseDown:H=>H.preventDefault(),onClick:()=>n("gifts"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="gifts"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:c.jsx(Wt,{icon:sq,size:"lg"})}),c.jsx("button",{type:"button",onMouseDown:H=>H.preventDefault(),onClick:()=>n("favourites"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="favourites"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:c.jsx(Wt,{icon:iq,size:"lg"})}),c.jsx("button",{type:"button",onMouseDown:H=>H.preventDefault(),onClick:()=>n("share"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="share"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:c.jsx(Wt,{icon:nq,size:"lg"})})]})})}),c.jsx(qN,{open:_,onOpenChange:P,title:"Add Person"})]})},yq="modulepreload",vq=function(t){return"/"+t},SE={},xq=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=vq(l),l in SE)return;SE[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":yq,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},wq=()=>{};var _E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},bq=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Z4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(m=64)),r.push(n[d],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new Sq;const m=i<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const b=u<<6&192|h;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _q=function(t){const e=J4(t);return Z4.encodeByteArray(e,!0)},Ih=function(t){return _q(t).replace(/\./g,"")},Eq=function(t){try{return Z4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=()=>Tq().__FIREBASE_DEFAULTS__,Aq=()=>{if(typeof process>"u"||typeof _E>"u")return;const t=_E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Cq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Eq(t[1]);return e&&JSON.parse(e)},h1=()=>{try{return wq()||Pq()||Aq()||Cq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Iq=t=>{var e,n;return(n=(e=h1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kq=t=>{const e=Iq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ej=()=>{var t;return(t=h1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jq(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(o)),""].join(".")}const Wu={};function Dq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wu))Wu[e]?t.emulator.push(e):t.prod.push(e);return t}function Mq(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EE=!1;function Vq(t,e){if(typeof window>"u"||typeof document>"u"||!m1(window.location.host)||Wu[t]===e||Wu[t]||EE)return;Wu[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Dq().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{EE=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=Mq(r),p=n("text"),b=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),P=document.getElementById(_)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;a(E),d(P,_);const j=u();l(y,v),E.append(y,b,P,j),document.body.appendChild(E)}i?(b.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oq(){var e;const t=(e=h1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fq(){return!Oq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $q(){try{return typeof indexedDB=="object"}catch{return!1}}function Bq(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq="FirebaseError";class Rl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zq,Object.setPrototypeOf(this,Rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tj.prototype.create)}}class tj{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Uq(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Rl(s,a,r)}}function Uq(t,e){return t.replace(Hq,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Hq=/\{\$([^}]+)}/g;function kh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(TE(i)&&TE(o)){if(!kh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function TE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(t){return t&&t._delegate?t._delegate:t}class Dc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nq;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Gq(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Kq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kq(t){return t===fo?void 0:t}function Gq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qq(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const Xq={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},Qq=Ke.INFO,Jq={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},Zq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Jq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nj{constructor(e){this.name=e,this._logLevel=Qq,this._logHandler=Zq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const eK=(t,e)=>e.some(n=>t instanceof n);let PE,AE;function tK(){return PE||(PE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nK(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rj=new WeakMap,l0=new WeakMap,sj=new WeakMap,Zp=new WeakMap,p1=new WeakMap;function rK(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ci(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rj.set(n,t)}).catch(()=>{}),p1.set(e,t),e}function sK(t){if(l0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});l0.set(t,e)}let u0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return l0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iK(t){u0=t(u0)}function oK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(eg(this),e,...n);return sj.set(r,e.sort?e.sort():[e]),Ci(r)}:nK().includes(t)?function(...e){return t.apply(eg(this),e),Ci(rj.get(this))}:function(...e){return Ci(t.apply(eg(this),e))}}function aK(t){return typeof t=="function"?oK(t):(t instanceof IDBTransaction&&sK(t),eK(t,tK())?new Proxy(t,u0):t)}function Ci(t){if(t instanceof IDBRequest)return rK(t);if(Zp.has(t))return Zp.get(t);const e=aK(t);return e!==t&&(Zp.set(t,e),p1.set(e,t)),e}const eg=t=>p1.get(t);function lK(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ci(o.result),l.oldVersion,l.newVersion,Ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const uK=["get","getKey","getAll","getAllKeys","count"],cK=["put","add","delete","clear"],tg=new Map;function CE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||uK.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return tg.set(e,i),i}iK(t=>({...t,get:(e,n,r)=>CE(e,n)||t.get(e,n,r),has:(e,n)=>!!CE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const c0="@firebase/app",IE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new nj("@firebase/app"),hK="@firebase/app-compat",mK="@firebase/analytics-compat",pK="@firebase/analytics",gK="@firebase/app-check-compat",yK="@firebase/app-check",vK="@firebase/auth",xK="@firebase/auth-compat",wK="@firebase/database",bK="@firebase/data-connect",SK="@firebase/database-compat",_K="@firebase/functions",EK="@firebase/functions-compat",TK="@firebase/installations",PK="@firebase/installations-compat",AK="@firebase/messaging",CK="@firebase/messaging-compat",IK="@firebase/performance",kK="@firebase/performance-compat",NK="@firebase/remote-config",jK="@firebase/remote-config-compat",RK="@firebase/storage",DK="@firebase/storage-compat",MK="@firebase/firestore",VK="@firebase/ai",LK="@firebase/firestore-compat",OK="firebase",FK="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="[DEFAULT]",$K={[c0]:"fire-core",[hK]:"fire-core-compat",[pK]:"fire-analytics",[mK]:"fire-analytics-compat",[yK]:"fire-app-check",[gK]:"fire-app-check-compat",[vK]:"fire-auth",[xK]:"fire-auth-compat",[wK]:"fire-rtdb",[bK]:"fire-data-connect",[SK]:"fire-rtdb-compat",[_K]:"fire-fn",[EK]:"fire-fn-compat",[TK]:"fire-iid",[PK]:"fire-iid-compat",[AK]:"fire-fcm",[CK]:"fire-fcm-compat",[IK]:"fire-perf",[kK]:"fire-perf-compat",[NK]:"fire-rc",[jK]:"fire-rc-compat",[RK]:"fire-gcs",[DK]:"fire-gcs-compat",[MK]:"fire-fst",[LK]:"fire-fst-compat",[VK]:"fire-vertex","fire-js":"fire-js",[OK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,BK=new Map,f0=new Map;function kE(t,e){try{t.container.addComponent(e)}catch(n){Ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nh(t){const e=t.name;if(f0.has(e))return Ks.debug(`There were multiple attempts to register component ${e}.`),!1;f0.set(e,t);for(const n of Mc.values())kE(n,t);for(const n of BK.values())kE(n,t);return!0}function zK(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function UK(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new tj("app","Firebase",HK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qK=FK;function ij(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:d0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ii.create("bad-app-name",{appName:String(s)});if(n||(n=ej()),!n)throw Ii.create("no-options");const i=Mc.get(s);if(i){if(kh(n,i.options)&&kh(r,i.config))return i;throw Ii.create("duplicate-app",{appName:s})}const o=new Yq(s);for(const l of f0.values())o.addComponent(l);const a=new WK(n,r,o);return Mc.set(s,a),a}function KK(t=d0){const e=Mc.get(t);if(!e&&t===d0&&ej())return ij();if(!e)throw Ii.create("no-app",{appName:t});return e}function GK(){return Array.from(Mc.values())}function Ka(t,e,n){let r=$K[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ks.warn(o.join(" "));return}Nh(new Dc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK="firebase-heartbeat-database",XK=1,Vc="firebase-heartbeat-store";let ng=null;function oj(){return ng||(ng=lK(YK,XK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),ng}async function QK(t){try{const n=(await oj()).transaction(Vc),r=await n.objectStore(Vc).get(aj(t));return await n.done,r}catch(e){if(e instanceof Rl)Ks.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ks.warn(n.message)}}}async function NE(t,e){try{const r=(await oj()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,aj(t)),await r.done}catch(n){if(n instanceof Rl)Ks.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(r.message)}}}function aj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK=1024,ZK=30;class eG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=jE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>ZK){const o=rG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jE(),{heartbeatsToSend:r,unsentEntries:s}=tG(this._heartbeatsCache.heartbeats),i=Ih(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ks.warn(n),""}}}function jE(){return new Date().toISOString().substring(0,10)}function tG(t,e=JK){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),RE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),RE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $q()?Bq().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return NE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return NE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RE(t){return Ih(JSON.stringify({version:2,heartbeats:t})).length}function rG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){Nh(new Dc("platform-logger",e=>new dK(e),"PRIVATE")),Nh(new Dc("heartbeat",e=>new eG(e),"PRIVATE")),Ka(c0,IE,t),Ka(c0,IE,"esm2020"),Ka("fire-js","")}sG("");var iG="firebase",oG="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka(iG,oG,"app");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,lj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function A(){}A.prototype=S.prototype,x.F=S.prototype,x.prototype=new A,x.prototype.constructor=x,x.D=function(I,R,M){for(var N=Array(arguments.length-2),$=2;$<arguments.length;$++)N[$-2]=arguments[$];return S.prototype[R].apply(I,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,S,A){A||(A=0);const I=Array(16);if(typeof S=="string")for(var R=0;R<16;++R)I[R]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(R=0;R<16;++R)I[R]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=x.g[0],A=x.g[1],R=x.g[2];let M=x.g[3],N;N=S+(M^A&(R^M))+I[0]+3614090360&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[1]+3905402710&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[2]+606105819&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[3]+3250441966&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(M^A&(R^M))+I[4]+4118548399&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[5]+1200080426&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[6]+2821735955&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[7]+4249261313&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(M^A&(R^M))+I[8]+1770035416&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[9]+2336552879&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[10]+4294925233&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[11]+2304563134&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(M^A&(R^M))+I[12]+1804603682&4294967295,S=A+(N<<7&4294967295|N>>>25),N=M+(R^S&(A^R))+I[13]+4254626195&4294967295,M=S+(N<<12&4294967295|N>>>20),N=R+(A^M&(S^A))+I[14]+2792965006&4294967295,R=M+(N<<17&4294967295|N>>>15),N=A+(S^R&(M^S))+I[15]+1236535329&4294967295,A=R+(N<<22&4294967295|N>>>10),N=S+(R^M&(A^R))+I[1]+4129170786&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[6]+3225465664&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[11]+643717713&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[0]+3921069994&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^M&(A^R))+I[5]+3593408605&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[10]+38016083&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[15]+3634488961&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[4]+3889429448&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^M&(A^R))+I[9]+568446438&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[14]+3275163606&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[3]+4107603335&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[8]+1163531501&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(R^M&(A^R))+I[13]+2850285829&4294967295,S=A+(N<<5&4294967295|N>>>27),N=M+(A^R&(S^A))+I[2]+4243563512&4294967295,M=S+(N<<9&4294967295|N>>>23),N=R+(S^A&(M^S))+I[7]+1735328473&4294967295,R=M+(N<<14&4294967295|N>>>18),N=A+(M^S&(R^M))+I[12]+2368359562&4294967295,A=R+(N<<20&4294967295|N>>>12),N=S+(A^R^M)+I[5]+4294588738&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[8]+2272392833&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[11]+1839030562&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[14]+4259657740&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^M)+I[1]+2763975236&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[4]+1272893353&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[7]+4139469664&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[10]+3200236656&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^M)+I[13]+681279174&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[0]+3936430074&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[3]+3572445317&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[6]+76029189&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(A^R^M)+I[9]+3654602809&4294967295,S=A+(N<<4&4294967295|N>>>28),N=M+(S^A^R)+I[12]+3873151461&4294967295,M=S+(N<<11&4294967295|N>>>21),N=R+(M^S^A)+I[15]+530742520&4294967295,R=M+(N<<16&4294967295|N>>>16),N=A+(R^M^S)+I[2]+3299628645&4294967295,A=R+(N<<23&4294967295|N>>>9),N=S+(R^(A|~M))+I[0]+4096336452&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[7]+1126891415&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[14]+2878612391&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[5]+4237533241&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~M))+I[12]+1700485571&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[3]+2399980690&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[10]+4293915773&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[1]+2240044497&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~M))+I[8]+1873313359&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[15]+4264355552&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[6]+2734768916&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[13]+1309151649&4294967295,A=R+(N<<21&4294967295|N>>>11),N=S+(R^(A|~M))+I[4]+4149444226&4294967295,S=A+(N<<6&4294967295|N>>>26),N=M+(A^(S|~R))+I[11]+3174756917&4294967295,M=S+(N<<10&4294967295|N>>>22),N=R+(S^(M|~A))+I[2]+718787259&4294967295,R=M+(N<<15&4294967295|N>>>17),N=A+(M^(R|~S))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+R&4294967295,x.g[3]=x.g[3]+M&4294967295}r.prototype.v=function(x,S){S===void 0&&(S=x.length);const A=S-this.blockSize,I=this.C;let R=this.h,M=0;for(;M<S;){if(R==0)for(;M<=A;)s(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<S;)if(I[R++]=x.charCodeAt(M++),R==this.blockSize){s(this,I),R=0;break}}else for(;M<S;)if(I[R++]=x[M++],R==this.blockSize){s(this,I),R=0;break}}this.h=R,this.o+=S},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var A=x.length-8;A<x.length;++A)x[A]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,A=0;A<4;++A)for(let I=0;I<32;I+=8)x[S++]=this.g[A]>>>I&255;return x};function i(x,S){var A=a;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=S(x)}function o(x,S){this.h=S;const A=[];let I=!0;for(let R=x.length-1;R>=0;R--){const M=x[R]|0;I&&M==S||(A[R]=M,I=!1)}this.g=A}var a={};function l(x){return-128<=x&&x<128?i(x,function(S){return new o([S|0],S<0?-1:0)}):new o([x|0],x<0?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return h;if(x<0)return P(u(-x));const S=[];let A=1;for(let I=0;x>=A;I++)S[I]=x/A|0,A*=4294967296;return new o(S,0)}function d(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return P(d(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=u(Math.pow(S,8));let I=h;for(let M=0;M<x.length;M+=8){var R=Math.min(8,x.length-M);const N=parseInt(x.substring(M,M+R),S);R<8?(R=u(Math.pow(S,R)),I=I.j(R).add(u(N))):(I=I.j(A),I=I.add(u(N)))}return I}var h=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-P(this).m();let x=0,S=1;for(let A=0;A<this.g.length;A++){const I=this.i(A);x+=(I>=0?I:4294967296+I)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(b(this))return"0";if(_(this))return"-"+P(this).toString(x);const S=u(Math.pow(x,6));var A=this;let I="";for(;;){const R=j(A,S).g;A=v(A,R.j(S));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(x);if(A=R,b(A))return M+I;for(;M.length<6;)M="0"+M;I=M+I}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function b(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function _(x){return x.h==-1}t.l=function(x){return x=v(this,x),_(x)?-1:b(x)?0:1};function P(x){const S=x.g.length,A=[];for(let I=0;I<S;I++)A[I]=~x.g[I];return new o(A,~x.h).add(m)}t.abs=function(){return _(this)?P(this):this},t.add=function(x){const S=Math.max(this.g.length,x.g.length),A=[];let I=0;for(let R=0;R<=S;R++){let M=I+(this.i(R)&65535)+(x.i(R)&65535),N=(M>>>16)+(this.i(R)>>>16)+(x.i(R)>>>16);I=N>>>16,M&=65535,N&=65535,A[R]=N<<16|M}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(x,S){return x.add(P(S))}t.j=function(x){if(b(this)||b(x))return h;if(_(this))return _(x)?P(this).j(P(x)):P(P(this).j(x));if(_(x))return P(this.j(P(x)));if(this.l(p)<0&&x.l(p)<0)return u(this.m()*x.m());const S=this.g.length+x.g.length,A=[];for(var I=0;I<2*S;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(let R=0;R<x.g.length;R++){const M=this.i(I)>>>16,N=this.i(I)&65535,$=x.i(R)>>>16,Q=x.i(R)&65535;A[2*I+2*R]+=N*Q,y(A,2*I+2*R),A[2*I+2*R+1]+=M*Q,y(A,2*I+2*R+1),A[2*I+2*R+1]+=N*$,y(A,2*I+2*R+1),A[2*I+2*R+2]+=M*$,y(A,2*I+2*R+2)}for(x=0;x<S;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=S;x<2*S;x++)A[x]=0;return new o(A,0)};function y(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function E(x,S){this.g=x,this.h=S}function j(x,S){if(b(S))throw Error("division by zero");if(b(x))return new E(h,h);if(_(x))return S=j(P(x),S),new E(P(S.g),P(S.h));if(_(S))return S=j(x,P(S)),new E(P(S.g),S.h);if(x.g.length>30){if(_(x)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var A=m,I=S;I.l(x)<=0;)A=C(A),I=C(I);var R=V(A,1),M=V(I,1);for(I=V(I,2),A=V(A,2);!b(I);){var N=M.add(I);N.l(x)<=0&&(R=R.add(A),M=N),I=V(I,1),A=V(A,1)}return S=v(x,R.j(S)),new E(R,S)}for(R=h;x.l(S)>=0;){for(A=Math.max(1,Math.floor(x.m()/S.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),M=u(A),N=M.j(S);_(N)||N.l(x)>0;)A-=I,M=u(A),N=M.j(S);b(M)&&(M=m),R=R.add(M),x=v(x,N)}return new E(R,x)}t.B=function(x){return j(this,x).h},t.and=function(x){const S=Math.max(this.g.length,x.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)&x.i(I);return new o(A,this.h&x.h)},t.or=function(x){const S=Math.max(this.g.length,x.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)|x.i(I);return new o(A,this.h|x.h)},t.xor=function(x){const S=Math.max(this.g.length,x.g.length),A=[];for(let I=0;I<S;I++)A[I]=this.i(I)^x.i(I);return new o(A,this.h^x.h)};function C(x){const S=x.g.length+1,A=[];for(let I=0;I<S;I++)A[I]=x.i(I)<<1|x.i(I-1)>>>31;return new o(A,x.h)}function V(x,S){const A=S>>5;S%=32;const I=x.g.length-A,R=[];for(let M=0;M<I;M++)R[M]=S>0?x.i(M+A)>>>S|x.i(M+A+1)<<32-S:x.i(M+A);return new o(R,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ki=o}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uj,yu,cj,Nf,h0,dj,fj,hj;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var g=0;g<f.length;++g){var w=f[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(f,g){if(g)e:{var w=r;f=f.split(".");for(var k=0;k<f.length-1;k++){var B=f[k];if(!(B in w))break e;w=w[B]}f=f[f.length-1],k=w[f],g=g(k),g!=k&&g!=null&&e(w,f,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(g){var w=[],k;for(k in g)Object.prototype.hasOwnProperty.call(g,k)&&w.push([k,g[k]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function l(f,g,w){return f.call.apply(f.bind,arguments)}function u(f,g,w){return u=l,u.apply(null,arguments)}function d(f,g){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function h(f,g){function w(){}w.prototype=g.prototype,f.Z=g.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(k,B,U){for(var le=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)le[Oe-2]=arguments[Oe];return g.prototype[B].apply(k,le)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function p(f){const g=f.length;if(g>0){const w=Array(g);for(let k=0;k<g;k++)w[k]=f[k];return w}return[]}function b(f,g){for(let k=1;k<arguments.length;k++){const B=arguments[k];var w=typeof B;if(w=w!="object"?w:B?Array.isArray(B)?"array":w:"null",w=="array"||w=="object"&&typeof B.length=="number"){w=f.length||0;const U=B.length||0;f.length=w+U;for(let le=0;le<U;le++)f[w+le]=B[le]}else f.push(B)}}class _{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(f){o.setTimeout(()=>{throw f},0)}function v(){var f=x;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}class y{constructor(){this.h=this.g=null}add(g,w){const k=E.get();k.set(g,w),this.h?this.h.next=k:this.g=k,this.h=k}}var E=new _(()=>new j,f=>f.reset());class j{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let C,V=!1,x=new y,S=()=>{const f=Promise.resolve(void 0);C=()=>{f.then(A)}};function A(){for(var f;f=v();){try{f.h.call(f.g)}catch(w){P(w)}var g=E;g.j(f),g.h<100&&(g.h++,f.next=g.g,g.g=f)}V=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};o.addEventListener("test",w,g),o.removeEventListener("test",w,g)}catch{}return f}();function N(f){return/^[\s\xa0]*$/.test(f)}function $(f,g){R.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,g)}h($,R),$.prototype.init=function(f,g){const w=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget,g||(w=="mouseover"?g=f.fromElement:w=="mouseout"&&(g=f.toElement)),this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),J=0;function q(f,g,w,k,B){this.listener=f,this.proxy=null,this.src=g,this.type=w,this.capture=!!k,this.ha=B,this.key=++J,this.da=this.fa=!1}function L(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function O(f,g,w){for(const k in f)g.call(w,f[k],k,f)}function W(f,g){for(const w in f)g.call(void 0,f[w],w,f)}function Z(f){const g={};for(const w in f)g[w]=f[w];return g}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(f,g){let w,k;for(let B=1;B<arguments.length;B++){k=arguments[B];for(w in k)f[w]=k[w];for(let U=0;U<se.length;U++)w=se[U],Object.prototype.hasOwnProperty.call(k,w)&&(f[w]=k[w])}}function pe(f){this.src=f,this.g={},this.h=0}pe.prototype.add=function(f,g,w,k,B){const U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);const le=ke(f,g,k,B);return le>-1?(g=f[le],w||(g.fa=!1)):(g=new q(g,this.src,U,!!k,B),g.fa=w,f.push(g)),g};function _e(f,g){const w=g.type;if(w in f.g){var k=f.g[w],B=Array.prototype.indexOf.call(k,g,void 0),U;(U=B>=0)&&Array.prototype.splice.call(k,B,1),U&&(L(g),f.g[w].length==0&&(delete f.g[w],f.h--))}}function ke(f,g,w,k){for(let B=0;B<f.length;++B){const U=f[B];if(!U.da&&U.listener==g&&U.capture==!!w&&U.ha==k)return B}return-1}var De="closure_lm_"+(Math.random()*1e6|0),ye={};function bt(f,g,w,k,B){if(Array.isArray(g)){for(let U=0;U<g.length;U++)bt(f,g[U],w,k,B);return null}return w=ms(w),f&&f[Q]?f.J(g,w,a(k)?!!k.capture:!1,B):Bn(f,g,w,!1,k,B)}function Bn(f,g,w,k,B,U){if(!g)throw Error("Invalid event type");const le=a(B)?!!B.capture:!!B;let Oe=tn(f);if(Oe||(f[De]=Oe=new pe(f)),w=Oe.add(g,w,k,le,U),w.proxy)return w;if(k=dn(),w.proxy=k,k.src=f,k.listener=w,f.addEventListener)M||(B=le),B===void 0&&(B=!1),f.addEventListener(g.toString(),k,B);else if(f.attachEvent)f.attachEvent(Ae(g.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function dn(){function f(w){return g.call(f.src,f.listener,w)}const g=Ut;return f}function ze(f,g,w,k,B){if(Array.isArray(g))for(var U=0;U<g.length;U++)ze(f,g[U],w,k,B);else k=a(k)?!!k.capture:!!k,w=ms(w),f&&f[Q]?(f=f.i,U=String(g).toString(),U in f.g&&(g=f.g[U],w=ke(g,w,k,B),w>-1&&(L(g[w]),Array.prototype.splice.call(g,w,1),g.length==0&&(delete f.g[U],f.h--)))):f&&(f=tn(f))&&(g=f.g[g.toString()],f=-1,g&&(f=ke(g,w,k,B)),(w=f>-1?g[f]:null)&&tt(w))}function tt(f){if(typeof f!="number"&&f&&!f.da){var g=f.src;if(g&&g[Q])_e(g.i,f);else{var w=f.type,k=f.proxy;g.removeEventListener?g.removeEventListener(w,k,f.capture):g.detachEvent?g.detachEvent(Ae(w),k):g.addListener&&g.removeListener&&g.removeListener(k),(w=tn(g))?(_e(w,f),w.h==0&&(w.src=null,g[De]=null)):L(f)}}}function Ae(f){return f in ye?ye[f]:ye[f]="on"+f}function Ut(f,g){if(f.da)f=!0;else{g=new $(g,this);const w=f.listener,k=f.ha||f.src;f.fa&&tt(f),f=w.call(k,g)}return f}function tn(f){return f=f[De],f instanceof pe?f:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ms(f){return typeof f=="function"?f:(f[Yr]||(f[Yr]=function(g){return f.handleEvent(g)}),f[Yr])}function St(){I.call(this),this.i=new pe(this),this.M=this,this.G=null}h(St,I),St.prototype[Q]=!0,St.prototype.removeEventListener=function(f,g,w,k){ze(this,f,g,w,k)};function _t(f,g){var w,k=f.G;if(k)for(w=[];k;k=k.G)w.push(k);if(f=f.M,k=g.type||g,typeof g=="string")g=new R(g,f);else if(g instanceof R)g.target=g.target||f;else{var B=g;g=new R(k,f),we(g,B)}B=!0;let U,le;if(w)for(le=w.length-1;le>=0;le--)U=g.g=w[le],B=Dn(U,k,!0,g)&&B;if(U=g.g=f,B=Dn(U,k,!0,g)&&B,B=Dn(U,k,!1,g)&&B,w)for(le=0;le<w.length;le++)U=g.g=w[le],B=Dn(U,k,!1,g)&&B}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var f=this.i;for(const g in f.g){const w=f.g[g];for(let k=0;k<w.length;k++)L(w[k]);delete f.g[g],f.h--}}this.G=null},St.prototype.J=function(f,g,w,k){return this.i.add(String(f),g,!1,w,k)},St.prototype.K=function(f,g,w,k){return this.i.add(String(f),g,!0,w,k)};function Dn(f,g,w,k){if(g=f.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let U=0;U<g.length;++U){const le=g[U];if(le&&!le.da&&le.capture==w){const Oe=le.listener,Xt=le.ha||le.src;le.fa&&_e(f.i,le),B=Oe.call(Xt,k)!==!1&&B}}return B&&!k.defaultPrevented}function Nr(f,g){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(f,g||0)}function gr(f){f.g=Nr(()=>{f.g=null,f.i&&(f.i=!1,gr(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}class Ie extends I{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(f){I.call(this),this.h=f,this.g={}}h(Ue,I);var zn=[];function Vt(f){O(f.g,function(g,w){this.g.hasOwnProperty(w)&&tt(g)},f),f.g={}}Ue.prototype.N=function(){Ue.Z.N.call(this),Vt(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=o.JSON.stringify,Sn=o.JSON.parse,ps=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function yr(){}function Zn(){}var Lt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jr(){R.call(this,"d")}h(jr,R);function gs(){R.call(this,"c")}h(gs,R);var er={},Ji=null;function H(){return Ji=Ji||new St}er.Ia="serverreachability";function G(f){R.call(this,er.Ia,f)}h(G,R);function ee(f){const g=H();_t(g,new G(g))}er.STAT_EVENT="statevent";function Pe(f,g){R.call(this,er.STAT_EVENT,f),this.stat=g}h(Pe,R);function Ee(f){const g=H();_t(g,new Pe(g,f))}er.Ja="timingevent";function ce(f,g){R.call(this,er.Ja,f),this.size=g}h(ce,R);function ot(f,g){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},g)}function He(){this.g=!0}He.prototype.ua=function(){this.g=!1};function Je(f,g,w,k,B,U){f.info(function(){if(f.g)if(U){var le="",Oe=U.split("&");for(let rt=0;rt<Oe.length;rt++){var Xt=Oe[rt].split("=");if(Xt.length>1){const rn=Xt[0];Xt=Xt[1];const Qr=rn.split("_");le=Qr.length>=2&&Qr[1]=="type"?le+(rn+"="+Xt+"&"):le+(rn+"=redacted&")}}}else le=null;else le=U;return"XMLHTTP REQ ("+k+") [attempt "+B+"]: "+g+`
`+w+`
`+le})}function st(f,g,w,k,B,U,le){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+B+"]: "+g+`
`+w+`
`+U+" "+le})}function pt(f,g,w,k){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+tr(f,w)+(k?" "+k:"")})}function Un(f,g){f.info(function(){return"TIMEOUT: "+g})}He.prototype.info=function(){};function tr(f,g){if(!f.g)return g;if(!g)return null;try{const U=JSON.parse(g);if(U){for(f=0;f<U.length;f++)if(Array.isArray(U[f])){var w=U[f];if(!(w.length<2)){var k=w[1];if(Array.isArray(k)&&!(k.length<1)){var B=k[0];if(B!="noop"&&B!="stop"&&B!="close")for(let le=1;le<k.length;le++)k[le]=""}}}}return nn(U)}catch{return g}}var D={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},F={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},z;function Y(){}h(Y,yr),Y.prototype.g=function(){return new XMLHttpRequest},z=new Y;function te(f){return encodeURIComponent(String(f))}function fe(f){var g=1;f=f.split(":");const w=[];for(;g>0&&f.length;)w.push(f.shift()),g--;return f.length&&w.push(f.join(":")),w}function de(f,g,w,k){this.j=f,this.i=g,this.l=w,this.S=k||1,this.V=new Ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new K}function K(){this.i=null,this.g="",this.h=!1}var ue={},oe={};function ne(f,g,w){f.M=1,f.A=fd(nr(g)),f.u=w,f.R=!0,ge(f,null)}function ge(f,g){f.F=Date.now(),Le(f),f.B=nr(f.A);var w=f.B,k=f.S;Array.isArray(k)||(k=[String(k)]),H1(w.i,"t",k),f.C=0,w=f.j.L,f.h=new K,f.g=lw(f.j,w?g:null,!f.u),f.P>0&&(f.O=new Ie(u(f.Y,f,f.g),f.P)),g=f.V,w=f.g,k=f.ba;var B="readystatechange";Array.isArray(B)||(B&&(zn[0]=B.toString()),B=zn);for(let U=0;U<B.length;U++){const le=bt(w,B[U],k||g.handleEvent,!1,g.h||g);if(!le)break;g.g[le.key]=le}g=f.J?Z(f.J):{},f.u?(f.v||(f.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,g)):(f.v="GET",f.g.ea(f.B,f.v,null,g)),ee(),Je(f.i,f.v,f.B,f.l,f.S,f.u)}de.prototype.ba=function(f){f=f.target;const g=this.O;g&&ni(f)==3?g.j():this.Y(f)},de.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=ni(this.g),Xt=this.g.ya(),rt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Q1(this.g)))){this.K||Oe!=4||Xt==7||(Xt==8||rt<=0?ee(3):ee(2)),fn(this);var g=this.g.ca();this.X=g;var w=Re(this);if(this.o=g==200,st(this.i,this.v,this.B,this.l,this.S,Oe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var k,B=this.g;if((k=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(k)){var U=k;break t}}U=null}if(f=U)pt(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hn(this,f);else{this.o=!1,this.m=3,Ee(12),hn(this),Rr(this);break e}}if(this.R){f=!0;let rn;for(;!this.K&&this.C<w.length;)if(rn=Ve(this,w),rn==oe){Oe==4&&(this.m=4,Ee(14),f=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==ue){this.m=4,Ee(15),pt(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else pt(this.i,this.l,rn,null),Hn(this,rn);if(at(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||w.length!=0||this.h.h||(this.m=1,Ee(16),f=!1),this.o=this.o&&f,!f)pt(this.i,this.l,w,"[Invalid Chunked Response]"),hn(this),Rr(this);else if(w.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Fm(le),le.P=!0,Ee(11))}}else pt(this.i,this.l,w,null),Hn(this,w);Oe==4&&hn(this),this.o&&!this.K&&(Oe==4?sw(this.j,this):(this.o=!1,Le(this)))}else kR(this.g),g==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),hn(this),Rr(this)}}}catch{}finally{}};function Re(f){if(!at(f))return f.g.la();const g=Q1(f.g);if(g==="")return"";let w="";const k=g.length,B=ni(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return hn(f),Rr(f),"";f.h.i=new o.TextDecoder}for(let U=0;U<k;U++)f.h.h=!0,w+=f.h.i.decode(g[U],{stream:!(B&&U==k-1)});return g.length=0,f.h.g+=w,f.C=0,f.h.g}function at(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Ve(f,g){var w=f.C,k=g.indexOf(`
`,w);return k==-1?oe:(w=Number(g.substring(w,k)),isNaN(w)?ue:(k+=1,k+w>g.length?oe:(g=g.slice(k,k+w),f.C=k+w,g)))}de.prototype.cancel=function(){this.K=!0,hn(this)};function Le(f){f.T=Date.now()+f.H,nt(f,f.H)}function nt(f,g){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ot(u(f.aa,f),g)}function fn(f){f.D&&(o.clearTimeout(f.D),f.D=null)}de.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Un(this.i,this.B),this.M!=2&&(ee(),Ee(17)),hn(this),this.m=2,Rr(this)):nt(this,this.T-f)};function Rr(f){f.j.I==0||f.K||sw(f.j,f)}function hn(f){fn(f);var g=f.O;g&&typeof g.dispose=="function"&&g.dispose(),f.O=null,Vt(f.V),f.g&&(g=f.g,f.g=null,g.abort(),g.dispose())}function Hn(f,g){try{var w=f.j;if(w.I!=0&&(w.g==f||Zs(w.h,f))){if(!f.L&&Zs(w.h,f)&&w.I==3){try{var k=w.Ba.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var B=k;if(B[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)yd(w),pd(w);else break e;Om(w),Ee(18)}}else w.xa=B[1],0<w.xa-w.K&&B[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ot(u(w.Va,w),6e3));Zi(w.h)<=1&&w.ta&&(w.ta=void 0)}else no(w,11)}else if((f.L||w.g==f)&&yd(w),!N(g))for(B=w.Ba.g.parse(g),g=0;g<B.length;g++){let rt=B[g];const rn=rt[0];if(!(rn<=w.K))if(w.K=rn,rt=rt[1],w.I==2)if(rt[0]=="c"){w.M=rt[1],w.ba=rt[2];const Qr=rt[3];Qr!=null&&(w.ka=Qr,w.j.info("VER="+w.ka));const ro=rt[4];ro!=null&&(w.za=ro,w.j.info("SVER="+w.za));const ri=rt[5];ri!=null&&typeof ri=="number"&&ri>0&&(k=1.5*ri,w.O=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const si=f.g;if(si){const xd=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xd){var U=k.h;U.g||xd.indexOf("spdy")==-1&&xd.indexOf("quic")==-1&&xd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&($e(U,U.h),U.h=null))}if(k.G){const $m=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;$m&&(k.wa=$m,ut(k.J,k.G,$m))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),k=w;var le=f;if(k.na=aw(k,k.L?k.ba:null,k.W),le.L){lt(k.h,le);var Oe=le,Xt=k.O;Xt&&(Oe.H=Xt),Oe.D&&(fn(Oe),Le(Oe)),k.g=le}else nw(k);w.i.length>0&&gd(w)}else rt[0]!="stop"&&rt[0]!="close"||no(w,7);else w.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?no(w,7):Lm(w):rt[0]!="noop"&&w.l&&w.l.qa(rt),w.A=0)}}ee(4)}catch{}}var Ll=class{constructor(f,g){this.g=f,this.map=g}};function Js(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zi(f){return f.h?1:f.g?f.g.size:0}function Zs(f,g){return f.h?f.h==g:f.g?f.g.has(g):!1}function $e(f,g){f.g?f.g.add(g):f.h=g}function lt(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}Js.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ys(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let g=f.i;for(const w of f.g.values())g=g.concat(w.G);return g}return p(f.i)}var ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kt(f,g){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const k=f[w].indexOf("=");let B,U=null;k>=0?(B=f[w].substring(0,k),U=f[w].substring(k+1)):B=f[w],g(B,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Mn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;f instanceof Mn?(this.l=f.l,eo(this,f.j),this.o=f.o,this.g=f.g,Ol(this,f.u),this.h=f.h,Dm(this,W1(f.i)),this.m=f.m):f&&(g=String(f).match(ei))?(this.l=!1,eo(this,g[1]||"",!0),this.o=Fl(g[2]||""),this.g=Fl(g[3]||"",!0),Ol(this,g[4]),this.h=Fl(g[5]||"",!0),Dm(this,g[6]||"",!0),this.m=Fl(g[7]||"")):(this.l=!1,this.i=new Bl(null,this.l))}Mn.prototype.toString=function(){const f=[];var g=this.j;g&&f.push($l(g,$1,!0),":");var w=this.g;return(w||g=="file")&&(f.push("//"),(g=this.o)&&f.push($l(g,$1,!0),"@"),f.push(te(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push($l(w,w.charAt(0)=="/"?bR:wR,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",$l(w,_R)),f.join("")},Mn.prototype.resolve=function(f){const g=nr(this);let w=!!f.j;w?eo(g,f.j):w=!!f.o,w?g.o=f.o:w=!!f.g,w?g.g=f.g:w=f.u!=null;var k=f.h;if(w)Ol(g,f.u);else if(w=!!f.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var B=g.h.lastIndexOf("/");B!=-1&&(k=g.h.slice(0,B+1)+k)}if(B=k,B==".."||B==".")k="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){k=B.lastIndexOf("/",0)==0,B=B.split("/");const U=[];for(let le=0;le<B.length;){const Oe=B[le++];Oe=="."?k&&le==B.length&&U.push(""):Oe==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),k&&le==B.length&&U.push("")):(U.push(Oe),k=!0)}k=U.join("/")}else k=B}return w?g.h=k:w=f.i.toString()!=="",w?Dm(g,W1(f.i)):w=!!f.m,w&&(g.m=f.m),g};function nr(f){return new Mn(f)}function eo(f,g,w){f.j=w?Fl(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function Ol(f,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);f.u=g}else f.u=null}function Dm(f,g,w){g instanceof Bl?(f.i=g,ER(f.i,f.l)):(w||(g=$l(g,SR)),f.i=new Bl(g,f.l))}function ut(f,g,w){f.i.set(g,w)}function fd(f){return ut(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Fl(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function $l(f,g,w){return typeof f=="string"?(f=encodeURI(f).replace(g,xR),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xR(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var $1=/[#\/\?@]/g,wR=/[#\?:]/g,bR=/[#\?]/g,SR=/[#\?@]/g,_R=/#/g;function Bl(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function to(f){f.g||(f.g=new Map,f.h=0,f.i&&kt(f.i,function(g,w){f.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=Bl.prototype,t.add=function(f,g){to(this),this.i=null,f=Jo(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(g),this.h+=1,this};function B1(f,g){to(f),g=Jo(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function z1(f,g){return to(f),g=Jo(f,g),f.g.has(g)}t.forEach=function(f,g){to(this),this.g.forEach(function(w,k){w.forEach(function(B){f.call(g,B,k,this)},this)},this)};function U1(f,g){to(f);let w=[];if(typeof g=="string")z1(f,g)&&(w=w.concat(f.g.get(Jo(f,g))));else for(f=Array.from(f.g.values()),g=0;g<f.length;g++)w=w.concat(f[g]);return w}t.set=function(f,g){return to(this),this.i=null,f=Jo(this,f),z1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},t.get=function(f,g){return f?(f=U1(this,f),f.length>0?String(f[0]):g):g};function H1(f,g,w){B1(f,g),w.length>0&&(f.i=null,f.g.set(Jo(f,g),p(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(let k=0;k<g.length;k++){var w=g[k];const B=te(w);w=U1(this,w);for(let U=0;U<w.length;U++){let le=B;w[U]!==""&&(le+="="+te(w[U])),f.push(le)}}return this.i=f.join("&")};function W1(f){const g=new Bl;return g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),g}function Jo(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function ER(f,g){g&&!f.j&&(to(f),f.i=null,f.g.forEach(function(w,k){const B=k.toLowerCase();k!=B&&(B1(this,k),H1(this,B,w))},f)),f.j=g}function TR(f,g){const w=new He;if(o.Image){const k=new Image;k.onload=d(ti,w,"TestLoadImage: loaded",!0,g,k),k.onerror=d(ti,w,"TestLoadImage: error",!1,g,k),k.onabort=d(ti,w,"TestLoadImage: abort",!1,g,k),k.ontimeout=d(ti,w,"TestLoadImage: timeout",!1,g,k),o.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else g(!1)}function PR(f,g){const w=new He,k=new AbortController,B=setTimeout(()=>{k.abort(),ti(w,"TestPingServer: timeout",!1,g)},1e4);fetch(f,{signal:k.signal}).then(U=>{clearTimeout(B),U.ok?ti(w,"TestPingServer: ok",!0,g):ti(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),ti(w,"TestPingServer: error",!1,g)})}function ti(f,g,w,k,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),k(w)}catch{}}function AR(){this.g=new ps}function Mm(f){this.i=f.Sb||null,this.h=f.ab||!1}h(Mm,yr),Mm.prototype.g=function(){return new hd(this.i,this.h)};function hd(f,g){St.call(this),this.H=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(hd,St),t=hd.prototype,t.open=function(f,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=g,this.readyState=1,Ul(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(g.body=f),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;q1(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function q1(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?zl(this):Ul(this),this.readyState==3&&q1(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,zl(this))},t.Na=function(f){this.g&&(this.response=f,zl(this))},t.ga=function(){this.g&&zl(this)};function zl(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ul(f)}t.setRequestHeader=function(f,g){this.A.append(f,g)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=g.next();return f.join(`\r
`)};function Ul(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function K1(f){let g="";return O(f,function(w,k){g+=k,g+=":",g+=w,g+=`\r
`}),g}function Vm(f,g,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=K1(w),typeof f=="string"?w!=null&&te(w):ut(f,g,w))}function Nt(f){St.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Nt,St);var CR=/^https?$/i,IR=["POST","PUT"];t=Nt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,g,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():z.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(U){G1(this,U);return}if(f=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var B in k)w.set(B,k[B]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const U of k.keys())w.set(U,k.get(U));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(U=>U.toLowerCase()=="content-type"),B=o.FormData&&f instanceof o.FormData,!(Array.prototype.indexOf.call(IR,g,void 0)>=0)||k||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,le]of w)this.g.setRequestHeader(U,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(U){G1(this,U)}};function G1(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.o=5,Y1(f),md(f)}function Y1(f){f.A||(f.A=!0,_t(f,"complete"),_t(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,_t(this,"complete"),_t(this,"abort"),md(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),md(this,!0)),Nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?X1(this):this.Xa())},t.Xa=function(){X1(this)};function X1(f){if(f.h&&typeof i<"u"){if(f.v&&ni(f)==4)setTimeout(f.Ca.bind(f),0);else if(_t(f,"readystatechange"),ni(f)==4){f.h=!1;try{const U=f.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var k;if(k=U===0){let le=String(f.D).match(ei)[1]||null;!le&&o.self&&o.self.location&&(le=o.self.location.protocol.slice(0,-1)),k=!CR.test(le?le.toLowerCase():"")}w=k}if(w)_t(f,"complete"),_t(f,"success");else{f.o=6;try{var B=ni(f)>2?f.g.statusText:""}catch{B=""}f.l=B+" ["+f.ca()+"]",Y1(f)}}finally{md(f)}}}}function md(f,g){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,g||_t(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ni(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var g=this.g.responseText;return f&&g.indexOf(f)==0&&(g=g.substring(f.length)),Sn(g)}};function Q1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function kR(f){const g={};f=(f.g&&ni(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(N(f[k]))continue;var w=fe(f[k]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const U=g[B]||[];g[B]=U,U.push(w)}W(g,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hl(f,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||g}function J1(f){this.za=0,this.i=[],this.j=new He,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hl("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hl("baseRetryDelayMs",5e3,f),this.Za=Hl("retryDelaySeedMs",1e4,f),this.Ta=Hl("forwardChannelMaxRetries",2,f),this.va=Hl("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Js(f&&f.concurrentRequestLimit),this.Ba=new AR,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=J1.prototype,t.ka=8,t.I=1,t.connect=function(f,g,w,k){Ee(0),this.W=f,this.H=g||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.J=aw(this,null,this.W),gd(this)};function Lm(f){if(Z1(f),f.I==3){var g=f.V++,w=nr(f.J);if(ut(w,"SID",f.M),ut(w,"RID",g),ut(w,"TYPE","terminate"),Wl(f,w),g=new de(f,f.j,g),g.M=2,g.A=fd(nr(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=g.A,w=!0),w||(g.g=lw(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Le(g)}ow(f)}function pd(f){f.g&&(Fm(f),f.g.cancel(),f.g=null)}function Z1(f){pd(f),f.v&&(o.clearTimeout(f.v),f.v=null),yd(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&o.clearTimeout(f.m),f.m=null)}function gd(f){if(!Xr(f.h)&&!f.m){f.m=!0;var g=f.Ea;C||S(),V||(C(),V=!0),x.add(g,f),f.D=0}}function NR(f,g){return Zi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=g.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ot(u(f.Ea,f,g),iw(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const B=new de(this,this.j,f);let U=this.o;if(this.U&&(U?(U=Z(U),we(U,this.U)):U=this.U),this.u!==null||this.R||(B.J=U,U=null),this.S)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,g>4096){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=tw(this,B,g),w=nr(this.J),ut(w,"RID",f),ut(w,"CVER",22),this.G&&ut(w,"X-HTTP-Session-Id",this.G),Wl(this,w),U&&(this.R?g="headers="+te(K1(U))+"&"+g:this.u&&Vm(w,this.u,U)),$e(this.h,B),this.Ra&&ut(w,"TYPE","init"),this.S?(ut(w,"$req",g),ut(w,"SID","null"),B.U=!0,ne(B,w,null)):ne(B,w,g),this.I=2}}else this.I==3&&(f?ew(this,f):this.i.length==0||Xr(this.h)||ew(this))};function ew(f,g){var w;g?w=g.l:w=f.V++;const k=nr(f.J);ut(k,"SID",f.M),ut(k,"RID",w),ut(k,"AID",f.K),Wl(f,k),f.u&&f.o&&Vm(k,f.u,f.o),w=new de(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),g&&(f.i=g.G.concat(f.i)),g=tw(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),$e(f.h,w),ne(w,k,g)}function Wl(f,g){f.H&&O(f.H,function(w,k){ut(g,k,w)}),f.l&&O({},function(w,k){ut(g,k,w)})}function tw(f,g,w){w=Math.min(f.i.length,w);const k=f.l?u(f.l.Ka,f.l,f):null;e:{var B=f.i;let Oe=-1;for(;;){const Xt=["count="+w];Oe==-1?w>0?(Oe=B[0].g,Xt.push("ofs="+Oe)):Oe=0:Xt.push("ofs="+Oe);let rt=!0;for(let rn=0;rn<w;rn++){var U=B[rn].g;const Qr=B[rn].map;if(U-=Oe,U<0)Oe=Math.max(0,B[rn].g-100),rt=!1;else try{U="req"+U+"_"||"";try{var le=Qr instanceof Map?Qr:Object.entries(Qr);for(const[ro,ri]of le){let si=ri;a(ri)&&(si=nn(ri)),Xt.push(U+ro+"="+encodeURIComponent(si))}}catch(ro){throw Xt.push(U+"type="+encodeURIComponent("_badmap")),ro}}catch{k&&k(Qr)}}if(rt){le=Xt.join("&");break e}}le=void 0}return f=f.i.splice(0,w),g.G=f,le}function nw(f){if(!f.g&&!f.v){f.Y=1;var g=f.Da;C||S(),V||(C(),V=!0),x.add(g,f),f.A=0}}function Om(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ot(u(f.Da,f),iw(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,rw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ot(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),pd(this),rw(this))};function Fm(f){f.B!=null&&(o.clearTimeout(f.B),f.B=null)}function rw(f){f.g=new de(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var g=nr(f.na);ut(g,"RID","rpc"),ut(g,"SID",f.M),ut(g,"AID",f.K),ut(g,"CI",f.F?"0":"1"),!f.F&&f.ia&&ut(g,"TO",f.ia),ut(g,"TYPE","xmlhttp"),Wl(f,g),f.u&&f.o&&Vm(g,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=fd(nr(g)),w.u=null,w.R=!0,ge(w,f)}t.Va=function(){this.C!=null&&(this.C=null,pd(this),Om(this),Ee(19))};function yd(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function sw(f,g){var w=null;if(f.g==g){yd(f),Fm(f),f.g=null;var k=2}else if(Zs(f.h,g))w=g.G,lt(f.h,g),k=1;else return;if(f.I!=0){if(g.o)if(k==1){w=g.u?g.u.length:0,g=Date.now()-g.F;var B=f.D;k=H(),_t(k,new ce(k,w)),gd(f)}else nw(f);else if(B=g.m,B==3||B==0&&g.X>0||!(k==1&&NR(f,g)||k==2&&Om(f)))switch(w&&w.length>0&&(g=f.h,g.i=g.i.concat(w)),B){case 1:no(f,5);break;case 4:no(f,10);break;case 3:no(f,6);break;default:no(f,2)}}}function iw(f,g){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*g}function no(f,g){if(f.j.info("Error code "+g),g==2){var w=u(f.bb,f),k=f.Ua;const B=!k;k=new Mn(k||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||eo(k,"https"),fd(k),B?TR(k.toString(),w):PR(k.toString(),w)}else Ee(2);f.I=0,f.l&&f.l.pa(g),ow(f),Z1(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function ow(f){if(f.I=0,f.ja=[],f.l){const g=ys(f.h);(g.length!=0||f.i.length!=0)&&(b(f.ja,g),b(f.ja,f.i),f.h.i.length=0,p(f.i),f.i.length=0),f.l.oa()}}function aw(f,g,w){var k=w instanceof Mn?nr(w):new Mn(w);if(k.g!="")g&&(k.g=g+"."+k.g),Ol(k,k.u);else{var B=o.location;k=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const U=new Mn(null);k&&eo(U,k),g&&(U.g=g),B&&Ol(U,B),w&&(U.h=w),k=U}return w=f.G,g=f.wa,w&&g&&ut(k,w,g),ut(k,"VER",f.ka),Wl(f,k),k}function lw(f,g,w){if(g&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=f.Aa&&!f.ma?new Nt(new Mm({ab:w})):new Nt(f.ma),g.Fa(f.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uw(){}t=uw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vd(){}vd.prototype.g=function(f,g){return new rr(f,g)};function rr(f,g){St.call(this),this.g=new J1(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(f?f["X-WebChannel-Client-Profile"]=g.sa:f={"X-WebChannel-Client-Profile":g.sa}),this.g.U=f,(f=g&&g.Qb)&&!N(f)&&(this.g.u=f),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!N(g)&&(this.g.G=g,f=this.h,f!==null&&g in f&&(f=this.h,g in f&&delete f[g])),this.j=new Zo(this)}h(rr,St),rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rr.prototype.close=function(){Lm(this.g)},rr.prototype.o=function(f){var g=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=nn(f),f=w);g.i.push(new Ll(g.Ya++,f)),g.I==3&&gd(g)},rr.prototype.N=function(){this.g.l=null,delete this.j,Lm(this.g),delete this.g,rr.Z.N.call(this)};function cw(f){jr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const w in g){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,g=g!==null&&f in g?g[f]:void 0),this.data=g}else this.data=f}h(cw,jr);function dw(){gs.call(this),this.status=1}h(dw,gs);function Zo(f){this.g=f}h(Zo,uw),Zo.prototype.ra=function(){_t(this.g,"a")},Zo.prototype.qa=function(f){_t(this.g,new cw(f))},Zo.prototype.pa=function(f){_t(this.g,new dw)},Zo.prototype.oa=function(){_t(this.g,"b")},vd.prototype.createWebChannel=vd.prototype.g,rr.prototype.send=rr.prototype.o,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,hj=function(){return new vd},fj=function(){return H()},dj=er,h0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},D.NO_ERROR=0,D.TIMEOUT=8,D.HTTP_ERROR=6,Nf=D,F.COMPLETE="complete",cj=F,Zn.EventType=Lt,Lt.OPEN="a",Lt.CLOSE="b",Lt.ERROR="c",Lt.MESSAGE="d",St.prototype.listen=St.prototype.J,yu=Zn,Nt.prototype.listenOnce=Nt.prototype.K,Nt.prototype.getLastError=Nt.prototype.Ha,Nt.prototype.getLastErrorCode=Nt.prototype.ya,Nt.prototype.getStatus=Nt.prototype.ca,Nt.prototype.getResponseJson=Nt.prototype.La,Nt.prototype.getResponseText=Nt.prototype.la,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Fa,uj=Nt}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",VE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new nj("@firebase/firestore");function aa(){return Uo.logLevel}function he(t,...e){if(Uo.logLevel<=Ke.DEBUG){const n=e.map(g1);Uo.debug(`Firestore (${Dl}): ${t}`,...n)}}function Gs(t,...e){if(Uo.logLevel<=Ke.ERROR){const n=e.map(g1);Uo.error(`Firestore (${Dl}): ${t}`,...n)}}function Ho(t,...e){if(Uo.logLevel<=Ke.WARN){const n=e.map(g1);Uo.warn(`Firestore (${Dl}): ${t}`,...n)}}function g1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mj(t,r,n)}function mj(t,e,n){let r=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gs(r),new Error(r)}function Ct(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||mj(e,s,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Rl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(An.UNAUTHENTICATED))}shutdown(){}}class aG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lG{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new jo,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new jo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new pj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class uG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new uG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(An.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,UK(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new LE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new LE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=fG(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function m0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return rg(s)===rg(i)?We(s,i):rg(s)?1:-1}return We(t.length,e.length)}const hG=55296,mG=57343;function rg(t){const e=t.charCodeAt(0);return e>=hG&&e<=mG}function pl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="__name__";class ts{constructor(e,n,r){n===void 0?n=0:n>e.length&&je(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&je(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ts.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ts?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ts.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return We(e.length,n.length)}static compareSegments(e,n){const r=ts.isNumericId(e),s=ts.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ts.extractNumericId(e).compare(ts.extractNumericId(n)):m0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ki.fromString(e.substring(4,e.length-2))}}class Tt extends ts{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const pG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends ts{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return pG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OE}static keyField(){return new kn([OE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Tt.fromString(e))}static fromName(e){return new Se(Tt.fromString(e).popFirst(5))}static empty(){return new Se(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t,e,n){if(!n)throw new ve(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yj(t,e,n,r){if(e===!0&&r===!0)throw new ve(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FE(t){if(!Se.isDocumentKey(t))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yG(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vG(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je(12329,{type:typeof t})}function jh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vG(t);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ad(t,e){if(!yG(t))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ve(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,BE=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new Bt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ad(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:Yt("string",Bt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Bt(0,0))}static max(){return new Ne(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=-1;function xG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ne.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new $i(s,Se.empty(),e)}function wG(t){return new $i(t.readTime,t.key,Lc)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(Ne.min(),Se.empty(),Lc)}static max(){return new $i(Ne.max(),Se.empty(),Lc)}}function bG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _G{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sm(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==SG)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(s=>s?X.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new X((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new X((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function EG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_m.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=-1;function Em(t){return t==null}function p0(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="";function PG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zE(e)),e=AG(t.get(n),e);return zE(e)}function AG(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case vj:n+="";break;default:n+=i}}return n}function zE(t){return t+vj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ld(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tf(this.root,e,this.comparator,!0)}}class tf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??yn.RED,this.left=s??yn.EMPTY,this.right=i??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new yn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return yn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new en(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new vi([])}unionWith(e){let n=new en(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xj("Invalid base64 string: "+i):i}}(e);return new cn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const IG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=IG.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="server_timestamp",bj="__type__",Sj="__previous_value__",_j="__local_write_time__";function y1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bj])==null?void 0:r.stringValue)===wj}function Tm(t){const e=t.mapValue.fields[Sj];return y1(e)?Tm(e):e}function Oc(t){const e=Bi(t.mapValue.fields[_j].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(e,n,r,s,i,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Rh="(default)";class gl{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="__type__",jG="__max__",nf={mapValue:{}},RG="__vector__",g0="value";function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y1(t)?4:MG(t)?9007199254740991:DG(t)?10:11:je(28295,{value:t})}function fs(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oc(t).isEqual(Oc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Bi(s.timestampValue),a=Bi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zi(s.bytesValue).isEqual(zi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ft(s.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(s.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ft(s.integerValue)===Ft(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ft(s.doubleValue),a=Ft(i.doubleValue);return o===a?p0(o)===p0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return pl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(UE(o)!==UE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fs(o[l],a[l])))return!1;return!0}(t,e);default:return je(52216,{left:t})}}function Fc(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function yl(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ft(i.integerValue||i.doubleValue),l=Ft(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return WE(t.timestampValue,e.timestampValue);case 4:return WE(Oc(t),Oc(e));case 5:return m0(t.stringValue,e.stringValue);case 6:return function(i,o){const a=zi(i),l=zi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=We(a[u],l[u]);if(d!==0)return d}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=We(Ft(i.latitude),Ft(o.latitude));return a!==0?a:We(Ft(i.longitude),Ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,b,_;const a=i.fields||{},l=o.fields||{},u=(m=a[g0])==null?void 0:m.arrayValue,d=(p=l[g0])==null?void 0:p.arrayValue,h=We(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return h!==0?h:qE(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===nf.mapValue&&o===nf.mapValue)return 0;if(i===nf.mapValue)return 1;if(o===nf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const m=m0(l[h],d[h]);if(m!==0)return m;const p=yl(a[l[h]],u[d[h]]);if(p!==0)return p}return We(l.length,d.length)}(t.mapValue,e.mapValue);default:throw je(23264,{he:n})}}function WE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Bi(t),r=Bi(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function qE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=yl(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function vl(t){return y0(t)}function y0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=y0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${y0(n.fields[o])}`;return s+"}"}(t.mapValue):je(61005,{value:t})}function jf(t){switch(Ui(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(t);return e?16+jf(e):16;case 5:return 2*t.stringValue.length;case 6:return zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+jf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ld(r.fields,(i,o)=>{s+=i.length+jf(o)}),s}(t.mapValue);default:throw je(13486,{value:t})}}function v0(t){return!!t&&"integerValue"in t}function v1(t){return!!t&&"arrayValue"in t}function KE(t){return!!t&&"nullValue"in t}function GE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sg(t){return!!t&&"mapValue"in t}function DG(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NG])==null?void 0:r.stringValue)===RG}function qu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ld(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qu(t.arrayValue.values[n]);return e}return{...t}}function MG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(n)}setAll(e){let n=kn.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=qu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ld(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ss(qu(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new In(e,0,Ne.min(),Ne.min(),Ne.min(),ss.empty(),0)}static newFoundDocument(e,n,r,s){return new In(e,1,n,Ne.min(),r,s,0)}static newNoDocument(e,n){return new In(e,2,n,Ne.min(),Ne.min(),ss.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Ne.min(),Ne.min(),ss.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function YE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Se.comparator(Se.fromName(o.referenceValue),n.key):r=yl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function XE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n="asc"){this.field=e,this.dir=n}}function VG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{}class Jt extends Ej{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OG(e,n,r):n==="array-contains"?new BG(e,r):n==="in"?new zG(e,r):n==="not-in"?new UG(e,r):n==="array-contains-any"?new HG(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FG(e,r):new $G(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends Ej{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hs(e,n)}matches(e){return Tj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tj(t){return t.op==="and"}function Pj(t){return LG(t)&&Tj(t)}function LG(t){for(const e of t.filters)if(e instanceof hs)return!1;return!0}function x0(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(Pj(t))return t.filters.map(e=>x0(e)).join(",");{const e=t.filters.map(n=>x0(n)).join(",");return`${t.op}(${e})`}}function Aj(t,e){return t instanceof Jt?function(r,s){return s instanceof Jt&&r.op===s.op&&r.field.isEqual(s.field)&&fs(r.value,s.value)}(t,e):t instanceof hs?function(r,s){return s instanceof hs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Aj(o,s.filters[a]),!0):!1}(t,e):void je(19439)}function Cj(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(t):t instanceof hs?function(n){return n.op.toString()+" {"+n.getFilters().map(Cj).join(" ,")+"}"}(t):"Filter"}class OG extends Jt{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class FG extends Jt{constructor(e,n){super(e,"in",n),this.keys=Ij("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $G extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=Ij("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ij(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Se.fromName(r.referenceValue))}class BG extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return v1(n)&&Fc(n.arrayValue,this.value)}}class zG extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class UG extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class HG extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!v1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function QE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new WG(t,e,n,r,s,i,o)}function x1(t){const e=Ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>x0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Em(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vl(r)).join(",")),e.Te=n}return e.Te}function w1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Aj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XE(t.startAt,e.startAt)&&XE(t.endAt,e.endAt)}function w0(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qG(t,e,n,r,s,i,o,a){return new Pm(t,e,n,r,s,i,o,a)}function b1(t){return new Pm(t)}function JE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KG(t){return t.collectionGroup!==null}function Ku(t){const e=Ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(kn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Mh(i,r))}),n.has(kn.keyField().canonicalString())||e.Ie.push(new Mh(kn.keyField(),r))}return e.Ie}function ds(t){const e=Ge(t);return e.Ee||(e.Ee=GG(e,Ku(t))),e.Ee}function GG(t,e){if(t.limitType==="F")return QE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Mh(s.field,i)});const n=t.endAt?new Dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dh(t.startAt.position,t.startAt.inclusive):null;return QE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function b0(t,e,n){return new Pm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Am(t,e){return w1(ds(t),ds(e))&&t.limitType===e.limitType}function kj(t){return`${x1(ds(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Cj(s)).join(", ")}]`),Em(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>vl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>vl(s)).join(",")),`Target(${r})`}(ds(t))}; limitType=${t.limitType})`}function Cm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ku(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=YE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ku(r),s)||r.endAt&&!function(o,a,l){const u=YE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ku(r),s))}(t,e)}function YG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nj(t){return(e,n)=>{let r=!1;for(const s of Ku(t)){const i=XG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function XG(t,e,n){const r=t.field.isKeyField()?Se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?yl(l,u):je(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ld(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return CG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=new zt(Se.comparator);function Hi(){return QG}const jj=new zt(Se.comparator);function vu(...t){let e=jj;for(const n of t)e=e.insert(n.key,n);return e}function JG(t){let e=jj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function To(){return Gu()}function Rj(){return Gu()}function Gu(){return new Qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZG=new en(Se.comparator);function Xe(...t){let e=ZG;for(const n of t)e=e.add(n);return e}const eY=new en(We);function tY(){return eY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:p0(e)?"-0":e}}function rY(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this._=void 0}}function sY(t,e,n){return t instanceof S0?function(s,i){const o={fields:{[bj]:{stringValue:wj},[_j]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&y1(i)&&(i=Tm(i)),i&&(o.fields[Sj]=i),{mapValue:o}}(n,e):t instanceof Vh?Dj(t,e):t instanceof Lh?Mj(t,e):function(s,i){const o=oY(s,i),a=ZE(o)+ZE(s.Ae);return v0(o)&&v0(s.Ae)?rY(a):nY(s.serializer,a)}(t,e)}function iY(t,e,n){return t instanceof Vh?Dj(t,e):t instanceof Lh?Mj(t,e):n}function oY(t,e){return t instanceof _0?function(r){return v0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class S0 extends Im{}class Vh extends Im{constructor(e){super(),this.elements=e}}function Dj(t,e){const n=Vj(e);for(const r of t.elements)n.some(s=>fs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Lh extends Im{constructor(e){super(),this.elements=e}}function Mj(t,e){let n=Vj(e);for(const r of t.elements)n=n.filter(s=>!fs(s,r));return{arrayValue:{values:n}}}class _0 extends Im{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ZE(t){return Ft(t.integerValue||t.doubleValue)}function Vj(t){return v1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aY(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Vh&&s instanceof Vh||r instanceof Lh&&s instanceof Lh?pl(r.elements,s.elements,fs):r instanceof _0&&s instanceof _0?fs(r.Ae,s.Ae):r instanceof S0&&s instanceof S0}(t.transform,e.transform)}class Ro{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ro}static exists(e){return new Ro(void 0,e)}static updateTime(e){return new Ro(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class S1{}function Lj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uY(t.key,Ro.none()):new _1(t.key,t.data,Ro.none());{const n=t.data,r=ss.empty();let s=new en(kn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new km(t.key,r,new vi(s.toArray()),Ro.none())}}function lY(t,e,n){t instanceof _1?function(s,i,o){const a=s.value.clone(),l=tT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof km?function(s,i,o){if(!Rf(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=tT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Oj(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yu(t,e,n,r){return t instanceof _1?function(i,o,a,l){if(!Rf(i.precondition,o))return a;const u=i.value.clone(),d=nT(i.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof km?function(i,o,a,l){if(!Rf(i.precondition,o))return a;const u=nT(i.fieldTransforms,l,o),d=o.data;return d.setAll(Oj(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Rf(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&pl(r,s,(i,o)=>aY(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _1 extends S1{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class km extends S1{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Oj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tT(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,iY(o,a,n[s]))}return r}function nT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,sY(i,o,e))}return r}class uY extends S1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&lY(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Lj(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,(n,r)=>eT(n,r))&&pl(this.baseMutations,e.baseMutations,(n,r)=>eT(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,qe;function Fj(t){if(t===void 0)return Gs("GRPC error has no .code"),ae.UNKNOWN;switch(t){case Ht.OK:return ae.OK;case Ht.CANCELLED:return ae.CANCELLED;case Ht.UNKNOWN:return ae.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ae.INTERNAL;case Ht.UNAVAILABLE:return ae.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ae.NOT_FOUND;case Ht.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ht.ABORTED:return ae.ABORTED;case Ht.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ht.DATA_LOSS:return ae.DATA_LOSS;default:return je(39323,{code:t})}}(qe=Ht||(Ht={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=new ki([4294967295,4294967295],0);function rT(t){const e=hY().encode(t),n=new lj;return n.update(e),new Uint8Array(n.digest())}function sT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ki([n,r],0),new ki([s,i],0)]}class E1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xu(`Invalid padding: ${n}`);if(r<0)throw new xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ki.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ki.fromNumber(r)));return s.compare(mY)===1&&(s=new ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rT(e),[r,s]=sT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new E1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=rT(e),[r,s]=sT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nm(Ne.min(),s,new zt(We),Hi(),Xe())}}class ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ud(r,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class $j{constructor(e,n){this.targetId=e,this.Ce=n}}class Bj{constructor(e,n,r=cn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class iT{constructor(){this.ve=0,this.Fe=oT(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:i})}}),new ud(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=oT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pY{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=rf(),this.He=rf(),this.Ye=new zt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(w0(i))if(r===0){const o=new Se(i.path);this.et(n,o,In.newNoDocument(o,Ne.min()))}else Ct(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=zi(r).toUint8Array()}catch(l){if(l instanceof xj)return Ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new E1(o,s,i)}catch(l){return Ho(l instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&w0(a.target)){const l=new Se(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,In.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Xe();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Nm(e,n,this.Ye,this.je,r);return this.je=Hi(),this.Je=rf(),this.He=rf(),this.Ye=new zt(We),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new iT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new en(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new en(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rf(){return new zt(Se.comparator)}function oT(){return new zt(Se.comparator)}const gY={asc:"ASCENDING",desc:"DESCENDING"},yY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vY={and:"AND",or:"OR"};class xY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function E0(t,e){return t.useProto3Json||Em(e)?e:{value:e}}function wY(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bY(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ga(t){return Ct(!!t,49232),Ne.fromTimestamp(function(n){const r=Bi(n);return new Bt(r.seconds,r.nanos)}(t))}function SY(t,e){return T0(t,e).canonicalString()}function T0(t,e){const n=function(s){return new Tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zj(t){const e=Tt.fromString(t);return Ct(Kj(e),10190,{key:e.toString()}),e}function ig(t,e){const n=zj(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(Hj(n))}function Uj(t,e){return SY(t.databaseId,e)}function _Y(t){const e=zj(t);return e.length===4?Tt.emptyPath():Hj(e)}function aT(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hj(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function EY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:je(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ct(d===void 0||typeof d=="string",58123),cn.fromBase64String(d||"")):(Ct(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),cn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?ae.UNKNOWN:Fj(u.code);return new ve(d,u.message||"")}(o);n=new Bj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ig(t,r.document.name),i=Ga(r.document.updateTime),o=r.document.createTime?Ga(r.document.createTime):Ne.min(),a=new ss({mapValue:{fields:r.document.fields}}),l=In.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Df(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ig(t,r.document),i=r.readTime?Ga(r.readTime):Ne.min(),o=In.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Df([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ig(t,r.document),i=r.removedTargetIds||[];n=new Df([],i,s,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new fY(s,i),a=r.targetId;n=new $j(a,o)}}return n}function TY(t,e){return{documents:[Uj(t,e.path)]}}function PY(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Uj(t,s);const i=function(u){if(u.length!==0)return qj(hs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ua(m.field),direction:IY(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=E0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function AY(t){let e=_Y(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ct(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=Wj(h);return m instanceof hs&&Pj(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(b){return new Mh(ca(b.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Em(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,p=h.values||[];return new Dh(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,p=h.values||[];return new Dh(p,m)}(n.endAt)),qG(e,s,o,i,a,"F",l,u)}function CY(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ca(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ca(n.unaryFilter.field);return Jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ca(n.unaryFilter.field);return Jt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ca(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(ca(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hs.create(n.compositeFilter.filters.map(r=>Wj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(n.compositeFilter.op))}(t):je(30097,{filter:t})}function IY(t){return gY[t]}function kY(t){return yY[t]}function NY(t){return vY[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ca(t){return kn.fromServerFormat(t.fieldPath)}function qj(t){return t instanceof Jt?function(n){if(n.op==="=="){if(GE(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(KE(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GE(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(KE(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:kY(n.op),value:n.value}}}(t):t instanceof hs?function(n){const r=n.getFilters().map(s=>qj(s));return r.length===1?r[0]:{compositeFilter:{op:NY(n.op),filters:r}}}(t):je(54877,{filter:t})}function Kj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,s,i=Ne.min(),o=Ne.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.yt=e}}function RY(t){const e=AY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(){this.Cn=new MY}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve($i.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class MY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new en(Tt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gj=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(Gj,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="LruGarbageCollector",VY=1048576;function cT([t,e],[n,r]){const s=We(t,n);return s===0?We(e,r):s}class LY{constructor(e){this.Ir=e,this.buffer=new en(cT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(uT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?he(uT,"Ignoring IndexedDB error during garbage collection: ",n):await Sm(n)}await this.Vr(3e5)})}}class FY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return X.resolve(_m.ce);const r=new LY(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(lT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),aa()<=Ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function $Y(t,e){return new FY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(){this.changes=new Qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Yu(r.mutation,s,vi.empty(),Bt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xe()){const s=To();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=vu();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=To();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Hi();const o=Gu(),a=function(){return Gu()}();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof km)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Yu(d.mutation,u,d.mutation.getFieldMask(),Bt.now())):o.set(u.key,vi.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new zY(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Gu();let s=new zt((o,a)=>o-a),i=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||vi.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||Xe()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=Rj();d.forEach(m=>{if(!i.has(m)){const p=Lj(n.get(m),r.get(m));p!==null&&h.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):X.resolve(To());let a=Lc,l=i;return o.next(u=>X.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Xe())).next(d=>({batchId:a,changes:JG(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next(r=>{let s=vu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=vu();return this.indexManager.getCollectionParents(e,i).next(a=>X.forEach(a,l=>{const u=function(h,m){return new Pm(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,In.newInvalidDocument(d)))});let a=vu();return o.forEach((l,u)=>{const d=i.get(l);d!==void 0&&Yu(d.mutation,u,vi.empty(),Bt.now()),Cm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ga(s.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:RY(s.bundledQuery),readTime:Ga(s.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(){this.overlays=new zt(Se.comparator),this.qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=To();return X.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const s=To(),i=n.length+1,o=new Se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return X.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new zt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=To(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=To(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return X.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dY(n,r));let i=this.qr.get(n);i===void 0&&(i=Xe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.Qr=new en(sn.$r),this.Ur=new en(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new sn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new sn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Se(new Tt([])),r=new sn(n,e),s=new sn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new Tt([])),r=new sn(n,e),s=new sn(n,e+1);let i=Xe();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new sn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new en(sn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cY(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new sn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?TG:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new sn(n,0),s=new sn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new en(We);return n.forEach(s=>{const i=new sn(s,0),o=new sn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Se.isDocumentKey(i)||(i=i.child(""));const o=new sn(new Se(i),0);let a=new en(We);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.Yr)),!0)},o),X.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ct(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(n.mutations,s=>{const i=new sn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new sn(n,0),s=this.Zr.firstAfterOrEqual(r);return X.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.ri=e,this.docs=function(){return new zt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=Hi();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():In.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hi();const o=n.path,a=new Se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bG(wG(d),r)<=0||(s.has(d.key)||Cm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,n,r,s){je(9500)}ii(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YY(this)}getSize(e){return X.resolve(this.size)}}class YY extends BY{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e){this.persistence=e,this.si=new Qo(n=>x1(n),w1),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new T1,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),X.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Pr(n),X.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),X.waitFor(i).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),X.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.ui={},this.overlays={},this.ci=new _m(0),this.li=!1,this.li=!0,this.hi=new qY,this.referenceDelegate=e(this),this.Pi=new XY(this),this.indexManager=new DY,this.remoteDocumentCache=function(s){return new GY(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new jY(n),this.Ii=new HY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new KY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new QY(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return X.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class QY extends _G{constructor(e){super(),this.currentSequenceNumber=e}}class P1{constructor(e){this.persistence=e,this.Ri=new T1,this.Vi=null}static mi(e){return new P1(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,r=>{const s=Se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.pi=new Qo(r=>PG(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=$Y(this,n)}static mi(e,n){return new Oh(e,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return X.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?X.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jf(e.data.value)),n}br(e,n,r){return X.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Xe(),s=Xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new A1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Fq()?8:EG(Lq())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new JY;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(aa()<=Ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",la(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(aa()<=Ke.DEBUG&&he("QueryEngine","Query:",la(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(aa()<=Ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",la(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):X.resolve())}ys(e,n){if(JE(n))return X.resolve(null);let r=ds(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=b0(n,null,"F"),r=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Xe(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,o,l.readTime)?this.ys(e,b0(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,s){return JE(n)||s.isEqual(Ne.min())?X.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?X.resolve(null):(aa()<=Ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),la(n)),this.vs(e,o,n,xG(s,Lc)).next(a=>a))})}Ds(e,n){let r=new en(Nj(e));return n.forEach((s,i)=>{Cm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return aa()<=Ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",la(n)),this.ps.getDocumentsMatchingQuery(e,n,$i.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="LocalStore",eX=3e8;class tX{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new zt(We),this.xs=new Qo(i=>x1(i),w1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function nX(t,e,n,r){return new tX(t,e,n,r)}async function Xj(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Xe();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function Qj(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function rX(t,e){const n=Ge(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(_,P,v){return _.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=eX?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let l=Hi(),u=Xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(sX(i,o,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(Ne.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return X.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ms=s,i))}function sX(t,e,n){let r=Xe(),s=Xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hi();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he(C1,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:o,qs:s}})}function iX(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,X.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new xi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function P0(t,e,n){const r=Ge(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ml(o))throw o;he(C1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function dT(t,e,n){const r=Ge(t);let s=Ne.min(),i=Xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Ge(l),m=h.xs.get(d);return m!==void 0?X.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(r,o,ds(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Ne.min(),n?i:Xe())).next(a=>(oX(r,YG(e),a),{documents:a,Qs:i})))}function oX(t,e,n){let r=t.Os.get(e)||Ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class fT{constructor(){this.activeTargetIds=tY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aX{constructor(){this.Mo=new fT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="ConnectivityMonitor";class mT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(hT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(hT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf=null;function A0(){return sf===null?sf=function(){return 268435456+Math.round(2147483648*Math.random())}():sf++,"0x"+sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="RestConnection",uX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Rh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=A0(),a=this.zo(e,n.toUriEncodedString());he(og,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:u}=new URL(a),d=m1(u);return this.Jo(e,a,l,r,d).then(h=>(he(og,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ho(og,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=uX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class fX extends cX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=A0();return new Promise((a,l)=>{const u=new uj;u.setWithCredentials(!0),u.listenOnce(cj.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Nf.NO_ERROR:const h=u.getResponseJson();he(Tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Nf.TIMEOUT:he(Tn,`RPC '${e}' ${o} timed out`),l(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const m=u.getStatus();if(he(Tn,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const b=p==null?void 0:p.error;if(b&&b.status&&b.message){const _=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(y)>=0?y:ae.UNKNOWN}(b.status);l(new ve(_,b.message))}else l(new ve(ae.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{he(Tn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);he(Tn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=A0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hj(),a=fj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");he(Tn,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);this.I_(h);let m=!1,p=!1;const b=new dX({Yo:P=>{p?he(Tn,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(m||(he(Tn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),he(Tn,`RPC '${e}' stream ${s} sending:`,P),h.send(P))},Zo:()=>h.close()}),_=(P,v,y)=>{P.listen(v,E=>{try{y(E)}catch(j){setTimeout(()=>{throw j},0)}})};return _(h,yu.EventType.OPEN,()=>{p||(he(Tn,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),_(h,yu.EventType.CLOSE,()=>{p||(p=!0,he(Tn,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(h))}),_(h,yu.EventType.ERROR,P=>{p||(p=!0,Ho(Tn,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),b.a_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))}),_(h,yu.EventType.MESSAGE,P=>{var v;if(!p){const y=P.data[0];Ct(!!y,16349);const E=y,j=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(j){he(Tn,`RPC '${e}' stream ${s} received error:`,j);const C=j.status;let V=function(A){const I=Ht[A];if(I!==void 0)return Fj(I)}(C),x=j.message;V===void 0&&(V=ae.INTERNAL,x="Unknown error status: "+C+" with message "+j.message),p=!0,b.a_(new ve(V,x)),h.close()}else he(Tn,`RPC '${e}' stream ${s} received:`,y),b.u_(y)}}),_(a,dj.STAT_EVENT,P=>{P.stat===h0.PROXY?he(Tn,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===h0.NOPROXY&&he(Tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function ag(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){return new xY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="PersistentStream";class hX{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Gs(n.toString()),Gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new ve(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(pT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(he(pT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mX extends hX{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EY(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ne.min():o.readTime?Ga(o.readTime):Ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=aT(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=w0(l)?{documents:TY(i,l)}:{query:PY(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bY(i,o.resumeToken);const u=E0(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ne.min())>0){a.readTime=wY(i,o.snapshotVersion.toTimestamp());const u=E0(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=CY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=aT(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{}class gX extends pX{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,T0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(ae.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,T0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ae.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class yX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gs(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="RemoteStore";class vX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{dd(this)&&(he(wl,"Restarting streams for network reachability change."),await async function(l){const u=Ge(l);u.Ea.add(4),await cd(u),u.Ra.set("Unknown"),u.Ea.delete(4),await jm(u)}(this))})}),this.Ra=new yX(r,s)}}async function jm(t){if(dd(t))for(const e of t.da)await e(!0)}async function cd(t){for(const e of t.da)await e(!1)}function eR(t,e){const n=Ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),j1(n)?N1(n):Vl(n).O_()&&k1(n,e))}function I1(t,e){const n=Ge(t),r=Vl(n);n.Ia.delete(e),r.O_()&&tR(n,e),n.Ia.size===0&&(r.O_()?r.L_():dd(n)&&n.Ra.set("Unknown"))}function k1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).Y_(e)}function tR(t,e){t.Va.Ue(e),Vl(t).Z_(e)}function N1(t){t.Va=new pY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.Ra.ua()}function j1(t){return dd(t)&&!Vl(t).x_()&&t.Ia.size>0}function dd(t){return Ge(t).Ea.size===0}function nR(t){t.Va=void 0}async function xX(t){t.Ra.set("Online")}async function wX(t){t.Ia.forEach((e,n)=>{k1(t,e)})}async function bX(t,e){nR(t),j1(t)?(t.Ra.ha(e),N1(t)):t.Ra.set("Unknown")}async function SX(t,e,n){if(t.Ra.set("Online"),e instanceof Bj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){he(wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gT(t,r)}else if(e instanceof Df?t.Va.Ze(e):e instanceof $j?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ne.min()))try{const r=await Qj(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(cn.EMPTY_BYTE_STRING,d.snapshotVersion)),tR(i,l);const h=new xi(d.target,l,u,d.sequenceNumber);k1(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he(wl,"Failed to raise snapshot:",r),await gT(t,r)}}async function gT(t,e,n){if(!Ml(e))throw e;t.Ea.add(1),await cd(t),t.Ra.set("Offline"),n||(n=()=>Qj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(wl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jm(t)})}async function yT(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),he(wl,"RemoteStore received new credentials");const r=dd(n);n.Ea.add(3),await cd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jm(n)}async function _X(t,e){const n=Ge(t);e?(n.Ea.delete(2),await jm(n)):e||(n.Ea.add(2),await cd(n),n.Ra.set("Unknown"))}function Vl(t){return t.ma||(t.ma=function(n,r,s){const i=Ge(n);return i.sa(),new mX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:xX.bind(null,t),t_:wX.bind(null,t),r_:bX.bind(null,t),H_:SX.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),j1(t)?N1(t):t.Ra.set("Unknown")):(await t.ma.stop(),nR(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new R1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rR(t,e){if(Gs("AsyncQueue",`${e}: ${t}`),Ml(t))return new ve(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=vu(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.ga=new zt(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class bl{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bl(e,n,Ya.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class TX{constructor(){this.queries=xT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ge(n),i=s.queries;s.queries=xT(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function xT(){return new Qo(t=>kj(t),Am)}async function PX(t,e){const n=Ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new EX,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=rR(o,`Initialization of query '${la(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&D1(n)}async function AX(t,e){const n=Ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CX(t,e){const n=Ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&D1(n)}function IX(t,e,n){const r=Ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function D1(t){t.Ca.forEach(e=>{e.next()})}var C0,wT;(wT=C0||(C0={})).Ma="default",wT.Cache="cache";class kX{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.key=e}}class iR{constructor(e){this.key=e}}class NX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=Nj(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),p=Cm(this.query,h)?h:null,b=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let P=!1;m&&p?m.data.isEqual(p.data)?b!==_&&(r.track({type:3,doc:p}),P=!0):this.su(m,p)||(r.track({type:2,doc:p}),P=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),P=!0):m&&!p&&(r.track({type:1,doc:m}),P=!0,(l||u)&&(a=!0)),P&&(p?(o=o.add(p),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(p,b){const _=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:P})}};return _(p)-_(b)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new bl(this.query,e.tu,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new iR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new sR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const M1="SyncEngine";class jX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RX{constructor(e){this.key=e,this.hu=!1}}class DX{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qo(a=>kj(a),Am),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Se.comparator),this.Au=new Map,this.Ru=new T1,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MX(t,e,n=!0){const r=cR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await oR(r,e,n,!0),s}async function VX(t,e){const n=cR(t);await oR(n,e,!0,!1)}async function oR(t,e,n,r){const s=await iX(t.localStore,ds(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await LX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&eR(t.remoteStore,s),a}async function LX(t,e,n,r,s){t.pu=(h,m,p)=>async function(_,P,v,y){let E=P.view.ru(v);E.Cs&&(E=await dT(_.localStore,P.query,!1).then(({documents:x})=>P.view.ru(x,E)));const j=y&&y.targetChanges.get(P.targetId),C=y&&y.targetMismatches.get(P.targetId)!=null,V=P.view.applyChanges(E,_.isPrimaryClient,j,C);return ST(_,P.targetId,V.au),V.snapshot}(t,h,m,p);const i=await dT(t.localStore,e,!0),o=new NX(e,i.Qs),a=o.ru(i.documents),l=ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);ST(t,n,u.au);const d=new jX(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function OX(t,e,n){const r=Ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Am(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await P0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&I1(r.remoteStore,s.targetId),I0(r,s.targetId)}).catch(Sm)):(I0(r,s.targetId),await P0(r.localStore,s.targetId,!0))}async function FX(t,e){const n=Ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),I1(n.remoteStore,r.targetId))}async function aR(t,e){const n=Ge(t);try{const r=await rX(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ct(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ct(o.hu,14607):s.removedDocuments.size>0&&(Ct(o.hu,42227),o.hu=!1))}),await uR(n,r,e)}catch(r){await Sm(r)}}function bT(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ge(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(a)&&(u=!0)}),u&&D1(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $X(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new zt(Se.comparator);o=o.insert(i,In.newNoDocument(i,Ne.min()));const a=Xe().add(i),l=new Nm(Ne.min(),new Map,new zt(We),o,a);await aR(r,l),r.du=r.du.remove(i),r.Au.delete(e),V1(r)}else await P0(r.localStore,e,!1).then(()=>I0(r,e,n)).catch(Sm)}function I0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||lR(t,r)})}function lR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(I1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),V1(t))}function ST(t,e,n){for(const r of n)r instanceof sR?(t.Ru.addReference(r.key,e),BX(t,r)):r instanceof iR?(he(M1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||lR(t,r.key)):je(19791,{wu:r})}function BX(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(he(M1,"New document in limbo: "+n),t.Eu.add(r),V1(t))}function V1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(Tt.fromString(e)),r=t.fu.next();t.Au.set(r,new RX(n)),t.du=t.du.insert(n,r),eR(t.remoteStore,new xi(ds(b1(n.path)),r,"TargetPurposeLimboResolution",_m.ce))}}async function uR(t,e,n){const r=Ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){s.push(u);const h=A1.As(l.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,u){const d=Ge(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(u,m=>X.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>X.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!Ml(h))throw h;he(C1,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const p=d.Ms.get(m),b=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(m,_)}}}(r.localStore,i))}async function zX(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){he(M1,"User change. New user:",e.toKey());const r=await Xj(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new ve(ae.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uR(n,r.Ls)}}function UX(t,e){const n=Ge(t),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let s=Xe();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function cR(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$X.bind(null,e),e.Pu.H_=CX.bind(null,e.eventManager),e.Pu.yu=IX.bind(null,e.eventManager),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jj(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nX(this.persistence,new ZY,e.initialUser,this.serializer)}Cu(e){return new Yj(P1.mi,this.serializer)}Du(e){return new aX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class HX extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Yj(r=>Oh.mi(r,n),this.serializer)}}class k0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zX.bind(null,this.syncEngine),await _X(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TX}()}createDatastore(e){const n=Jj(e.databaseInfo.databaseId),r=function(i){return new fX(i)}(e.databaseInfo);return function(i,o,a,l){return new gX(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new vX(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bT(this.syncEngine,n,0),function(){return mT.v()?new mT:new lX}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,d){const h=new DX(s,i,o,a,l,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ge(s);he(wl,"RemoteStore shutting down."),i.Ea.add(5),await cd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}k0.provider={build:()=>new k0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="FirestoreClient";class qX{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{he(Wi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he(Wi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lg(t,e){t.asyncQueue.verifyOperationInProgress(),he(Wi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Xj(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _T(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KX(t);he(Wi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>yT(e.remoteStore,s)),t._onlineComponents=e}async function KX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Wi,"Using user provided OfflineComponentProvider");try{await lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await lg(t,new Fh)}}else he(Wi,"Using default OfflineComponentProvider"),await lg(t,new HX(void 0));return t._offlineComponents}async function GX(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Wi,"Using user provided OnlineComponentProvider"),await _T(t,t._uninitializedComponentsProvider._online)):(he(Wi,"Using default OnlineComponentProvider"),await _T(t,new k0))),t._onlineComponents}async function YX(t){const e=await GX(t),n=e.eventManager;return n.onListen=MX.bind(null,e.syncEngine),n.onUnlisten=OX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FX.bind(null,e.syncEngine),n}function XX(t,e,n={}){const r=new jo;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const d=new WX({next:m=>{d.Nu(),o.enqueueAndForget(()=>AX(i,h));const p=m.docs.has(a);!p&&m.fromCache?u.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new kX(b1(a.path),d,{includeMetadataChanges:!0,qa:!0});return PX(i,h)}(await YX(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firestore.googleapis.com",TT=!0;class PT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fR,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VY)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class L1{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gj;switch(r.type){case"firstParty":return new cG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ET.get(n);r&&(he("ComponentProvider","Removing Datastore"),ET.delete(n),r.terminate())}(this),Promise.resolve()}}function hR(t,e,n,r={}){var u;t=jh(t,L1);const s=m1(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(jq(`https://${a}`),Vq("Firestore",!0)),i.host!==fR&&i.host!==a&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!kh(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=An.MOCK_USER;else{d=Rq(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new An(m)}t._authCredentials=new aG(new pj(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rm(this.firestore,e,this._query)}}class jn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}toJSON(){return{type:jn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ad(n,jn._jsonSchema))return new jn(e,r||null,new Se(Tt.fromString(n.referencePath)))}}jn._jsonSchemaVersion="firestore/documentReference/1.0",jn._jsonSchema={type:Yt("string",jn._jsonSchemaVersion),referencePath:Yt("string")};class Sl extends Rm{constructor(e,n,r){super(e,n,b1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Se(e))}withConverter(e){return new Sl(this.firestore,e,this._path)}}function QX(t,e,...n){if(t=Wq(t),arguments.length===1&&(e=bm.newId()),gG("doc","path",e),t instanceof L1){const r=Tt.fromString(e,...n);return FE(r),new jn(t,null,new Se(r))}{if(!(t instanceof jn||t instanceof Sl))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return FE(r),new jn(t.firestore,t instanceof Sl?t.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="AsyncQueue";class CT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zj(this,"async_queue_retry"),this._c=()=>{const r=ag();r&&he(AT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=ag();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new jo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;he(AT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Gs("INTERNAL UNHANDLED ERROR: ",IT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=R1.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&je(47125,{Pc:IT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class O1 extends L1{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new CT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CT(e),this._firestoreClient=void 0,await e}}}function N0(t,e){const n=typeof t=="object"?t:KK(),r=typeof t=="string"?t:e||Rh,s=zK(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=kq("firestore");i&&hR(s,...i)}return s}function mR(t){if(t._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JX(t),t._firestoreClient}function JX(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,u,d){return new kG(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(cn.fromBase64String(e))}catch(n){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ad(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:Yt("string",Br._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(ad(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Yt("string",js._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ad(e,Rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rs(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rs._jsonSchemaVersion="firestore/vectorValue/1.0",Rs._jsonSchema={type:Yt("string",Rs._jsonSchemaVersion),vectorValues:Yt("object")};const ZX=new RegExp("[~\\*/\\[\\]]");function eQ(t,e,n){if(e.search(ZX)>=0)throw kT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new F1(...e.split("."))._internalPath}catch{throw kT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function kT(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new ve(ae.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tQ extends pR{data(){return super.data()}}function gR(t,e){return typeof e=="string"?eQ(t,e):e instanceof F1?e._internalPath:e._delegate._internalPath}class yR{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ld(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[g0].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ft(o.doubleValue));return new Rs(n)}convertGeoPoint(e){return new js(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const n=Bi(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);Ct(Kj(r),9688,{name:e});const s=new gl(r.get(1),r.get(3)),i=new Se(r.popFirst(5));return s.isEqual(n)||Gs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ni extends pR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ni._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ni._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ni._jsonSchema={type:Yt("string",Ni._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Xu extends Ni{data(e={}){return super.data(e)}}class Xa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Va(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xu(this._firestore,this._userDataWriter,r.key,r,new Va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Xu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Va(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Xu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Va(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:nQ(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(t){t=jh(t,jn);const e=jh(t.firestore,O1);return XX(mR(e),t._key).then(n=>iQ(e,t,n))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Yt("string",Xa._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class sQ extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,n)}}function iQ(t,e,n){const r=n.docs.get(e._key),s=new sQ(t);return new Ni(t,s,e._key,r,new Va(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Dl=s})(qK),Nh(new Dc("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new O1(new lG(r.getProvider("auth-internal")),new dG(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ka(ME,VE,e),Ka(ME,VE,"esm2020")})();const oQ=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:yR,Bytes:Br,CollectionReference:Sl,DocumentReference:jn,DocumentSnapshot:Ni,FieldPath:F1,Firestore:O1,FirestoreError:ve,GeoPoint:js,Query:Rm,QueryDocumentSnapshot:Xu,QuerySnapshot:Xa,SnapshotMetadata:Va,Timestamp:Bt,VectorValue:Rs,_AutoId:bm,_ByteString:cn,_DatabaseId:gl,_DocumentKey:Se,_EmptyAuthCredentialsProvider:gj,_FieldPath:kn,_cast:jh,_logWarn:Ho,_validateIsNotUsedTogether:yj,connectFirestoreEmulator:hR,doc:QX,ensureFirestoreConfigured:mR,getDoc:rQ,getFirestore:N0},Symbol.toStringTag,{value:"Module"})),Qa={apiKey:"AIzaSyD7TPcyY_FC9J5o0M1hI0H6mYa8aoviKnM",authDomain:"simplysentai.firebaseapp.com",projectId:"simplysentai",storageBucket:"simplysentai.firebasestorage.app",messagingSenderId:"973409790816",appId:"1:973409790816:web:7be67b9afdb75e948b0c05"};typeof window<"u"&&console.log(" Firebase Config Status:",{hasApiKey:!!Qa.apiKey,hasProjectId:!!Qa.projectId,projectId:Qa.projectId});let sa=null,ou=null;const aQ=()=>{if(sa)return sa;const t=GK();if(t.length>0)return sa=t[0],console.log(" Using existing Firebase app"),sa;if(!Qa.apiKey||!Qa.projectId){const e=new Error("Firebase configuration is missing. Please set VITE_FIREBASE_API_KEY and VITE_FIREBASE_PROJECT_ID environment variables.");throw console.error(" Firebase initialization error:",e),e}try{return sa=ij(Qa),console.log(" Firebase initialized successfully"),sa}catch(e){throw console.error(" Firebase initialization failed:",e),e}},lQ=()=>{if(ou)return ou;const t=aQ(),e="product-catalog";try{ou=N0(t,e)}catch{console.warn(`Database '${e}' not found or using default database, falling back to default`),ou=N0(t)}return ou},uQ=async t=>{try{const e=lQ(),{doc:n,getDoc:r}=await xq(async()=>{const{doc:o,getDoc:a}=await Promise.resolve().then(()=>oQ);return{doc:o,getDoc:a}},void 0),s=n(e,"amazon",t),i=await r(s);if(i.exists()){const o=i.data();return{asin:t,...o}}return null}catch(e){throw console.error(`Error fetching product ${t} from Firestore:`,e),e}},cQ="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",dQ=()=>{const{productId:t}=iC(),e=Yo(),[n,r]=T.useState(null),[s,i]=T.useState(!0),[o,a]=T.useState(null),[l,u]=T.useState(!1),[d,h]=T.useState(!1),[m,p]=T.useState(!1),[b,_]=T.useState(0),[P,v]=T.useState(null),[y,E]=T.useState(null);T.useEffect(()=>{const M=document.documentElement;return M.style.setProperty("background","#d1ccfb","important"),()=>{M.style.removeProperty("background")}},[]),T.useEffect(()=>{(async()=>{var N,$,Q,J,q;if(!t){console.error(" ProductPage: No productId provided"),e("/person");return}console.log(` ProductPage: Starting fetch for productId: ${t}`),i(!0),a(null);try{console.log(` ProductPage: Fetching product with ID: ${t}`);const L=await uQ(t);if(console.log(` ProductPage: Firebase response for ${t}:`,L?"Found":"Not found"),L&&console.log(" ProductPage: Firebase product data keys:",Object.keys(L)),!L){const Ae=`Product ${t} not found in Firebase`;console.warn(` ProductPage: ${Ae}`),a(Ae),i(!1),setTimeout(()=>{e("/person")},3e3);return}const O=L.data||L,W=(O==null?void 0:O.name)||(O==null?void 0:O.product_title)||(O==null?void 0:O.title)||L.name||L.productTitle||`Product ${t}`;let Z=cQ;const se=(O==null?void 0:O.description)||(O==null?void 0:O.product_description)||(O==null?void 0:O.about)||(O==null?void 0:O.product_about)||(O==null?void 0:O.details)||(O==null?void 0:O.product_details)||(O==null?void 0:O.product_info)||(O==null?void 0:O.info)||L.description;if(se)if(typeof se=="string"&&se.trim()!=="")Z=se;else if(Array.isArray(se)&&se.length>0)Z=se.join(" ");else if(typeof se=="object"){const Ae=JSON.stringify(se);Ae&&Ae!=="{}"&&(Z=Ae)}else{const Ae=String(se);Ae&&Ae.trim()!==""&&(Z=Ae)}console.log(" ProductPage: Description extraction:",{productId:t,hasDescription:!!Z&&Z!=="No description available.",description:typeof Z=="string"?Z.substring(0,100):String(Z).substring(0,100),productDataKeys:Object.keys(O||{})});let we=0;const pe=(O==null?void 0:O.product_price)||(O==null?void 0:O.price)||(O==null?void 0:O.price_amount)||(O==null?void 0:O.current_price)||L.price;pe!=null&&(typeof pe=="string"?we=parseFloat(pe.replace(/[$,]/g,""))||0:typeof pe=="number"&&(we=pe));let _e;if((O==null?void 0:O.rating_numeric)!==void 0&&(O==null?void 0:O.rating_numeric)!==null){const Ae=typeof O.rating_numeric=="number"?O.rating_numeric:parseFloat(O.rating_numeric.toString());!isNaN(Ae)&&Ae>0&&Ae<=5&&(_e=Ae)}if(_e===void 0){const Ae=(O==null?void 0:O.product_star_rating)||(O==null?void 0:O.rating)||(L==null?void 0:L.rating)||(L==null?void 0:L.product_star_rating)||0;_e=typeof Ae=="number"?Ae:parseFloat((Ae==null?void 0:Ae.toString())||"0")}let ke=0;if((O==null?void 0:O.num_ratings_numeric)!==void 0&&(O==null?void 0:O.num_ratings_numeric)!==null)ke=typeof O.num_ratings_numeric=="number"?O.num_ratings_numeric:parseInt(O.num_ratings_numeric.toString())||0;else{const Ae=(O==null?void 0:O.product_num_ratings)||(O==null?void 0:O.num_ratings)||(L==null?void 0:L.num_ratings)||(L==null?void 0:L.product_num_ratings)||0;ke=typeof Ae=="number"?Ae:parseInt((Ae==null?void 0:Ae.toString())||"0")}const De=(O==null?void 0:O.product_photo)||((N=O==null?void 0:O.product_photos)==null?void 0:N[0])||(($=O==null?void 0:O.data)==null?void 0:$.product_photo)||((J=(Q=O==null?void 0:O.data)==null?void 0:Q.product_photos)==null?void 0:J[0])||(L==null?void 0:L.product_photo)||((q=L==null?void 0:L.product_photos)==null?void 0:q[0])||(L==null?void 0:L.imageUrl)||(L==null?void 0:L.image_url),ye=Ae=>Ae===1&&De?De:O!=null&&O.product_photos&&Array.isArray(O.product_photos)&&O.product_photos.length>=Ae?O.product_photos[Ae-1]:`https://storage.googleapis.com/simplysent-product-images/${t}/t_${t}_${Ae}.png`,bt=ye(1),Bn=ye(2),dn=ye(3),ze=[bt,Bn,dn].filter(Boolean);ze.length===0&&ze.push(`https://storage.googleapis.com/simplysent-product-images/${t}/t_${t}_1.png`);const tt={id:t,name:W,price:we,image:bt,images:ze,description:Z,rating:_e||0,reviews:ke,features:(O==null?void 0:O.features)||[],specifications:(O==null?void 0:O.specifications)||[],inStock:!0,shipping:"Will arrive in time for delivery"};console.log(` ProductPage: Successfully loaded product ${t}`),console.log(` ProductPage: Successfully loaded product ${t}`),r(tt),a(null)}catch(L){const O=L instanceof Error?L.message:String(L);console.error(` ProductPage: Error fetching product ${t}:`,L),console.error("Error details:",O),a(`Failed to load product: ${O}`),i(!1),setTimeout(()=>{e("/recommendations")},3e3)}finally{i(!1)}})()},[t,e]);const j=()=>{u(!l)},C=()=>{alert("Share feature (Demo)")},V=()=>{n&&_(M=>M===0?n.images.length-1:M-1)},x=()=>{n&&_(M=>M===n.images.length-1?0:M+1)},S=M=>{v({x:M.targetTouches[0].clientX,y:M.targetTouches[0].clientY})},A=M=>{if(!P)return;const N=M.targetTouches[0].clientX,$=M.targetTouches[0].clientY,Q=Math.abs(N-P.x),J=Math.abs($-P.y);Q>J&&Q>10&&(M.preventDefault(),M.stopPropagation()),E(N)},I=()=>{if(!P||!y)return;const M=P.x-y,N=M>50,$=M<-50;N&&x(),$&&V(),v(null),E(0)};if(s)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})});if(o||!n)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:c.jsxs("div",{className:"text-center max-w-md px-4",children:[c.jsx("div",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Product Not Found"}),c.jsx("div",{className:"text-gray-600 mb-4",children:o||`Product ${t} could not be loaded.`}),c.jsx("button",{onClick:()=>e("/recommendations"),className:"px-6 py-2 bg-simplysent-purple text-white rounded-lg hover:bg-simplysent-purple-dark transition-colors",children:"Go Back to Recommendations"})]})});const R=`https://www.amazon.co.uk/dp/${t}?tag=simplysent09-21`;return c.jsxs("div",{className:"min-h-screen bg-white overflow-x-hidden",style:{marginTop:"-16px",backgroundColor:"white",minHeight:"100vh",position:"relative",zIndex:1},children:[c.jsx("div",{className:"hidden md:block relative",style:{height:"50vh",minHeight:"400px",overflow:"visible"},children:c.jsxs("div",{className:"flex h-full max-w-6xl mx-auto",style:{overflow:"visible"},children:[c.jsxs("div",{className:"flex-1 bg-simplysent-purple-alt h-full relative overflow-hidden",style:{marginTop:"calc(-1 * env(safe-area-inset-top))"},children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 px-4 pt-8 pb-4",style:{paddingTop:"calc(env(safe-area-inset-top) + 32px)"},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:()=>e(-1),className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:c.jsx(Ns,{size:20,className:"text-gray-800"})}),c.jsx("button",{onClick:C,className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:c.jsx(a2,{size:20,className:"text-gray-800"})})]})}),c.jsx("div",{className:"absolute inset-0 top-[10%] bottom-0 flex flex-col items-center justify-start px-4 pb-20",children:c.jsxs("div",{className:"w-full max-w-sm",children:[c.jsx("div",{className:"aspect-square relative bg-transparent",onTouchStart:S,onTouchMove:A,onTouchEnd:I,style:{touchAction:"pan-y"},children:c.jsx(yi,{mode:"wait",children:c.jsx(xe.div,{className:"absolute inset-0 flex items-center justify-center p-8 bg-transparent",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:c.jsx("img",{src:n.images[b],alt:`${n.name} - Image ${b+1}`,className:"w-full h-full object-contain scale-110",style:{mixBlendMode:"normal"}})},b)})}),c.jsx("div",{className:"flex items-center justify-center gap-2 mt-2 relative z-30",children:n.images.map((M,N)=>c.jsx("button",{onClick:()=>_(N),className:`h-3 rounded-full transition-all ${N===b?"bg-simplysent-purple w-10":"bg-purple-300 w-3"}`,style:{minWidth:N===b?"40px":"12px"}},N))})]})})]}),c.jsxs("div",{className:"flex-1 bg-white flex flex-col justify-center px-8 pt-16 relative",children:[c.jsx("div",{className:"absolute left-0 top-0 bottom-0 pointer-events-none z-0",style:{width:"120px",left:"-2px"},children:c.jsx("svg",{viewBox:"0 0 240 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",preserveAspectRatio:"none",children:c.jsx("path",{d:"M0 0C40 100 80 300 120 500C160 700 200 900 240 1000L240 1000L0 1000Z",fill:"white"})})}),c.jsxs("div",{className:"relative z-10 space-y-4",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 break-words line-clamp-3",style:{wordBreak:"break-word",overflowWrap:"break-word"},children:n.name}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((M,N)=>c.jsx(ph,{size:18,className:`${N<Math.floor(n.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},N))}),c.jsxs("span",{className:"text-sm text-gray-600",children:["(",n.reviews," reviews)"]})]}),c.jsx("div",{children:c.jsxs("span",{className:"text-4xl font-bold text-simplysent-purple",children:["",n.price.toFixed(2)]})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"About this item"}),c.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:n.description||"No description available."})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center w-[95%]",children:[c.jsx("button",{onClick:j,className:"flex items-center justify-center rounded-2xl focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50",style:{width:"56px",height:"56px",padding:"16px",flexShrink:0,position:"relative"},"aria-label":"Favorite",children:c.jsx(i2,{size:22,className:l?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:l?"currentColor":"none",style:{width:"22px",height:"22px",flexShrink:0,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"}})}),c.jsxs("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 text-gray-900 hover:from-yellow-500 hover:via-yellow-600 hover:to-amber-600 active:opacity-95 focus:ring-yellow-400/30 shadow-[0_8px_30px_rgba(251,191,36,0.3)] hover:shadow-[0_8px_30px_rgba(251,191,36,0.4)] active:shadow-[0_8px_30px_rgba(251,191,36,0.3)] font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 px-9 py-4 text-lg hover:scale-105 active:scale-95 w-full md:flex-1 flex items-center justify-center gap-2",children:[c.jsx(s2,{size:20}),"Open on Amazon"]})]})]})]})]})}),c.jsx("div",{className:"md:hidden relative",style:{height:"60vh",minHeight:"500px",maxHeight:"700px",marginTop:"calc(-1 * env(safe-area-inset-top))"},children:c.jsxs("div",{className:"bg-simplysent-purple-alt h-full relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 px-4 pt-8 pb-4",style:{paddingTop:"calc(env(safe-area-inset-top) + 32px)"},children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:()=>e(-1),className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:c.jsx(Ns,{size:20,className:"text-gray-800"})}),c.jsx("button",{onClick:C,className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:c.jsx(a2,{size:20,className:"text-gray-800"})})]})}),c.jsx("div",{className:"md:hidden absolute inset-0 top-[8%] bottom-0 flex flex-col items-center justify-center px-4 pb-8",children:c.jsxs("div",{className:"w-full max-w-md flex flex-col items-center",children:[c.jsx("div",{className:"w-full aspect-square relative bg-transparent max-w-[85vw]",onTouchStart:S,onTouchMove:A,onTouchEnd:I,style:{touchAction:"pan-y"},children:c.jsx(yi,{mode:"wait",children:c.jsx(xe.div,{className:"absolute inset-0 flex items-center justify-center p-6 sm:p-8 bg-transparent",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:c.jsx("img",{src:n.images[b],alt:`${n.name} - Image ${b+1}`,className:"w-full h-full object-contain",style:{mixBlendMode:"normal",maxWidth:"100%",maxHeight:"100%"}})},b)})}),c.jsx("div",{className:"flex items-center justify-center gap-2 mt-4 relative z-30",children:n.images.map((M,N)=>c.jsx("button",{onClick:()=>_(N),className:`h-3 rounded-full transition-all ${N===b?"bg-white w-8":"bg-white/60 w-3"}`,style:{minWidth:N===b?"32px":"12px"}},N))})]})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10",style:{height:"80px"},children:c.jsx("svg",{viewBox:"0 0 1440 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",preserveAspectRatio:"none",children:c.jsx("path",{d:"M0 0Q720 160 1440 0L1440 160L0 160Z",fill:"white"})})})]})}),c.jsx("div",{className:"md:hidden w-full pt-4 pb-8 bg-white relative overflow-visible",style:{marginTop:"-1px",marginBottom:"50px"},children:c.jsxs("div",{className:"px-4 space-y-6",style:{marginTop:"-20px"},children:[c.jsxs("div",{className:"flex items-start justify-between gap-4 relative px-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900 flex-1 break-words line-clamp-3",style:{wordBreak:"break-word",overflowWrap:"break-word"},children:n.name}),c.jsx("button",{onClick:j,className:"flex items-center justify-center rounded-2xl focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 flex-shrink-0",style:{width:"56px",height:"56px",padding:"0",marginTop:"-32px",minWidth:"56px",minHeight:"56px",position:"relative",zIndex:10},"aria-label":"Favorite",onMouseDown:M=>M.preventDefault(),children:c.jsx(i2,{size:22,className:l?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:l?"currentColor":"none",style:{width:"22px",height:"22px",flexShrink:0}})})]}),c.jsxs("div",{className:"flex items-start justify-between px-4",children:[c.jsxs("div",{className:"flex flex-col gap-1",style:{marginTop:"-16px"},children:[c.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((M,N)=>c.jsx(ph,{size:16,className:`${N<Math.floor(n.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},N))}),c.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.reviews," reviews)"]})]}),c.jsxs("span",{className:"text-3xl font-bold text-simplysent-purple",children:["",n.price.toFixed(2)]})]}),c.jsxs("div",{className:"px-4",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"About this item"}),c.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:n.description||"No description available."})]}),c.jsxs("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"w-[95%] mx-auto block bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 text-gray-900 hover:from-yellow-500 hover:via-yellow-600 hover:to-amber-600 active:opacity-95 focus:ring-yellow-400/30 shadow-[0_8px_30px_rgba(251,191,36,0.3)] hover:shadow-[0_8px_30px_rgba(251,191,36,0.4)] active:shadow-[0_8px_30px_rgba(251,191,36,0.3)] font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 px-9 py-4 text-lg hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[c.jsx(s2,{size:20}),"Open on Amazon"]})]})})]})},gt=({level:t=1,children:e,className:n=""})=>{const r=`h${t}`,s="font-heading text-gray-800",i={1:"text-4xl md:text-5xl font-bold",2:"text-3xl md:text-4xl font-bold",3:"text-2xl md:text-3xl font-semibold",4:"text-xl md:text-2xl font-semibold",5:"text-lg md:text-xl font-medium",6:"text-base md:text-lg font-medium"};return c.jsx(r,{className:`${s} ${i[t]} ${n}`,children:e})},fQ=({tabs:t,activeTab:e,onTabChange:n,className:r=""})=>c.jsx("div",{className:`w-full ${r}`,children:c.jsx("div",{className:"flex gap-8 border-b-2 border-gray-200 overflow-x-auto no-scrollbar",children:t.map(s=>{const i=e===s.id,o=s.id==="ai-picks",a=s.id==="tech",l=s.id==="golf";return c.jsxs("button",{onClick:()=>n(s.id),className:`relative pb-4 px-2 font-medium text-base transition-colors duration-200 whitespace-nowrap
              ${i?o?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"text-[#5E57AC]":o?"text-purple-600":"text-gray-500 hover:text-gray-700"}
            `,children:[c.jsxs("span",{className:"inline-flex items-center gap-2",children:[o&&c.jsx(Wt,{icon:dq,className:"text-purple-500"}),a&&c.jsx(Wt,{icon:fq,className:`${i?"text-[#5E57AC]":"text-gray-500"}`}),l&&c.jsx(Wt,{icon:oq,className:`${i?"text-[#5E57AC]":"text-gray-500"}`}),s.label]}),i&&c.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 rounded-full ${o?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"bg-[#5E57AC]"}`})]},s.id)})})}),hQ=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[s,i]=T.useState(""),[o,a]=T.useState([]),[l,u]=T.useState(50),[d,h]=T.useState(300),[m,p]=T.useState("ai-picks"),[b,_]=T.useState(!0),[P,v]=T.useState(!1),[y,E]=T.useState(!1),j=T.useRef(null);T.useEffect(()=>{if(y){const $=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=$,document.body.classList.remove("sheet-open")}}},[y]);const[C,V]=T.useState("StackSansText"),[x,S]=T.useState("400"),A=[{value:"option1",label:"Electronics"},{value:"option2",label:"Fashion"},{value:"option3",label:"Home & Garden"},{value:"option4",label:"Sports & Outdoors"},{value:"option5",label:"Books & Media"}],I=[{id:"ai-picks",label:"AI Picks"},{id:"tech",label:"Tech"},{id:"golf",label:"Golf"}],R=[{id:"1",image:"/img/products/fitbit.png",name:"Fitbit Fitness Tracker",price:199.99,rating:4.5,numRatings:1234},{id:"2",image:"/img/products/ninaj2.png",name:"Ninja Air Fryer Pro",price:149.99,rating:4.7,numRatings:856},{id:"3",image:"/img/products/ninja.png",name:"Ninja Blender System",price:179.99,rating:4.6,numRatings:642},{id:"4",image:"/img/products/pop.png",name:"Pop Culture Collectible",price:29.99,rating:4.3,numRatings:423},{id:"5",image:"/img/products/sony.png",name:"Sony Wireless Headphones",price:249.99,rating:4.8,numRatings:1523},{id:"6",image:"/img/products/controller.png",name:"Gaming Controller Pro",price:79.99,rating:4.4,numRatings:987}],M=[{value:"tech",label:"Tech",emoji:""},{value:"golf",label:"Golf",emoji:""},{value:"outdoors",label:"Outdoors",emoji:""},{value:"home",label:"Home",emoji:""},{value:"books",label:"Books",emoji:""},{value:"fashion",label:"Fashion",emoji:""},{value:"beauty",label:"Beauty",emoji:""},{value:"toys",label:"Toys",emoji:""}],N=[{id:"sheet-1",image:"/img/products/fitbit.png",name:"Fitbit Fitness Tracker Pro",price:199.99,rating:4.5,numRatings:1234},{id:"sheet-2",image:"/img/products/ninaj2.png",name:"Ninja Air Fryer Deluxe",price:149.99,rating:4.7,numRatings:856},{id:"sheet-3",image:"/img/products/sony.png",name:"Sony Wireless Headphones",price:249.99,rating:4.8,numRatings:1523},{id:"sheet-4",image:"/img/products/controller.png",name:"Gaming Controller Elite",price:79.99,rating:4.4,numRatings:987},{id:"sheet-5",image:"/img/products/pop.png",name:"Pop Culture Collectible Set",price:29.99,rating:4.3,numRatings:423}];return c.jsxs("div",{className:"min-h-screen py-8 px-4",children:[c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx(gt,{level:1,className:"mb-4",children:"UI Kit Showcase"}),c.jsx("p",{className:"text-lg text-gray-600 font-medium max-w-2xl mx-auto mb-4",children:"A comprehensive collection of reusable components built with modern design principles"}),c.jsx(Ye,{onClick:()=>E(!0),variant:"primary",className:"!font-normal",children:"Person Sheet"})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx(gt,{level:3,children:"Product Carousel (Horizontal)"}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:b,onChange:$=>_($.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Pick Styling"})]})]}),c.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-12",children:c.jsx("div",{className:"flex gap-4 transition-all duration-700 ease-out",children:R.map(($,Q)=>c.jsx("div",{className:"flex-shrink-0 w-[300px] transition-all duration-700 ease-out",style:{animation:`fadeInSlide 0.6s ease-out ${Q*.05}s both`},children:c.jsx(Eo,{id:$.id,image:$.image,name:$.name,price:$.price,rating:$.rating,numRatings:$.numRatings,compact:!0,isAiPick:b,className:b?"":"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",customWidth:"300px"})},$.id))})})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx(gt,{level:3,children:"Product Carousel (Vertical)"}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:$=>v($.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"AI Pick Styling"})]})]}),c.jsx("div",{className:"overflow-y-auto no-scrollbar max-h-[600px] pr-2 pt-2",children:c.jsx("div",{className:"flex flex-col gap-6",children:R.map(($,Q)=>c.jsx("div",{className:"flex-shrink-0 transition-all duration-300 ease-out",style:{animation:`fadeInSlide 0.6s ease-out ${Q*.05}s both`},children:c.jsx(Eo,{id:$.id,image:$.image,name:$.name,price:$.price,rating:$.rating,numRatings:$.numRatings,compact:!0,isAiPick:P,className:P?"":"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",customWidth:"300px"})},$.id))})})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsx(gt,{level:3,className:"mb-6",children:"Tab Menu"}),c.jsx(fQ,{tabs:I,activeTab:m,onTabChange:p}),c.jsxs("div",{className:"mt-8",children:[m==="ai-picks"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl border-2 border-purple-200",children:[c.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"AI Picks Content"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"This tab showcases AI-powered recommendations. The system analyzes user preferences, browsing history, and product ratings to suggest the most relevant items."}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:c.jsx("path",{d:"M12 2l2.39 5.26L20 8.27l-4 3.89L17.18 18 12 15.45 6.82 18 8 12.16 4 8.27l5.61-1.01L12 2z"})}),c.jsx("span",{className:"font-medium",children:"AI-powered recommendations"})]})]}),c.jsxs("div",{className:"p-6 bg-white rounded-2xl border-2 border-gray-200",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Features"}),c.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[c.jsx("li",{children:"Personalized product suggestions based on user behavior"}),c.jsx("li",{children:"Machine learning algorithms for better accuracy"}),c.jsx("li",{children:"Real-time updates as preferences change"}),c.jsx("li",{children:"Integration with product ratings and reviews"})]})]})]}),m==="tech"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-2xl border-2 border-blue-200",children:[c.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Tech Products"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Explore the latest in technology - from cutting-edge gadgets to smart home devices. Find everything you need to stay connected and productive."}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("span",{className:"font-medium",children:"Latest tech innovations"})]})]}),c.jsxs("div",{className:"p-6 bg-white rounded-2xl border-2 border-gray-200",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Categories"}),c.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[c.jsx("li",{children:"Smartphones and accessories"}),c.jsx("li",{children:"Laptops and computers"}),c.jsx("li",{children:"Smart home devices"}),c.jsx("li",{children:"Wearable technology"}),c.jsx("li",{children:"Audio equipment"})]})]})]}),m==="golf"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border-2 border-green-200",children:[c.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Golf Equipment"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Everything you need for the perfect round. From clubs to accessories, find premium golf equipment for players of all skill levels."}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[c.jsx("span",{className:"text-2xl",children:""}),c.jsx("span",{className:"font-medium",children:"Professional golf gear"})]})]}),c.jsxs("div",{className:"p-6 bg-white rounded-2xl border-2 border-gray-200",children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Product Range"}),c.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[c.jsx("li",{children:"Golf clubs and sets"}),c.jsx("li",{children:"Golf balls and accessories"}),c.jsx("li",{children:"Golf apparel and footwear"}),c.jsx("li",{children:"Training aids and equipment"}),c.jsx("li",{children:"Golf bags and carts"})]})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsx(gt,{level:2,className:"mb-6",children:"Headings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(gt,{level:1,children:"Heading Level 1"}),c.jsx(gt,{level:2,children:"Heading Level 2"}),c.jsx(gt,{level:3,children:"Heading Level 3"}),c.jsx(gt,{level:4,children:"Heading Level 4"}),c.jsx(gt,{level:5,children:"Heading Level 5"}),c.jsx(gt,{level:6,children:"Heading Level 6"})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsx(gt,{level:2,className:"mb-6",children:"Form Inputs"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx(gt,{level:4,className:"mb-4",children:"Text Inputs"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Da,{label:"Name",placeholder:"Enter your name",value:t,onChange:e}),c.jsx(Da,{label:"Email",placeholder:"Enter your email",value:n,onChange:r,type:"email"})]})]}),c.jsx("div",{children:c.jsx(Da,{label:"With Error State",placeholder:"This field has an error",value:"",onChange:()=>{},error:"This field is required"})}),c.jsx("div",{children:c.jsx(Da,{label:"Disabled Input",placeholder:"This input is disabled",value:"Disabled content",onChange:()=>{},disabled:!0})})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsx(gt,{level:2,className:"mb-6",children:"Dropdowns"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(or,{label:"Category",placeholder:"Select a category",value:s,options:A,onChange:i}),c.jsx(or,{label:"Disabled Dropdown",placeholder:"This dropdown is disabled",value:"",options:A,onChange:()=>{},disabled:!0})]}),c.jsx(or,{label:"With Error State",placeholder:"Select an option",value:"",options:A,onChange:()=>{},error:"Please select a valid option"})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx(gt,{level:2,children:"Multi Select Buttons"}),c.jsx(Ye,{variant:"ghost",size:"small",onClick:()=>a([]),disabled:o.length===0,className:"text-[#5E57AC] !font-normal",children:"Deselect all"})]}),c.jsx("div",{className:"flex flex-col gap-6",children:c.jsx(Th,{options:M,selectedValues:o,onChange:a})})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsx(gt,{level:2,className:"mb-6",children:"Budget Range Slider"}),c.jsx(e1,{min:10,max:500,minValue:l,maxValue:d,onChange:($,Q)=>{u($),h(Q)},label:"Select your budget range (5 steps)"})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsx(gt,{level:2,className:"mb-6",children:"Buttons"}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx(gt,{level:4,className:"mb-4",children:"Button Variants"}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsx(Ye,{variant:"primary",className:"!font-normal",children:"Primary Button"}),c.jsx(Ye,{variant:"secondary",className:"!font-normal",children:"Secondary Button"}),c.jsx(Ye,{variant:"outline",className:"!font-normal",children:"Outline Button"}),c.jsx(Ye,{variant:"ghost",className:"!font-normal",children:"Ghost Button"})]})]}),c.jsxs("div",{children:[c.jsx(gt,{level:4,className:"mb-4",children:"Button Sizes"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsx(Ye,{size:"small",className:"!font-normal",children:"Small"}),c.jsx(Ye,{size:"medium",className:"!font-normal",children:"Medium"}),c.jsx(Ye,{size:"large",className:"!font-normal",children:"Large"})]})]}),c.jsxs("div",{children:[c.jsx(gt,{level:4,className:"mb-4",children:"Button States"}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsx(Ye,{className:"!font-normal",children:"Normal"}),c.jsx(Ye,{disabled:!0,className:"!font-normal",children:"Disabled"})]})]}),c.jsxs("div",{children:[c.jsx(gt,{level:4,className:"mb-4",children:"Full Width Button"}),c.jsx(Ye,{fullWidth:!0,className:"!font-normal",children:"Full Width Button"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[c.jsx(gt,{level:2,className:"mb-6",children:"Color Palette"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-full h-32 bg-[#5E57AC] rounded-2xl shadow-md mb-3"}),c.jsx("p",{className:"font-semibold text-gray-800",children:"Primary"}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#5E57AC"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-full h-32 bg-gray-800 rounded-2xl shadow-md mb-3"}),c.jsx("p",{className:"font-semibold text-gray-800",children:"Dark"}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#1F2937"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-2xl shadow-md mb-3"}),c.jsx("p",{className:"font-semibold text-gray-800",children:"Light"}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#E5E7EB"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-full h-32 bg-white border-2 border-gray-200 rounded-2xl shadow-md mb-3"}),c.jsx("p",{className:"font-semibold text-gray-800",children:"White"}),c.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#FFFFFF"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8",children:[c.jsx(gt,{level:2,className:"mb-6",children:"Typography"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Font Family"}),c.jsx(or,{placeholder:"Select font",value:C,options:[{value:"StackSansText",label:"StackSansText"},{value:"StackSansHeadline",label:"StackSansHeadline"},{value:"StackSansNotch",label:"StackSansNotch (Logo only)"}],onChange:$=>V($)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Font Weight"}),c.jsx(or,{placeholder:"Select weight",value:x,options:[{value:"200",label:"ExtraLight (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Regular (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"SemiBold (600)"},{value:"700",label:"Bold (700)"}],onChange:$=>S($)})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-6 bg-gray-50 rounded-2xl border-2 border-gray-200",children:[c.jsxs("p",{className:"text-sm text-gray-500 mb-4 font-medium",children:["Preview: ",C," - Weight ",x]}),c.jsx("div",{style:{fontFamily:C,fontWeight:parseInt(x)},className:"text-4xl text-gray-900",children:"The quick brown fox jumps over the lazy dog"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansText (Body Text)"}),c.jsx("p",{className:"text-lg text-gray-700",style:{fontFamily:"StackSansText",fontWeight:400},children:"The quick brown fox jumps over the lazy dog. This is a sample paragraph text using StackSansText with regular weight for optimal readability."})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansHeadline (Headings)"}),c.jsx(gt,{level:2,style:{fontFamily:"StackSansHeadline",fontWeight:500},children:"The quick brown fox jumps over the lazy dog"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansNotch (Logo Only)"}),c.jsx("div",{className:"font-notch font-bold text-3xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent",children:"SimplySent"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Buttons (StackSansText)"}),c.jsx(Ye,{className:"!font-normal",children:"Button Text Example"})]})]})]}),c.jsx("div",{className:"mt-12 text-center",children:c.jsx("p",{className:"text-gray-500 font-medium",children:"All components are mobile-friendly and follow modern design principles"})})]}),c.jsxs(c.Fragment,{children:[c.jsx("style",{children:`
                    /* Hide scrollbar on iOS Safari for sheet */
                    [data-sheet-scroll]::-webkit-scrollbar {
                        display: none !important;
                        width: 0 !important;
                        height: 0 !important;
                        -webkit-appearance: none !important;
                    }
                    [data-sheet-scroll] {
                        -ms-overflow-style: none !important;
                        scrollbar-width: none !important;
                        -webkit-overflow-scrolling: touch !important;
                    }
                `}),c.jsxs(xt,{ref:j,isOpen:y,onClose:()=>E(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[c.jsxs(xt.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",background:"#ffffff"},children:[c.jsx(xt.Header,{children:c.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[c.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:c.jsx(xt.DragIndicator,{style:{display:"none"}})}),c.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Products"}),c.jsx("button",{type:"button",onClick:()=>E(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:c.jsx(Qc,{size:24,className:"text-gray-600"})})]})}),c.jsx(xt.Content,{style:{padding:"24px",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:c.jsx("div",{"data-sheet-scroll":!0,className:"flex-1 overflow-y-auto no-scrollbar w-full pt-2",style:{WebkitOverflowScrolling:"touch",scrollbarWidth:"none",msOverflowStyle:"none"},children:c.jsx("div",{className:"flex flex-col gap-6 w-full items-center px-0",children:N.map($=>c.jsx("div",{className:"flex-shrink-0 flex justify-center w-full",style:{contain:"layout style",isolation:"isolate"},children:c.jsx("div",{style:{width:"100%",maxWidth:"300px",contain:"layout style"},children:c.jsx(Eo,{id:$.id,image:$.image,name:$.name,price:$.price,rating:$.rating,numRatings:$.numRatings,compact:!0,simpleThumbsButtons:!0,customWidth:"300px"})})},$.id))})})})]}),c.jsx(xt.Backdrop,{onTap:()=>E(!1)})]})]})]})};function mQ(){const t=Yo(),n=Go().state;return T.useEffect(()=>{(async()=>{var s;try{const i=n!=null&&n.formData?`${window.location.origin}/products`:document.referrer||window.location.href;if((s=n==null?void 0:n.apiError)!=null&&s.apiMetadata)await xF(n.apiError,n.apiError.apiMetadata,i);else if((n==null?void 0:n.errorMessage)==="No recommendations available")await wF(n.errorMessage,i);else{const o=new Error((n==null?void 0:n.errorMessage)||"Unknown error");o.stack=(n==null?void 0:n.errorStack)||o.stack,await zI(o,n==null?void 0:n.componentStack,i)}}catch(i){console.error("Failed to report error:",i)}})()},[n]),c.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center space-y-6",children:[c.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2",children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:c.jsx(gh,{className:"w-20 h-20 text-purple-500"})})]}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong. This is embarrassing."}),c.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Were working on it. Please try again in a few minutes."}),c.jsxs(xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/"),className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[c.jsx(Ns,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})}class pQ extends T.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){zI(e,n.componentStack),console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),c.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Refresh Page"})]})}):this.props.children}}function gQ({measurementId:t}){return T.useEffect(()=>{const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e);const n=document.createElement("script");n.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${t}', {
        send_page_view: true
      });
    `,document.head.appendChild(n)},[t]),null}function yQ({pixelId:t}){return T.useEffect(()=>{const e=document.createElement("script");e.innerHTML=`
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '${t}');
      fbq('track', 'PageView');
    `,document.head.appendChild(e);const n=document.createElement("noscript"),r=document.createElement("img");r.height=1,r.width=1,r.style.display="none",r.src=`https://www.facebook.com/tr?id=${t}&ev=PageView&noscript=1`,n.appendChild(r),document.body.appendChild(n)},[t]),null}function vQ({className:t=""}){const[e,n]=T.useState(!1),[r,s]=T.useState(!1),[i,o]=T.useState(""),[a,l]=T.useState(!1),[u,d]=T.useState(!1),[h,m]=T.useState(!1),[p,b]=T.useState(!1),[_,P]=T.useState(!1),v=T.useRef(null),y=T.useRef(null);if(T.useEffect(()=>{const Q=()=>{const q=UI();l(q),d(cm()),m(mx()),b(HI());const L=localStorage.getItem("ss_autofill_enabled");q&&L===null?(localStorage.setItem("ss_autofill_enabled","true"),P(!0)):P(L==="true")};Q();const J=setInterval(Q,100);return()=>clearInterval(J)},[]),T.useEffect(()=>{const Q=J=>{v.current&&!v.current.contains(J.target)&&n(!1),y.current&&y.current.contains(J.target)};if(e)return document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)},[e,r]),!a)return null;const E=PF(),C=u?{color:"bg-yellow-500",text:"Dev"}:h?{color:"bg-green-500",text:"Dev"}:{color:"bg-red-500",text:"Prod"},V=()=>{if(confirm("Are you sure you want to clear cache? This will clear recommendations and products but keep dev mode settings.")){const Q={devMode:localStorage.getItem("ss_dev_mode"),sandboxHeader:localStorage.getItem("ss_sandbox_header"),localMode:localStorage.getItem("ss_local_mode"),mockRecommendations:localStorage.getItem("ss_mock_recommendations"),apiMode:localStorage.getItem("ss_api_mode")};localStorage.clear(),Q.devMode&&localStorage.setItem("ss_dev_mode",Q.devMode),Q.sandboxHeader&&localStorage.setItem("ss_sandbox_header",Q.sandboxHeader),Q.localMode&&localStorage.setItem("ss_local_mode",Q.localMode),Q.mockRecommendations&&localStorage.setItem("ss_mock_recommendations",Q.mockRecommendations),Q.apiMode&&localStorage.setItem("ss_api_mode",Q.apiMode),n(!1),window.location.reload()}},x=()=>{EF(),n(!1),window.location.reload()},S=()=>{_F(),n(!1),window.location.reload()},A=()=>{TF(),n(!1),window.location.reload()},I=Q=>{AF(Q)},R=Q=>{Q?localStorage.setItem("ss_autofill_enabled","true"):localStorage.removeItem("ss_autofill_enabled"),P(Q)},M=()=>{n(!1),s(!0)},N=()=>{try{const Q=JSON.parse(i);if(!Q.data||!Q.data.products||!Array.isArray(Q.data.products)){alert("Invalid JSON format. Expected structure: { data: { products: [...] } }");return}const J=Q.data.products.map(q=>{let L=0;if(q.product_price){const O=q.product_price.toString().replace(/[$,]/g,"");L=parseFloat(O)||0}return{id:q.asin||`rapidapi-${Math.random().toString(36).substr(2,9)}`,image:q.product_photo||"",name:q.product_title||"Unknown Product",price:L,rating:q.product_star_rating?parseFloat(q.product_star_rating.toString()):void 0,numRatings:q.product_num_ratings||0}});localStorage.setItem("rapidapi_products",JSON.stringify({products:J,timestamp:Date.now()})),window.dispatchEvent(new CustomEvent("rapidapi-products-updated")),s(!1),o(""),alert(`Successfully imported ${J.length} products!`)}catch(Q){alert(`Error parsing JSON: ${Q instanceof Error?Q.message:"Unknown error"}`)}},$=async()=>{n(!1);const J=[...rs].sort(()=>.5-Math.random()).slice(0,2).map(L=>L.value),q={name:"Mum",relationship:"mother",gender:"female",dob:"15/03/1975",interests:J,budget_min:10,budget_max:200,other:{clothing_size:"L",favourite_drink:"other"}};try{const L=Eh(q.interests),O={context:{name:q.name,relationship:q.relationship.charAt(0).toUpperCase()+q.relationship.slice(1).toLowerCase(),gender:q.gender.toLowerCase(),dob:q.dob,interests:L,budget_min:q.budget_min,budget_max:q.budget_max,other:q.other}},W=new URLSearchParams,Z=Ha(),se=Ca("/recommend",W),we=Ru(Z||void 0),pe=await zr(se,{method:"POST",headers:we,body:JSON.stringify(O)},"POST /recommend");if(!pe.ok)throw new Error(`HTTP error! status: ${pe.status}`);const ke={id:(await pe.json()).recommendation_id||`person-${Date.now()}`,name:q.name,relationship:q.relationship,gender:q.gender,interests:q.interests,minBudget:q.budget_min,maxBudget:q.budget_max,createdAt:Date.now()},De=localStorage.getItem("saved_persons"),ye=De?JSON.parse(De):[];ye.push(ke),localStorage.setItem("saved_persons",JSON.stringify(ye)),window.dispatchEvent(new CustomEvent("person-added",{detail:ke})),alert(`Added "${q.name}" with interests: ${J.join(", ")}`)}catch(L){console.error("Error adding random person:",L),alert(`Failed to add person: ${L instanceof Error?L.message:"Unknown error"}`)}};return c.jsxs("div",{className:`fixed bottom-4 left-4 z-50 ${t}`,ref:v,children:[c.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-lg border border-gray-200 hover:shadow-xl transition-shadow",title:"Dev Mode Settings",children:[c.jsx("div",{className:`w-2 h-2 rounded-full ${C.color}`}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:C.text})]}),e&&c.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:c.jsxs("div",{className:"py-1",children:[c.jsx("button",{onClick:$,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:c.jsx("span",{children:"Add Person"})}),c.jsx("div",{className:"border-t border-gray-200 my-1"}),c.jsxs("button",{onClick:x,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[c.jsx("span",{children:"Local"}),u&&c.jsx("span",{className:"text-green-600",children:""})]}),c.jsxs("button",{onClick:S,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[c.jsx("span",{children:"Sandbox"}),h&&c.jsx("span",{className:"text-green-600",children:""})]}),c.jsxs("button",{onClick:A,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[c.jsx("span",{children:"Prod"}),E&&c.jsx("span",{className:"text-green-600",children:""})]}),c.jsx("div",{className:"border-t border-gray-200 my-1"}),c.jsxs("label",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between cursor-pointer",children:[c.jsx("span",{children:"Autofill"}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{type:"checkbox",checked:_,onChange:Q=>R(Q.target.checked),className:"sr-only"}),c.jsx("div",{className:`w-10 h-5 rounded-full transition-colors flex items-center ${_?"bg-green-500":"bg-gray-300"}`,children:c.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform transform shadow-sm ${_?"translate-x-5":"translate-x-0.5"}`})})]})]}),c.jsx("div",{className:"border-t border-gray-200 my-1"}),c.jsxs("label",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between cursor-pointer",children:[c.jsx("span",{children:"Mock Recommender"}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:Q=>I(Q.target.checked),className:"sr-only"}),c.jsx("div",{className:`w-10 h-5 rounded-full transition-colors flex items-center ${p?"bg-green-500":"bg-gray-300"}`,children:c.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform transform shadow-sm ${p?"translate-x-5":"translate-x-0.5"}`})})]})]}),c.jsx("div",{className:"border-t border-gray-200 my-1"}),c.jsx("button",{onClick:M,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:c.jsx("span",{children:"Import RapidAPI JSON"})}),c.jsx("div",{className:"border-t border-gray-200 my-1"}),c.jsx("button",{onClick:V,className:"w-full px-4 py-2 text-left text-sm text-orange-600 hover:bg-orange-50 flex items-center justify-between",children:c.jsx("span",{children:"Clear Cache"})})]})}),r&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:c.jsxs("div",{ref:y,className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import RapidAPI JSON"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Paste the JSON response from RapidAPI"})]}),c.jsx("div",{className:"flex-1 overflow-hidden flex flex-col p-6",children:c.jsx("textarea",{value:i,onChange:Q=>o(Q.target.value),placeholder:"Paste JSON here...",className:"flex-1 w-full p-4 border border-gray-300 rounded-lg font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",style:{minHeight:"300px"}})}),c.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>{s(!1),o("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:"Import"})]})]})})]})}const xQ="G-JRT058C4VQ",wQ="907664617393399";function bQ(){const t=document.createElement("style");t.textContent=`
    /* StackSansText Font Faces */
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* StackSansHeadline Font Faces */
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* StackSansNotch Font Faces - Only for logo */
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* Global styles */
    html {
      font-family: 'StackSansText', sans-serif;
      font-weight: 400;
    }
    h1, h2, h3, h4, h5, h6, .font-headline {
      font-family: 'StackSansHeadline', sans-serif;
      font-weight: 500;
    }
    .font-notch {
      font-family: 'StackSansNotch', sans-serif;
    }
    p, li, span, div, body {
      font-family: 'StackSansText', sans-serif;
    }
    button, a {
      font-family: 'StackSansText', sans-serif;
    }
    /* Disable hover effects on touch devices */
    @media (hover: none) {
      *:hover {
        transform: none !important;
      }
      .group:hover {
        transform: none !important;
      }
      .group:hover img {
        transform: none !important;
      }
    }
  `,document.head.appendChild(t),("ontouchstart"in window||navigator.maxTouchPoints>0)&&document.documentElement.classList.add("touch-device")}function SQ(){const t=Go(),{toasts:e,removeToast:n,showError:r}=qI();T.useEffect(()=>{bQ(),bF({showError:r})},[r]),T.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),console.log("Current route:",t.pathname);const s=t.pathname==="/person",i=t.pathname.startsWith("/product/");return c.jsxs(c.Fragment,{children:[c.jsx(gQ,{measurementId:xQ}),c.jsx(yQ,{pixelId:wQ}),c.jsx(jF,{toasts:e,onRemove:n}),c.jsx(vQ,{}),c.jsxs("div",{className:`w-full min-h-screen overflow-x-hidden ${s||i?"":"bg-gradient-to-br from-purple-50 to-pink-100 pt-8"}`,children:[c.jsx("style",{children:`
          .no-scrollbar {
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
          }
          .no-scrollbar::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
          }
          /* Disable hover effects on touch devices */
          .touch-device .no-hover-scale:hover {
            transform: none !important;
          }
          .touch-device .group:hover {
            transform: none !important;
          }
          .touch-device .group:hover img {
            transform: none !important;
          }
        `}),c.jsx("div",{className:s||i?"":"max-w-7xl mx-auto px-2 sm:px-4",children:c.jsx(yi,{mode:"wait",children:c.jsx("div",{children:c.jsx(x5,{})},t.pathname)})})]})]})}const _Q=A5([{path:"/",element:c.jsx(SQ,{}),children:[{index:!0,element:c.jsx(wz,{})},{path:"person",element:c.jsx(gq,{})},{path:"product/:productId",element:c.jsx(dQ,{})},{path:"about",element:c.jsx(bz,{})},{path:"privacy",element:c.jsx(Sz,{})},{path:"terms",element:c.jsx(_z,{})},{path:"ui",element:c.jsx(hQ,{})},{path:"error",element:c.jsx(mQ,{})},{path:":recId",element:c.jsx(MF,{})}]}]);function EQ(){return c.jsx(pQ,{children:c.jsx(DF,{children:c.jsx(V5,{router:_Q,future:{v7_startTransition:!0}})})})}function vR(){const t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)}vR();window.addEventListener("resize",vR);const NT=document.getElementById("root");NT&&qA(NT).render(c.jsx(EQ,{}));
