function L_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function O_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F_={exports:{}},Bh={},$_={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),VR=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),OR=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),$R=Symbol.for("react.provider"),BR=Symbol.for("react.context"),zR=Symbol.for("react.forward_ref"),UR=Symbol.for("react.suspense"),HR=Symbol.for("react.memo"),WR=Symbol.for("react.lazy"),yw=Symbol.iterator;function KR(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,U_={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||B_}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H_(){}H_.prototype=Tl.prototype;function V0(t,e,n){this.props=t,this.context=e,this.refs=U_,this.updater=n||B_}var L0=V0.prototype=new H_;L0.constructor=V0;z_(L0,Tl.prototype);L0.isPureReactComponent=!0;var vw=Array.isArray,W_=Object.prototype.hasOwnProperty,O0={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function q_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)W_.call(e,r)&&!K_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:zu,type:t,key:i,ref:o,props:s,_owner:O0.current}}function qR(t,e){return{$$typeof:zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function F0(t){return typeof t=="object"&&t!==null&&t.$$typeof===zu}function GR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xw=/\/+/g;function Um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GR(""+t.key):e.toString(36)}function af(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zu:case VR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Um(o,0):r,vw(s)?(n="",t!=null&&(n=t.replace(xw,"$&/")+"/"),af(s,e,n,"",function(c){return c})):s!=null&&(F0(s)&&(s=qR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Um(i,a);o+=af(i,e,n,l,s)}else if(l=KR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Um(i,a++),o+=af(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bd(t,e,n){if(t==null)return t;var r=[],s=0;return af(t,r,"","",function(i){return e.call(n,i,s++)}),r}function YR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},lf={transition:null},XR={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:lf,ReactCurrentOwner:O0};function G_(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:bd,forEach:function(t,e,n){bd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bd(t,function(){e++}),e},toArray:function(t){return bd(t,function(e){return e})||[]},only:function(t){if(!F0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=Tl;Ve.Fragment=LR;Ve.Profiler=FR;Ve.PureComponent=V0;Ve.StrictMode=OR;Ve.Suspense=UR;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XR;Ve.act=G_;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=O0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W_.call(e,l)&&!K_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ve.createContext=function(t){return t={$$typeof:BR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$R,_context:t},t.Consumer=t};Ve.createElement=q_;Ve.createFactory=function(t){var e=q_.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:zR,render:t}};Ve.isValidElement=F0;Ve.lazy=function(t){return{$$typeof:WR,_payload:{_status:-1,_result:t},_init:YR}};Ve.memo=function(t,e){return{$$typeof:HR,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=lf.transition;lf.transition={};try{t()}finally{lf.transition=e}};Ve.unstable_act=G_;Ve.useCallback=function(t,e){return Vn.current.useCallback(t,e)};Ve.useContext=function(t){return Vn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Vn.current.useEffect(t,e)};Ve.useId=function(){return Vn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Vn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};Ve.useRef=function(t){return Vn.current.useRef(t)};Ve.useState=function(t){return Vn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return Vn.current.useTransition()};Ve.version="18.3.1";$_.exports=Ve;var _=$_.exports;const ln=O_(_),QR=L_({__proto__:null,default:ln},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JR=_,ZR=Symbol.for("react.element"),eD=Symbol.for("react.fragment"),tD=Object.prototype.hasOwnProperty,nD=JR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rD={key:!0,ref:!0,__self:!0,__source:!0};function Y_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tD.call(e,r)&&!rD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ZR,type:t,key:i,ref:o,props:s,_owner:nD.current}}Bh.Fragment=eD;Bh.jsx=Y_;Bh.jsxs=Y_;F_.exports=Bh;var f=F_.exports,X_={exports:{}},cr={},Q_={exports:{}},J_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,B){var G=F.length;F.push(B);e:for(;0<G;){var X=G-1>>>1,se=F[X];if(0<s(se,B))F[X]=B,F[G]=se,G=X;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var B=F[0],G=F.pop();if(G!==B){F[0]=G;e:for(var X=0,se=F.length,ve=se>>>1;X<ve;){var me=2*(X+1)-1,xe=F[me],Ie=me+1,$e=F[Ie];if(0>s(xe,G))Ie<se&&0>s($e,xe)?(F[X]=$e,F[Ie]=G,X=Ie):(F[X]=xe,F[me]=G,X=me);else if(Ie<se&&0>s($e,G))F[X]=$e,F[Ie]=G,X=Ie;else break e}}return B}function s(F,B){var G=F.sortIndex-B.sortIndex;return G!==0?G:F.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,m=3,p=!1,S=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=F)r(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function R(F){if(E=!1,T(F),!S)if(n(l)!==null)S=!0,Q(C);else{var B=n(c);B!==null&&J(R,B.startTime-F)}}function C(F,B){S=!1,E&&(E=!1,v(w),w=-1),p=!0;var G=m;try{for(T(B),h=n(l);h!==null&&(!(h.expirationTime>B)||F&&!D());){var X=h.callback;if(typeof X=="function"){h.callback=null,m=h.priorityLevel;var se=X(h.expirationTime<=B);B=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(l)&&r(l),T(B)}else r(l);h=n(l)}if(h!==null)var ve=!0;else{var me=n(c);me!==null&&J(R,me.startTime-B),ve=!1}return ve}finally{h=null,m=G,p=!1}}var L=!1,x=null,w=-1,A=5,N=-1;function D(){return!(t.unstable_now()-N<A)}function V(){if(x!==null){var F=t.unstable_now();N=F;var B=!0;try{B=x(!0,F)}finally{B?k():(L=!1,x=null)}}else L=!1}var k;if(typeof y=="function")k=function(){y(V)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,te=U.port2;U.port1.onmessage=V,k=function(){te.postMessage(null)}}else k=function(){P(V,0)};function Q(F){x=F,L||(L=!0,k())}function J(F,B){w=P(function(){F(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,Q(C))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var G=m;m=B;try{return F()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=m;m=F;try{return B()}finally{m=G}},t.unstable_scheduleCallback=function(F,B,G){var X=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?X+G:X):G=X,F){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=G+se,F={id:u++,callback:B,priorityLevel:F,startTime:G,expirationTime:se,sortIndex:-1},G>X?(F.sortIndex=G,e(c,F),n(l)===null&&F===n(c)&&(E?(v(w),w=-1):E=!0,J(R,G-X))):(F.sortIndex=se,e(l,F),S||p||(S=!0,Q(C))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var B=m;return function(){var G=m;m=B;try{return F.apply(this,arguments)}finally{m=G}}}})(J_);Q_.exports=J_;var sD=Q_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD=_,ar=sD;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z_=new Set,Qc={};function Ho(t,e){tl(t,e),tl(t+"Capture",e)}function tl(t,e){for(Qc[t]=e,t=0;t<e.length;t++)Z_.add(e[t])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hg=Object.prototype.hasOwnProperty,oD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ww={},bw={};function aD(t){return hg.call(bw,t)?!0:hg.call(ww,t)?!1:oD.test(t)?bw[t]=!0:(ww[t]=!0,!1)}function lD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cD(t,e,n,r){if(e===null||typeof e>"u"||lD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var $0=/[\-:]([a-z])/g;function B0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($0,B0);gn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($0,B0);gn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($0,B0);gn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});gn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function z0(t,e,n,r){var s=gn.hasOwnProperty(e)?gn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cD(e,n,s,r)&&(n=null),r||s===null?aD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xs=iD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sd=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),mg=Symbol.for("react.profiler"),eP=Symbol.for("react.provider"),tP=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),pg=Symbol.for("react.suspense"),gg=Symbol.for("react.suspense_list"),W0=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),nP=Symbol.for("react.offscreen"),Sw=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=Sw&&t[Sw]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,Hm;function ac(t){if(Hm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hm=e&&e[1]||""}return`
`+Hm+t}var Wm=!1;function Km(t,e){if(!t||Wm)return"";Wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ac(t):""}function uD(t){switch(t.tag){case 5:return ac(t.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return t=Km(t.type,!1),t;case 11:return t=Km(t.type.render,!1),t;case 1:return t=Km(t.type,!0),t;default:return""}}function yg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ha:return"Fragment";case fa:return"Portal";case mg:return"Profiler";case U0:return"StrictMode";case pg:return"Suspense";case gg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tP:return(t.displayName||"Context")+".Consumer";case eP:return(t._context.displayName||"Context")+".Provider";case H0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W0:return e=t.displayName||null,e!==null?e:yg(t.type)||"Memo";case li:e=t._payload,t=t._init;try{return yg(t(e))}catch{}}return null}function dD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yg(e);case 8:return e===U0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fD(t){var e=rP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ed(t){t._valueTracker||(t._valueTracker=fD(t))}function sP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vg(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ew(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iP(t,e){e=e.checked,e!=null&&z0(t,"checked",e,!1)}function xg(t,e){iP(t,e);var n=Ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wg(t,e.type,n):e.hasOwnProperty("defaultValue")&&wg(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function wg(t,e,n){(e!=="number"||Vf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lc=Array.isArray;function Oa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(lc(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function oP(t,e){var n=Ni(e.value),r=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Td,lP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Td=Td||document.createElement("div"),Td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hD=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(t){hD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wc[e]=wc[t]})});function cP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wc.hasOwnProperty(t)&&wc[t]?(""+e).trim():e+"px"}function uP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var mD=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eg(t,e){if(e){if(mD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Tg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function K0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pg=null,Fa=null,$a=null;function Aw(t){if(t=Wu(t)){if(typeof Pg!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Kh(e),Pg(t.stateNode,t.type,e))}}function dP(t){Fa?$a?$a.push(t):$a=[t]:Fa=t}function fP(){if(Fa){var t=Fa,e=$a;if($a=Fa=null,Aw(t),e)for(t=0;t<e.length;t++)Aw(e[t])}}function hP(t,e){return t(e)}function mP(){}var qm=!1;function pP(t,e,n){if(qm)return t(e,n);qm=!0;try{return hP(t,e,n)}finally{qm=!1,(Fa!==null||$a!==null)&&(mP(),fP())}}function Zc(t,e){var n=t.stateNode;if(n===null)return null;var r=Kh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Ag=!1;if(Ms)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){Ag=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{Ag=!1}function pD(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var bc=!1,Lf=null,Of=!1,Cg=null,gD={onError:function(t){bc=!0,Lf=t}};function yD(t,e,n,r,s,i,o,a,l){bc=!1,Lf=null,pD.apply(gD,arguments)}function vD(t,e,n,r,s,i,o,a,l){if(yD.apply(this,arguments),bc){if(bc){var c=Lf;bc=!1,Lf=null}else throw Error(ee(198));Of||(Of=!0,Cg=c)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cw(t){if(Wo(t)!==t)throw Error(ee(188))}function xD(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cw(s),t;if(i===r)return Cw(s),e;i=i.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function yP(t){return t=xD(t),t!==null?vP(t):null}function vP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vP(t);if(e!==null)return e;t=t.sibling}return null}var xP=ar.unstable_scheduleCallback,Iw=ar.unstable_cancelCallback,wD=ar.unstable_shouldYield,bD=ar.unstable_requestPaint,Lt=ar.unstable_now,SD=ar.unstable_getCurrentPriorityLevel,q0=ar.unstable_ImmediatePriority,wP=ar.unstable_UserBlockingPriority,Ff=ar.unstable_NormalPriority,ED=ar.unstable_LowPriority,bP=ar.unstable_IdlePriority,zh=null,os=null;function TD(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(zh,t,void 0,(t.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:AD,_D=Math.log,PD=Math.LN2;function AD(t){return t>>>=0,t===0?32:31-(_D(t)/PD|0)|0}var _d=64,Pd=4194304;function cc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $f(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=cc(a):(i&=o,i!==0&&(r=cc(i)))}else o=n&~s,o!==0?r=cc(o):i!==0&&(r=cc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hr(e),s=1<<n,r|=t[n],e&=~s;return r}function CD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ID(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=CD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ig(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function SP(){var t=_d;return _d<<=1,!(_d&4194240)&&(_d=64),t}function Gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hr(e),t[e]=n}function kD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function G0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Je=0;function EP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var TP,Y0,_P,PP,AP,kg=!1,Ad=[],xi=null,wi=null,bi=null,eu=new Map,tu=new Map,ui=[],ND="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(t,e){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(e.pointerId)}}function Gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wu(e),e!==null&&Y0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function jD(t,e,n,r,s){switch(e){case"focusin":return xi=Gl(xi,t,e,n,r,s),!0;case"dragenter":return wi=Gl(wi,t,e,n,r,s),!0;case"mouseover":return bi=Gl(bi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return eu.set(i,Gl(eu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,tu.set(i,Gl(tu.get(i)||null,t,e,n,r,s)),!0}return!1}function CP(t){var e=go(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=gP(n),e!==null){t.blockedOn=e,AP(t.priority,function(){_P(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ng(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_g=r,n.target.dispatchEvent(r),_g=null}else return e=Wu(n),e!==null&&Y0(e),t.blockedOn=n,!1;e.shift()}return!0}function Nw(t,e,n){cf(t)&&n.delete(e)}function RD(){kg=!1,xi!==null&&cf(xi)&&(xi=null),wi!==null&&cf(wi)&&(wi=null),bi!==null&&cf(bi)&&(bi=null),eu.forEach(Nw),tu.forEach(Nw)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,kg||(kg=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,RD)))}function nu(t){function e(s){return Yl(s,t)}if(0<Ad.length){Yl(Ad[0],t);for(var n=1;n<Ad.length;n++){var r=Ad[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xi!==null&&Yl(xi,t),wi!==null&&Yl(wi,t),bi!==null&&Yl(bi,t),eu.forEach(e),tu.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)CP(n),n.blockedOn===null&&ui.shift()}var Ba=Xs.ReactCurrentBatchConfig,Bf=!0;function DD(t,e,n,r){var s=Je,i=Ba.transition;Ba.transition=null;try{Je=1,X0(t,e,n,r)}finally{Je=s,Ba.transition=i}}function MD(t,e,n,r){var s=Je,i=Ba.transition;Ba.transition=null;try{Je=4,X0(t,e,n,r)}finally{Je=s,Ba.transition=i}}function X0(t,e,n,r){if(Bf){var s=Ng(t,e,n,r);if(s===null)sp(t,e,r,zf,n),kw(t,r);else if(jD(s,t,e,n,r))r.stopPropagation();else if(kw(t,r),e&4&&-1<ND.indexOf(t)){for(;s!==null;){var i=Wu(s);if(i!==null&&TP(i),i=Ng(t,e,n,r),i===null&&sp(t,e,r,zf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sp(t,e,r,null,n)}}var zf=null;function Ng(t,e,n,r){if(zf=null,t=K0(r),t=go(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zf=t,null}function IP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SD()){case q0:return 1;case wP:return 4;case Ff:case ED:return 16;case bP:return 536870912;default:return 16}default:return 16}}var hi=null,Q0=null,uf=null;function kP(){if(uf)return uf;var t,e=Q0,n=e.length,r,s="value"in hi?hi.value:hi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return uf=s.slice(t,1<r?1-r:void 0)}function df(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cd(){return!0}function jw(){return!1}function ur(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cd:jw,this.isPropagationStopped=jw,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cd)},persist:function(){},isPersistent:Cd}),e}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J0=ur(_l),Hu=Tt({},_l,{view:0,detail:0}),VD=ur(Hu),Ym,Xm,Xl,Uh=Tt({},Hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(Ym=t.screenX-Xl.screenX,Xm=t.screenY-Xl.screenY):Xm=Ym=0,Xl=t),Ym)},movementY:function(t){return"movementY"in t?t.movementY:Xm}}),Rw=ur(Uh),LD=Tt({},Uh,{dataTransfer:0}),OD=ur(LD),FD=Tt({},Hu,{relatedTarget:0}),Qm=ur(FD),$D=Tt({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),BD=ur($D),zD=Tt({},_l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UD=ur(zD),HD=Tt({},_l,{data:0}),Dw=ur(HD),WD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qD[t])?!!e[t]:!1}function Z0(){return GD}var YD=Tt({},Hu,{key:function(t){if(t.key){var e=WD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=df(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z0,charCode:function(t){return t.type==="keypress"?df(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?df(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XD=ur(YD),QD=Tt({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mw=ur(QD),JD=Tt({},Hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z0}),ZD=ur(JD),e3=Tt({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),t3=ur(e3),n3=Tt({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r3=ur(n3),s3=[9,13,27,32],ev=Ms&&"CompositionEvent"in window,Sc=null;Ms&&"documentMode"in document&&(Sc=document.documentMode);var i3=Ms&&"TextEvent"in window&&!Sc,NP=Ms&&(!ev||Sc&&8<Sc&&11>=Sc),Vw=" ",Lw=!1;function jP(t,e){switch(t){case"keyup":return s3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function o3(t,e){switch(t){case"compositionend":return RP(e);case"keypress":return e.which!==32?null:(Lw=!0,Vw);case"textInput":return t=e.data,t===Vw&&Lw?null:t;default:return null}}function a3(t,e){if(ma)return t==="compositionend"||!ev&&jP(t,e)?(t=kP(),uf=Q0=hi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NP&&e.locale!=="ko"?null:e.data;default:return null}}var l3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ow(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l3[t.type]:e==="textarea"}function DP(t,e,n,r){dP(r),e=Uf(e,"onChange"),0<e.length&&(n=new J0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,ru=null;function c3(t){WP(t,0)}function Hh(t){var e=ya(t);if(sP(e))return t}function u3(t,e){if(t==="change")return e}var MP=!1;if(Ms){var Jm;if(Ms){var Zm="oninput"in document;if(!Zm){var Fw=document.createElement("div");Fw.setAttribute("oninput","return;"),Zm=typeof Fw.oninput=="function"}Jm=Zm}else Jm=!1;MP=Jm&&(!document.documentMode||9<document.documentMode)}function $w(){Ec&&(Ec.detachEvent("onpropertychange",VP),ru=Ec=null)}function VP(t){if(t.propertyName==="value"&&Hh(ru)){var e=[];DP(e,ru,t,K0(t)),pP(c3,e)}}function d3(t,e,n){t==="focusin"?($w(),Ec=e,ru=n,Ec.attachEvent("onpropertychange",VP)):t==="focusout"&&$w()}function f3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hh(ru)}function h3(t,e){if(t==="click")return Hh(e)}function m3(t,e){if(t==="input"||t==="change")return Hh(e)}function p3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qr=typeof Object.is=="function"?Object.is:p3;function su(t,e){if(qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!hg.call(e,s)||!qr(t[s],e[s]))return!1}return!0}function Bw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zw(t,e){var n=Bw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bw(n)}}function LP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function OP(){for(var t=window,e=Vf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vf(t.document)}return e}function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g3(t){var e=OP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LP(n.ownerDocument.documentElement,n)){if(r!==null&&tv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=zw(n,i);var o=zw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y3=Ms&&"documentMode"in document&&11>=document.documentMode,pa=null,jg=null,Tc=null,Rg=!1;function Uw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rg||pa==null||pa!==Vf(r)||(r=pa,"selectionStart"in r&&tv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&su(Tc,r)||(Tc=r,r=Uf(jg,"onSelect"),0<r.length&&(e=new J0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ga={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},ep={},FP={};Ms&&(FP=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Wh(t){if(ep[t])return ep[t];if(!ga[t])return t;var e=ga[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FP)return ep[t]=e[n];return t}var $P=Wh("animationend"),BP=Wh("animationiteration"),zP=Wh("animationstart"),UP=Wh("transitionend"),HP=new Map,Hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(t,e){HP.set(t,e),Ho(e,[t])}for(var tp=0;tp<Hw.length;tp++){var np=Hw[tp],v3=np.toLowerCase(),x3=np[0].toUpperCase()+np.slice(1);Wi(v3,"on"+x3)}Wi($P,"onAnimationEnd");Wi(BP,"onAnimationIteration");Wi(zP,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(UP,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w3=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function Ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vD(r,e,void 0,t),t.currentTarget=null}function WP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ww(s,a,c),i=l}}}if(Of)throw t=Cg,Of=!1,Cg=null,t}function ct(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(KP(e,t,2,!1),n.add(r))}function rp(t,e,n){var r=0;e&&(r|=4),KP(n,t,r,e)}var kd="_reactListening"+Math.random().toString(36).slice(2);function iu(t){if(!t[kd]){t[kd]=!0,Z_.forEach(function(n){n!=="selectionchange"&&(w3.has(n)||rp(n,!1,t),rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kd]||(e[kd]=!0,rp("selectionchange",!1,e))}}function KP(t,e,n,r){switch(IP(e)){case 1:var s=DD;break;case 4:s=MD;break;default:s=X0}n=s.bind(null,e,n,t),s=void 0,!Ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}pP(function(){var c=i,u=K0(n),h=[];e:{var m=HP.get(t);if(m!==void 0){var p=J0,S=t;switch(t){case"keypress":if(df(n)===0)break e;case"keydown":case"keyup":p=XD;break;case"focusin":S="focus",p=Qm;break;case"focusout":S="blur",p=Qm;break;case"beforeblur":case"afterblur":p=Qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZD;break;case $P:case BP:case zP:p=BD;break;case UP:p=t3;break;case"scroll":p=VD;break;case"wheel":p=r3;break;case"copy":case"cut":case"paste":p=UD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mw}var E=(e&4)!==0,P=!E&&t==="scroll",v=E?m!==null?m+"Capture":null:m;E=[];for(var y=c,T;y!==null;){T=y;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,v!==null&&(R=Zc(y,v),R!=null&&E.push(ou(y,R,T)))),P)break;y=y.return}0<E.length&&(m=new p(m,S,null,n,u),h.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==_g&&(S=n.relatedTarget||n.fromElement)&&(go(S)||S[Vs]))break e;if((p||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?go(S):null,S!==null&&(P=Wo(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=c),p!==S)){if(E=Rw,R="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=Mw,R="onPointerLeave",v="onPointerEnter",y="pointer"),P=p==null?m:ya(p),T=S==null?m:ya(S),m=new E(R,y+"leave",p,n,u),m.target=P,m.relatedTarget=T,R=null,go(u)===c&&(E=new E(v,y+"enter",S,n,u),E.target=T,E.relatedTarget=P,R=E),P=R,p&&S)t:{for(E=p,v=S,y=0,T=E;T;T=ta(T))y++;for(T=0,R=v;R;R=ta(R))T++;for(;0<y-T;)E=ta(E),y--;for(;0<T-y;)v=ta(v),T--;for(;y--;){if(E===v||v!==null&&E===v.alternate)break t;E=ta(E),v=ta(v)}E=null}else E=null;p!==null&&Kw(h,m,p,E,!1),S!==null&&P!==null&&Kw(h,P,S,E,!0)}}e:{if(m=c?ya(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=u3;else if(Ow(m))if(MP)C=m3;else{C=f3;var L=d3}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=h3);if(C&&(C=C(t,c))){DP(h,C,n,u);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&wg(m,"number",m.value)}switch(L=c?ya(c):window,t){case"focusin":(Ow(L)||L.contentEditable==="true")&&(pa=L,jg=c,Tc=null);break;case"focusout":Tc=jg=pa=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,Uw(h,n,u);break;case"selectionchange":if(y3)break;case"keydown":case"keyup":Uw(h,n,u)}var x;if(ev)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ma?jP(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(NP&&n.locale!=="ko"&&(ma||w!=="onCompositionStart"?w==="onCompositionEnd"&&ma&&(x=kP()):(hi=u,Q0="value"in hi?hi.value:hi.textContent,ma=!0)),L=Uf(c,w),0<L.length&&(w=new Dw(w,t,null,n,u),h.push({event:w,listeners:L}),x?w.data=x:(x=RP(n),x!==null&&(w.data=x)))),(x=i3?o3(t,n):a3(t,n))&&(c=Uf(c,"onBeforeInput"),0<c.length&&(u=new Dw("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=x))}WP(h,e)})}function ou(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Zc(t,n),i!=null&&r.unshift(ou(t,i,s)),i=Zc(t,e),i!=null&&r.push(ou(t,i,s))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Zc(n,i),l!=null&&o.unshift(ou(n,l,a))):s||(l=Zc(n,i),l!=null&&o.push(ou(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var b3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function qw(t){return(typeof t=="string"?t:""+t).replace(b3,`
`).replace(S3,"")}function Nd(t,e,n){if(e=qw(e),qw(t)!==e&&n)throw Error(ee(425))}function Hf(){}var Dg=null,Mg=null;function Vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lg=typeof setTimeout=="function"?setTimeout:void 0,E3=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,T3=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(t){return Gw.resolve(null).then(t).catch(_3)}:Lg;function _3(t){setTimeout(function(){throw t})}function ip(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),nu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);nu(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),rs="__reactFiber$"+Pl,au="__reactProps$"+Pl,Vs="__reactContainer$"+Pl,Og="__reactEvents$"+Pl,P3="__reactListeners$"+Pl,A3="__reactHandles$"+Pl;function go(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vs]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yw(t);t!==null;){if(n=t[rs])return n;t=Yw(t)}return e}t=n,n=t.parentNode}return null}function Wu(t){return t=t[rs]||t[Vs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Kh(t){return t[au]||null}var Fg=[],va=-1;function Ki(t){return{current:t}}function ut(t){0>va||(t.current=Fg[va],Fg[va]=null,va--)}function ot(t,e){va++,Fg[va]=t.current,t.current=e}var ji={},jn=Ki(ji),Gn=Ki(!1),Ro=ji;function nl(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Yn(t){return t=t.childContextTypes,t!=null}function Wf(){ut(Gn),ut(jn)}function Xw(t,e,n){if(jn.current!==ji)throw Error(ee(168));ot(jn,e),ot(Gn,n)}function qP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,dD(t)||"Unknown",s));return Tt({},n,r)}function Kf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Ro=jn.current,ot(jn,t),ot(Gn,Gn.current),!0}function Qw(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=qP(t,e,Ro),r.__reactInternalMemoizedMergedChildContext=t,ut(Gn),ut(jn),ot(jn,t)):ut(Gn),ot(Gn,n)}var Ss=null,qh=!1,op=!1;function GP(t){Ss===null?Ss=[t]:Ss.push(t)}function C3(t){qh=!0,GP(t)}function qi(){if(!op&&Ss!==null){op=!0;var t=0,e=Je;try{var n=Ss;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ss=null,qh=!1}catch(s){throw Ss!==null&&(Ss=Ss.slice(t+1)),xP(q0,qi),s}finally{Je=e,op=!1}}return null}var xa=[],wa=0,qf=null,Gf=0,br=[],Sr=0,Do=null,Ts=1,_s="";function io(t,e){xa[wa++]=Gf,xa[wa++]=qf,qf=t,Gf=e}function YP(t,e,n){br[Sr++]=Ts,br[Sr++]=_s,br[Sr++]=Do,Do=t;var r=Ts;t=_s;var s=32-Hr(r)-1;r&=~(1<<s),n+=1;var i=32-Hr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ts=1<<32-Hr(e)+s|n<<s|r,_s=i+t}else Ts=1<<i|n<<s|r,_s=t}function nv(t){t.return!==null&&(io(t,1),YP(t,1,0))}function rv(t){for(;t===qf;)qf=xa[--wa],xa[wa]=null,Gf=xa[--wa],xa[wa]=null;for(;t===Do;)Do=br[--Sr],br[Sr]=null,_s=br[--Sr],br[Sr]=null,Ts=br[--Sr],br[Sr]=null}var ir=null,sr=null,gt=!1,$r=null;function XP(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,sr=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Do!==null?{id:Ts,overflow:_s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ir=t,sr=null,!0):!1;default:return!1}}function $g(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bg(t){if(gt){var e=sr;if(e){var n=e;if(!Jw(t,e)){if($g(t))throw Error(ee(418));e=Si(n.nextSibling);var r=ir;e&&Jw(t,e)?XP(r,n):(t.flags=t.flags&-4097|2,gt=!1,ir=t)}}else{if($g(t))throw Error(ee(418));t.flags=t.flags&-4097|2,gt=!1,ir=t}}}function Zw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function jd(t){if(t!==ir)return!1;if(!gt)return Zw(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Vg(t.type,t.memoizedProps)),e&&(e=sr)){if($g(t))throw QP(),Error(ee(418));for(;e;)XP(t,e),e=Si(e.nextSibling)}if(Zw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sr=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sr=null}}else sr=ir?Si(t.stateNode.nextSibling):null;return!0}function QP(){for(var t=sr;t;)t=Si(t.nextSibling)}function rl(){sr=ir=null,gt=!1}function sv(t){$r===null?$r=[t]:$r.push(t)}var I3=Xs.ReactCurrentBatchConfig;function Ql(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Rd(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eb(t){var e=t._init;return e(t._payload)}function JP(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Pi(v,y),v.index=0,v.sibling=null,v}function i(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=2,y):T):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,T,R){return y===null||y.tag!==6?(y=hp(T,v.mode,R),y.return=v,y):(y=s(y,T),y.return=v,y)}function l(v,y,T,R){var C=T.type;return C===ha?u(v,y,T.props.children,R,T.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===li&&eb(C)===y.type)?(R=s(y,T.props),R.ref=Ql(v,y,T),R.return=v,R):(R=vf(T.type,T.key,T.props,null,v.mode,R),R.ref=Ql(v,y,T),R.return=v,R)}function c(v,y,T,R){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=mp(T,v.mode,R),y.return=v,y):(y=s(y,T.children||[]),y.return=v,y)}function u(v,y,T,R,C){return y===null||y.tag!==7?(y=Po(T,v.mode,R,C),y.return=v,y):(y=s(y,T),y.return=v,y)}function h(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hp(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sd:return T=vf(y.type,y.key,y.props,null,v.mode,T),T.ref=Ql(v,null,y),T.return=v,T;case fa:return y=mp(y,v.mode,T),y.return=v,y;case li:var R=y._init;return h(v,R(y._payload),T)}if(lc(y)||Kl(y))return y=Po(y,v.mode,T,null),y.return=v,y;Rd(v,y)}return null}function m(v,y,T,R){var C=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return C!==null?null:a(v,y,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sd:return T.key===C?l(v,y,T,R):null;case fa:return T.key===C?c(v,y,T,R):null;case li:return C=T._init,m(v,y,C(T._payload),R)}if(lc(T)||Kl(T))return C!==null?null:u(v,y,T,R,null);Rd(v,T)}return null}function p(v,y,T,R,C){if(typeof R=="string"&&R!==""||typeof R=="number")return v=v.get(T)||null,a(y,v,""+R,C);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Sd:return v=v.get(R.key===null?T:R.key)||null,l(y,v,R,C);case fa:return v=v.get(R.key===null?T:R.key)||null,c(y,v,R,C);case li:var L=R._init;return p(v,y,T,L(R._payload),C)}if(lc(R)||Kl(R))return v=v.get(T)||null,u(y,v,R,C,null);Rd(y,R)}return null}function S(v,y,T,R){for(var C=null,L=null,x=y,w=y=0,A=null;x!==null&&w<T.length;w++){x.index>w?(A=x,x=null):A=x.sibling;var N=m(v,x,T[w],R);if(N===null){x===null&&(x=A);break}t&&x&&N.alternate===null&&e(v,x),y=i(N,y,w),L===null?C=N:L.sibling=N,L=N,x=A}if(w===T.length)return n(v,x),gt&&io(v,w),C;if(x===null){for(;w<T.length;w++)x=h(v,T[w],R),x!==null&&(y=i(x,y,w),L===null?C=x:L.sibling=x,L=x);return gt&&io(v,w),C}for(x=r(v,x);w<T.length;w++)A=p(x,v,w,T[w],R),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?w:A.key),y=i(A,y,w),L===null?C=A:L.sibling=A,L=A);return t&&x.forEach(function(D){return e(v,D)}),gt&&io(v,w),C}function E(v,y,T,R){var C=Kl(T);if(typeof C!="function")throw Error(ee(150));if(T=C.call(T),T==null)throw Error(ee(151));for(var L=C=null,x=y,w=y=0,A=null,N=T.next();x!==null&&!N.done;w++,N=T.next()){x.index>w?(A=x,x=null):A=x.sibling;var D=m(v,x,N.value,R);if(D===null){x===null&&(x=A);break}t&&x&&D.alternate===null&&e(v,x),y=i(D,y,w),L===null?C=D:L.sibling=D,L=D,x=A}if(N.done)return n(v,x),gt&&io(v,w),C;if(x===null){for(;!N.done;w++,N=T.next())N=h(v,N.value,R),N!==null&&(y=i(N,y,w),L===null?C=N:L.sibling=N,L=N);return gt&&io(v,w),C}for(x=r(v,x);!N.done;w++,N=T.next())N=p(x,v,w,N.value,R),N!==null&&(t&&N.alternate!==null&&x.delete(N.key===null?w:N.key),y=i(N,y,w),L===null?C=N:L.sibling=N,L=N);return t&&x.forEach(function(V){return e(v,V)}),gt&&io(v,w),C}function P(v,y,T,R){if(typeof T=="object"&&T!==null&&T.type===ha&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Sd:e:{for(var C=T.key,L=y;L!==null;){if(L.key===C){if(C=T.type,C===ha){if(L.tag===7){n(v,L.sibling),y=s(L,T.props.children),y.return=v,v=y;break e}}else if(L.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===li&&eb(C)===L.type){n(v,L.sibling),y=s(L,T.props),y.ref=Ql(v,L,T),y.return=v,v=y;break e}n(v,L);break}else e(v,L);L=L.sibling}T.type===ha?(y=Po(T.props.children,v.mode,R,T.key),y.return=v,v=y):(R=vf(T.type,T.key,T.props,null,v.mode,R),R.ref=Ql(v,y,T),R.return=v,v=R)}return o(v);case fa:e:{for(L=T.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),y=s(y,T.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=mp(T,v.mode,R),y.return=v,v=y}return o(v);case li:return L=T._init,P(v,y,L(T._payload),R)}if(lc(T))return S(v,y,T,R);if(Kl(T))return E(v,y,T,R);Rd(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,T),y.return=v,v=y):(n(v,y),y=hp(T,v.mode,R),y.return=v,v=y),o(v)):n(v,y)}return P}var sl=JP(!0),ZP=JP(!1),Yf=Ki(null),Xf=null,ba=null,iv=null;function ov(){iv=ba=Xf=null}function av(t){var e=Yf.current;ut(Yf),t._currentValue=e}function zg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function za(t,e){Xf=t,iv=ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function Ar(t){var e=t._currentValue;if(iv!==t)if(t={context:t,memoizedValue:e,next:null},ba===null){if(Xf===null)throw Error(ee(308));ba=t,Xf.dependencies={lanes:0,firstContext:t}}else ba=ba.next=t;return e}var yo=null;function lv(t){yo===null?yo=[t]:yo.push(t)}function eA(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,lv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ls(t,r)}function Ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function cv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ls(t,n)}return s=r.interleaved,s===null?(e.next=e,lv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ls(t,n)}function ff(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G0(t,n)}}function tb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qf(t,e,n,r){var s=t.updateQueue;ci=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,E=a;switch(m=e,p=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){h=S.call(p,h,m);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,m=typeof S=="function"?S.call(p,h,m):S,m==null)break e;h=Tt({},h,m);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vo|=o,t.lanes=o,t.memoizedState=h}}function nb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Ku={},as=Ki(Ku),lu=Ki(Ku),cu=Ki(Ku);function vo(t){if(t===Ku)throw Error(ee(174));return t}function uv(t,e){switch(ot(cu,e),ot(lu,t),ot(as,Ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sg(e,t)}ut(as),ot(as,e)}function il(){ut(as),ut(lu),ut(cu)}function nA(t){vo(cu.current);var e=vo(as.current),n=Sg(e,t.type);e!==n&&(ot(lu,t),ot(as,n))}function dv(t){lu.current===t&&(ut(as),ut(lu))}var xt=Ki(0);function Jf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ap=[];function fv(){for(var t=0;t<ap.length;t++)ap[t]._workInProgressVersionPrimary=null;ap.length=0}var hf=Xs.ReactCurrentDispatcher,lp=Xs.ReactCurrentBatchConfig,Mo=0,St=null,Jt=null,sn=null,Zf=!1,_c=!1,uu=0,k3=0;function Sn(){throw Error(ee(321))}function hv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qr(t[n],e[n]))return!1;return!0}function mv(t,e,n,r,s,i){if(Mo=i,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hf.current=t===null||t.memoizedState===null?D3:M3,t=n(r,s),_c){i=0;do{if(_c=!1,uu=0,25<=i)throw Error(ee(301));i+=1,sn=Jt=null,e.updateQueue=null,hf.current=V3,t=n(r,s)}while(_c)}if(hf.current=eh,e=Jt!==null&&Jt.next!==null,Mo=0,sn=Jt=St=null,Zf=!1,e)throw Error(ee(300));return t}function pv(){var t=uu!==0;return uu=0,t}function es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?St.memoizedState=sn=t:sn=sn.next=t,sn}function Cr(){if(Jt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=sn===null?St.memoizedState:sn.next;if(e!==null)sn=e,Jt=t;else{if(t===null)throw Error(ee(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sn===null?St.memoizedState=sn=t:sn=sn.next=t}return sn}function du(t,e){return typeof e=="function"?e(t):e}function cp(t){var e=Cr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Jt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Mo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,St.lanes|=u,Vo|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,qr(r,e.memoizedState)||(Kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,St.lanes|=i,Vo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function up(t){var e=Cr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qr(i,e.memoizedState)||(Kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rA(){}function sA(t,e){var n=St,r=Cr(),s=e(),i=!qr(r.memoizedState,s);if(i&&(r.memoizedState=s,Kn=!0),r=r.queue,gv(aA.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,fu(9,oA.bind(null,n,r,s,e),void 0,null),cn===null)throw Error(ee(349));Mo&30||iA(n,e,s)}return s}function iA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oA(t,e,n,r){e.value=n,e.getSnapshot=r,lA(e)&&cA(t)}function aA(t,e,n){return n(function(){lA(e)&&cA(t)})}function lA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qr(t,n)}catch{return!0}}function cA(t){var e=Ls(t,1);e!==null&&Wr(e,t,1,-1)}function rb(t){var e=es();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:du,lastRenderedState:t},e.queue=t,t=t.dispatch=R3.bind(null,St,t),[e.memoizedState,t]}function fu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uA(){return Cr().memoizedState}function mf(t,e,n,r){var s=es();St.flags|=t,s.memoizedState=fu(1|e,n,void 0,r===void 0?null:r)}function Gh(t,e,n,r){var s=Cr();r=r===void 0?null:r;var i=void 0;if(Jt!==null){var o=Jt.memoizedState;if(i=o.destroy,r!==null&&hv(r,o.deps)){s.memoizedState=fu(e,n,i,r);return}}St.flags|=t,s.memoizedState=fu(1|e,n,i,r)}function sb(t,e){return mf(8390656,8,t,e)}function gv(t,e){return Gh(2048,8,t,e)}function dA(t,e){return Gh(4,2,t,e)}function fA(t,e){return Gh(4,4,t,e)}function hA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mA(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4,4,hA.bind(null,e,t),n)}function yv(){}function pA(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gA(t,e){var n=Cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yA(t,e,n){return Mo&21?(qr(n,e)||(n=SP(),St.lanes|=n,Vo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function N3(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=lp.transition;lp.transition={};try{t(!1),e()}finally{Je=n,lp.transition=r}}function vA(){return Cr().memoizedState}function j3(t,e,n){var r=_i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xA(t))wA(e,n);else if(n=eA(t,e,n,r),n!==null){var s=Mn();Wr(n,t,r,s),bA(n,e,r)}}function R3(t,e,n){var r=_i(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xA(t))wA(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,qr(a,o)){var l=e.interleaved;l===null?(s.next=s,lv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=eA(t,e,s,r),n!==null&&(s=Mn(),Wr(n,t,r,s),bA(n,e,r))}}function xA(t){var e=t.alternate;return t===St||e!==null&&e===St}function wA(t,e){_c=Zf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,G0(t,n)}}var eh={readContext:Ar,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},D3={readContext:Ar,useCallback:function(t,e){return es().memoizedState=[t,e===void 0?null:e],t},useContext:Ar,useEffect:sb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mf(4194308,4,hA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return mf(4,2,t,e)},useMemo:function(t,e){var n=es();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=es();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j3.bind(null,St,t),[r.memoizedState,t]},useRef:function(t){var e=es();return t={current:t},e.memoizedState=t},useState:rb,useDebugValue:yv,useDeferredValue:function(t){return es().memoizedState=t},useTransition:function(){var t=rb(!1),e=t[0];return t=N3.bind(null,t[1]),es().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=St,s=es();if(gt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),cn===null)throw Error(ee(349));Mo&30||iA(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sb(aA.bind(null,r,i,t),[t]),r.flags|=2048,fu(9,oA.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=es(),e=cn.identifierPrefix;if(gt){var n=_s,r=Ts;n=(r&~(1<<32-Hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=k3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M3={readContext:Ar,useCallback:pA,useContext:Ar,useEffect:gv,useImperativeHandle:mA,useInsertionEffect:dA,useLayoutEffect:fA,useMemo:gA,useReducer:cp,useRef:uA,useState:function(){return cp(du)},useDebugValue:yv,useDeferredValue:function(t){var e=Cr();return yA(e,Jt.memoizedState,t)},useTransition:function(){var t=cp(du)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:rA,useSyncExternalStore:sA,useId:vA,unstable_isNewReconciler:!1},V3={readContext:Ar,useCallback:pA,useContext:Ar,useEffect:gv,useImperativeHandle:mA,useInsertionEffect:dA,useLayoutEffect:fA,useMemo:gA,useReducer:up,useRef:uA,useState:function(){return up(du)},useDebugValue:yv,useDeferredValue:function(t){var e=Cr();return Jt===null?e.memoizedState=t:yA(e,Jt.memoizedState,t)},useTransition:function(){var t=up(du)[0],e=Cr().memoizedState;return[t,e]},useMutableSource:rA,useSyncExternalStore:sA,useId:vA,unstable_isNewReconciler:!1};function Lr(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mn(),s=_i(t),i=Cs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ei(t,i,s),e!==null&&(Wr(e,t,s,r),ff(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mn(),s=_i(t),i=Cs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ei(t,i,s),e!==null&&(Wr(e,t,s,r),ff(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mn(),r=_i(t),s=Cs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ei(t,s,r),e!==null&&(Wr(e,t,r,n),ff(e,t,r))}};function ib(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!su(n,r)||!su(s,i):!0}function SA(t,e,n){var r=!1,s=ji,i=e.contextType;return typeof i=="object"&&i!==null?i=Ar(i):(s=Yn(e)?Ro:jn.current,r=e.contextTypes,i=(r=r!=null)?nl(t,s):ji),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ob(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function Hg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},cv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ar(i):(i=Yn(e)?Ro:jn.current,s.context=nl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ug(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yh.enqueueReplaceState(s,s.state,null),Qf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ol(t,e){try{var n="",r=e;do n+=uD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L3=typeof WeakMap=="function"?WeakMap:Map;function EA(t,e,n){n=Cs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nh||(nh=!0,ty=r),Wg(t,e)},n}function TA(t,e,n){n=Cs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Wg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wg(t,e),typeof r!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ab(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L3;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Q3.bind(null,t,e,n),e.then(t,t))}function lb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cs(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var O3=Xs.ReactCurrentOwner,Kn=!1;function Rn(t,e,n,r){e.child=t===null?ZP(e,null,n,r):sl(e,t.child,n,r)}function ub(t,e,n,r,s){n=n.render;var i=e.ref;return za(e,s),r=mv(t,e,n,r,i,s),n=pv(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Os(t,e,s)):(gt&&n&&nv(e),e.flags|=1,Rn(t,e,r,s),e.child)}function db(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_v(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,_A(t,e,i,r,s)):(t=vf(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:su,n(o,r)&&t.ref===e.ref)return Os(t,e,s)}return e.flags|=1,t=Pi(i,r),t.ref=e.ref,t.return=e,e.child=t}function _A(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(su(i,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,Os(t,e,s)}return Kg(t,e,n,r,s)}function PA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ea,tr),tr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Ea,tr),tr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ot(Ea,tr),tr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ot(Ea,tr),tr|=r;return Rn(t,e,s,n),e.child}function AA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kg(t,e,n,r,s){var i=Yn(n)?Ro:jn.current;return i=nl(e,i),za(e,s),n=mv(t,e,n,r,i,s),r=pv(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Os(t,e,s)):(gt&&r&&nv(e),e.flags|=1,Rn(t,e,n,s),e.child)}function fb(t,e,n,r,s){if(Yn(n)){var i=!0;Kf(e)}else i=!1;if(za(e,s),e.stateNode===null)pf(t,e),SA(e,n,r),Hg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ar(c):(c=Yn(n)?Ro:jn.current,c=nl(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ob(e,o,r,c),ci=!1;var m=e.memoizedState;o.state=m,Qf(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Gn.current||ci?(typeof u=="function"&&(Ug(e,n,u,r),l=e.memoizedState),(a=ci||ib(e,n,a,r,m,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Lr(e.type,a),o.props=c,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ar(l):(l=Yn(n)?Ro:jn.current,l=nl(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&ob(e,o,r,l),ci=!1,m=e.memoizedState,o.state=m,Qf(e,r,o,s);var S=e.memoizedState;a!==h||m!==S||Gn.current||ci?(typeof p=="function"&&(Ug(e,n,p,r),S=e.memoizedState),(c=ci||ib(e,n,c,r,m,S,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return qg(t,e,n,r,i,s)}function qg(t,e,n,r,s,i){AA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Qw(e,n,!1),Os(t,e,i);r=e.stateNode,O3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sl(e,t.child,null,i),e.child=sl(e,null,a,i)):Rn(t,e,a,i),e.memoizedState=r.state,s&&Qw(e,n,!0),e.child}function CA(t){var e=t.stateNode;e.pendingContext?Xw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xw(t,e.context,!1),uv(t,e.containerInfo)}function hb(t,e,n,r,s){return rl(),sv(s),e.flags|=256,Rn(t,e,n,r),e.child}var Gg={dehydrated:null,treeContext:null,retryLane:0};function Yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function IA(t,e,n){var r=e.pendingProps,s=xt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ot(xt,s&1),t===null)return Bg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jh(o,r,0,null),t=Po(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yg(n),e.memoizedState=Gg,t):vv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return F3(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Pi(a,i):(i=Po(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Yg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Gg,r}return i=t.child,t=i.sibling,r=Pi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vv(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dd(t,e,n,r){return r!==null&&sv(r),sl(e,t.child,null,n),t=vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F3(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dp(Error(ee(422))),Dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jh({mode:"visible",children:r.children},s,0,null),i=Po(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&sl(e,t.child,null,o),e.child.memoizedState=Yg(o),e.memoizedState=Gg,i);if(!(e.mode&1))return Dd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(ee(419)),r=dp(i,r,void 0),Dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kn||a){if(r=cn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ls(t,s),Wr(r,t,s,-1))}return Tv(),r=dp(Error(ee(421))),Dd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=J3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,sr=Si(s.nextSibling),ir=e,gt=!0,$r=null,t!==null&&(br[Sr++]=Ts,br[Sr++]=_s,br[Sr++]=Do,Ts=t.id,_s=t.overflow,Do=e),e=vv(e,r.children),e.flags|=4096,e)}function mb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zg(t.return,e,n)}function fp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mb(t,n,e);else if(t.tag===19)mb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ot(xt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fp(e,!0,n,null,i);break;case"together":fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $3(t,e,n){switch(e.tag){case 3:CA(e),rl();break;case 5:nA(e);break;case 1:Yn(e.type)&&Kf(e);break;case 4:uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ot(Yf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ot(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?IA(t,e,n):(ot(xt,xt.current&1),t=Os(t,e,n),t!==null?t.sibling:null);ot(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ot(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,PA(t,e,n)}return Os(t,e,n)}var NA,Xg,jA,RA;NA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xg=function(){};jA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vo(as.current);var i=null;switch(n){case"input":s=vg(t,s),r=vg(t,r),i=[];break;case"select":s=Tt({},s,{value:void 0}),r=Tt({},r,{value:void 0}),i=[];break;case"textarea":s=bg(t,s),r=bg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hf)}Eg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ct("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};RA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Jl(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function En(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B3(t,e,n){var r=e.pendingProps;switch(rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return Yn(e.type)&&Wf(),En(e),null;case 3:return r=e.stateNode,il(),ut(Gn),ut(jn),fv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(sy($r),$r=null))),Xg(t,e),En(e),null;case 5:dv(e);var s=vo(cu.current);if(n=e.type,t!==null&&e.stateNode!=null)jA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return En(e),null}if(t=vo(as.current),jd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rs]=e,r[au]=i,t=(e.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(s=0;s<uc.length;s++)ct(uc[s],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":Ew(r,i),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ct("invalid",r);break;case"textarea":_w(r,i),ct("invalid",r)}Eg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Nd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Nd(r.textContent,a,t),s=["children",""+a]):Qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",r)}switch(n){case"input":Ed(r),Tw(r,i,!0);break;case"textarea":Ed(r),Pw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rs]=e,t[au]=r,NA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tg(n,r),n){case"dialog":ct("cancel",t),ct("close",t),s=r;break;case"iframe":case"object":case"embed":ct("load",t),s=r;break;case"video":case"audio":for(s=0;s<uc.length;s++)ct(uc[s],t);s=r;break;case"source":ct("error",t),s=r;break;case"img":case"image":case"link":ct("error",t),ct("load",t),s=r;break;case"details":ct("toggle",t),s=r;break;case"input":Ew(t,r),s=vg(t,r),ct("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Tt({},r,{value:void 0}),ct("invalid",t);break;case"textarea":_w(t,r),s=bg(t,r),ct("invalid",t);break;default:s=r}Eg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lP(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jc(t,l):typeof l=="number"&&Jc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Qc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ct("scroll",t):l!=null&&z0(t,i,l,o))}switch(n){case"input":Ed(t),Tw(t,r,!1);break;case"textarea":Ed(t),Pw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ni(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Oa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Oa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Hf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(t&&e.stateNode!=null)RA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=vo(cu.current),vo(as.current),jd(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(i=r.nodeValue!==n)&&(t=ir,t!==null))switch(t.tag){case 3:Nd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return En(e),null;case 13:if(ut(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&sr!==null&&e.mode&1&&!(e.flags&128))QP(),rl(),e.flags|=98560,i=!1;else if(i=jd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[rs]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),i=!1}else $r!==null&&(sy($r),$r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?en===0&&(en=3):Tv())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return il(),Xg(t,e),t===null&&iu(e.stateNode.containerInfo),En(e),null;case 10:return av(e.type._context),En(e),null;case 17:return Yn(e.type)&&Wf(),En(e),null;case 19:if(ut(xt),i=e.memoizedState,i===null)return En(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Jl(i,!1);else{if(en!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jf(t),o!==null){for(e.flags|=128,Jl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(xt,xt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Lt()>al&&(e.flags|=128,r=!0,Jl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Jf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Jl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!gt)return En(e),null}else 2*Lt()-i.renderingStartTime>al&&n!==1073741824&&(e.flags|=128,r=!0,Jl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Lt(),e.sibling=null,n=xt.current,ot(xt,r?n&1|2:n&1),e):(En(e),null);case 22:case 23:return Ev(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tr&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function z3(t,e){switch(rv(e),e.tag){case 1:return Yn(e.type)&&Wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return il(),ut(Gn),ut(jn),fv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dv(e),null;case 13:if(ut(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(xt),null;case 4:return il(),null;case 10:return av(e.type._context),null;case 22:case 23:return Ev(),null;case 24:return null;default:return null}}var Md=!1,An=!1,U3=typeof WeakSet=="function"?WeakSet:Set,de=null;function Sa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(t,e,r)}else n.current=null}function Qg(t,e,n){try{n()}catch(r){jt(t,e,r)}}var pb=!1;function H3(t,e){if(Dg=Bf,t=OP(),tv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mg={focusedElem:t,selectionRange:n},Bf=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,P=S.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?E:Lr(e.type,E),P);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(R){jt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return S=pb,pb=!1,S}function Pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Qg(e,n,i)}s=s.next}while(s!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DA(t){var e=t.alternate;e!==null&&(t.alternate=null,DA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[au],delete e[Og],delete e[P3],delete e[A3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MA(t){return t.tag===5||t.tag===3||t.tag===4}function gb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hf));else if(r!==4&&(t=t.child,t!==null))for(Zg(t,e,n),t=t.sibling;t!==null;)Zg(t,e,n),t=t.sibling}function ey(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ey(t,e,n),t=t.sibling;t!==null;)ey(t,e,n),t=t.sibling}var dn=null,Or=!1;function ri(t,e,n){for(n=n.child;n!==null;)VA(t,e,n),n=n.sibling}function VA(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:An||Sa(n,e);case 6:var r=dn,s=Or;dn=null,ri(t,e,n),dn=r,Or=s,dn!==null&&(Or?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(Or?(t=dn,n=n.stateNode,t.nodeType===8?ip(t.parentNode,n):t.nodeType===1&&ip(t,n),nu(t)):ip(dn,n.stateNode));break;case 4:r=dn,s=Or,dn=n.stateNode.containerInfo,Or=!0,ri(t,e,n),dn=r,Or=s;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Qg(n,e,o),s=s.next}while(s!==r)}ri(t,e,n);break;case 1:if(!An&&(Sa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){jt(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,ri(t,e,n),An=r):ri(t,e,n);break;default:ri(t,e,n)}}function yb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new U3),e.forEach(function(r){var s=Z3.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dn=a.stateNode,Or=!1;break e;case 3:dn=a.stateNode.containerInfo,Or=!0;break e;case 4:dn=a.stateNode.containerInfo,Or=!0;break e}a=a.return}if(dn===null)throw Error(ee(160));VA(i,o,s),dn=null,Or=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){jt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LA(e,t),e=e.sibling}function LA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),Zr(t),r&4){try{Pc(3,t,t.return),Xh(3,t)}catch(E){jt(t,t.return,E)}try{Pc(5,t,t.return)}catch(E){jt(t,t.return,E)}}break;case 1:Dr(e,t),Zr(t),r&512&&n!==null&&Sa(n,n.return);break;case 5:if(Dr(e,t),Zr(t),r&512&&n!==null&&Sa(n,n.return),t.flags&32){var s=t.stateNode;try{Jc(s,"")}catch(E){jt(t,t.return,E)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iP(s,i),Tg(a,o);var c=Tg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?uP(s,h):u==="dangerouslySetInnerHTML"?lP(s,h):u==="children"?Jc(s,h):z0(s,u,h,c)}switch(a){case"input":xg(s,i);break;case"textarea":oP(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Oa(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?Oa(s,!!i.multiple,i.defaultValue,!0):Oa(s,!!i.multiple,i.multiple?[]:"",!1))}s[au]=i}catch(E){jt(t,t.return,E)}}break;case 6:if(Dr(e,t),Zr(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(E){jt(t,t.return,E)}}break;case 3:if(Dr(e,t),Zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nu(e.containerInfo)}catch(E){jt(t,t.return,E)}break;case 4:Dr(e,t),Zr(t);break;case 13:Dr(e,t),Zr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(bv=Lt())),r&4&&yb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(An=(c=An)||u,Dr(e,t),An=c):Dr(e,t),Zr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(de=t,u=t.child;u!==null;){for(h=de=u;de!==null;){switch(m=de,p=m.child,m.tag){case 0:case 11:case 14:case 15:Pc(4,m,m.return);break;case 1:Sa(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){jt(r,n,E)}}break;case 5:Sa(m,m.return);break;case 22:if(m.memoizedState!==null){xb(h);continue}}p!==null?(p.return=m,de=p):xb(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cP("display",o))}catch(E){jt(t,t.return,E)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){jt(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dr(e,t),Zr(t),r&4&&yb(t);break;case 21:break;default:Dr(e,t),Zr(t)}}function Zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MA(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jc(s,""),r.flags&=-33);var i=gb(t);ey(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gb(t);Zg(t,a,o);break;default:throw Error(ee(161))}}catch(l){jt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W3(t,e,n){de=t,OA(t)}function OA(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var s=de,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Md;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||An;a=Md;var c=An;if(Md=o,(An=l)&&!c)for(de=s;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?wb(s):l!==null?(l.return=o,de=l):wb(s);for(;i!==null;)de=i,OA(i),i=i.sibling;de=s,Md=a,An=c}vb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,de=i):vb(t)}}function vb(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:An||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!An)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Lr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nb(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&nu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}An||e.flags&512&&Jg(e)}catch(m){jt(e,e.return,m)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function xb(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function wb(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){jt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){jt(e,s,l)}}var i=e.return;try{Jg(e)}catch(l){jt(e,i,l)}break;case 5:var o=e.return;try{Jg(e)}catch(l){jt(e,o,l)}}}catch(l){jt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var K3=Math.ceil,th=Xs.ReactCurrentDispatcher,xv=Xs.ReactCurrentOwner,_r=Xs.ReactCurrentBatchConfig,Ke=0,cn=null,Kt=null,pn=0,tr=0,Ea=Ki(0),en=0,hu=null,Vo=0,Qh=0,wv=0,Ac=null,Wn=null,bv=0,al=1/0,bs=null,nh=!1,ty=null,Ti=null,Vd=!1,mi=null,rh=0,Cc=0,ny=null,gf=-1,yf=0;function Mn(){return Ke&6?Lt():gf!==-1?gf:gf=Lt()}function _i(t){return t.mode&1?Ke&2&&pn!==0?pn&-pn:I3.transition!==null?(yf===0&&(yf=SP()),yf):(t=Je,t!==0||(t=window.event,t=t===void 0?16:IP(t.type)),t):1}function Wr(t,e,n,r){if(50<Cc)throw Cc=0,ny=null,Error(ee(185));Uu(t,n,r),(!(Ke&2)||t!==cn)&&(t===cn&&(!(Ke&2)&&(Qh|=n),en===4&&di(t,pn)),Xn(t,r),n===1&&Ke===0&&!(e.mode&1)&&(al=Lt()+500,qh&&qi()))}function Xn(t,e){var n=t.callbackNode;ID(t,e);var r=$f(t,t===cn?pn:0);if(r===0)n!==null&&Iw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Iw(n),e===1)t.tag===0?C3(bb.bind(null,t)):GP(bb.bind(null,t)),T3(function(){!(Ke&6)&&qi()}),n=null;else{switch(EP(r)){case 1:n=q0;break;case 4:n=wP;break;case 16:n=Ff;break;case 536870912:n=bP;break;default:n=Ff}n=KA(n,FA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FA(t,e){if(gf=-1,yf=0,Ke&6)throw Error(ee(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=$f(t,t===cn?pn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sh(t,r);else{e=r;var s=Ke;Ke|=2;var i=BA();(cn!==t||pn!==e)&&(bs=null,al=Lt()+500,_o(t,e));do try{Y3();break}catch(a){$A(t,a)}while(!0);ov(),th.current=i,Ke=s,Kt!==null?e=0:(cn=null,pn=0,e=en)}if(e!==0){if(e===2&&(s=Ig(t),s!==0&&(r=s,e=ry(t,s))),e===1)throw n=hu,_o(t,0),di(t,r),Xn(t,Lt()),n;if(e===6)di(t,r);else{if(s=t.current.alternate,!(r&30)&&!q3(s)&&(e=sh(t,r),e===2&&(i=Ig(t),i!==0&&(r=i,e=ry(t,i))),e===1))throw n=hu,_o(t,0),di(t,r),Xn(t,Lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:oo(t,Wn,bs);break;case 3:if(di(t,r),(r&130023424)===r&&(e=bv+500-Lt(),10<e)){if($f(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Mn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lg(oo.bind(null,t,Wn,bs),e);break}oo(t,Wn,bs);break;case 4:if(di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*K3(r/1960))-r,10<r){t.timeoutHandle=Lg(oo.bind(null,t,Wn,bs),r);break}oo(t,Wn,bs);break;case 5:oo(t,Wn,bs);break;default:throw Error(ee(329))}}}return Xn(t,Lt()),t.callbackNode===n?FA.bind(null,t):null}function ry(t,e){var n=Ac;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=sh(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&sy(e)),t}function sy(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function q3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~wv,e&=~Qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hr(e),r=1<<n;t[n]=-1,e&=~r}}function bb(t){if(Ke&6)throw Error(ee(327));Ua();var e=$f(t,0);if(!(e&1))return Xn(t,Lt()),null;var n=sh(t,e);if(t.tag!==0&&n===2){var r=Ig(t);r!==0&&(e=r,n=ry(t,r))}if(n===1)throw n=hu,_o(t,0),di(t,e),Xn(t,Lt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oo(t,Wn,bs),Xn(t,Lt()),null}function Sv(t,e){var n=Ke;Ke|=1;try{return t(e)}finally{Ke=n,Ke===0&&(al=Lt()+500,qh&&qi())}}function Lo(t){mi!==null&&mi.tag===0&&!(Ke&6)&&Ua();var e=Ke;Ke|=1;var n=_r.transition,r=Je;try{if(_r.transition=null,Je=1,t)return t()}finally{Je=r,_r.transition=n,Ke=e,!(Ke&6)&&qi()}}function Ev(){tr=Ea.current,ut(Ea)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E3(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wf();break;case 3:il(),ut(Gn),ut(jn),fv();break;case 5:dv(r);break;case 4:il();break;case 13:ut(xt);break;case 19:ut(xt);break;case 10:av(r.type._context);break;case 22:case 23:Ev()}n=n.return}if(cn=t,Kt=t=Pi(t.current,null),pn=tr=e,en=0,hu=null,wv=Qh=Vo=0,Wn=Ac=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yo=null}return t}function $A(t,e){do{var n=Kt;try{if(ov(),hf.current=eh,Zf){for(var r=St.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zf=!1}if(Mo=0,sn=Jt=St=null,_c=!1,uu=0,xv.current=null,n===null||n.return===null){en=1,hu=e,Kt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=pn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=lb(o);if(p!==null){p.flags&=-257,cb(p,o,a,i,e),p.mode&1&&ab(i,c,e),e=p,l=c;var S=e.updateQueue;if(S===null){var E=new Set;E.add(l),e.updateQueue=E}else S.add(l);break e}else{if(!(e&1)){ab(i,c,e),Tv();break e}l=Error(ee(426))}}else if(gt&&a.mode&1){var P=lb(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),cb(P,o,a,i,e),sv(ol(l,a));break e}}i=l=ol(l,a),en!==4&&(en=2),Ac===null?Ac=[i]:Ac.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=EA(i,l,e);tb(i,v);break e;case 1:a=l;var y=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ti===null||!Ti.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=TA(i,a,e);tb(i,R);break e}}i=i.return}while(i!==null)}UA(n)}catch(C){e=C,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(!0)}function BA(){var t=th.current;return th.current=eh,t===null?eh:t}function Tv(){(en===0||en===3||en===2)&&(en=4),cn===null||!(Vo&268435455)&&!(Qh&268435455)||di(cn,pn)}function sh(t,e){var n=Ke;Ke|=2;var r=BA();(cn!==t||pn!==e)&&(bs=null,_o(t,e));do try{G3();break}catch(s){$A(t,s)}while(!0);if(ov(),Ke=n,th.current=r,Kt!==null)throw Error(ee(261));return cn=null,pn=0,en}function G3(){for(;Kt!==null;)zA(Kt)}function Y3(){for(;Kt!==null&&!wD();)zA(Kt)}function zA(t){var e=WA(t.alternate,t,tr);t.memoizedProps=t.pendingProps,e===null?UA(t):Kt=e,xv.current=null}function UA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=z3(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{en=6,Kt=null;return}}else if(n=B3(n,e,tr),n!==null){Kt=n;return}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);en===0&&(en=5)}function oo(t,e,n){var r=Je,s=_r.transition;try{_r.transition=null,Je=1,X3(t,e,n,r)}finally{_r.transition=s,Je=r}return null}function X3(t,e,n,r){do Ua();while(mi!==null);if(Ke&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kD(t,i),t===cn&&(Kt=cn=null,pn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vd||(Vd=!0,KA(Ff,function(){return Ua(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_r.transition,_r.transition=null;var o=Je;Je=1;var a=Ke;Ke|=4,xv.current=null,H3(t,n),LA(n,t),g3(Mg),Bf=!!Dg,Mg=Dg=null,t.current=n,W3(n),bD(),Ke=a,Je=o,_r.transition=i}else t.current=n;if(Vd&&(Vd=!1,mi=t,rh=s),i=t.pendingLanes,i===0&&(Ti=null),TD(n.stateNode),Xn(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nh)throw nh=!1,t=ty,ty=null,t;return rh&1&&t.tag!==0&&Ua(),i=t.pendingLanes,i&1?t===ny?Cc++:(Cc=0,ny=t):Cc=0,qi(),null}function Ua(){if(mi!==null){var t=EP(rh),e=_r.transition,n=Je;try{if(_r.transition=null,Je=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,rh=0,Ke&6)throw Error(ee(331));var s=Ke;for(Ke|=4,de=t.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(de=c;de!==null;){var u=de;switch(u.tag){case 0:case 11:case 15:Pc(8,u,i)}var h=u.child;if(h!==null)h.return=u,de=h;else for(;de!==null;){u=de;var m=u.sibling,p=u.return;if(DA(u),u===c){de=null;break}if(m!==null){m.return=p,de=m;break}de=p}}}var S=i.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var P=E.sibling;E.sibling=null,E=P}while(E!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,de=v;break e}de=i.return}}var y=t.current;for(de=y;de!==null;){o=de;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,de=T;else e:for(o=y;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(C){jt(a,a.return,C)}if(a===o){de=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,de=R;break e}de=a.return}}if(Ke=s,qi(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(zh,t)}catch{}r=!0}return r}finally{Je=n,_r.transition=e}}return!1}function Sb(t,e,n){e=ol(n,e),e=EA(t,e,1),t=Ei(t,e,1),e=Mn(),t!==null&&(Uu(t,1,e),Xn(t,e))}function jt(t,e,n){if(t.tag===3)Sb(t,t,n);else for(;e!==null;){if(e.tag===3){Sb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ti===null||!Ti.has(r))){t=ol(n,t),t=TA(e,t,1),e=Ei(e,t,1),t=Mn(),e!==null&&(Uu(e,1,t),Xn(e,t));break}}e=e.return}}function Q3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(pn&n)===n&&(en===4||en===3&&(pn&130023424)===pn&&500>Lt()-bv?_o(t,0):wv|=n),Xn(t,e)}function HA(t,e){e===0&&(t.mode&1?(e=Pd,Pd<<=1,!(Pd&130023424)&&(Pd=4194304)):e=1);var n=Mn();t=Ls(t,e),t!==null&&(Uu(t,e,n),Xn(t,n))}function J3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HA(t,n)}function Z3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),HA(t,n)}var WA;WA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,$3(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,gt&&e.flags&1048576&&YP(e,Gf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pf(t,e),t=e.pendingProps;var s=nl(e,jn.current);za(e,n),s=mv(null,e,r,t,s,n);var i=pv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(r)?(i=!0,Kf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cv(e),s.updater=Yh,e.stateNode=s,s._reactInternals=e,Hg(e,r,t,n),e=qg(null,e,r,!0,i,n)):(e.tag=0,gt&&i&&nv(e),Rn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pf(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tM(r),t=Lr(r,t),s){case 0:e=Kg(null,e,r,t,n);break e;case 1:e=fb(null,e,r,t,n);break e;case 11:e=ub(null,e,r,t,n);break e;case 14:e=db(null,e,r,Lr(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),Kg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),fb(t,e,r,s,n);case 3:e:{if(CA(e),t===null)throw Error(ee(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tA(t,e),Qf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ol(Error(ee(423)),e),e=hb(t,e,r,n,s);break e}else if(r!==s){s=ol(Error(ee(424)),e),e=hb(t,e,r,n,s);break e}else for(sr=Si(e.stateNode.containerInfo.firstChild),ir=e,gt=!0,$r=null,n=ZP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===s){e=Os(t,e,n);break e}Rn(t,e,r,n)}e=e.child}return e;case 5:return nA(e),t===null&&Bg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Vg(r,s)?o=null:i!==null&&Vg(r,i)&&(e.flags|=32),AA(t,e),Rn(t,e,o,n),e.child;case 6:return t===null&&Bg(e),null;case 13:return IA(t,e,n);case 4:return uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sl(e,null,r,n):Rn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),ub(t,e,r,s,n);case 7:return Rn(t,e,e.pendingProps,n),e.child;case 8:return Rn(t,e,e.pendingProps.children,n),e.child;case 12:return Rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ot(Yf,r._currentValue),r._currentValue=o,i!==null)if(qr(i.value,o)){if(i.children===s.children&&!Gn.current){e=Os(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Cs(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),zg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,za(e,n),s=Ar(s),r=r(s),e.flags|=1,Rn(t,e,r,n),e.child;case 14:return r=e.type,s=Lr(r,e.pendingProps),s=Lr(r.type,s),db(t,e,r,s,n);case 15:return _A(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Lr(r,s),pf(t,e),e.tag=1,Yn(r)?(t=!0,Kf(e)):t=!1,za(e,n),SA(e,r,s),Hg(e,r,s,n),qg(null,e,r,!0,t,n);case 19:return kA(t,e,n);case 22:return PA(t,e,n)}throw Error(ee(156,e.tag))};function KA(t,e){return xP(t,e)}function eM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new eM(t,e,n,r)}function _v(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tM(t){if(typeof t=="function")return _v(t)?1:0;if(t!=null){if(t=t.$$typeof,t===H0)return 11;if(t===W0)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vf(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_v(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ha:return Po(n.children,s,i,e);case U0:o=8,s|=8;break;case mg:return t=Er(12,n,e,s|2),t.elementType=mg,t.lanes=i,t;case pg:return t=Er(13,n,e,s),t.elementType=pg,t.lanes=i,t;case gg:return t=Er(19,n,e,s),t.elementType=gg,t.lanes=i,t;case nP:return Jh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eP:o=10;break e;case tP:o=9;break e;case H0:o=11;break e;case W0:o=14;break e;case li:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=Er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Po(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function Jh(t,e,n,r){return t=Er(22,t,r,e),t.elementType=nP,t.lanes=n,t.stateNode={isHidden:!1},t}function hp(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function mp(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pv(t,e,n,r,s,i,o,a,l){return t=new nM(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cv(i),t}function rM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qA(t){if(!t)return ji;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Yn(n))return qP(t,n,e)}return e}function GA(t,e,n,r,s,i,o,a,l){return t=Pv(n,r,!0,t,s,i,o,a,l),t.context=qA(null),n=t.current,r=Mn(),s=_i(n),i=Cs(r,s),i.callback=e??null,Ei(n,i,s),t.current.lanes=s,Uu(t,s,r),Xn(t,r),t}function Zh(t,e,n,r){var s=e.current,i=Mn(),o=_i(s);return n=qA(n),e.context===null?e.context=n:e.pendingContext=n,e=Cs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(s,e,o),t!==null&&(Wr(t,s,o,i),ff(t,s,o)),o}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Eb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Av(t,e){Eb(t,e),(t=t.alternate)&&Eb(t,e)}function sM(){return null}var YA=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cv(t){this._internalRoot=t}em.prototype.render=Cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Zh(t,e,null,null)};em.prototype.unmount=Cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Lo(function(){Zh(null,t,null,null)}),e[Vs]=null}};function em(t){this._internalRoot=t}em.prototype.unstable_scheduleHydration=function(t){if(t){var e=PP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&CP(t)}};function Iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tb(){}function iM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ih(o);i.call(c)}}var o=GA(e,r,t,0,null,!1,!1,"",Tb);return t._reactRootContainer=o,t[Vs]=o.current,iu(t.nodeType===8?t.parentNode:t),Lo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ih(l);a.call(c)}}var l=Pv(t,0,!1,null,null,!1,!1,"",Tb);return t._reactRootContainer=l,t[Vs]=l.current,iu(t.nodeType===8?t.parentNode:t),Lo(function(){Zh(e,l,n,r)}),l}function nm(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ih(o);a.call(l)}}Zh(e,o,t,s)}else o=iM(n,e,t,s,r);return ih(o)}TP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cc(e.pendingLanes);n!==0&&(G0(e,n|1),Xn(e,Lt()),!(Ke&6)&&(al=Lt()+500,qi()))}break;case 13:Lo(function(){var r=Ls(t,1);if(r!==null){var s=Mn();Wr(r,t,1,s)}}),Av(t,1)}};Y0=function(t){if(t.tag===13){var e=Ls(t,134217728);if(e!==null){var n=Mn();Wr(e,t,134217728,n)}Av(t,134217728)}};_P=function(t){if(t.tag===13){var e=_i(t),n=Ls(t,e);if(n!==null){var r=Mn();Wr(n,t,e,r)}Av(t,e)}};PP=function(){return Je};AP=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Pg=function(t,e,n){switch(e){case"input":if(xg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Kh(r);if(!s)throw Error(ee(90));sP(r),xg(r,s)}}}break;case"textarea":oP(t,n);break;case"select":e=n.value,e!=null&&Oa(t,!!n.multiple,e,!1)}};hP=Sv;mP=Lo;var oM={usingClientEntryPoint:!1,Events:[Wu,ya,Kh,dP,fP,Sv]},Zl={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aM={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yP(t),t===null?null:t.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||sM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{zh=Ld.inject(aM),os=Ld}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oM;cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(e))throw Error(ee(200));return rM(t,e,null,n)};cr.createRoot=function(t,e){if(!Iv(t))throw Error(ee(299));var n=!1,r="",s=YA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Pv(t,1,!1,null,null,n,!1,r,s),t[Vs]=e.current,iu(t.nodeType===8?t.parentNode:t),new Cv(e)};cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=yP(e),t=t===null?null:t.stateNode,t};cr.flushSync=function(t){return Lo(t)};cr.hydrate=function(t,e,n){if(!tm(e))throw Error(ee(200));return nm(null,t,e,!0,n)};cr.hydrateRoot=function(t,e,n){if(!Iv(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=YA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=GA(e,null,t,1,n??null,s,!1,i,o),t[Vs]=e.current,iu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new em(e)};cr.render=function(t,e,n){if(!tm(e))throw Error(ee(200));return nm(null,t,e,!1,n)};cr.unmountComponentAtNode=function(t){if(!tm(t))throw Error(ee(40));return t._reactRootContainer?(Lo(function(){nm(null,null,t,!1,function(){t._reactRootContainer=null,t[Vs]=null})}),!0):!1};cr.unstable_batchedUpdates=Sv;cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tm(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return nm(t,e,n,!1,r)};cr.version="18.3.1-next-f1338f8080-20240426";function XA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XA)}catch(t){console.error(t)}}XA(),X_.exports=cr;var qu=X_.exports;const lM=O_(qu),cM=L_({__proto__:null,default:lM},[qu]);var QA,_b=qu;QA=_b.createRoot,_b.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pt.apply(this,arguments)}var Ht;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ht||(Ht={}));const Pb="popstate";function uM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return mu("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Oo(s)}return fM(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ll(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dM(){return Math.random().toString(36).substr(2,8)}function Ab(t,e){return{usr:t.state,key:t.key,idx:e}}function mu(t,e,n,r){return n===void 0&&(n=null),pt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gi(e):e,{state:n,key:e&&e.key||r||dM()})}function Oo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function fM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ht.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(pt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ht.Pop;let P=u(),v=P==null?null:P-c;c=P,l&&l({action:a,location:E.location,delta:v})}function m(P,v){a=Ht.Push;let y=mu(E.location,P,v);c=u()+1;let T=Ab(y,c),R=E.createHref(y);try{o.pushState(T,"",R)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(R)}i&&l&&l({action:a,location:E.location,delta:1})}function p(P,v){a=Ht.Replace;let y=mu(E.location,P,v);c=u();let T=Ab(y,c),R=E.createHref(y);o.replaceState(T,"",R),i&&l&&l({action:a,location:E.location,delta:0})}function S(P){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof P=="string"?P:Oo(P);return y=y.replace(/ $/,"%20"),Le(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let E={get action(){return a},get location(){return t(s,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Pb,h),l=P,()=>{s.removeEventListener(Pb,h),l=null}},createHref(P){return e(s,P)},createURL:S,encodeLocation(P){let v=S(P);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(P){return o.go(P)}};return E}var Qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qe||(Qe={}));const hM=new Set(["lazy","caseSensitive","path","id","index","children"]);function mM(t){return t.index===!0}function oh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((s,i)=>{let o=[...n,String(i)],a=typeof s.id=="string"?s.id:o.join("-");if(Le(s.index!==!0||!s.children,"Cannot specify children on an index route"),Le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),mM(s)){let l=pt({},s,e(s),{id:a});return r[a]=l,l}else{let l=pt({},s,e(s),{id:a,children:void 0});return r[a]=l,s.children&&(l.children=oh(s.children,e,o,r)),l}})}function fo(t,e,n){return n===void 0&&(n="/"),xf(t,e,n,!1)}function xf(t,e,n,r){let s=typeof e=="string"?Gi(e):e,i=Al(s.pathname||"/",n);if(i==null)return null;let o=JA(t);gM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=AM(i);a=_M(o[l],c,r)}return a}function pM(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function JA(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Is([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JA(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:EM(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of ZA(i.path))s(i,o,l)}),e}function ZA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ZA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function gM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yM=/^:[\w-]+$/,vM=3,xM=2,wM=1,bM=10,SM=-2,Cb=t=>t==="*";function EM(t,e){let n=t.split("/"),r=n.length;return n.some(Cb)&&(r+=SM),e&&(r+=xM),n.filter(s=>!Cb(s)).reduce((s,i)=>s+(yM.test(i)?vM:i===""?wM:bM),r)}function TM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _M(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Ib({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),m=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Ib({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Is([i,h.pathname]),pathnameBase:kM(Is([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Is([i,h.pathnameBase]))}return o}function Ib(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:m,isOptional:p}=u;if(m==="*"){let E=a[h]||"";o=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const S=a[h];return p&&!S?c[m]=void 0:c[m]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function PM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ll(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function AM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ll(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Gi(t):t;return{pathname:n?n.startsWith("/")?n:IM(n,e):e,search:NM(r),hash:jM(s)}}function IM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function pp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function kv(t,e){let n=eC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Nv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Gi(t):(s=pt({},t),Le(!s.pathname||!s.pathname.includes("?"),pp("?","pathname","search",s)),Le(!s.pathname||!s.pathname.includes("#"),pp("#","pathname","hash",s)),Le(!s.search||!s.search.includes("#"),pp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=CM(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Is=t=>t.join("/").replace(/\/\/+/g,"/"),kM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ah{constructor(e,n,r,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function pu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tC=["post","put","patch","delete"],RM=new Set(tC),DM=["get",...tC],MM=new Set(DM),VM=new Set([301,302,303,307,308]),LM=new Set([307,308]),gp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},OM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ec={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),nC="remix-router-transitions";function $M(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;s=I=>({hasErrorBoundary:O(I)})}else s=FM;let i={},o=oh(t.routes,s,void 0,i),a,l=t.basename||"/",c=t.dataStrategy||HM,u=t.patchRoutesOnNavigation,h=pt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,p=new Set,S=null,E=null,P=null,v=t.hydrationData!=null,y=fo(o,t.history.location,l),T=!1,R=null;if(y==null&&!u){let O=Un(404,{pathname:t.history.location.pathname}),{matches:I,route:M}=$b(o);y=I,R={[M.id]:O}}y&&!t.hydrationData&&vs(y,o,t.history.location.pathname).active&&(y=null);let C;if(y)if(y.some(O=>O.route.lazy))C=!1;else if(!y.some(O=>O.route.loader))C=!0;else if(h.v7_partialHydration){let O=t.hydrationData?t.hydrationData.loaderData:null,I=t.hydrationData?t.hydrationData.errors:null;if(I){let M=y.findIndex($=>I[$.route.id]!==void 0);C=y.slice(0,M+1).every($=>!oy($.route,O,I))}else C=y.every(M=>!oy(M.route,O,I))}else C=t.hydrationData!=null;else if(C=!1,y=[],h.v7_partialHydration){let O=vs(null,o,t.history.location.pathname);O.active&&O.matches&&(T=!0,y=O.matches)}let L,x={historyAction:t.history.action,location:t.history.location,matches:y,initialized:C,navigation:gp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||R,fetchers:new Map,blockers:new Map},w=Ht.Pop,A=!1,N,D=!1,V=new Map,k=null,U=!1,te=!1,Q=[],J=new Set,F=new Map,B=0,G=-1,X=new Map,se=new Set,ve=new Map,me=new Map,xe=new Set,Ie=new Map,$e=new Map,et;function Gt(){if(m=t.history.listen(O=>{let{action:I,location:M,delta:$}=O;if(et){et(),et=void 0;return}ll($e.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let H=jr({currentLocation:x.location,nextLocation:M,historyAction:I});if(H&&$!=null){let ne=new Promise(q=>{et=q});t.history.go($*-1),Nr(H,{state:"blocked",location:M,proceed(){Nr(H,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),ne.then(()=>t.history.go($))},reset(){let q=new Map(x.blockers);q.set(H,ec),tt({blockers:q})}});return}return mt(I,M)}),n){s5(e,V);let O=()=>i5(e,V);e.addEventListener("pagehide",O),k=()=>e.removeEventListener("pagehide",O)}return x.initialized||mt(Ht.Pop,x.location,{initialHydration:!0}),L}function ms(){m&&m(),k&&k(),p.clear(),N&&N.abort(),x.fetchers.forEach((O,I)=>mr(I)),x.blockers.forEach((O,I)=>kr(I))}function Ir(O){return p.add(O),()=>p.delete(O)}function tt(O,I){I===void 0&&(I={}),x=pt({},x,O);let M=[],$=[];h.v7_fetcherPersist&&x.fetchers.forEach((H,ne)=>{H.state==="idle"&&(xe.has(ne)?$.push(ne):M.push(ne))}),xe.forEach(H=>{!x.fetchers.has(H)&&!F.has(H)&&$.push(H)}),[...p].forEach(H=>H(x,{deletedFetchers:$,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),h.v7_fetcherPersist?(M.forEach(H=>x.fetchers.delete(H)),$.forEach(H=>mr(H))):$.forEach(H=>xe.delete(H))}function vt(O,I,M){var $,H;let{flushSync:ne}=M===void 0?{}:M,q=x.actionData!=null&&x.navigation.formMethod!=null&&Fr(x.navigation.formMethod)&&x.navigation.state==="loading"&&(($=O.state)==null?void 0:$._isRedirect)!==!0,K;I.actionData?Object.keys(I.actionData).length>0?K=I.actionData:K=null:q?K=x.actionData:K=null;let ie=I.loaderData?Ob(x.loaderData,I.loaderData,I.matches||[],I.errors):x.loaderData,le=x.blockers;le.size>0&&(le=new Map(le),le.forEach((Se,Ge)=>le.set(Ge,ec)));let Z=A===!0||x.navigation.formMethod!=null&&Fr(x.navigation.formMethod)&&((H=O.state)==null?void 0:H._isRedirect)!==!0;a&&(o=a,a=void 0),U||w===Ht.Pop||(w===Ht.Push?t.history.push(O,O.state):w===Ht.Replace&&t.history.replace(O,O.state));let fe;if(w===Ht.Pop){let Se=V.get(x.location.pathname);Se&&Se.has(O.pathname)?fe={currentLocation:x.location,nextLocation:O}:V.has(O.pathname)&&(fe={currentLocation:O,nextLocation:x.location})}else if(D){let Se=V.get(x.location.pathname);Se?Se.add(O.pathname):(Se=new Set([O.pathname]),V.set(x.location.pathname,Se)),fe={currentLocation:x.location,nextLocation:O}}tt(pt({},I,{actionData:K,loaderData:ie,historyAction:w,location:O,initialized:!0,navigation:gp,revalidation:"idle",restoreScrollPosition:Ji(O,I.matches||x.matches),preventScrollReset:Z,blockers:le}),{viewTransitionOpts:fe,flushSync:ne===!0}),w=Ht.Pop,A=!1,D=!1,U=!1,te=!1,Q=[]}async function Ye(O,I){if(typeof O=="number"){t.history.go(O);return}let M=iy(x.location,x.matches,l,h.v7_prependBasename,O,h.v7_relativeSplatPath,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:$,submission:H,error:ne}=kb(h.v7_normalizeFormMethod,!1,M,I),q=x.location,K=mu(x.location,$,I&&I.state);K=pt({},K,t.history.encodeLocation(K));let ie=I&&I.replace!=null?I.replace:void 0,le=Ht.Push;ie===!0?le=Ht.Replace:ie===!1||H!=null&&Fr(H.formMethod)&&H.formAction===x.location.pathname+x.location.search&&(le=Ht.Replace);let Z=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,fe=(I&&I.flushSync)===!0,Se=jr({currentLocation:q,nextLocation:K,historyAction:le});if(Se){Nr(Se,{state:"blocked",location:K,proceed(){Nr(Se,{state:"proceeding",proceed:void 0,reset:void 0,location:K}),Ye(O,I)},reset(){let Ge=new Map(x.blockers);Ge.set(Se,ec),tt({blockers:Ge})}});return}return await mt(le,K,{submission:H,pendingError:ne,preventScrollReset:Z,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:fe})}function ps(){if(Rt(),tt({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){mt(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}mt(w||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:D===!0})}}async function mt(O,I,M){N&&N.abort(),N=null,w=O,U=(M&&M.startUninterruptedRevalidation)===!0,Qr(x.location,x.matches),A=(M&&M.preventScrollReset)===!0,D=(M&&M.enableViewTransition)===!0;let $=a||o,H=M&&M.overrideNavigation,ne=M!=null&&M.initialHydration&&x.matches&&x.matches.length>0&&!T?x.matches:fo($,I,l),q=(M&&M.flushSync)===!0;if(ne&&x.initialized&&!te&&XM(x.location,I)&&!(M&&M.submission&&Fr(M.submission.formMethod))){vt(I,{matches:ne},{flushSync:q});return}let K=vs(ne,$,I.pathname);if(K.active&&K.matches&&(ne=K.matches),!ne){let{error:ce,notFoundMatches:we,route:Me}=ys(I.pathname);vt(I,{matches:we,loaderData:{},errors:{[Me.id]:ce}},{flushSync:q});return}N=new AbortController;let ie=na(t.history,I,N.signal,M&&M.submission),le;if(M&&M.pendingError)le=[ho(ne).route.id,{type:Qe.error,error:M.pendingError}];else if(M&&M.submission&&Fr(M.submission.formMethod)){let ce=await Qn(ie,I,M.submission,ne,K.active,{replace:M.replace,flushSync:q});if(ce.shortCircuited)return;if(ce.pendingActionResult){let[we,Me]=ce.pendingActionResult;if(nr(Me)&&pu(Me.error)&&Me.error.status===404){N=null,vt(I,{matches:ce.matches,loaderData:{},errors:{[we]:Me.error}});return}}ne=ce.matches||ne,le=ce.pendingActionResult,H=yp(I,M.submission),q=!1,K.active=!1,ie=na(t.history,ie.url,ie.signal)}let{shortCircuited:Z,matches:fe,loaderData:Se,errors:Ge}=await fr(ie,I,ne,K.active,H,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,q,le);Z||(N=null,vt(I,pt({matches:fe||ne},Fb(le),{loaderData:Se,errors:Ge})))}async function Qn(O,I,M,$,H,ne){ne===void 0&&(ne={}),Rt();let q=n5(I,M);if(tt({navigation:q},{flushSync:ne.flushSync===!0}),H){let le=await Bn($,I.pathname,O.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let Z=ho(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[Z,{type:Qe.error,error:le.error}]}}else if(le.matches)$=le.matches;else{let{notFoundMatches:Z,error:fe,route:Se}=ys(I.pathname);return{matches:Z,pendingActionResult:[Se.id,{type:Qe.error,error:fe}]}}}let K,ie=dc($,I);if(!ie.route.action&&!ie.route.lazy)K={type:Qe.error,error:Un(405,{method:O.method,pathname:I.pathname,routeId:ie.route.id})};else if(K=(await De("action",x,O,[ie],$,null))[ie.route.id],O.signal.aborted)return{shortCircuited:!0};if(xo(K)){let le;return ne&&ne.replace!=null?le=ne.replace:le=Mb(K.response.headers.get("Location"),new URL(O.url),l)===x.location.pathname+x.location.search,await Ee(O,K,!0,{submission:M,replace:le}),{shortCircuited:!0}}if(pi(K))throw Un(400,{type:"defer-action"});if(nr(K)){let le=ho($,ie.route.id);return(ne&&ne.replace)!==!0&&(w=Ht.Push),{matches:$,pendingActionResult:[le.route.id,K]}}return{matches:$,pendingActionResult:[ie.route.id,K]}}async function fr(O,I,M,$,H,ne,q,K,ie,le,Z){let fe=H||yp(I,ne),Se=ne||q||zb(fe),Ge=!U&&(!h.v7_partialHydration||!ie);if($){if(Ge){let Oe=nt(Z);tt(pt({navigation:fe},Oe!==void 0?{actionData:Oe}:{}),{flushSync:le})}let ke=await Bn(M,I.pathname,O.signal);if(ke.type==="aborted")return{shortCircuited:!0};if(ke.type==="error"){let Oe=ho(ke.partialMatches).route.id;return{matches:ke.partialMatches,loaderData:{},errors:{[Oe]:ke.error}}}else if(ke.matches)M=ke.matches;else{let{error:Oe,notFoundMatches:zn,route:pr}=ys(I.pathname);return{matches:zn,loaderData:{},errors:{[pr.id]:Oe}}}}let ce=a||o,[we,Me]=jb(t.history,x,M,Se,I,h.v7_partialHydration&&ie===!0,h.v7_skipActionErrorRevalidation,te,Q,J,xe,ve,se,ce,l,Z);if(_t(ke=>!(M&&M.some(Oe=>Oe.route.id===ke))||we&&we.some(Oe=>Oe.route.id===ke)),G=++B,we.length===0&&Me.length===0){let ke=$n();return vt(I,pt({matches:M,loaderData:{},errors:Z&&nr(Z[1])?{[Z[0]]:Z[1].error}:null},Fb(Z),ke?{fetchers:new Map(x.fetchers)}:{}),{flushSync:le}),{shortCircuited:!0}}if(Ge){let ke={};if(!$){ke.navigation=fe;let Oe=nt(Z);Oe!==void 0&&(ke.actionData=Oe)}Me.length>0&&(ke.fetchers=rt(Me)),tt(ke,{flushSync:le})}Me.forEach(ke=>{$t(ke.key),ke.controller&&F.set(ke.key,ke.controller)});let Bt=()=>Me.forEach(ke=>$t(ke.key));N&&N.signal.addEventListener("abort",Bt);let{loaderResults:Xe,fetcherResults:qe}=await wn(x,M,we,Me,O);if(O.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",Bt),Me.forEach(ke=>F.delete(ke.key));let Te=Od(Xe);if(Te)return await Ee(O,Te.result,!0,{replace:K}),{shortCircuited:!0};if(Te=Od(qe),Te)return se.add(Te.key),await Ee(O,Te.result,!0,{replace:K}),{shortCircuited:!0};let{loaderData:Re,errors:Xt}=Lb(x,M,Xe,Z,Me,qe,Ie);Ie.forEach((ke,Oe)=>{ke.subscribe(zn=>{(zn||ke.done)&&Ie.delete(Oe)})}),h.v7_partialHydration&&ie&&x.errors&&(Xt=pt({},x.errors,Xt));let st=$n(),Ce=bn(G),it=st||Ce||Me.length>0;return pt({matches:M,loaderData:Re,errors:Xt},it?{fetchers:new Map(x.fetchers)}:{})}function nt(O){if(O&&!nr(O[1]))return{[O[0]]:O[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function rt(O){return O.forEach(I=>{let M=x.fetchers.get(I.key),$=tc(void 0,M?M.data:void 0);x.fetchers.set(I.key,$)}),new Map(x.fetchers)}function On(O,I,M,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$t(O);let H=($&&$.flushSync)===!0,ne=a||o,q=iy(x.location,x.matches,l,h.v7_prependBasename,M,h.v7_relativeSplatPath,I,$==null?void 0:$.relative),K=fo(ne,q,l),ie=vs(K,ne,q);if(ie.active&&ie.matches&&(K=ie.matches),!K){Dt(O,I,Un(404,{pathname:q}),{flushSync:H});return}let{path:le,submission:Z,error:fe}=kb(h.v7_normalizeFormMethod,!0,q,$);if(fe){Dt(O,I,fe,{flushSync:H});return}let Se=dc(K,le),Ge=($&&$.preventScrollReset)===!0;if(Z&&Fr(Z.formMethod)){Yr(O,I,le,Se,K,ie.active,H,Ge,Z);return}ve.set(O,{routeId:I,path:le}),hr(O,I,le,Se,K,ie.active,H,Ge,Z)}async function Yr(O,I,M,$,H,ne,q,K,ie){Rt(),ve.delete(O);function le(at){if(!at.route.action&&!at.route.lazy){let Pt=Un(405,{method:ie.formMethod,pathname:M,routeId:I});return Dt(O,I,Pt,{flushSync:q}),!0}return!1}if(!ne&&le($))return;let Z=x.fetchers.get(O);Yt(O,r5(ie,Z),{flushSync:q});let fe=new AbortController,Se=na(t.history,M,fe.signal,ie);if(ne){let at=await Bn(H,new URL(Se.url).pathname,Se.signal,O);if(at.type==="aborted")return;if(at.type==="error"){Dt(O,I,at.error,{flushSync:q});return}else if(at.matches){if(H=at.matches,$=dc(H,M),le($))return}else{Dt(O,I,Un(404,{pathname:M}),{flushSync:q});return}}F.set(O,fe);let Ge=B,we=(await De("action",x,Se,[$],H,O))[$.route.id];if(Se.signal.aborted){F.get(O)===fe&&F.delete(O);return}if(h.v7_fetcherPersist&&xe.has(O)){if(xo(we)||nr(we)){Yt(O,ii(void 0));return}}else{if(xo(we))if(F.delete(O),G>Ge){Yt(O,ii(void 0));return}else return se.add(O),Yt(O,tc(ie)),Ee(Se,we,!1,{fetcherSubmission:ie,preventScrollReset:K});if(nr(we)){Dt(O,I,we.error);return}}if(pi(we))throw Un(400,{type:"defer-action"});let Me=x.navigation.location||x.location,Bt=na(t.history,Me,fe.signal),Xe=a||o,qe=x.navigation.state!=="idle"?fo(Xe,x.navigation.location,l):x.matches;Le(qe,"Didn't find any matches after fetcher action");let Te=++B;X.set(O,Te);let Re=tc(ie,we.data);x.fetchers.set(O,Re);let[Xt,st]=jb(t.history,x,qe,ie,Me,!1,h.v7_skipActionErrorRevalidation,te,Q,J,xe,ve,se,Xe,l,[$.route.id,we]);st.filter(at=>at.key!==O).forEach(at=>{let Pt=at.key,Zn=x.fetchers.get(Pt),Zi=tc(void 0,Zn?Zn.data:void 0);x.fetchers.set(Pt,Zi),$t(Pt),at.controller&&F.set(Pt,at.controller)}),tt({fetchers:new Map(x.fetchers)});let Ce=()=>st.forEach(at=>$t(at.key));fe.signal.addEventListener("abort",Ce);let{loaderResults:it,fetcherResults:ke}=await wn(x,qe,Xt,st,Bt);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",Ce),X.delete(O),F.delete(O),st.forEach(at=>F.delete(at.key));let Oe=Od(it);if(Oe)return Ee(Bt,Oe.result,!1,{preventScrollReset:K});if(Oe=Od(ke),Oe)return se.add(Oe.key),Ee(Bt,Oe.result,!1,{preventScrollReset:K});let{loaderData:zn,errors:pr}=Lb(x,qe,it,void 0,st,ke,Ie);if(x.fetchers.has(O)){let at=ii(we.data);x.fetchers.set(O,at)}bn(Te),x.navigation.state==="loading"&&Te>G?(Le(w,"Expected pending action"),N&&N.abort(),vt(x.navigation.location,{matches:qe,loaderData:zn,errors:pr,fetchers:new Map(x.fetchers)})):(tt({errors:pr,loaderData:Ob(x.loaderData,zn,qe,pr),fetchers:new Map(x.fetchers)}),te=!1)}async function hr(O,I,M,$,H,ne,q,K,ie){let le=x.fetchers.get(O);Yt(O,tc(ie,le?le.data:void 0),{flushSync:q});let Z=new AbortController,fe=na(t.history,M,Z.signal);if(ne){let we=await Bn(H,new URL(fe.url).pathname,fe.signal,O);if(we.type==="aborted")return;if(we.type==="error"){Dt(O,I,we.error,{flushSync:q});return}else if(we.matches)H=we.matches,$=dc(H,M);else{Dt(O,I,Un(404,{pathname:M}),{flushSync:q});return}}F.set(O,Z);let Se=B,ce=(await De("loader",x,fe,[$],H,O))[$.route.id];if(pi(ce)&&(ce=await Rv(ce,fe.signal,!0)||ce),F.get(O)===Z&&F.delete(O),!fe.signal.aborted){if(xe.has(O)){Yt(O,ii(void 0));return}if(xo(ce))if(G>Se){Yt(O,ii(void 0));return}else{se.add(O),await Ee(fe,ce,!1,{preventScrollReset:K});return}if(nr(ce)){Dt(O,I,ce.error);return}Le(!pi(ce),"Unhandled fetcher deferred data"),Yt(O,ii(ce.data))}}async function Ee(O,I,M,$){let{submission:H,fetcherSubmission:ne,preventScrollReset:q,replace:K}=$===void 0?{}:$;I.response.headers.has("X-Remix-Revalidate")&&(te=!0);let ie=I.response.headers.get("Location");Le(ie,"Expected a Location header on the redirect Response"),ie=Mb(ie,new URL(O.url),l);let le=mu(x.location,ie,{_isRedirect:!0});if(n){let we=!1;if(I.response.headers.has("X-Remix-Reload-Document"))we=!0;else if(jv.test(ie)){const Me=t.history.createURL(ie);we=Me.origin!==e.location.origin||Al(Me.pathname,l)==null}if(we){K?e.location.replace(ie):e.location.assign(ie);return}}N=null;let Z=K===!0||I.response.headers.has("X-Remix-Replace")?Ht.Replace:Ht.Push,{formMethod:fe,formAction:Se,formEncType:Ge}=x.navigation;!H&&!ne&&fe&&Se&&Ge&&(H=zb(x.navigation));let ce=H||ne;if(LM.has(I.response.status)&&ce&&Fr(ce.formMethod))await mt(Z,le,{submission:pt({},ce,{formAction:ie}),preventScrollReset:q||A,enableViewTransition:M?D:void 0});else{let we=yp(le,H);await mt(Z,le,{overrideNavigation:we,fetcherSubmission:ne,preventScrollReset:q||A,enableViewTransition:M?D:void 0})}}async function De(O,I,M,$,H,ne){let q,K={};try{q=await WM(c,O,I,M,$,H,ne,i,s)}catch(ie){return $.forEach(le=>{K[le.route.id]={type:Qe.error,error:ie}}),K}for(let[ie,le]of Object.entries(q))if(QM(le)){let Z=le.result;K[ie]={type:Qe.redirect,response:GM(Z,M,ie,H,l,h.v7_relativeSplatPath)}}else K[ie]=await qM(le);return K}async function wn(O,I,M,$,H){let ne=O.matches,q=De("loader",O,H,M,I,null),K=Promise.all($.map(async Z=>{if(Z.matches&&Z.match&&Z.controller){let Se=(await De("loader",O,na(t.history,Z.path,Z.controller.signal),[Z.match],Z.matches,Z.key))[Z.match.route.id];return{[Z.key]:Se}}else return Promise.resolve({[Z.key]:{type:Qe.error,error:Un(404,{pathname:Z.path})}})})),ie=await q,le=(await K).reduce((Z,fe)=>Object.assign(Z,fe),{});return await Promise.all([e5(I,ie,H.signal,ne,O.loaderData),t5(I,le,$)]),{loaderResults:ie,fetcherResults:le}}function Rt(){te=!0,Q.push(..._t()),ve.forEach((O,I)=>{F.has(I)&&J.add(I),$t(I)})}function Yt(O,I,M){M===void 0&&(M={}),x.fetchers.set(O,I),tt({fetchers:new Map(x.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Dt(O,I,M,$){$===void 0&&($={});let H=ho(x.matches,I);mr(O),tt({errors:{[H.route.id]:M},fetchers:new Map(x.fetchers)},{flushSync:($&&$.flushSync)===!0})}function Xr(O){return me.set(O,(me.get(O)||0)+1),xe.has(O)&&xe.delete(O),x.fetchers.get(O)||OM}function mr(O){let I=x.fetchers.get(O);F.has(O)&&!(I&&I.state==="loading"&&X.has(O))&&$t(O),ve.delete(O),X.delete(O),se.delete(O),h.v7_fetcherPersist&&xe.delete(O),J.delete(O),x.fetchers.delete(O)}function Jn(O){let I=(me.get(O)||0)-1;I<=0?(me.delete(O),xe.add(O),h.v7_fetcherPersist||mr(O)):me.set(O,I),tt({fetchers:new Map(x.fetchers)})}function $t(O){let I=F.get(O);I&&(I.abort(),F.delete(O))}function Fn(O){for(let I of O){let M=Xr(I),$=ii(M.data);x.fetchers.set(I,$)}}function $n(){let O=[],I=!1;for(let M of se){let $=x.fetchers.get(M);Le($,"Expected fetcher: "+M),$.state==="loading"&&(se.delete(M),O.push(M),I=!0)}return Fn(O),I}function bn(O){let I=[];for(let[M,$]of X)if($<O){let H=x.fetchers.get(M);Le(H,"Expected fetcher: "+M),H.state==="loading"&&($t(M),X.delete(M),I.push(M))}return Fn(I),I.length>0}function gs(O,I){let M=x.blockers.get(O)||ec;return $e.get(O)!==I&&$e.set(O,I),M}function kr(O){x.blockers.delete(O),$e.delete(O)}function Nr(O,I){let M=x.blockers.get(O)||ec;Le(M.state==="unblocked"&&I.state==="blocked"||M.state==="blocked"&&I.state==="blocked"||M.state==="blocked"&&I.state==="proceeding"||M.state==="blocked"&&I.state==="unblocked"||M.state==="proceeding"&&I.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+I.state);let $=new Map(x.blockers);$.set(O,I),tt({blockers:$})}function jr(O){let{currentLocation:I,nextLocation:M,historyAction:$}=O;if($e.size===0)return;$e.size>1&&ll(!1,"A router only supports one blocker at a time");let H=Array.from($e.entries()),[ne,q]=H[H.length-1],K=x.blockers.get(ne);if(!(K&&K.state==="proceeding")&&q({currentLocation:I,nextLocation:M,historyAction:$}))return ne}function ys(O){let I=Un(404,{pathname:O}),M=a||o,{matches:$,route:H}=$b(M);return _t(),{notFoundMatches:$,route:H,error:I}}function _t(O){let I=[];return Ie.forEach((M,$)=>{(!O||O($))&&(M.cancel(),I.push($),Ie.delete($))}),I}function Qi(O,I,M){if(S=O,P=I,E=M||null,!v&&x.navigation===gp){v=!0;let $=Ji(x.location,x.matches);$!=null&&tt({restoreScrollPosition:$})}return()=>{S=null,P=null,E=null}}function Rr(O,I){return E&&E(O,I.map($=>pM($,x.loaderData)))||O.key}function Qr(O,I){if(S&&P){let M=Rr(O,I);S[M]=P()}}function Ji(O,I){if(S){let M=Rr(O,I),$=S[M];if(typeof $=="number")return $}return null}function vs(O,I,M){if(u)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:xf(I,M,l,!0)}}else return{active:!0,matches:xf(I,M,l,!0)||[]};return{active:!1,matches:null}}async function Bn(O,I,M,$){if(!u)return{type:"success",matches:O};let H=O;for(;;){let ne=a==null,q=a||o,K=i;try{await u({signal:M,path:I,matches:H,fetcherKey:$,patch:(Z,fe)=>{M.aborted||Db(Z,fe,q,K,s)}})}catch(Z){return{type:"error",error:Z,partialMatches:H}}finally{ne&&!M.aborted&&(o=[...o])}if(M.aborted)return{type:"aborted"};let ie=fo(q,I,l);if(ie)return{type:"success",matches:ie};let le=xf(q,I,l,!0);if(!le||H.length===le.length&&H.every((Z,fe)=>Z.route.id===le[fe].route.id))return{type:"success",matches:null};H=le}}function Qo(O){i={},a=oh(O,s,void 0,i)}function Jo(O,I){let M=a==null;Db(O,I,a||o,i,s),M&&(o=[...o],tt({}))}return L={get basename(){return l},get future(){return h},get state(){return x},get routes(){return o},get window(){return e},initialize:Gt,subscribe:Ir,enableScrollRestoration:Qi,navigate:Ye,fetch:On,revalidate:ps,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:Xr,deleteFetcher:Jn,dispose:ms,getBlocker:gs,deleteBlocker:kr,patchRoutes:Jo,_internalFetchControllers:F,_internalActiveDeferreds:Ie,_internalSetRoutes:Qo},L}function BM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function iy(t,e,n,r,s,i,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=Nv(s||".",kv(l,i),Al(t.pathname,n)||t.pathname,a==="path");if(s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c){let h=Dv(u.search);if(c.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let m=new URLSearchParams(u.search),p=m.getAll("index");m.delete("index"),p.filter(E=>E).forEach(E=>m.append("index",E));let S=m.toString();u.search=S?"?"+S:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Is([n,u.pathname])),Oo(u)}function kb(t,e,n,r){if(!r||!BM(r))return{path:n};if(r.formMethod&&!ZM(r.formMethod))return{path:n,error:Un(405,{method:r.formMethod})};let s=()=>({path:n,error:Un(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=t?i.toUpperCase():i.toLowerCase(),a=iC(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Fr(o))return s();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,S)=>{let[E,P]=S;return""+p+E+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Fr(o))return s();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return s()}}}Le(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=ay(r.formData),c=r.formData;else if(r.body instanceof FormData)l=ay(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Vb(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Vb(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Fr(u.formMethod))return{path:n,submission:u};let h=Gi(n);return e&&h.search&&Dv(h.search)&&l.append("index",""),h.search="?"+l,{path:Oo(h),submission:u}}function Nb(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(s=>s.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function jb(t,e,n,r,s,i,o,a,l,c,u,h,m,p,S,E){let P=E?nr(E[1])?E[1].error:E[1].data:void 0,v=t.createURL(e.location),y=t.createURL(s),T=n;i&&e.errors?T=Nb(n,Object.keys(e.errors)[0],!0):E&&nr(E[1])&&(T=Nb(n,E[0]));let R=E?E[1].statusCode:void 0,C=o&&R&&R>=400,L=T.filter((w,A)=>{let{route:N}=w;if(N.lazy)return!0;if(N.loader==null)return!1;if(i)return oy(N,e.loaderData,e.errors);if(zM(e.loaderData,e.matches[A],w)||l.some(k=>k===w.route.id))return!0;let D=e.matches[A],V=w;return Rb(w,pt({currentUrl:v,currentParams:D.params,nextUrl:y,nextParams:V.params},r,{actionResult:P,actionStatus:R,defaultShouldRevalidate:C?!1:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||rC(D,V)}))}),x=[];return h.forEach((w,A)=>{if(i||!n.some(U=>U.route.id===w.routeId)||u.has(A))return;let N=fo(p,w.path,S);if(!N){x.push({key:A,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(A),V=dc(N,w.path),k=!1;m.has(A)?k=!1:c.has(A)?(c.delete(A),k=!0):D&&D.state!=="idle"&&D.data===void 0?k=a:k=Rb(V,pt({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:P,actionStatus:R,defaultShouldRevalidate:C?!1:a})),k&&x.push({key:A,routeId:w.routeId,path:w.path,matches:N,match:V,controller:new AbortController})}),[L,x]}function oy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function zM(t,e,n){let r=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return r||s}function rC(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Db(t,e,n,r,s){var i;let o;if(t){let c=r[t];Le(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>sC(c,u))),l=oh(a,s,[t||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...l)}function sC(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(i=>sC(n,i))}):!1}async function UM(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let s=n[t.id];Le(s,"No route found in manifest");let i={};for(let o in r){let l=s[o]!==void 0&&o!=="hasErrorBoundary";ll(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!hM.has(o)&&(i[o]=r[o])}Object.assign(s,i),Object.assign(s,pt({},e(s),{lazy:void 0}))}async function HM(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,i,o)=>Object.assign(s,{[n[o].route.id]:i}),{})}async function WM(t,e,n,r,s,i,o,a,l,c){let u=i.map(p=>p.route.lazy?UM(p.route,l,a):void 0),h=i.map((p,S)=>{let E=u[S],P=s.some(y=>y.route.id===p.route.id);return pt({},p,{shouldLoad:P,resolve:async y=>(y&&r.method==="GET"&&(p.route.lazy||p.route.loader)&&(P=!0),P?KM(e,r,p,E,y,c):Promise.resolve({type:Qe.data,result:void 0}))})}),m=await t({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return m}async function KM(t,e,n,r,s,i){let o,a,l=c=>{let u,h=new Promise((S,E)=>u=E);a=()=>u(),e.signal.addEventListener("abort",a);let m=S=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:i},...S!==void 0?[S]:[]),p=(async()=>{try{return{type:"data",result:await(s?s(E=>m(E)):m())}}catch(S){return{type:"error",result:S}}})();return Promise.race([p,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(m=>{u=m}),r]);if(u!==void 0)throw u;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw Un(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Qe.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw Un(404,{pathname:h})}Le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Qe.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function qM(t){let{result:e,type:n}=t;if(oC(e)){let h;try{let m=e.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(m){return{type:Qe.error,error:m}}return n===Qe.error?{type:Qe.error,error:new ah(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Qe.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Qe.error){if(Bb(e)){var r,s;if(e.data instanceof Error){var i,o;return{type:Qe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:Qe.error,error:new ah(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:pu(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Qe.error,error:e,statusCode:pu(e)?e.status:void 0}}if(JM(e)){var a,l;return{type:Qe.deferred,deferredData:e,statusCode:(a=e.init)==null?void 0:a.status,headers:((l=e.init)==null?void 0:l.headers)&&new Headers(e.init.headers)}}if(Bb(e)){var c,u;return{type:Qe.data,data:e.data,statusCode:(c=e.init)==null?void 0:c.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Qe.data,data:e}}function GM(t,e,n,r,s,i){let o=t.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!jv.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=iy(new URL(e.url),a,s,!0,o,i),t.headers.set("Location",o)}return t}function Mb(t,e,n){if(jv.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),i=Al(s.pathname,n)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function na(t,e,n,r){let s=t.createURL(iC(e)).toString(),i={signal:n};if(r&&Fr(r.formMethod)){let{formMethod:o,formEncType:a}=r;i.method=o.toUpperCase(),a==="application/json"?(i.headers=new Headers({"Content-Type":a}),i.body=JSON.stringify(r.json)):a==="text/plain"?i.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?i.body=ay(r.formData):i.body=r.formData}return new Request(s,i)}function ay(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Vb(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function YM(t,e,n,r,s){let i={},o=null,a,l=!1,c={},u=n&&nr(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let m=h.route.id,p=e[m];if(Le(!xo(p),"Cannot handle redirect results in processLoaderData"),nr(p)){let S=p.error;u!==void 0&&(S=u,u=void 0),o=o||{};{let E=ho(t,m);o[E.route.id]==null&&(o[E.route.id]=S)}i[m]=void 0,l||(l=!0,a=pu(p.error)?p.error.status:500),p.headers&&(c[m]=p.headers)}else pi(p)?(r.set(m,p.deferredData),i[m]=p.deferredData.data,p.statusCode!=null&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[m]=p.headers)):(i[m]=p.data,p.statusCode&&p.statusCode!==200&&!l&&(a=p.statusCode),p.headers&&(c[m]=p.headers))}),u!==void 0&&n&&(o={[n[0]]:u},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:a||200,loaderHeaders:c}}function Lb(t,e,n,r,s,i,o){let{loaderData:a,errors:l}=YM(e,n,r,o);return s.forEach(c=>{let{key:u,match:h,controller:m}=c,p=i[u];if(Le(p,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(nr(p)){let S=ho(t.matches,h==null?void 0:h.route.id);l&&l[S.route.id]||(l=pt({},l,{[S.route.id]:p.error})),t.fetchers.delete(u)}else if(xo(p))Le(!1,"Unhandled fetcher revalidation redirect");else if(pi(p))Le(!1,"Unhandled fetcher deferred data");else{let S=ii(p.data);t.fetchers.set(u,S)}}),{loaderData:a,errors:l}}function Ob(t,e,n,r){let s=pt({},e);for(let i of n){let o=i.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&i.route.loader&&(s[o]=t[o]),r&&r.hasOwnProperty(o))break}return s}function Fb(t){return t?nr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ho(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $b(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Un(t,e){let{pathname:n,routeId:r,method:s,type:i,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&n&&r?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?l="defer() is not supported in actions":i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&r?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new ah(t||500,a,new Error(l),!0)}function Od(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(xo(s))return{key:r,result:s}}}function iC(t){let e=typeof t=="string"?Gi(t):t;return Oo(pt({},e,{hash:""}))}function XM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function QM(t){return oC(t.result)&&VM.has(t.result.status)}function pi(t){return t.type===Qe.deferred}function nr(t){return t.type===Qe.error}function xo(t){return(t&&t.type)===Qe.redirect}function Bb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function JM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function oC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ZM(t){return MM.has(t.toLowerCase())}function Fr(t){return RM.has(t.toLowerCase())}async function e5(t,e,n,r,s){let i=Object.entries(e);for(let o=0;o<i.length;o++){let[a,l]=i[o],c=t.find(m=>(m==null?void 0:m.route.id)===a);if(!c)continue;let u=r.find(m=>m.route.id===c.route.id),h=u!=null&&!rC(u,c)&&(s&&s[c.route.id])!==void 0;pi(l)&&h&&await Rv(l,n,!1).then(m=>{m&&(e[a]=m)})}}async function t5(t,e,n){for(let r=0;r<n.length;r++){let{key:s,routeId:i,controller:o}=n[r],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===i)&&pi(a)&&(Le(o,"Expected an AbortController for revalidating fetcher deferred result"),await Rv(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function Rv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Qe.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Qe.error,error:s}}return{type:Qe.data,data:t.deferredData.data}}}function Dv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function dc(t,e){let n=typeof e=="string"?Gi(e).search:e.search;if(t[t.length-1].route.index&&Dv(n||""))return t[t.length-1];let r=eC(t);return r[r.length-1]}function zb(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:i,json:o}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function yp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function n5(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function r5(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ii(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function s5(t,e){try{let n=t.sessionStorage.getItem(nC);if(n){let r=JSON.parse(n);for(let[s,i]of Object.entries(r||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function i5(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(nC,JSON.stringify(n))}catch(r){ll(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}const rm=_.createContext(null),aC=_.createContext(null),Ko=_.createContext(null),Mv=_.createContext(null),Qs=_.createContext({outlet:null,matches:[],isDataRoute:!1}),lC=_.createContext(null);function o5(t,e){let{relative:n}=e===void 0?{}:e;Gu()||Le(!1);let{basename:r,navigator:s}=_.useContext(Ko),{hash:i,pathname:o,search:a}=dC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Is([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Gu(){return _.useContext(Mv)!=null}function qo(){return Gu()||Le(!1),_.useContext(Mv).location}function cC(t){_.useContext(Ko).static||_.useLayoutEffect(t)}function Go(){let{isDataRoute:t}=_.useContext(Qs);return t?w5():a5()}function a5(){Gu()||Le(!1);let t=_.useContext(rm),{basename:e,future:n,navigator:r}=_.useContext(Ko),{matches:s}=_.useContext(Qs),{pathname:i}=qo(),o=JSON.stringify(kv(s,n.v7_relativeSplatPath)),a=_.useRef(!1);return cC(()=>{a.current=!0}),_.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Nv(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Is([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}const l5=_.createContext(null);function c5(t){let e=_.useContext(Qs).outlet;return e&&_.createElement(l5.Provider,{value:t},e)}function uC(){let{matches:t}=_.useContext(Qs),e=t[t.length-1];return e?e.params:{}}function dC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Ko),{matches:s}=_.useContext(Qs),{pathname:i}=qo(),o=JSON.stringify(kv(s,r.v7_relativeSplatPath));return _.useMemo(()=>Nv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function u5(t,e,n,r){Gu()||Le(!1);let{navigator:s}=_.useContext(Ko),{matches:i}=_.useContext(Qs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=qo(),u;u=c;let h=u.pathname||"/",m=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let p=fo(t,{pathname:m});return p5(p&&p.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Is([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Is([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r)}function d5(){let t=x5(),e=pu(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,null)}const f5=_.createElement(d5,null);class h5 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(Qs.Provider,{value:this.props.routeContext},_.createElement(lC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m5(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(rm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Qs.Provider,{value:e},r)}function p5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Le(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:m,errors:p}=n,S=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||S){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let p,S=!1,E=null,P=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,E=h.route.errorElement||f5,l&&(c<0&&m===0?(b5("route-fallback"),S=!0,P=null):c===m&&(S=!0,P=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,m+1)),y=()=>{let T;return p?T=E:S?T=P:h.route.Component?T=_.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=u,_.createElement(m5,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?_.createElement(h5,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var fC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fC||{}),hC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hC||{});function g5(t){let e=_.useContext(rm);return e||Le(!1),e}function y5(t){let e=_.useContext(aC);return e||Le(!1),e}function v5(t){let e=_.useContext(Qs);return e||Le(!1),e}function mC(t){let e=v5(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function x5(){var t;let e=_.useContext(lC),n=y5(hC.UseRouteError),r=mC();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function w5(){let{router:t}=g5(fC.UseNavigateStable),e=mC(),n=_.useRef(!1);return cC(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,lh({fromRouteId:e},i)))},[t,e])}const Ub={};function b5(t,e,n){Ub[t]||(Ub[t]=!0)}function S5(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function E5(t){return c5(t.context)}function T5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ht.Pop,navigator:i,static:o=!1,future:a}=t;Gu()&&Le(!1);let l=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:l,navigator:i,static:o,future:lh({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Gi(r));let{pathname:u="/",search:h="",hash:m="",state:p=null,key:S="default"}=r,E=_.useMemo(()=>{let P=Al(u,l);return P==null?null:{location:{pathname:P,search:h,hash:m,state:p,key:S},navigationType:s}},[l,u,h,m,p,S,s]);return E==null?null:_.createElement(Ko.Provider,{value:c},_.createElement(Mv.Provider,{children:n,value:E}))}new Promise(()=>{});function _5(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:_.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:_.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:_.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}function P5(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function A5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C5(t,e){return t.button===0&&(!e||e==="_self")&&!A5(t)}const I5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],k5="6";try{window.__reactRouterVersion=k5}catch{}function N5(t,e){return $M({basename:void 0,future:gu({},void 0,{v7_prependBasename:!0}),history:uM({window:void 0}),hydrationData:j5(),routes:t,mapRouteProperties:_5,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function j5(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gu({},e,{errors:R5(e.errors)})),e}function R5(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new ah(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let o=new i(s.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let i=new Error(s.message);i.stack="",n[r]=i}}else n[r]=s;return n}const D5=_.createContext({isTransitioning:!1}),M5=_.createContext(new Map),V5="startTransition",Hb=QR[V5],L5="flushSync",Wb=cM[L5];function O5(t){Hb?Hb(t):t()}function nc(t){Wb?Wb(t):t()}let F5=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function $5(t){let{fallbackElement:e,router:n,future:r}=t,[s,i]=_.useState(n.state),[o,a]=_.useState(),[l,c]=_.useState({isTransitioning:!1}),[u,h]=_.useState(),[m,p]=_.useState(),[S,E]=_.useState(),P=_.useRef(new Map),{v7_startTransition:v}=r||{},y=_.useCallback(w=>{v?O5(w):w()},[v]),T=_.useCallback((w,A)=>{let{deletedFetchers:N,flushSync:D,viewTransitionOpts:V}=A;w.fetchers.forEach((U,te)=>{U.data!==void 0&&P.current.set(te,U.data)}),N.forEach(U=>P.current.delete(U));let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!V||k){D?nc(()=>i(w)):y(()=>i(w));return}if(D){nc(()=>{m&&(u&&u.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let U=n.window.document.startViewTransition(()=>{nc(()=>i(w))});U.finished.finally(()=>{nc(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})})}),nc(()=>p(U));return}m?(u&&u.resolve(),m.skipTransition(),E({state:w,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(w),c({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[n.window,m,u,P,y]);_.useLayoutEffect(()=>n.subscribe(T),[n,T]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new F5)},[l]),_.useEffect(()=>{if(u&&o&&n.window){let w=o,A=u.promise,N=n.window.document.startViewTransition(async()=>{y(()=>i(w)),await A});N.finished.finally(()=>{h(void 0),p(void 0),a(void 0),c({isTransitioning:!1})}),p(N)}},[y,o,u,n.window]),_.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,m,s.location,o]),_.useEffect(()=>{!l.isTransitioning&&S&&(a(S.state),c({isTransitioning:!0,flushSync:!1,currentLocation:S.currentLocation,nextLocation:S.nextLocation}),E(void 0))},[l.isTransitioning,S]),_.useEffect(()=>{},[]);let R=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,A,N)=>n.navigate(w,{state:A,preventScrollReset:N==null?void 0:N.preventScrollReset}),replace:(w,A,N)=>n.navigate(w,{replace:!0,state:A,preventScrollReset:N==null?void 0:N.preventScrollReset})}),[n]),C=n.basename||"/",L=_.useMemo(()=>({router:n,navigator:R,static:!1,basename:C}),[n,R,C]),x=_.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return _.useEffect(()=>S5(r,n.future),[r,n.future]),_.createElement(_.Fragment,null,_.createElement(rm.Provider,{value:L},_.createElement(aC.Provider,{value:s},_.createElement(M5.Provider,{value:P.current},_.createElement(D5.Provider,{value:l},_.createElement(T5,{basename:C,location:s.location,navigationType:s.historyAction,navigator:R,future:x},s.initialized||n.future.v7_partialHydration?_.createElement(B5,{routes:n.routes,future:n.future,state:s}):e))))),null)}const B5=_.memo(z5);function z5(t){let{routes:e,future:n,state:r}=t;return u5(e,void 0,r,n)}const U5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vv=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,m=P5(e,I5),{basename:p}=_.useContext(Ko),S,E=!1;if(typeof c=="string"&&H5.test(c)&&(S=c,U5))try{let T=new URL(window.location.href),R=c.startsWith("//")?new URL(T.protocol+c):new URL(c),C=Al(R.pathname,p);R.origin===T.origin&&C!=null?c=C+R.search+R.hash:E=!0}catch{}let P=o5(c,{relative:s}),v=W5(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:h});function y(T){r&&r(T),T.defaultPrevented||v(T)}return _.createElement("a",gu({},m,{href:S||P,onClick:E||i?r:y,ref:n,target:l}))});var Kb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kb||(Kb={}));var qb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qb||(qb={}));function W5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Go(),c=qo(),u=dC(t,{relative:o});return _.useCallback(h=>{if(C5(h,n)){h.preventDefault();let m=r!==void 0?r:Oo(c)===Oo(u);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}const Lv=_.createContext({});function Ov(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const sm=_.createContext(null),Fv=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class K5 extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function q5({children:t,isPresent:e}){const n=_.useId(),r=_.useRef(null),s=_.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=_.useContext(Fv);return _.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=s.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return i&&(u.nonce=i),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),f.jsx(K5,{isPresent:e,childRef:r,sizeRef:s,children:_.cloneElement(t,{ref:r})})}const G5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Ov(Y5),l=_.useId(),c=_.useCallback(h=>{a.set(h,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),u=_.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:c,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),c]:[n,c]);return _.useMemo(()=>{a.forEach((h,m)=>a.set(m,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=f.jsx(q5,{isPresent:n,children:t})),f.jsx(sm.Provider,{value:u,children:t})};function Y5(){return new Map}function pC(t=!0){const e=_.useContext(sm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=_.useId();_.useEffect(()=>{t&&s(i)},[t]);const o=_.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Fd=t=>t.key||"";function Gb(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const $v=typeof window<"u",gC=$v?_.useLayoutEffect:_.useEffect,gi=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=pC(o),c=_.useMemo(()=>Gb(t),[t]),u=o&&!a?[]:c.map(Fd),h=_.useRef(!0),m=_.useRef(c),p=Ov(()=>new Map),[S,E]=_.useState(c),[P,v]=_.useState(c);gC(()=>{h.current=!1,m.current=c;for(let R=0;R<P.length;R++){const C=Fd(P[R]);u.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[P,u.length,u.join("-")]);const y=[];if(c!==S){let R=[...c];for(let C=0;C<P.length;C++){const L=P[C],x=Fd(L);u.includes(x)||(R.splice(C,0,L),y.push(L))}i==="wait"&&y.length&&(R=y),v(Gb(R)),E(c);return}const{forceRender:T}=_.useContext(Lv);return f.jsx(f.Fragment,{children:P.map(R=>{const C=Fd(R),L=o&&!a?!1:c===P||u.includes(C),x=()=>{if(p.has(C))p.set(C,!0);else return;let w=!0;p.forEach(A=>{A||(w=!1)}),w&&(T==null||T(),v(m.current),o&&(l==null||l()),r&&r())};return f.jsx(G5,{isPresent:L,initial:!h.current||n?void 0:!1,custom:L?void 0:e,presenceAffectsLayout:s,mode:i,onExitComplete:L?void 0:x,children:R},C)})})},or=t=>t;let yC=or;function Bv(t){let e;return()=>(e===void 0&&(e=t()),e)}const cl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ks=t=>t*1e3,Ns=t=>t/1e3,X5={useManualTiming:!1};function Q5(t){let e=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){i.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,u=!1,h=!1)=>{const p=h&&r?e:n;return u&&i.add(c),p.has(c)||p.add(c),c},cancel:c=>{n.delete(c),i.delete(c)},process:c=>{if(o=c,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,s&&(s=!1,l.process(c))}};return l}const $d=["read","resolveKeyframes","update","preRender","render","postRender"],J5=40;function vC(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=$d.reduce((v,y)=>(v[y]=Q5(i),v),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:m}=o,p=()=>{const v=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,J5),1),s.timestamp=v,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},S=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:$d.reduce((v,y)=>{const T=o[y];return v[y]=(R,C=!1,L=!1)=>(n||S(),T.schedule(R,C,L)),v},{}),cancel:v=>{for(let y=0;y<$d.length;y++)o[$d[y]].cancel(v)},state:s,steps:o}}const{schedule:ht,cancel:Ri,state:fn,steps:vp}=vC(typeof requestAnimationFrame<"u"?requestAnimationFrame:or,!0),xC=_.createContext({strict:!1}),Yb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ul={};for(const t in Yb)ul[t]={isEnabled:e=>Yb[t].some(n=>!!e[n])};function Z5(t){for(const e in t)ul[e]={...ul[e],...t[e]}}const eV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ch(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eV.has(t)}let wC=t=>!ch(t);function tV(t){t&&(wC=e=>e.startsWith("on")?!ch(e):t(e))}try{tV(require("@emotion/is-prop-valid").default)}catch{}function nV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(wC(s)||n===!0&&ch(s)||!e&&!ch(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function rV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const im=_.createContext({});function yu(t){return typeof t=="string"||Array.isArray(t)}function om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const zv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Uv=["initial",...zv];function am(t){return om(t.animate)||Uv.some(e=>yu(t[e]))}function bC(t){return!!(am(t)||t.variants)}function sV(t,e){if(am(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yu(n)?n:void 0,animate:yu(r)?r:void 0}}return t.inherit!==!1?e:{}}function iV(t){const{initial:e,animate:n}=sV(t,_.useContext(im));return _.useMemo(()=>({initial:e,animate:n}),[Xb(e),Xb(n)])}function Xb(t){return Array.isArray(t)?t.join(" "):t}const oV=Symbol.for("motionComponentSymbol");function Ta(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aV(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ta(n)&&(n.current=r))},[e])}const Hv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lV="framerAppearId",SC="data-"+Hv(lV),{schedule:Wv}=vC(queueMicrotask,!1),EC=_.createContext({});function cV(t,e,n,r,s){var i,o;const{visualElement:a}=_.useContext(im),l=_.useContext(xC),c=_.useContext(sm),u=_.useContext(Fv).reducedMotion,h=_.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const m=h.current,p=_.useContext(EC);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&uV(h.current,n,s,p);const S=_.useRef(!1);_.useInsertionEffect(()=>{m&&S.current&&m.update(n,c)});const E=n[SC],P=_.useRef(!!E&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,E))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,E)));return gC(()=>{m&&(S.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Wv.render(m.render),P.current&&m.animationState&&m.animationState.animateChanges())}),_.useEffect(()=>{m&&(!P.current&&m.animationState&&m.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,E)}),P.current=!1))}),m}function uV(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:TC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Ta(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function TC(t){if(t)return t.options.allowProjection!==!1?t.projection:TC(t.parent)}function dV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var i,o;t&&Z5(t);function a(c,u){let h;const m={..._.useContext(Fv),...c,layoutId:fV(c)},{isStatic:p}=m,S=iV(c),E=r(c,p);if(!p&&$v){hV();const P=mV(m);h=P.MeasureLayout,S.visualElement=cV(s,E,m,e,P.ProjectionNode)}return f.jsxs(im.Provider,{value:S,children:[h&&S.visualElement?f.jsx(h,{visualElement:S.visualElement,...m}):null,n(s,c,aV(E,S.visualElement,u),E,p,S.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=_.forwardRef(a);return l[oV]=s,l}function fV({layoutId:t}){const e=_.useContext(Lv).id;return e&&t!==void 0?e+"-"+t:t}function hV(t,e){_.useContext(xC).strict}function mV(t){const{drag:e,layout:n}=ul;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kv(t){return typeof t!="string"||t.includes("-")?!1:!!(pV.indexOf(t)>-1||/[A-Z]/u.test(t))}function Qb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function qv(t,e,n,r){if(typeof e=="function"){const[s,i]=Qb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Qb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}const ly=t=>Array.isArray(t),gV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yV=t=>ly(t)?t[t.length-1]||0:t,kn=t=>!!(t&&t.getVelocity);function wf(t){const e=kn(t)?t.get():t;return gV(e)?e.toValue():e}function vV({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,i){const o={latestValues:xV(r,s,i,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const _C=t=>(e,n)=>{const r=_.useContext(im),s=_.useContext(sm),i=()=>vV(t,e,r,s);return n?i():Ov(i)};function xV(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=wf(i[m]);let{initial:o,animate:a}=t;const l=am(t),c=bC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!om(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const S=qv(t,m[p]);if(S){const{transitionEnd:E,transition:P,...v}=S;for(const y in v){let T=v[y];if(Array.isArray(T)){const R=u?T.length-1:0;T=T[R]}T!==null&&(s[y]=T)}for(const y in E)s[y]=E[y]}}}return s}const Cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yo=new Set(Cl),PC=t=>e=>typeof e=="string"&&e.startsWith(t),AC=PC("--"),wV=PC("var(--"),Gv=t=>wV(t)?bV.test(t.split("/*")[0].trim()):!1,bV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,CC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fs=(t,e,n)=>n>e?e:n<t?t:n,Il={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...Il,transform:t=>Fs(0,1,t)},Bd={...Il,default:1},Yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oi=Yu("deg"),ls=Yu("%"),be=Yu("px"),SV=Yu("vh"),EV=Yu("vw"),Jb={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},TV={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be},_V={rotate:oi,rotateX:oi,rotateY:oi,rotateZ:oi,scale:Bd,scaleX:Bd,scaleY:Bd,scaleZ:Bd,skew:oi,skewX:oi,skewY:oi,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:vu,originX:Jb,originY:Jb,originZ:be},Zb={...Il,transform:Math.round},Yv={...TV,..._V,zIndex:Zb,size:be,fillOpacity:vu,strokeOpacity:vu,numOctaves:Zb},PV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AV=Cl.length;function CV(t,e,n){let r="",s=!0;for(let i=0;i<AV;i++){const o=Cl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=CC(a,Yv[o]);if(!l){s=!1;const u=PV[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Xv(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Yo.has(l)){o=!0;continue}else if(AC(l)){s[l]=c;continue}else{const u=CC(c,Yv[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=CV(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const IV={offset:"stroke-dashoffset",array:"stroke-dasharray"},kV={offset:"strokeDashoffset",array:"strokeDasharray"};function NV(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?IV:kV;t[i.offset]=be.transform(-r);const o=be.transform(e),a=be.transform(n);t[i.array]=`${o} ${a}`}function eS(t,e,n){return typeof t=="string"?t:be.transform(e+n*t)}function jV(t,e,n){const r=eS(e,t.x,t.width),s=eS(n,t.y,t.height);return`${r} ${s}`}function Qv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h){if(Xv(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:S}=t;m.transform&&(S&&(p.transform=m.transform),delete m.transform),S&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=jV(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&NV(m,o,a,l,!1)}const Jv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),IC=()=>({...Jv(),attrs:{}}),Zv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kC(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const NC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jC(t,e,n,r){kC(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(NC.has(s)?s:Hv(s),e.attrs[s])}const uh={};function RV(t){Object.assign(uh,t)}function RC(t,{layout:e,layoutId:n}){return Yo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uh[t]||t==="opacity")}function ex(t,e,n){var r;const{style:s}=t,i={};for(const o in s)(kn(s[o])||e.style&&kn(e.style[o])||RC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function DC(t,e,n){const r=ex(t,e,n);for(const s in t)if(kn(t[s])||kn(e[s])){const i=Cl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}function DV(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const tS=["x","y","width","height","cx","cy","r"],MV={useVisualState:_C({scrapeMotionValuesFromProps:DC,createRenderState:IC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!t.drag;if(!i){for(const a in s)if(Yo.has(a)){i=!0;break}}if(!i)return;let o=!e;if(e)for(let a=0;a<tS.length;a++){const l=tS[a];t[l]!==e[l]&&(o=!0)}o&&ht.read(()=>{DV(n,r),ht.render(()=>{Qv(r,s,Zv(n.tagName),t.transformTemplate),jC(n,r)})})}})},VV={useVisualState:_C({scrapeMotionValuesFromProps:ex,createRenderState:Jv})};function MC(t,e,n){for(const r in e)!kn(e[r])&&!RC(r,n)&&(t[r]=e[r])}function LV({transformTemplate:t},e){return _.useMemo(()=>{const n=Jv();return Xv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function OV(t,e){const n=t.style||{},r={};return MC(r,n,t),Object.assign(r,LV(t,e)),r}function FV(t,e){const n={},r=OV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function $V(t,e,n,r){const s=_.useMemo(()=>{const i=IC();return Qv(i,e,Zv(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};MC(i,t.style,t),s.style={...i,...s.style}}return s}function BV(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Kv(n)?$V:FV)(r,i,o,n),c=nV(r,typeof n=="string",t),u=n!==_.Fragment?{...c,...l,ref:s}:{},{children:h}=r,m=_.useMemo(()=>kn(h)?h.get():h,[h]);return _.createElement(n,{...u,children:m})}}function zV(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Kv(r)?MV:VV,preloadedFeatures:t,useRender:BV(s),createVisualElement:e,Component:r};return dV(o)}}function VC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function lm(t,e,n){const r=t.getProps();return qv(r,e,n!==void 0?n:r.custom,t)}const UV=Bv(()=>window.ScrollTimeline!==void 0);class HV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(UV()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class WV extends HV{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function tx(t,e){return t?t[e]||t.default||t:void 0}const cy=2e4;function LC(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cy;)e+=n,r=t.next(e);return e>=cy?1/0:e}function nx(t){return typeof t=="function"}function nS(t,e){t.timeline=e,t.onfinish=null}const rx=t=>Array.isArray(t)&&typeof t[0]=="number",KV={linearEasing:void 0};function qV(t,e){const n=Bv(t);return()=>{var r;return(r=KV[e])!==null&&r!==void 0?r:n()}}const dh=qV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),OC=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(cl(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function FC(t){return!!(typeof t=="function"&&dh()||!t||typeof t=="string"&&(t in uy||dh())||rx(t)||Array.isArray(t)&&t.every(FC))}const fc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fc([0,.65,.55,1]),circOut:fc([.55,0,1,.45]),backIn:fc([.31,.01,.66,-.59]),backOut:fc([.33,1.53,.69,.99])};function $C(t,e){if(t)return typeof t=="function"&&dh()?OC(t,e):rx(t)?fc(t):Array.isArray(t)?t.map(n=>$C(n,e)||uy.easeOut):uy[t]}const Mr={x:!1,y:!1};function BC(){return Mr.x||Mr.y}function GV(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function zC(t,e){const n=GV(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function rS(t){return e=>{e.pointerType==="touch"||BC()||t(e)}}function YV(t,e,n={}){const[r,s,i]=zC(t,n),o=rS(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const u=rS(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const UC=(t,e)=>e?t===e?!0:UC(t,e.parentElement):!1,sx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,XV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function QV(t){return XV.has(t.tagName)||t.tabIndex!==-1}const hc=new WeakSet;function sS(t){return e=>{e.key==="Enter"&&t(e)}}function xp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=sS(()=>{if(hc.has(n))return;xp(n,"down");const s=sS(()=>{xp(n,"up")}),i=()=>xp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function iS(t){return sx(t)&&!BC()}function ZV(t,e,n={}){const[r,s,i]=zC(t,n),o=a=>{const l=a.currentTarget;if(!iS(a)||hc.has(l))return;hc.add(l);const c=e(a),u=(p,S)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!iS(p)||!hc.has(l))&&(hc.delete(l),typeof c=="function"&&c(p,{success:S}))},h=p=>{u(p,n.useGlobalTarget||UC(l,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{!QV(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",c=>JV(c,s),s)}),i}function eL(t){return t==="x"||t==="y"?Mr[t]?null:(Mr[t]=!0,()=>{Mr[t]=!1}):Mr.x||Mr.y?null:(Mr.x=Mr.y=!0,()=>{Mr.x=Mr.y=!1})}const HC=new Set(["width","height","top","left","right","bottom",...Cl]);let bf;function tL(){bf=void 0}const cs={now:()=>(bf===void 0&&cs.set(fn.isProcessing||X5.useManualTiming?fn.timestamp:performance.now()),bf),set:t=>{bf=t,queueMicrotask(tL)}};function ix(t,e){t.indexOf(e)===-1&&t.push(e)}function ox(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let ax=class{constructor(){this.subscriptions=[]}add(e){return ix(this.subscriptions,e),()=>ox(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function WC(t,e){return e?t*(1e3/e):0}const oS=30,nL=t=>!isNaN(parseFloat(t));let rL=class{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=cs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=cs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=nL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ax);const r=this.events[e].add(n);return e==="change"?()=>{r(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oS);return WC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function xu(t,e){return new rL(t,e)}function sL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xu(n))}function iL(t,e){const n=lm(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=yV(i[o]);sL(t,o,a)}}function oL(t){return!!(kn(t)&&t.add)}function dy(t,e){const n=t.getValue("willChange");if(oL(n))return n.add(e)}function KC(t){return t.props[SC]}const qC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aL=1e-7,lL=12;function cL(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=qC(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>aL&&++a<lL);return o}function Xu(t,e,n,r){if(t===e&&n===r)return or;const s=i=>cL(i,0,1,t,n);return i=>i===0||i===1?i:qC(s(i),e,r)}const GC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YC=t=>e=>1-t(1-e),XC=Xu(.33,1.53,.69,.99),lx=YC(XC),QC=GC(lx),JC=t=>(t*=2)<1?.5*lx(t):.5*(2-Math.pow(2,-10*(t-1))),cx=t=>1-Math.sin(Math.acos(t)),ZC=YC(cx),eI=GC(cx),tI=t=>/^0[^.\s]+$/u.test(t);function uL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tI(t):!0}const Ic=t=>Math.round(t*1e5)/1e5,ux=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dL(t){return t==null}const fL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dx=(t,e)=>n=>!!(typeof n=="string"&&fL.test(n)&&n.startsWith(t)||e&&!dL(n)&&Object.prototype.hasOwnProperty.call(n,e)),nI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(ux);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hL=t=>Fs(0,255,t),wp={...Il,transform:t=>Math.round(hL(t))},wo={test:dx("rgb","red"),parse:nI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+wp.transform(t)+", "+wp.transform(e)+", "+wp.transform(n)+", "+Ic(vu.transform(r))+")"};function mL(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const fy={test:dx("#"),parse:mL,transform:wo.transform},_a={test:dx("hsl","hue"),parse:nI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ls.transform(Ic(e))+", "+ls.transform(Ic(n))+", "+Ic(vu.transform(r))+")"},_n={test:t=>wo.test(t)||fy.test(t)||_a.test(t),parse:t=>wo.test(t)?wo.parse(t):_a.test(t)?_a.parse(t):fy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wo.transform(t):_a.transform(t)},pL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function gL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ux))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pL))===null||n===void 0?void 0:n.length)||0)>0}const rI="number",sI="color",yL="var",vL="var(",aS="${}",xL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(xL,l=>(_n.test(l)?(r.color.push(i),s.push(sI),n.push(_n.parse(l))):l.startsWith(vL)?(r.var.push(i),s.push(yL),n.push(l)):(r.number.push(i),s.push(rI),n.push(parseFloat(l))),++i,aS)).split(aS);return{values:n,split:a,indexes:r,types:s}}function iI(t){return wu(t).values}function oI(t){const{split:e,types:n}=wu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===rI?i+=Ic(s[o]):a===sI?i+=_n.transform(s[o]):i+=s[o]}return i}}const wL=t=>typeof t=="number"?0:t;function bL(t){const e=iI(t);return oI(t)(e.map(wL))}const Di={test:gL,parse:iI,createTransformer:oI,getAnimatableNone:bL},SL=new Set(["brightness","contrast","saturate","opacity"]);function EL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ux)||[];if(!r)return t;const s=n.replace(r,"");let i=SL.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const TL=/\b([a-z-]*)\(.*?\)/gu,hy={...Di,getAnimatableNone:t=>{const e=t.match(TL);return e?e.map(EL).join(" "):t}},_L={...Yv,color:_n,backgroundColor:_n,outlineColor:_n,fill:_n,stroke:_n,borderColor:_n,borderTopColor:_n,borderRightColor:_n,borderBottomColor:_n,borderLeftColor:_n,filter:hy,WebkitFilter:hy},fx=t=>_L[t];function aI(t,e){let n=fx(t);return n!==hy&&(n=Di),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const PL=new Set(["auto","none","0"]);function AL(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!PL.has(i)&&wu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=aI(n,s)}const lS=t=>t===Il||t===be,cS=(t,e)=>parseFloat(t.split(", ")[e]),uS=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return cS(s[1],e);{const i=r.match(/^matrix\((.+)\)$/u);return i?cS(i[1],t):0}},CL=new Set(["x","y","z"]),IL=Cl.filter(t=>!CL.has(t));function kL(t){const e=[];return IL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const dl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:uS(4,13),y:uS(5,14)};dl.translateX=dl.x;dl.translateY=dl.y;const Ao=new Set;let my=!1,py=!1;function lI(){if(py){const t=Array.from(Ao).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=kL(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}py=!1,my=!1,Ao.forEach(t=>t.complete()),Ao.clear()}function cI(){Ao.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(py=!0)})}function NL(){cI(),lI()}let hx=class{constructor(e,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ao.add(this),my||(my=!0,ht.read(cI),ht.resolveKeyframes(lI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ao.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ao.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const uI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),jL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RL(t){const e=jL.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function dI(t,e,n=1){const[r,s]=RL(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return uI(o)?parseFloat(o):o}return Gv(s)?dI(s,e,n+1):s}const fI=t=>e=>e.test(t),DL={test:t=>t==="auto",parse:t=>t},hI=[Il,be,ls,oi,EV,SV,DL],dS=t=>hI.find(fI(t));let mI=class extends hx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Gv(c))){const u=dI(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!HC.has(r)||e.length!==2)return;const[s,i]=e,o=dS(s),a=dS(i);if(o!==a)if(lS(o)&&lS(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)uL(e[s])&&r.push(s);r.length&&AL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=dl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}};const fS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Di.test(t)||t==="0")&&!t.startsWith("url("));function ML(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function VL(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=fS(s,e),a=fS(i,e);return!o||!a?!1:ML(t)||(n==="spring"||nx(n))&&r}const LL=t=>t!==null;function cm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(LL),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const OL=40;class pI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=cs.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&NL(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=cs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!VL(e,r,s,i))if(o)this.options.duration=0;else{l&&l(cm(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const bt=(t,e,n)=>t+(e-t)*n;function bp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=bp(l,a,t+1/3),i=bp(l,a,t),o=bp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function fh(t,e){return n=>n>0?e:t}const Sp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},$L=[fy,wo,_a],BL=t=>$L.find(e=>e.test(t));function hS(t){const e=BL(t);if(!e)return!1;let n=e.parse(t);return e===_a&&(n=FL(n)),n}const mS=(t,e)=>{const n=hS(t),r=hS(e);if(!n||!r)return fh(t,e);const s={...n};return i=>(s.red=Sp(n.red,r.red,i),s.green=Sp(n.green,r.green,i),s.blue=Sp(n.blue,r.blue,i),s.alpha=bt(n.alpha,r.alpha,i),wo.transform(s))},zL=(t,e)=>n=>e(t(n)),Qu=(...t)=>t.reduce(zL),gy=new Set(["none","hidden"]);function UL(t,e){return gy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function HL(t,e){return n=>bt(t,e,n)}function mx(t){return typeof t=="number"?HL:typeof t=="string"?Gv(t)?fh:_n.test(t)?mS:qL:Array.isArray(t)?gI:typeof t=="object"?_n.test(t)?mS:WL:fh}function gI(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>mx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function WL(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=mx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function KL(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],a=t.indexes[o][s[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const qL=(t,e)=>{const n=Di.createTransformer(e),r=wu(t),s=wu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?gy.has(t)&&!s.values.length||gy.has(e)&&!r.values.length?UL(t,e):Qu(gI(KL(r,s),s.values),n):fh(t,e)};function yI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bt(t,e,n):mx(t)(t,e)}const GL=5;function vI(t,e,n){const r=Math.max(e-GL,0);return WC(n-t(r),e-r)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ep=.001;function YL({duration:t=kt.duration,bounce:e=kt.bounce,velocity:n=kt.velocity,mass:r=kt.mass}){let s,i,o=1-e;o=Fs(kt.minDamping,kt.maxDamping,o),t=Fs(kt.minDuration,kt.maxDuration,Ns(t)),o<1?(s=c=>{const u=c*o,h=u*t,m=u-n,p=yy(c,o),S=Math.exp(-h);return Ep-m/p*S},i=c=>{const h=c*o*t,m=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,S=Math.exp(-h),E=yy(Math.pow(c,2),o);return(-s(c)+Ep>0?-1:1)*((m-p)*S)/E}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Ep+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=QL(s,i,a);if(t=ks(t),isNaN(l))return{stiffness:kt.stiffness,damping:kt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const XL=12;function QL(t,e,n){let r=n;for(let s=1;s<XL;s++)r=r-t(r)/e(r);return r}function yy(t,e){return t*Math.sqrt(1-e*e)}const JL=["duration","bounce"],ZL=["stiffness","damping","mass"];function pS(t,e){return e.some(n=>t[n]!==void 0)}function e6(t){let e={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...t};if(!pS(t,ZL)&&pS(t,JL))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Fs(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:kt.mass,stiffness:s,damping:i}}else{const n=YL(t);e={...e,...n,mass:kt.mass},e.isResolvedFromDuration=!0}return e}function xI(t=kt.visualDuration,e=kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=e6({...n,velocity:-Ns(n.velocity||0)}),S=m||0,E=c/(2*Math.sqrt(l*u)),P=o-i,v=Ns(Math.sqrt(l/u)),y=Math.abs(P)<5;r||(r=y?kt.restSpeed.granular:kt.restSpeed.default),s||(s=y?kt.restDelta.granular:kt.restDelta.default);let T;if(E<1){const C=yy(v,E);T=L=>{const x=Math.exp(-E*v*L);return o-x*((S+E*v*P)/C*Math.sin(C*L)+P*Math.cos(C*L))}}else if(E===1)T=C=>o-Math.exp(-v*C)*(P+(S+v*P)*C);else{const C=v*Math.sqrt(E*E-1);T=L=>{const x=Math.exp(-E*v*L),w=Math.min(C*L,300);return o-x*((S+E*v*P)*Math.sinh(w)+C*P*Math.cosh(w))/C}}const R={calculatedDuration:p&&h||null,next:C=>{const L=T(C);if(p)a.done=C>=h;else{let x=0;E<1&&(x=C===0?ks(S):vI(T,C,L));const w=Math.abs(x)<=r,A=Math.abs(o-L)<=s;a.done=w&&A}return a.value=a.done?o:L,a},toString:()=>{const C=Math.min(LC(R),cy),L=OC(x=>R.next(C*x).value,C,30);return C+"ms "+L}};return R}function gS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},p=w=>a!==void 0&&w<a||l!==void 0&&w>l,S=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let E=n*e;const P=h+E,v=o===void 0?P:o(P);v!==P&&(E=v-h);const y=w=>-E*Math.exp(-w/r),T=w=>v+y(w),R=w=>{const A=y(w),N=T(w);m.done=Math.abs(A)<=c,m.value=m.done?v:N};let C,L;const x=w=>{p(m.value)&&(C=w,L=xI({keyframes:[m.value,S(m.value)],velocity:vI(T,w,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:w=>{let A=!1;return!L&&C===void 0&&(A=!0,R(w),x(w)),C!==void 0&&w>=C?L.next(w-C):(!A&&R(w),m)}}}const t6=Xu(.42,0,1,1),n6=Xu(0,0,.58,1),wI=Xu(.42,0,.58,1),r6=t=>Array.isArray(t)&&typeof t[0]!="number",s6={linear:or,easeIn:t6,easeInOut:wI,easeOut:n6,circIn:cx,circInOut:eI,circOut:ZC,backIn:lx,backInOut:QC,backOut:XC,anticipate:JC},yS=t=>{if(rx(t)){yC(t.length===4);const[e,n,r,s]=t;return Xu(e,n,r,s)}else if(typeof t=="string")return s6[t];return t};function i6(t,e,n){const r=[],s=n||yI,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||or:e;a=Qu(l,a)}r.push(a)}return r}function o6(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(yC(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=i6(e,r,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=cl(t[h],t[h+1],u);return a[h](m)};return n?u=>c(Fs(t[0],t[i-1],u)):c}function a6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=cl(0,e,r);t.push(bt(n,1,s))}}function l6(t){const e=[0];return a6(e,t.length-1),e}function c6(t,e){return t.map(n=>n*e)}function u6(t,e){return t.map(()=>e||wI).splice(0,t.length-1)}function hh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=r6(r)?r.map(yS):yS(r),i={done:!1,value:e[0]},o=c6(n&&n.length===e.length?n:l6(e),t),a=o6(o,e,{ease:Array.isArray(s)?s:u6(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const d6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ht.update(e,!0),stop:()=>Ri(e),now:()=>fn.isProcessing?fn.timestamp:cs.now()}},f6={decay:gS,inertia:gS,tween:hh,keyframes:hh,spring:xI},h6=t=>t/100;class px extends pI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||hx,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=nx(n)?n:f6[n]||hh;let l,c;a!==hh&&typeof e[0]!="number"&&(l=Qu(h6,yI(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});i==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=LC(u));const{calculatedDuration:h}=u,m=h+s,p=m*(r+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:p,repeatType:S,repeatDelay:E,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>u;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let T=this.currentTime,R=i;if(p){const w=Math.min(this.currentTime,u)/h;let A=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(S==="reverse"?(N=1-N,E&&(N-=E/h)):S==="mirror"&&(R=o)),T=Fs(0,1,N)*h}const C=y?{done:!1,value:l[0]}:R.next(T);a&&(C.value=a(C.value));let{done:L}=C;!y&&c!==null&&(L=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return x&&s!==void 0&&(C.value=cm(l,this.options,s)),P&&P(C.value),x&&this.finish(),C}get duration(){const{resolved:e}=this;return e?Ns(e.calculatedDuration):0}get time(){return Ns(this.currentTime)}set time(e){e=ks(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=d6,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const m6=new Set(["opacity","clipPath","filter","transform"]);function p6(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=$C(a,s);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const g6=Bv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),mh=10,y6=2e4;function v6(t){return nx(t.type)||t.type==="spring"||!FC(t.ease)}function x6(t,e){const n=new px({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let i=0;for(;!r.done&&i<y6;)r=n.sample(i),s.push(r.value),i+=mh;return{times:void 0,keyframes:s,duration:i-mh,ease:"linear"}}const bI={anticipate:JC,backInOut:QC,circInOut:eI};function w6(t){return t in bI}class vS extends pI{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new mI(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&dh()&&w6(i)&&(i=bI[i]),v6(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,element:S,...E}=this.options,P=x6(e,E);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,s=P.times,i=P.ease,o="keyframes"}const u=p6(a.owner.current,l,e,{...this.options,duration:r,times:s,ease:i});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(nS(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;a.set(cm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:s,type:o,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ns(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ns(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ks(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return or;const{animation:r}=n;nS(r,e)}return or}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:m,...p}=this.options,S=new px({...p,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),E=ks(this.time);c.setWithVelocity(S.sample(E-mh).value,S.sample(E).value,mh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return g6()&&r&&m6.has(r)&&!l&&!c&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const b6={type:"spring",stiffness:500,damping:25,restSpeed:10},S6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),E6={type:"keyframes",duration:.8},T6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_6=(t,{keyframes:e})=>e.length>2?E6:Yo.has(t)?t.startsWith("scale")?S6(e[1]):b6:T6;function P6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const gx=(t,e,n,r={},s,i)=>o=>{const a=tx(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ks(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};P6(a)||(u={...u,..._6(t,u)}),u.duration&&(u.duration=ks(u.duration)),u.repeatDelay&&(u.repeatDelay=ks(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const m=cm(u.keyframes,a);if(m!==void 0)return ht.update(()=>{u.onUpdate(m),u.onComplete()}),new WV([])}return!i&&vS.supports(u)?new vS(u):new px(u)};function A6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function SI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=l[h];if(p===void 0||u&&A6(u,h))continue;const S={delay:n,...tx(o||{},h)};let E=!1;if(window.MotionHandoffAnimation){const v=KC(t);if(v){const y=window.MotionHandoffAnimation(v,h,ht);y!==null&&(S.startTime=y,E=!0)}}dy(t,h),m.start(gx(h,m,p,t.shouldReduceMotion&&HC.has(h)?{type:!1}:S,t,E));const P=m.animation;P&&c.push(P)}return a&&Promise.all(c).then(()=>{ht.update(()=>{a&&iL(t,a)})}),c}function vy(t,e,n={}){var r;const s=lm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(SI(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return C6(t,e,u+c,h,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function C6(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(I6).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(vy(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function I6(t,e){return t.sortNodePosition(e)}function k6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>vy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=vy(t,e,n);else{const s=typeof e=="function"?lm(t,e,n.custom):e;r=Promise.all(SI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const N6=Uv.length;function EI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?EI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N6;n++){const r=Uv[n],s=t.props[r];(yu(s)||s===!1)&&(e[r]=s)}return e}const j6=[...zv].reverse(),R6=zv.length;function D6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>k6(t,n,r)))}function M6(t){let e=D6(t),n=xS(),r=!0;const s=l=>(c,u)=>{var h;const m=lm(t,u,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:S,...E}=m;c={...c,...E,...S}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=EI(t.parent)||{},h=[],m=new Set;let p={},S=1/0;for(let P=0;P<R6;P++){const v=j6[P],y=n[v],T=c[v]!==void 0?c[v]:u[v],R=yu(T),C=v===l?y.isActive:null;C===!1&&(S=P);let L=T===u[v]&&T!==c[v]&&R;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),y.protectedKeys={...p},!y.isActive&&C===null||!T&&!y.prevProp||om(T)||typeof T=="boolean")continue;const x=V6(y.prevProp,T);let w=x||v===l&&y.isActive&&!L&&R||P>S&&R,A=!1;const N=Array.isArray(T)?T:[T];let D=N.reduce(s(v),{});C===!1&&(D={});const{prevResolvedValues:V={}}=y,k={...V,...D},U=J=>{w=!0,m.has(J)&&(A=!0,m.delete(J)),y.needsAnimating[J]=!0;const F=t.getValue(J);F&&(F.liveStyle=!1)};for(const J in k){const F=D[J],B=V[J];if(p.hasOwnProperty(J))continue;let G=!1;ly(F)&&ly(B)?G=!VC(F,B):G=F!==B,G?F!=null?U(J):m.add(J):F!==void 0&&m.has(J)?U(J):y.protectedKeys[J]=!0}y.prevProp=T,y.prevResolvedValues=D,y.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(L&&x)||A)&&h.push(...N.map(J=>({animation:J,options:{type:v}})))}if(m.size){const P={};m.forEach(v=>{const y=t.getBaseTarget(v),T=t.getValue(v);T&&(T.liveStyle=!0),P[v]=y??null}),h.push({animation:P})}let E=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=xS(),r=!0}}}function V6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VC(e,t):!1}function ro(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xS(){return{animate:ro(!0),whileInView:ro(),whileHover:ro(),whileTap:ro(),whileDrag:ro(),whileFocus:ro(),exit:ro()}}let Yi=class{constructor(e){this.isMounted=!1,this.node=e}update(){}},L6=class extends Yi{constructor(e){super(e),e.animationState||(e.animationState=M6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}},O6=0,F6=class extends Yi{constructor(){super(...arguments),this.id=O6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}};const $6={animation:{Feature:L6},exit:{Feature:F6}};function bu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ju(t){return{point:{x:t.pageX,y:t.pageY}}}const B6=t=>e=>sx(e)&&t(e,Ju(e));function kc(t,e,n,r){return bu(t,e,B6(n),r)}const wS=(t,e)=>Math.abs(t-e);function z6(t,e){const n=wS(t.x,e.x),r=wS(t.y,e.y);return Math.sqrt(n**2+r**2)}let TI=class{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=_p(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=z6(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:S}=h,{timestamp:E}=fn;this.history.push({...S,timestamp:E});const{onStart:P,onMove:v}=this.handlers;m||(P&&P(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Tp(m,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=_p(h.type==="pointercancel"?this.lastMoveEventInfo:Tp(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,P),S&&S(h,P)},!sx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ju(e),a=Tp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=fn;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,_p(a,this.history)),this.removeListeners=Qu(kc(this.contextWindow,"pointermove",this.handlePointerMove),kc(this.contextWindow,"pointerup",this.handlePointerUp),kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}};function Tp(t,e){return e?{point:e(t.point)}:t}function bS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _p({point:t},e){return{point:t,delta:bS(t,_I(e)),offset:bS(t,U6(e)),velocity:H6(e,.1)}}function U6(t){return t[0]}function _I(t){return t[t.length-1]}function H6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=_I(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ks(e)));)n--;if(!r)return{x:0,y:0};const i=Ns(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const PI=1e-4,W6=1-PI,K6=1+PI,AI=.01,q6=0-AI,G6=0+AI;function lr(t){return t.max-t.min}function Y6(t,e,n){return Math.abs(t-e)<=n}function SS(t,e,n,r=.5){t.origin=r,t.originPoint=bt(e.min,e.max,t.origin),t.scale=lr(n)/lr(e),t.translate=bt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=W6&&t.scale<=K6||isNaN(t.scale))&&(t.scale=1),(t.translate>=q6&&t.translate<=G6||isNaN(t.translate))&&(t.translate=0)}function Nc(t,e,n,r){SS(t.x,e.x,n.x,r?r.originX:void 0),SS(t.y,e.y,n.y,r?r.originY:void 0)}function ES(t,e,n){t.min=n.min+e.min,t.max=t.min+lr(e)}function X6(t,e,n){ES(t.x,e.x,n.x),ES(t.y,e.y,n.y)}function TS(t,e,n){t.min=e.min-n.min,t.max=t.min+lr(e)}function jc(t,e,n){TS(t.x,e.x,n.x),TS(t.y,e.y,n.y)}function Q6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?bt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?bt(n,t,r.max):Math.min(t,n)),t}function _S(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function J6(t,{top:e,left:n,bottom:r,right:s}){return{x:_S(t.x,n,s),y:_S(t.y,e,r)}}function PS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Z6(t,e){return{x:PS(t.x,e.x),y:PS(t.y,e.y)}}function eO(t,e){let n=.5;const r=lr(t),s=lr(e);return s>r?n=cl(e.min,e.max-r,t.min):r>s&&(n=cl(t.min,t.max-s,e.min)),Fs(0,1,n)}function tO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const xy=.35;function nO(t=xy){return t===!1?t=0:t===!0&&(t=xy),{x:AS(t,"left","right"),y:AS(t,"top","bottom")}}function AS(t,e,n){return{min:CS(t,e),max:CS(t,n)}}function CS(t,e){return typeof t=="number"?t:t[e]||0}const IS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pa=()=>({x:IS(),y:IS()}),kS=()=>({min:0,max:0}),Mt=()=>({x:kS(),y:kS()});function vr(t){return[t("x"),t("y")]}function CI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pp(t){return t===void 0||t===1}function wy({scale:t,scaleX:e,scaleY:n}){return!Pp(t)||!Pp(e)||!Pp(n)}function ao(t){return wy(t)||II(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function II(t){return NS(t.x)||NS(t.y)}function NS(t){return t&&t!=="0%"}function ph(t,e,n){const r=t-n,s=e*r;return n+s}function jS(t,e,n,r,s){return s!==void 0&&(t=ph(t,s,r)),ph(t,n,r)+e}function by(t,e=0,n=1,r,s){t.min=jS(t.min,e,n,r,s),t.max=jS(t.max,e,n,r,s)}function kI(t,{x:e,y:n}){by(t.x,e.translate,e.scale,e.originPoint),by(t.y,n.translate,n.scale,n.originPoint)}const RS=.999999999999,DS=1.0000000000001;function iO(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ca(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kI(t,o)),r&&ao(i.latestValues)&&Ca(t,i.latestValues))}e.x<DS&&e.x>RS&&(e.x=1),e.y<DS&&e.y>RS&&(e.y=1)}function Aa(t,e){t.min=t.min+e,t.max=t.max+e}function MS(t,e,n,r,s=.5){const i=bt(t.min,t.max,s);by(t,e,n,i,r)}function Ca(t,e){MS(t.x,e.x,e.scaleX,e.scale,e.originX),MS(t.y,e.y,e.scaleY,e.scale,e.originY)}function NI(t,e){return CI(sO(t.getBoundingClientRect(),e))}function oO(t,e,n){const r=NI(t,n),{scroll:s}=e;return s&&(Aa(r.x,s.offset.x),Aa(r.y,s.offset.y)),r}const jI=({current:t})=>t?t.ownerDocument.defaultView:null,aO=new WeakMap;let lO=class{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ju(u).point)},i=(u,h)=>{const{drag:m,dragPropagation:p,onDragStart:S}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eL(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vr(P=>{let v=this.getAxisMotionValue(P).get()||0;if(ls.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const T=y.layout.layoutBox[P];T&&(v=lr(T)*(parseFloat(v)/100))}}this.originPoint[P]=v}),S&&ht.postRender(()=>S(u,h)),dy(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:S,onDrag:E}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:P}=h;if(p&&this.currentDirection===null){this.currentDirection=cO(P),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",h.point,P),this.updateAxis("y",h.point,P),this.visualElement.render(),E&&E(u,h)},a=(u,h)=>this.stop(u,h),l=()=>vr(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new TI(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:jI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ht.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!zd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Q6(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Ta(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=J6(s.layoutBox,n):this.constraints=!1,this.elastic=nO(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&vr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=tO(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ta(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=oO(r,s.root,this.visualElement.getTransformPagePoint());let o=Z6(s.layout.layoutBox,i);if(n){const a=n(rO(o));this.hasMutatedConstraints=!!a,a&&(o=CI(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=vr(u=>{if(!zd(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,S={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,S)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dy(this.visualElement,e),r.start(gx(e,r,0,n,this.visualElement,!1))}stopAnimation(){vr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vr(n=>{const{drag:r}=this.getProps();if(!zd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-bt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ta(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};vr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=eO({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vr(o=>{if(!zd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(bt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;aO.set(this.visualElement,this);const e=this.visualElement.current,n=kc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ta(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ht.read(r);const o=bu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(vr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=xy,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}};function zd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}let uO=class extends Yi{constructor(e){super(e),this.removeGroupControls=or,this.removeListeners=or,this.controls=new lO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||or}unmount(){this.removeGroupControls(),this.removeListeners()}};const VS=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};let dO=class extends Yi{constructor(){super(...arguments),this.removePointerDownListener=or}onPointerDown(e){this.session=new TI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:VS(e),onStart:VS(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ht.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=kc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const Sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=LS(t,e.target.x),r=LS(t,e.target.y);return`${n}% ${r}%`}},fO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Di.parse(t);if(s.length>5)return r;const i=Di.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=bt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let hO=class extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;RV(mO),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ht.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}};function RI(t){const[e,n]=pC(),r=_.useContext(Lv);return f.jsx(hO,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(EC),isPresent:e,safeToRemove:n})}const mO={borderRadius:{...rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rc,borderTopRightRadius:rc,borderBottomLeftRadius:rc,borderBottomRightRadius:rc,boxShadow:fO};function pO(t,e,n){const r=kn(t)?t:xu(t);return r.start(gx("",r,e,n)),r.animation}function gO(t){return t instanceof SVGElement&&t.tagName!=="svg"}const yO=(t,e)=>t.depth-e.depth;let vO=class{constructor(){this.children=[],this.isDirty=!1}add(e){ix(this.children,e),this.isDirty=!0}remove(e){ox(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yO),this.isDirty=!1,this.children.forEach(e)}};function xO(t,e){const n=cs.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ri(r),t(i-e))};return ht.read(r,!0),()=>Ri(r)}const DI=["TopLeft","TopRight","BottomLeft","BottomRight"],wO=DI.length,OS=t=>typeof t=="string"?parseFloat(t):t,FS=t=>typeof t=="number"||be.test(t);function bO(t,e,n,r,s,i){s?(t.opacity=bt(0,n.opacity!==void 0?n.opacity:1,SO(r)),t.opacityExit=bt(e.opacity!==void 0?e.opacity:1,0,EO(r))):i&&(t.opacity=bt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<wO;o++){const a=`border${DI[o]}Radius`;let l=$S(e,a),c=$S(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||FS(l)===FS(c)?(t[a]=Math.max(bt(OS(l),OS(c),r),0),(ls.test(c)||ls.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=bt(e.rotate||0,n.rotate||0,r))}function $S(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const SO=MI(0,.5,ZC),EO=MI(.5,.95,or);function MI(t,e,n){return r=>r<t?0:r>e?1:n(cl(t,e,r))}function BS(t,e){t.min=e.min,t.max=e.max}function gr(t,e){BS(t.x,e.x),BS(t.y,e.y)}function zS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function US(t,e,n,r,s){return t-=e,t=ph(t,1/n,r),s!==void 0&&(t=ph(t,1/s,r)),t}function TO(t,e=0,n=1,r=.5,s,i=t,o=t){if(ls.test(e)&&(e=parseFloat(e),e=bt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=bt(i.min,i.max,r);t===i&&(a-=e),t.min=US(t.min,e,n,a,s),t.max=US(t.max,e,n,a,s)}function HS(t,e,[n,r,s],i,o){TO(t,e[n],e[r],e[s],e.scale,i,o)}const _O=["x","scaleX","originX"],PO=["y","scaleY","originY"];function WS(t,e,n,r){HS(t.x,e,_O,n?n.x:void 0,r?r.x:void 0),HS(t.y,e,PO,n?n.y:void 0,r?r.y:void 0)}function KS(t){return t.translate===0&&t.scale===1}function VI(t){return KS(t.x)&&KS(t.y)}function qS(t,e){return t.min===e.min&&t.max===e.max}function AO(t,e){return qS(t.x,e.x)&&qS(t.y,e.y)}function GS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LI(t,e){return GS(t.x,e.x)&&GS(t.y,e.y)}function YS(t){return lr(t.x)/lr(t.y)}function XS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}let CO=class{constructor(){this.members=[]}add(e){ix(this.members,e),e.scheduleRender()}remove(e){if(ox(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function IO(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:S}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const lo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mc=typeof window<"u"&&window.MotionDebug!==void 0,Ap=["","X","Y","Z"],kO={visibility:"hidden"},QS=1e3;let NO=0;function Cp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function OI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&OI(r)}function FI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=NO++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mc&&(lo.totalNodes=lo.resolvedTargetDeltas=lo.recalculatedProjection=0),this.nodes.forEach(DO),this.nodes.forEach(FO),this.nodes.forEach($O),this.nodes.forEach(MO),mc&&window.MotionDebug.record(lo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new vO)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ax),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gO(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=xO(m,250),Sf.hasAnimatedSinceResize&&(Sf.hasAnimatedSinceResize=!1,this.nodes.forEach(ZS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||u.getDefaultTransition()||WO,{onLayoutAnimationStart:P,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!LI(this.targetLayout,S)||p,T=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,T);const R={...tx(E,"layout"),onPlay:P,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else m||ZS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(BO),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JS);return}this.isUpdating||this.nodes.forEach(LO),this.isUpdating=!1,this.nodes.forEach(OO),this.nodes.forEach(jO),this.nodes.forEach(RO),this.clearAllSnapshots();const a=cs.now();fn.delta=Fs(0,1e3/60,a-fn.timestamp),fn.timestamp=a,fn.isProcessing=!0,vp.update.process(fn),vp.preRender.process(fn),vp.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VO),this.sharedNodes.forEach(zO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!VI(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||ao(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),KO(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Mt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(qO))){const{scroll:u}=this.root;u&&(Aa(l.x,u.offset.x),Aa(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=Mt();if(gr(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&gr(l,o),Aa(l.x,h.offset.x),Aa(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=Mt();gr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ca(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ao(u.latestValues)&&Ca(l,u.latestValues)}return ao(this.latestValues)&&Ca(l,this.latestValues),l}removeTransform(o){const a=Mt();gr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ao(c.latestValues))continue;wy(c.latestValues)&&c.updateSnapshot();const u=Mt(),h=c.measurePageBox();gr(u,h),WS(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ao(this.latestValues)&&WS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),jc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),X6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gr(this.target,this.layout.layoutBox),kI(this.target,this.targetDelta)):gr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),jc(this.relativeTargetOrigin,this.target,p.target),gr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mc&&lo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wy(this.parent.latestValues)||II(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;gr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;iO(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Mt());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zS(this.prevProjectionDelta.x,this.projectionDelta.x),zS(this.prevProjectionDelta.y,this.projectionDelta.y)),Nc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!XS(this.projectionDelta.x,this.prevProjectionDelta.x)||!XS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),mc&&lo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pa(),this.projectionDelta=Pa(),this.projectionDeltaWithTransform=Pa()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Pa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Mt(),p=l?l.source:void 0,S=this.layout?this.layout.source:void 0,E=p!==S,P=this.getStack(),v=!P||P.members.length<=1,y=!!(E&&!v&&this.options.crossfade===!0&&!this.path.some(HO));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const C=R/1e3;e2(h.x,o.x,C),e2(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UO(this.relativeTarget,this.relativeTargetOrigin,m,C),T&&AO(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Mt()),gr(T,this.relativeTarget)),E&&(this.animationValues=u,bO(u,c,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Sf.hasAnimatedSinceResize=!0,this.currentAnimation=pO(0,QS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&$I(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Mt();const h=lr(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=lr(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}gr(a,l),Ca(a,u),Nc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new CO),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Cp("z",o,c,this.animationValues);for(let u=0;u<Ap.length;u++)Cp(`rotate${Ap[u]}`,o,c,this.animationValues),Cp(`skew${Ap[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kO;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=wf(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=wf(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ao(this.latestValues)&&(E.transform=u?u({},""):"none",this.hasProjected=!1),E}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=IO(this.projectionDeltaWithTransform,this.treeScale,m),u&&(c.transform=u(m,c.transform));const{x:p,y:S}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${S.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in uh){if(m[E]===void 0)continue;const{correct:P,applyTo:v}=uh[E],y=c.transform==="none"?m[E]:P(m[E],h);if(v){const T=v.length;for(let R=0;R<T;R++)c[v[R]]=y}else c[E]=y}return this.options.layoutId&&(c.pointerEvents=h===this?wf(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(JS),this.root.sharedNodes.clear()}}}function jO(t){t.updateLayout()}function RO(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?vr(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],p=lr(m);m.min=r[h].min,m.max=m.min+p}):$I(i,n.layoutBox,r)&&vr(h=>{const m=o?n.measuredBox[h]:n.layoutBox[h],p=lr(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Pa();Nc(a,r,n.layoutBox);const l=Pa();o?Nc(l,t.applyTransform(s,!0),n.measuredBox):Nc(l,r,n.layoutBox);const c=!VI(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const S=Mt();jc(S,n.layoutBox,m.layoutBox);const E=Mt();jc(E,r,p.layoutBox),LI(S,E)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function DO(t){mc&&lo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function MO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VO(t){t.clearSnapshot()}function JS(t){t.clearMeasurements()}function LO(t){t.isLayoutDirty=!1}function OO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ZS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function FO(t){t.resolveTargetDelta()}function $O(t){t.calcProjection()}function BO(t){t.resetSkewAndRotation()}function zO(t){t.removeLeadSnapshot()}function e2(t,e,n){t.translate=bt(e.translate,0,n),t.scale=bt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function t2(t,e,n,r){t.min=bt(e.min,n.min,r),t.max=bt(e.max,n.max,r)}function UO(t,e,n,r){t2(t.x,e.x,n.x,r),t2(t.y,e.y,n.y,r)}function HO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const WO={duration:.45,ease:[.4,0,.1,1]},n2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),r2=n2("applewebkit/")&&!n2("chrome/")?Math.round:or;function s2(t){t.min=r2(t.min),t.max=r2(t.max)}function KO(t){s2(t.x),s2(t.y)}function $I(t,e,n){return t==="position"||t==="preserve-aspect"&&!Y6(YS(e),YS(n),.2)}function qO(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const GO=FI({attachResizeListener:(t,e)=>bu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ip={current:void 0},BI=FI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ip.current){const t=new GO({});t.mount(window),t.setOptions({layoutScroll:!0}),Ip.current=t}return Ip.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),YO={pan:{Feature:dO},drag:{Feature:uO,ProjectionNode:BI,MeasureLayout:RI}};function i2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&ht.postRender(()=>i(e,Ju(e)))}let XO=class extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=YV(e,n=>(i2(this.node,n,"Start"),r=>i2(this.node,r,"End"))))}unmount(){}},QO=class extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qu(bu(this.node.current,"focus",()=>this.onFocus()),bu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function o2(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&ht.postRender(()=>i(e,Ju(e)))}let JO=class extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=ZV(e,n=>(o2(this.node,n,"Start"),(r,{success:s})=>o2(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const Sy=new WeakMap,kp=new WeakMap,ZO=t=>{const e=Sy.get(t.target);e&&e(t)},eF=t=>{t.forEach(ZO)};function tF({root:t,...e}){const n=t||document;kp.has(n)||kp.set(n,{});const r=kp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(eF,{root:t,...e})),r[s]}function nF(t,e,n){const r=tF(e);return Sy.set(t,n),r.observe(t),()=>{Sy.delete(t),r.unobserve(t)}}const rF={some:0,all:1};let sF=class extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:rF[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=c?u:h;m&&m(l)};return nF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iF(e,n))&&this.startObserver()}unmount(){}};function iF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const oF={inView:{Feature:sF},tap:{Feature:JO},focus:{Feature:QO},hover:{Feature:XO}},aF={layout:{ProjectionNode:BI,MeasureLayout:RI}},Ey={current:null},zI={current:!1};function lF(){if(zI.current=!0,!!$v)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ey.current=t.matches;t.addListener(e),e()}else Ey.current=!1}const cF=[...hI,_n,Di],uF=t=>cF.find(fI(t)),a2=new WeakMap;function dF(t,e,n){for(const r in e){const s=e[r],i=n[r];if(kn(s))t.addValue(r,s);else if(kn(i))t.addValue(r,xu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,xu(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const l2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let fF=class{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=cs.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ht.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=o;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=am(n),this.isVariantNode=bC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const S=m[p];l[p]!==void 0&&kn(S)&&S.set(l[p],!1)}}mount(e){this.current=e,a2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zI.current||lF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ey.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){a2.delete(this.current),this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yo.has(e),s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ht.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ul){const n=ul[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<l2.length;r++){const s=l2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=dF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(uI(s)||tI(s))?s=parseFloat(s):!uF(s)&&Di.test(n)&&(s=aI(e,n)),this.setBaseTarget(e,kn(s)?s.get():s)),kn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=qv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!kn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ax),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}},UI=class extends fF{constructor(){super(...arguments),this.KeyframeResolver=mI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function hF(t){return window.getComputedStyle(t)}let mF=class extends UI{constructor(){super(...arguments),this.type="html",this.renderInstance=kC}readValueFromInstance(e,n){if(Yo.has(n)){const r=fx(n);return r&&r.default||0}else{const r=hF(e),s=(AC(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return NI(e,n)}build(e,n,r){Xv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ex(e,n,r)}},pF=class extends UI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yo.has(n)){const r=fx(n);return r&&r.default||0}return n=NC.has(n)?n:Hv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return DC(e,n,r)}build(e,n,r){Qv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){jC(e,n,r,s)}mount(e){this.isSVGTag=Zv(e.tagName),super.mount(e)}};const gF=(t,e)=>Kv(t)?new pF(e):new mF(e,{allowProjection:t!==_.Fragment}),yF=zV({...$6,...oF,...YO,...aF},gF),ye=rV(yF);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...xF,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:HI("lucide",s),...a},[...o.map(([c,u])=>_.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=(t,e)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(wF,{ref:i,iconNode:e,className:HI(`lucide-${vF(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=vn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=vn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=vn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=vn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=vn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=vn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=vn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=vn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=vn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=vn("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=vn("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=vn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=vn("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=vn("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=vn("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=vn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=vn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yx=async t=>{try{const e={...t,userAgent:navigator.userAgent};console.log(" Logging error to /errors endpoint:",e),await zr(`${jF()}/errors`,{method:"POST",headers:{"Content-Type":"application/json","x-anon-id":Ps(),"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const r=Math.random()*16|0;return(n==="x"?r:r&3|8).toString(16)})},body:JSON.stringify(e)}),console.log(" Error logged successfully")}catch(e){console.error(" Failed to log error:",e)}},EF=async(t,e,n)=>{const r=typeof t=="string"?t:t.message,s=typeof t=="string"?void 0:t.stack;await yx({anon_id:Ps(),session_id:Co(),error_type:"ApiError",message:r,stack:s,page:n||window.location.href,api:e||void 0,userAgent:navigator.userAgent})},qI=async(t,e,n)=>{await yx({anon_id:Ps(),session_id:Co(),error_type:"ReactError",message:t.message,componentStack:e,stack:t.stack,page:n||window.location.href,userAgent:navigator.userAgent})},TF=async(t,e)=>{await yx({anon_id:Ps(),session_id:Co(),error_type:"NotFound",message:t,page:e||window.location.href,userAgent:navigator.userAgent})},p2="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",g2="ss_anon_id",y2="ss_session_id";function vh(t){let e="";for(let n=0;n<t;n++)e+=p2.charAt(Math.floor(Math.random()*p2.length));return e}function Ps(){if(typeof window>"u")return"";try{let t=localStorage.getItem(g2);return t||(t=`aid_${vh(4)}`,localStorage.setItem(g2,t)),t}catch(t){return console.warn("Failed to get/create anonymous ID:",t),`aid_${vh(4)}`}}function Co(){if(typeof window>"u")return"";try{let t=sessionStorage.getItem(y2);return t||(t=`sid_${vh(4)}`,sessionStorage.setItem(y2,t)),t}catch(t){return console.warn("Failed to get/create session ID:",t),`sid_${vh(4)}`}}let Py=null;const _F=t=>{Py=t},ts=(t,e,n)=>{if(Py){const r=`API Error: ${t}`,s=n?`Status ${n}: ${e}`:e;Py.showError(r,s,8e3)}},Ef="https://recommender-api-973409790816.europe-west1.run.app",Ha="http://localhost:8080",As="ss_api_mode",oa="ss_dev_mode",fl="ss_sandbox_header",dm="ss_local_mode",Su="ss_mock_recommendations",xh="ss_welcome_training",wh="ss_welcome_training_completed",xn=typeof window<"u"&&typeof document<"u";if(xn){if(new URLSearchParams(window.location.search).get("dev")==="1"){const e=localStorage.getItem(oa)==="true";localStorage.setItem(oa,"true"),Ay()||localStorage.setItem(As,"sandbox"),e||(localStorage.setItem(fl,"true"),localStorage.setItem(Su,"true"))}window.dev=e=>{if(e==="1"||e===1){const n=localStorage.getItem(oa)==="true";localStorage.setItem(oa,"true"),n||(Ay()||localStorage.setItem(As,"sandbox"),localStorage.setItem(fl,"true"),localStorage.setItem(Su,"true")),console.log(" Dev mode enabled"),window.location.reload()}else localStorage.removeItem(oa),console.log(" Dev mode disabled"),window.location.reload()}}function PF(){if(xn)try{const e=new URLSearchParams(window.location.search).get("mode");if(e==="sandbox-local")return localStorage.setItem(As,"sandbox-local"),"sandbox-local";if(e==="sandbox")return localStorage.setItem(As,"sandbox"),"sandbox";if(e==="prod")return localStorage.setItem(As,"prod"),"prod";if(e==="training")return localStorage.setItem(As,"training"),"training"}catch{}}function Ay(){if(!xn)return;const t=localStorage.getItem(As);if(t==="dev")return"sandbox-local";if(t==="sandbox-local"||t==="sandbox"||t==="prod"||t==="training")return t}const Zu=()=>{const t=PF(),e=Ay();return t??e??"prod"},vx=()=>xn?localStorage.getItem(oa)==="true":!1,xx=()=>xn?localStorage.getItem(fl)==="true":!1,AF=t=>{xn&&(localStorage.setItem(fl,"true"),localStorage.removeItem(dm))},fm=()=>xn?localStorage.getItem(dm)==="true":!1,CF=t=>{xn&&(localStorage.setItem(dm,"true"),localStorage.removeItem(fl),localStorage.setItem(As,"sandbox-local"))},IF=()=>{xn&&(localStorage.removeItem(fl),localStorage.removeItem(dm),localStorage.setItem(As,"prod"))},kF=()=>!fm()&&!xx(),GI=()=>xn?localStorage.getItem(Su)==="true":!1,NF=t=>{xn&&(t?localStorage.setItem(Su,"true"):localStorage.removeItem(Su))},jp=()=>xn?localStorage.getItem(xh)==="true":!1,Wa=t=>{xn&&(t?(localStorage.setItem(xh,"true"),localStorage.removeItem(wh)):localStorage.removeItem(xh))},Rp=()=>xn?localStorage.getItem(wh)==="true":!1,Ka=t=>{xn&&(t?(localStorage.setItem(wh,"true"),localStorage.removeItem(xh)):localStorage.removeItem(wh))},aa=()=>{if(fm())return Ha;const t=Zu();return xn&&((t==="sandbox-local"||t==="sandbox")&&!window.__ssModeLogShown&&(console.log(` ${t==="sandbox-local"?"Sandbox LOCAL":"Sandbox CLOUD"} API mode enabled`),window.__ssModeLogShown=!0),t==="training"&&!window.__ssModeLogShown&&(console.log(" TRAINING API mode enabled"),window.__ssModeLogShown=!0)),t==="training"||t==="sandbox-local"?Ha:Ef},mo=()=>{if(vx())return!0;const t=Zu();return t==="sandbox-local"||t==="sandbox"},si=()=>mo(),jF=()=>{const t=Zu();return t==="training"||t==="sandbox-local"?"http://localhost:8080":"https://recommender-api-973409790816.europe-west1.run.app"},Ia=(t,e)=>{const r=aa().replace(/\/$/,""),s=t.replace(/^\//,""),i=new URL(`${r}/${s}`);return e&&e.forEach((o,a)=>{i.searchParams.append(a,o)}),i.toString()},qa=()=>{const t=Zu();return t==="prod"?null:t},Rc=t=>{const e={"Content-Type":"application/json"};return!t&&typeof window<"u"&&(t=qa()||void 0),t==="training"&&(e["X-Training-Mode"]="true"),e},RF=()=>{const t=Ps();return t.startsWith("aid_")?t.replace("aid_","uid_"):t.startsWith("uid_")?t:`uid_${t}`},DF=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),zr=(t,e,n)=>{const r=typeof t=="string"?t:t instanceof URL?t.toString():t.url,s=r.startsWith(Ha)||r.startsWith(Ef),i=mo(),o=xn&&i&&s&&/\/recommend(\b|\?|$)/.test(r);if(o){const a=(e==null?void 0:e.method)||"GET";console.log(` API CALL${n?` (${n})`:""}: ${a} ${r}`)}if(s){const a=new Headers((e==null?void 0:e.headers)||{}),l=DF();a.set("X-User-Id",RF()),a.set("X-Request-Id",l),i&&(a.set("Cache-Control","no-cache, no-store, must-revalidate"),a.set("Pragma","no-cache"),a.set("Expires","0")),(xx()||fm())&&a.set("X-Sandbox","true"),GI()&&/\/recommend(\b|\?|$)/.test(r)&&a.set("X-Mock-Recommendations","true"),/\/recommend(\b|\?|$)/.test(r)&&a.set("X-Session-Id",Co());const c=Date.now();return fetch(t,{...e,headers:a}).then(async u=>{const h=Date.now()-c;if(o&&console.log(u.ok?" /recommend success":` /recommend failed ${u.status}`),!u.ok){let m="";try{m=await u.text()}catch{m="Failed to read response text"}const p=(e==null?void 0:e.method)||"GET",S=r.replace(Ha,"").replace(Ef,"")||"/",E=u.headers.get("X-Request-Id")||l;if(i&&s){let v=`${u.status} ${u.statusText}`;if(m)try{const y=JSON.parse(m);y.error&&typeof y.error=="string"?v=y.error:y.message&&typeof y.message=="string"&&(v=y.message)}catch{const y=m.trim();y&&!y.startsWith("<!")&&(v=y)}ts(S,v,u.status)}const P=new Error(`API Error: ${u.status} ${u.statusText}`);throw P.apiMetadata={endpoint:S,method:p,status:u.status,duration_ms:h,response_text:m,request_id:E,retry_count:0},P}return u}).catch(u=>{const h=Date.now()-c;if(o&&console.log(` /recommend network error: ${(u==null?void 0:u.message)||u}`),u.apiMetadata)throw u;const m=(e==null?void 0:e.method)||"GET",p=r.replace(Ha,"").replace(Ef,"")||"/";i&&s&&ts(p,(u==null?void 0:u.message)||"Network error",0);const S=new Error(`Network Error: ${(u==null?void 0:u.message)||"Unknown network error"}`);throw S.apiMetadata={endpoint:p,method:m,status:0,duration_ms:h,response_text:(u==null?void 0:u.message)||"Network error",request_id:l,retry_count:0},S})}return fetch(t,e).then(a=>(o&&console.log(a.ok?" /recommend success":` /recommend failed ${a.status}`),a)).catch(a=>{throw o&&console.log(` /recommend network error: ${(a==null?void 0:a.message)||a}`),a})},MF=({toast:t,onRemove:e})=>{const[n,r]=_.useState(!0);_.useEffect(()=>{const o=setTimeout(()=>{r(!1),setTimeout(()=>e(t.id),300)},t.duration||5e3);return()=>clearTimeout(o)},[t.id,t.duration,e]);const s=()=>{switch(t.type){case"success":return f.jsx(bF,{className:"w-5 h-5 text-green-500"});case"error":return f.jsx(yh,{className:"w-5 h-5 text-red-500"});case"warning":return f.jsx(yh,{className:"w-5 h-5 text-yellow-500"});case"info":return f.jsx(d2,{className:"w-5 h-5 text-blue-500"});default:return f.jsx(d2,{className:"w-5 h-5 text-gray-500"})}},i=()=>{switch(t.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}};return f.jsx(gi,{children:n&&f.jsx(ye.div,{initial:{opacity:0,y:-50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.95},transition:{duration:.3,ease:"easeOut"},className:`max-w-sm w-full border rounded-lg shadow-lg p-4 ${i()}`,children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("div",{className:"flex-shrink-0",children:s()}),f.jsxs("div",{className:"ml-3 flex-1",children:[f.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:t.title}),f.jsx("p",{className:"mt-1 text-sm text-gray-600",children:t.message})]}),f.jsx("div",{className:"ml-4 flex-shrink-0",children:f.jsx("button",{onClick:()=>{r(!1),setTimeout(()=>e(t.id),300)},className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors",children:f.jsx(um,{className:"w-4 h-4"})})})]})})})},VF=({toasts:t,onRemove:e})=>f.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(n=>f.jsx(MF,{toast:n,onRemove:e},n.id))}),LF=()=>{const[t,e]=_.useState([]),n=l=>{const c=Math.random().toString(36).substr(2,9);e(u=>[...u,{...l,id:c}])};return{toasts:t,addToast:n,removeToast:l=>{e(c=>c.filter(u=>u.id!==l))},showSuccess:(l,c,u)=>{n({type:"success",title:l,message:c,duration:u})},showError:(l,c,u)=>{n({type:"error",title:l,message:c,duration:u})},showWarning:(l,c,u)=>{n({type:"warning",title:l,message:c,duration:u})},showInfo:(l,c,u)=>{n({type:"info",title:l,message:c,duration:u})}}},YI=_.createContext(void 0),OF=({children:t})=>{const e=LF();return f.jsx(YI.Provider,{value:e,children:t})},XI=()=>{const t=_.useContext(YI);if(t===void 0)throw new Error("useToastContext must be used within a ToastProvider");return t},Ud=t=>t.productTitle&&t.productTitle.trim()!==""?t.productTitle:t.name&&t.name.trim()!==""?t.name:t.sku?`Product ${t.sku}`:"Product Title Not Available";function FF(){var V,k;const{recId:t}=uC(),e=Go(),{showError:n}=XI(),[r,s]=_.useState([]),[i,o]=_.useState(!0),[a,l]=_.useState(!1),[c,u]=_.useState(null),[h,m]=_.useState(!1),[p,S]=_.useState({}),[E,P]=_.useState(!1),[v,y]=_.useState(""),[T,R]=_.useState(!1),[C,L]=_.useState(null),x=(U,te)=>{S(Q=>({...Q,[U]:Q[U]===te?null:te})),A("label",U,te===1?"1":"0")},w=()=>{v.trim()&&(A("comment",void 0,void 0,v),y(""),P(!1),R(!0))},A=async(U,te,Q,J,F)=>{try{const B=Ps(),G=Co(),X={event:U,session_id:G,rec_id:t};te&&(X.sku=te),Q&&(X.label=Q),J&&(X.comment=J),F&&(X.rating=F);const se={"Content-Type":"application/json","x-anon-id":B,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Ie){const $e=Math.random()*16|0;return(Ie==="x"?$e:$e&3|8).toString(16)})},me=new URLSearchParams(window.location.search).get("client_origin");me&&(se.client_origin=me);const xe=await zr(`${aa()}/interactions`,{method:"POST",headers:se,body:JSON.stringify(X)});xe.ok||(console.warn(`Interaction ${U} failed with status ${xe.status}`),si()&&ts("/interactions",`HTTP ${xe.status}`,xe.status))}catch(B){si()&&ts("/interactions",B instanceof Error?B.message:"Network error")}},N=async()=>{try{const U=Ps(),Q={event:"visit_ping",session_id:Co(),rec_id:t},J={"Content-Type":"application/json","x-anon-id":U,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(X){const se=Math.random()*16|0;return(X==="x"?se:se&3|8).toString(16)})},B=new URLSearchParams(window.location.search).get("client_origin");B&&(J.client_origin=B);const G=await zr(`${aa()}/track`,{method:"POST",headers:J,body:JSON.stringify(Q)});G.ok||(console.warn(`Visit ping failed with status ${G.status}`),si()&&ts("/track",`HTTP ${G.status}`,G.status))}catch(U){si()&&ts("/track",U instanceof Error?U.message:"Network error")}},D=async()=>{try{const U=Ps(),te=Co(),Q={event:"visit_shared_link",rec_id:t,session_id:te},J=await zr(`${aa()}/track`,{method:"POST",headers:{"Content-Type":"application/json","x-anon-id":U,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(F){const B=Math.random()*16|0;return(F==="x"?B:B&3|8).toString(16)})},body:JSON.stringify(Q)});J.ok||(console.warn(`Tracking event visit_shared_link failed with status ${J.status}`),si()&&ts("/track",`HTTP ${J.status}`,J.status))}catch(U){si()&&ts("/track",U instanceof Error?U.message:"Network error")}};return _.useEffect(()=>{var U,te;if(r.length>0&&c){const Q=((U=c.relationship)==null?void 0:U.toLowerCase())==="father"?" Top Picks for Dad":((te=c.relationship)==null?void 0:te.toLowerCase())==="mother"?" Top Picks for Mum":" Top Picks",J=`Personalized gift recommendations for ${c.personAge?`age ${c.personAge}`:"them"}${c.occasion?` for ${c.occasion}`:""}. ${r.length} carefully curated gift suggestions.`;document.title=`${Q} | SimplySent`;const F=(G,X)=>{let se=document.querySelector(`meta[property="${G}"]`);se||(se=document.createElement("meta"),se.setAttribute("property",G),document.head.appendChild(se)),se.setAttribute("content",X)},B=(G,X)=>{let se=document.querySelector(`meta[name="${G}"]`);se||(se=document.createElement("meta"),se.setAttribute("name",G),document.head.appendChild(se)),se.setAttribute("content",X)};F("og:title",Q),F("og:description",J),F("og:url",`https://simplysent.co/${t}`),F("og:type","website"),F("og:site_name","SimplySent"),B("twitter:card","summary_large_image"),B("twitter:title",Q),B("twitter:description",J),B("description",J)}},[r,c,t]),_.useEffect(()=>{if(t&&t.startsWith("rec_")){const U=setInterval(()=>{N()},3e4);return L(U),()=>{U&&clearInterval(U)}}},[t]),_.useEffect(()=>{const U=()=>{console.log("Loading recommendation for ID:",t),console.log("recId type:",typeof t),console.log("recId length:",t==null?void 0:t.length);const te=async()=>{var Q,J;try{const F=`${aa()}/recommend/${t}`;console.log("Current API Mode:",Zu()),console.log("API Base URL:",aa()),console.log("Using API for shared recommendation:",F),console.log("Fetching recommendation from API:",F);const B=Ps(),G=await zr(F,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-anon-id":B,"x-request-id":"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(se){const ve=Math.random()*16|0;return(se==="x"?ve:ve&3|8).toString(16)})}});if(!G.ok){console.error("API response not OK:",G.status,G.statusText);try{const se=await G.text();console.error("Error response body:",se)}catch{console.error("Could not read error response body")}si()&&ts("/recommend",`HTTP ${G.status}`,G.status),l(!0),o(!1);return}const X=await G.json();if(console.log("API response data:",X),X.context){const se={personAge:((Q=X.context.age)==null?void 0:Q.toString())||"",gender:X.context.gender||"",relationship:X.context.relationship?X.context.relationship.charAt(0).toUpperCase()+X.context.relationship.slice(1):"",occasion:X.context.occasion?X.context.occasion.charAt(0).toUpperCase()+X.context.occasion.slice(1):"",sentiment:X.context.sentiment?X.context.sentiment.charAt(0).toUpperCase()+X.context.sentiment.slice(1):"",interests:X.context.interests||[],favoritedrink:X.context.favourite_drink?X.context.favourite_drink.charAt(0).toUpperCase()+X.context.favourite_drink.slice(1):"",clothesSize:X.context.size||"",minBudget:X.context.budget_min||10,maxBudget:X.context.budget_max||110};u(se)}if(console.log("Raw products from API:",X.products),console.log("Products is array:",Array.isArray(X.products)),console.log("Products length:",(J=X.products)==null?void 0:J.length),X.products&&Array.isArray(X.products)&&X.products.length>0){const ve=[...X.products.map(me=>({sku:me.sku||me.ASIN||"",productTitle:me.productTitle||me.name||"",imageUrl:me.imageUrl||me.image_url||"",price:me.price||"0.00",description:me.description||"",rank:me.rank||"999",ASIN:me.ASIN,name:me.name,image_url:me.image_url}))].sort((me,xe)=>{const Ie=parseInt(me.rank)||999,$e=parseInt(xe.rank)||999;return Ie-$e});s(ve),console.log("Products set successfully:",ve.length,"products")}else console.error("No recommendations found in API response"),l(!0);o(!1)}catch(F){console.error("Failed to fetch recommendation from API:",F),si()&&ts("/recommend",F instanceof Error?F.message:"Network error"),l(!0),o(!1)}};console.log("About to call fetchFromAPI..."),te()};t&&t.startsWith("rec_")?(U(),D()):(l(!0),o(!1))},[t]),i?f.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsxs("div",{className:"relative w-16 h-16 mx-auto",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-xl"}),f.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin"})})]}),f.jsx("p",{className:"text-gray-600",children:"Loading your recommendations..."})]})}):a?f.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"min-h-screen flex items-center justify-center",children:f.jsxs("div",{className:"text-center space-y-6",children:[f.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),f.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:f.jsx(yh,{className:"w-20 h-20 text-purple-500"})})]}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recommendation Not Found"}),f.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"This recommendation link may be invalid, expired, or the recommendation was created on a different device. Please create a new recommendation to get started."}),f.jsxs("div",{className:"flex gap-4 justify-center",children:[f.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[f.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),f.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[f.jsx(m2,{className:"w-5 h-5 mr-2"}),"Create New Recommendation"]})]})]})}):f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"min-h-screen",children:[f.jsxs("div",{className:"mb-8 text-center",children:[f.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("/"),className:"inline-flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors mb-6",children:[f.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),f.jsx("h1",{className:"text-4xl font-bold font-headline text-gray-900 mb-3",children:((V=c==null?void 0:c.relationship)==null?void 0:V.toLowerCase())==="father"?" Top Picks for Dad":((k=c==null?void 0:c.relationship)==null?void 0:k.toLowerCase())==="mother"?" Top Picks for Mum":" Top Picks"})]}),c&&f.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:f.jsxs("div",{className:"relative bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-6 border border-purple-100",children:[f.jsx("div",{className:"space-y-4 pb-20",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[c.personAge&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Age:"})," ",c.personAge]})]}),c.gender&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Gender:"})," ",c.gender]})]}),c.relationship&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Relationship:"})," ",c.relationship]})]}),c.occasion&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Occasion:"})," ",c.occasion]})]}),c.sentiment&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Mood:"})," ",c.sentiment]})]}),c.favoritedrink&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Favorite Drink:"})," ",c.favoritedrink]})]}),c.clothesSize&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Clothes Size:"})," ",c.clothesSize]})]}),(c.minBudget||c.maxBudget)&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-purple-600",children:""}),f.jsxs("span",{className:"text-gray-700",children:[f.jsx("strong",{children:"Budget:"})," ",c.minBudget||0," - ",c.maxBudget||""]})]})]})}),c.interests&&c.interests.length>0&&f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 overflow-hidden bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded-b-2xl shadow-2xl",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-400/20 via-purple-400/20 to-indigo-400/20 animate-pulse"}),f.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400"}),f.jsx("div",{className:"hidden md:block relative z-10 p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsx("span",{className:"text-white font-bold text-lg",children:"Interests"})]}),f.jsx("div",{className:"flex flex-wrap gap-2 max-w-4xl",children:c.interests.map((U,te)=>f.jsx(ye.span,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},transition:{delay:te*.05},whileHover:{scale:1.1,y:-2},className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-semibold bg-white/90 text-purple-600 shadow-lg hover:shadow-xl transition-all duration-200 border border-white/50 backdrop-blur-sm",children:U},te))})]})}),f.jsxs("div",{className:"md:hidden relative z-10",children:[f.jsxs(ye.button,{onClick:()=>m(!h),className:"w-full p-4 flex items-center justify-between text-left",whileTap:{scale:.98},children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsx("span",{className:"text-white font-bold text-lg",children:"Interests"})]}),f.jsx(ye.div,{animate:{rotate:h?180:0},transition:{duration:.2},children:f.jsx(KI,{className:"w-5 h-5 text-white"})})]}),f.jsx(gi,{children:h&&f.jsx(ye.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:f.jsx("div",{className:"px-4 pb-4",children:f.jsx("div",{className:"flex flex-wrap gap-2",children:c.interests.map((U,te)=>f.jsx(ye.span,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},transition:{delay:te*.05},whileHover:{scale:1.1,y:-2},className:"inline-flex items-center px-3 py-1.5 rounded-full text-sm font-semibold bg-white/90 text-purple-600 shadow-lg hover:shadow-xl transition-all duration-200 border border-white/50 backdrop-blur-sm",children:U},te))})})})})]})]})]})}),r.length>0&&f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Top Recommendation"}),f.jsx("p",{className:"text-gray-600",children:"Our #1 pick"})]}),f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsxs(ye.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-purple-100 via-indigo-50 to-pink-100 rounded-3xl shadow-2xl overflow-hidden border border-purple-200",children:[f.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-purple-200 to-indigo-200 overflow-hidden",children:[r[0].imageUrl?f.jsx("img",{src:r[0].imageUrl,alt:Ud(r[0]),className:"w-full h-full object-cover",onError:U=>{const te=U.target;te.style.display="none"}}):f.jsx("div",{className:"w-full h-full flex items-center justify-center text-purple-400",children:f.jsx(Np,{className:"w-16 h-16"})}),f.jsx("div",{className:"absolute top-4 left-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-3 py-2 rounded-full text-sm font-bold shadow-lg",children:"#1 TOP PICK"})]}),f.jsxs("div",{className:"p-8",children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:Ud(r[0])}),f.jsx("p",{className:"text-gray-600 mb-6 text-lg leading-relaxed",children:r[0].description}),f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ye.button,{onClick:()=>x(r[0].sku,1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[r[0].sku]?{}:{y:[0,-8,0]},transition:p[r[0].sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-3 rounded-full transition-all shadow-lg hover:shadow-xl ${p[r[0].sku]===1?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50"}`,children:f.jsx(_y,{className:"w-5 h-5"})}),f.jsx(ye.button,{onClick:()=>x(r[0].sku,-1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[r[0].sku]?{}:{y:[0,-8,0]},transition:p[r[0].sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-3 rounded-full transition-all shadow-lg hover:shadow-xl ${p[r[0].sku]===-1?"bg-gradient-to-r from-red-400 to-red-500 text-white shadow-red-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-red-300 hover:text-red-500 hover:bg-red-50"}`,children:f.jsx(Ty,{className:"w-5 h-5"})})]}),f.jsxs("span",{className:"text-3xl font-bold text-purple-600",children:["",r[0].price]})]}),f.jsxs(ye.a,{href:`https://www.amazon.co.uk/dp/${r[0].ASIN||r[0].sku}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>A("click",r[0].sku),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-bold py-4 px-6 rounded-xl transition-all shadow-lg hover:shadow-xl flex items-center justify-center gap-3 text-lg",children:[f.jsx(h2,{className:"w-5 h-5"}),"View on Amazon"]})]})]})})]}),r.length>1&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"More Recommendations"}),f.jsx("p",{className:"text-gray-600",children:"Other great options"})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.jsx(gi,{children:r.slice(1,5).map((U,te)=>f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:(te+1)*.1},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group h-full flex flex-col",children:[f.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[U.imageUrl?f.jsx("img",{src:U.imageUrl,alt:Ud(U),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:Q=>{const J=Q.target;J.style.display="none"}}):f.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:f.jsx(Np,{className:"w-12 h-12"})}),f.jsxs("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-2 py-1 rounded-full text-sm font-semibold",children:["#",U.rank]})]}),f.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 flex-grow",children:Ud(U)}),f.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2 flex-grow",children:U.description}),f.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex gap-1",children:[f.jsx(ye.button,{onClick:()=>x(U.sku,1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[U.sku]?{}:{y:[0,-6,0]},transition:p[U.sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-2 rounded-full transition-all shadow-md hover:shadow-lg ${p[U.sku]===1?"bg-gradient-to-r from-green-400 to-green-500 text-white shadow-green-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-green-300 hover:text-green-500 hover:bg-green-50"}`,children:f.jsx(_y,{className:"w-4 h-4"})}),f.jsx(ye.button,{onClick:()=>x(U.sku,-1),whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},animate:p[U.sku]?{}:{y:[0,-6,0]},transition:p[U.sku]?{}:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:`p-2 rounded-full transition-all shadow-md hover:shadow-lg ${p[U.sku]===-1?"bg-gradient-to-r from-red-400 to-red-500 text-white shadow-red-200":"bg-white border-2 border-gray-200 text-gray-400 hover:border-red-300 hover:text-red-500 hover:bg-red-50"}`,children:f.jsx(Ty,{className:"w-4 h-4"})})]}),f.jsxs("span",{className:"text-xl font-bold text-purple-600",children:["",U.price]})]}),f.jsx("div",{className:"mt-auto",children:f.jsxs(ye.a,{href:`https://www.amazon.co.uk/dp/${U.ASIN||U.sku}`,target:"_blank",rel:"noopener noreferrer",onClick:()=>A("click",U.sku),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold py-3 px-4 rounded-lg transition-all transform hover:scale-[1.02] shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[f.jsx(h2,{className:"w-4 h-4"}),"View on Amazon"]})})]})]},U.sku))})}),f.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"mt-8",children:f.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-500 rounded-xl shadow-lg",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-yellow-300 to-emerald-300"}),f.jsxs("div",{className:"relative z-10 px-6 py-4 text-center",children:[f.jsxs("div",{className:"flex items-center justify-center gap-4 mb-2",children:[f.jsx(ye.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",animate:{y:[0,-4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:f.jsx("span",{className:"text-lg",children:""})}),f.jsxs("div",{className:"relative overflow-hidden",children:[f.jsx("h3",{className:"text-lg font-semibold text-white relative z-10",children:"Help them decide!"}),f.jsx(ye.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),f.jsx(ye.div,{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",animate:{y:[0,-4,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut",delay:.75},children:f.jsx("span",{className:"text-lg",children:""})})]}),f.jsx("p",{className:"text-white/90 text-sm",children:"Use the thumbs up/down buttons to show which gifts you think they'd love most"})]})]})})]}),r.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),f.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:f.jsx(Np,{className:"w-16 h-16 text-purple-500"})})]}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No recommendations found"}),f.jsx("p",{className:"text-gray-600",children:"This recommendation may not have any products available."})]}),f.jsx("div",{className:"mt-16 pt-8 pb-8 border-t border-gray-200",children:f.jsxs("div",{className:"text-center space-y-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"How did we do?"}),f.jsx("p",{className:"text-gray-600",children:"Rate this recommendation to help us improve"})]}),f.jsx(gi,{mode:"wait",children:p.overall?f.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"flex items-center justify-center gap-2 text-lg text-gray-600",children:[f.jsx("span",{className:"text-xl",children:""}),f.jsx("span",{children:"Thanks for the feedback!"})]},"thank-you"):f.jsx(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"flex justify-center gap-2",children:[1,2,3,4,5].map(U=>f.jsx(ye.button,{onClick:()=>{x("overall",U),A("rate",void 0,void 0,void 0,U.toString())},whileHover:{scale:1.1},whileTap:{scale:.9},className:"transition-all",children:f.jsx(gh,{className:"w-8 h-8 text-gray-300 hover:text-yellow-300"})},U))},"stars")}),f.jsx("div",{className:"mt-4",children:f.jsx(gi,{mode:"wait",children:T?f.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{children:"Thank you for your feedback!"})]},"thank-you"):E?f.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"flex gap-2 px-4 md:px-16 lg:px-24",children:[f.jsx("input",{type:"text",value:v,onChange:U=>y(U.target.value),placeholder:"Share your thoughts...",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-0 focus:border-gray-300 bg-gray-50 transition-all duration-200",onKeyPress:U=>U.key==="Enter"&&v.trim()&&w()}),f.jsx(ye.button,{onClick:v.trim()?w:()=>P(!1),whileHover:{scale:1.02},whileTap:{scale:.98},className:`px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 ${v.trim()?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 shadow-sm hover:shadow-md":"bg-gray-200 text-gray-500 hover:bg-gray-300"}`,children:v.trim()?"Submit":"Cancel"})]},"comment-input"):f.jsx(ye.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},onClick:()=>P(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-4 py-2 text-sm text-gray-500 hover:text-gray-700 border border-gray-200 hover:border-gray-300 rounded-lg transition-all duration-200 hover:bg-gray-50",children:"Leave a comment"},"comment-button")})})]})}),f.jsx("div",{className:"pt-8 pb-8 border-t border-gray-200",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("p",{className:"text-gray-600",children:"Want to find more personalized gift recommendations?"}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[f.jsxs(ye.a,{href:"https://www.simplysent.co/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",children:[f.jsx(m2,{className:"w-5 h-5 mr-2"}),"Try AI Recommender"]}),f.jsxs(ye.a,{href:"https://www.simplysent.co/",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"inline-flex items-center justify-center px-6 py-3 border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white font-semibold rounded-xl transition-all w-full sm:w-auto",children:[f.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Homepage"]})]})]})})]})}const QI=_.createContext({});function wx(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const bx=typeof window<"u",JI=bx?_.useLayoutEffect:_.useEffect,Sx=_.createContext(null);function Ex(t,e){t.indexOf(e)===-1&&t.push(e)}function hm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $s=(t,e,n)=>n>e?e:n<t?t:n;let Tx=()=>{};const Bs={},ZI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function ek(t){return typeof t=="object"&&t!==null}const tk=t=>/^0[^.\s]+$/u.test(t);function _x(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pr=t=>t,$F=(t,e)=>n=>e(t(n)),ed=(...t)=>t.reduce($F),hl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Px{constructor(){this.subscriptions=[]}add(e){return Ex(this.subscriptions,e),()=>hm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kr=t=>t*1e3,Tr=t=>t/1e3;function nk(t,e){return e?t*(1e3/e):0}const BF=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t},rk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zF=1e-7,UF=12;function HF(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=rk(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>zF&&++a<UF);return o}function td(t,e,n,r){if(t===e&&n===r)return Pr;const s=i=>HF(i,0,1,t,n);return i=>i===0||i===1?i:rk(s(i),e,r)}const sk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ik=t=>e=>1-t(1-e),ok=td(.33,1.53,.69,.99),Ax=ik(ok),ak=sk(Ax),lk=t=>(t*=2)<1?.5*Ax(t):.5*(2-Math.pow(2,-10*(t-1))),Cx=t=>1-Math.sin(Math.acos(t)),ck=ik(Cx),uk=sk(Cx),WF=td(.42,0,1,1),KF=td(0,0,.58,1),dk=td(.42,0,.58,1),fk=t=>Array.isArray(t)&&typeof t[0]!="number";function hk(t,e){return fk(t)?t[BF(0,t.length,e)]:t}const mk=t=>Array.isArray(t)&&typeof t[0]=="number",qF={linear:Pr,easeIn:WF,easeInOut:dk,easeOut:KF,circIn:Cx,circInOut:uk,circOut:ck,backIn:Ax,backInOut:ak,backOut:ok,anticipate:lk},GF=t=>typeof t=="string",v2=t=>{if(mk(t)){Tx(t.length===4);const[e,n,r,s]=t;return td(e,n,r,s)}else if(GF(t))return qF[t];return t},Hd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YF(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,h=!1,m=!1)=>{const S=m&&s?n:r;return h&&o.add(u),S.has(u)||S.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(u))}};return c}const XF=40;function pk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Hd.reduce((T,R)=>(T[R]=YF(i),T),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:m,render:p,postRender:S}=o,E=()=>{const T=Bs.useManualTiming?s.timestamp:performance.now();n=!1,Bs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,XF),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),u.process(s),h.process(s),m.process(s),p.process(s),S.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(E))},P=()=>{n=!0,r=!0,s.isProcessing||t(E)};return{schedule:Hd.reduce((T,R)=>{const C=o[R];return T[R]=(L,x=!1,w=!1)=>(n||P(),C.schedule(L,x,w)),T},{}),cancel:T=>{for(let R=0;R<Hd.length;R++)o[Hd[R]].cancel(T)},state:s,steps:o}}const{schedule:dt,cancel:zs,state:hn,steps:Dp}=pk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0);let Tf;function QF(){Tf=void 0}const qn={now:()=>(Tf===void 0&&qn.set(hn.isProcessing||Bs.useManualTiming?hn.timestamp:performance.now()),Tf),set:t=>{Tf=t,queueMicrotask(QF)}},gk=t=>e=>typeof e=="string"&&e.startsWith(t),Ix=gk("--"),JF=gk("var(--"),kx=t=>JF(t)?ZF.test(t.split("/*")[0].trim()):!1,ZF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Eu={...kl,transform:t=>$s(0,1,t)},Wd={...kl,default:1},Dc=t=>Math.round(t*1e5)/1e5,Nx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e$(t){return t==null}const t$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jx=(t,e)=>n=>!!(typeof n=="string"&&t$.test(n)&&n.startsWith(t)||e&&!e$(n)&&Object.prototype.hasOwnProperty.call(n,e)),yk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Nx);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},n$=t=>$s(0,255,t),Mp={...kl,transform:t=>Math.round(n$(t))},bo={test:jx("rgb","red"),parse:yk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mp.transform(t)+", "+Mp.transform(e)+", "+Mp.transform(n)+", "+Dc(Eu.transform(r))+")"};function r$(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cy={test:jx("#"),parse:r$,transform:bo.transform},nd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ai=nd("deg"),us=nd("%"),_e=nd("px"),s$=nd("vh"),i$=nd("vw"),x2={...us,parse:t=>us.parse(t)/100,transform:t=>us.transform(t*100)},ka={test:jx("hsl","hue"),parse:yk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+us.transform(Dc(e))+", "+us.transform(Dc(n))+", "+Dc(Eu.transform(r))+")"},Wt={test:t=>bo.test(t)||Cy.test(t)||ka.test(t),parse:t=>bo.test(t)?bo.parse(t):ka.test(t)?ka.parse(t):Cy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bo.transform(t):ka.transform(t),getAnimatableNone:t=>{const e=Wt.parse(t);return e.alpha=0,Wt.transform(e)}},o$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Nx))==null?void 0:e.length)||0)+(((n=t.match(o$))==null?void 0:n.length)||0)>0}const vk="number",xk="color",l$="var",c$="var(",w2="${}",u$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(u$,l=>(Wt.test(l)?(r.color.push(i),s.push(xk),n.push(Wt.parse(l))):l.startsWith(c$)?(r.var.push(i),s.push(l$),n.push(l)):(r.number.push(i),s.push(vk),n.push(parseFloat(l))),++i,w2)).split(w2);return{values:n,split:a,indexes:r,types:s}}function wk(t){return Tu(t).values}function bk(t){const{split:e,types:n}=Tu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===vk?i+=Dc(s[o]):a===xk?i+=Wt.transform(s[o]):i+=s[o]}return i}}const d$=t=>typeof t=="number"?0:Wt.test(t)?Wt.getAnimatableNone(t):t;function f$(t){const e=wk(t);return bk(t)(e.map(d$))}const Mi={test:a$,parse:wk,createTransformer:bk,getAnimatableNone:f$};function Vp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function h$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Vp(l,a,t+1/3),i=Vp(l,a,t),o=Vp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function bh(t,e){return n=>n>0?e:t}const yt=(t,e,n)=>t+(e-t)*n,Lp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},m$=[Cy,bo,ka],p$=t=>m$.find(e=>e.test(t));function b2(t){const e=p$(t);if(!e)return!1;let n=e.parse(t);return e===ka&&(n=h$(n)),n}const S2=(t,e)=>{const n=b2(t),r=b2(e);if(!n||!r)return bh(t,e);const s={...n};return i=>(s.red=Lp(n.red,r.red,i),s.green=Lp(n.green,r.green,i),s.blue=Lp(n.blue,r.blue,i),s.alpha=yt(n.alpha,r.alpha,i),bo.transform(s))},Iy=new Set(["none","hidden"]);function g$(t,e){return Iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function y$(t,e){return n=>yt(t,e,n)}function Rx(t){return typeof t=="number"?y$:typeof t=="string"?kx(t)?bh:Wt.test(t)?S2:w$:Array.isArray(t)?Sk:typeof t=="object"?Wt.test(t)?S2:v$:bh}function Sk(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Rx(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function v$(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Rx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function x$(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const w$=(t,e)=>{const n=Mi.createTransformer(e),r=Tu(t),s=Tu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Iy.has(t)&&!s.values.length||Iy.has(e)&&!r.values.length?g$(t,e):ed(Sk(x$(r,s),s.values),n):bh(t,e)};function Ek(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):Rx(t)(t,e)}const b$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>zs(e),now:()=>hn.isProcessing?hn.timestamp:qn.now()}},Tk=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Sh=2e4;function Dx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Sh;)e+=n,r=t.next(e);return e>=Sh?1/0:e}function _k(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Dx(r),Sh);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Tr(s)}}const S$=5;function Pk(t,e,n){const r=Math.max(e-S$,0);return nk(n-t(r),e-r)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Op=.001;function E$({duration:t=Nt.duration,bounce:e=Nt.bounce,velocity:n=Nt.velocity,mass:r=Nt.mass}){let s,i,o=1-e;o=$s(Nt.minDamping,Nt.maxDamping,o),t=$s(Nt.minDuration,Nt.maxDuration,Tr(t)),o<1?(s=c=>{const u=c*o,h=u*t,m=u-n,p=ky(c,o),S=Math.exp(-h);return Op-m/p*S},i=c=>{const h=c*o*t,m=h*n+n,p=Math.pow(o,2)*Math.pow(c,2)*t,S=Math.exp(-h),E=ky(Math.pow(c,2),o);return(-s(c)+Op>0?-1:1)*((m-p)*S)/E}):(s=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-Op+u*h},i=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=_$(s,i,a);if(t=Kr(t),isNaN(l))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const T$=12;function _$(t,e,n){let r=n;for(let s=1;s<T$;s++)r=r-t(r)/e(r);return r}function ky(t,e){return t*Math.sqrt(1-e*e)}const P$=["duration","bounce"],A$=["stiffness","damping","mass"];function E2(t,e){return e.some(n=>t[n]!==void 0)}function C$(t){let e={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...t};if(!E2(t,A$)&&E2(t,P$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$s(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Nt.mass,stiffness:s,damping:i}}else{const n=E$(t);e={...e,...n,mass:Nt.mass},e.isResolvedFromDuration=!0}return e}function _u(t=Nt.visualDuration,e=Nt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:h,velocity:m,isResolvedFromDuration:p}=C$({...n,velocity:-Tr(n.velocity||0)}),S=m||0,E=c/(2*Math.sqrt(l*u)),P=o-i,v=Tr(Math.sqrt(l/u)),y=Math.abs(P)<5;r||(r=y?Nt.restSpeed.granular:Nt.restSpeed.default),s||(s=y?Nt.restDelta.granular:Nt.restDelta.default);let T;if(E<1){const C=ky(v,E);T=L=>{const x=Math.exp(-E*v*L);return o-x*((S+E*v*P)/C*Math.sin(C*L)+P*Math.cos(C*L))}}else if(E===1)T=C=>o-Math.exp(-v*C)*(P+(S+v*P)*C);else{const C=v*Math.sqrt(E*E-1);T=L=>{const x=Math.exp(-E*v*L),w=Math.min(C*L,300);return o-x*((S+E*v*P)*Math.sinh(w)+C*P*Math.cosh(w))/C}}const R={calculatedDuration:p&&h||null,next:C=>{const L=T(C);if(p)a.done=C>=h;else{let x=C===0?S:0;E<1&&(x=C===0?Kr(S):Pk(T,C,L));const w=Math.abs(x)<=r,A=Math.abs(o-L)<=s;a.done=w&&A}return a.value=a.done?o:L,a},toString:()=>{const C=Math.min(Dx(R),Sh),L=Tk(x=>R.next(C*x).value,C,30);return C+"ms "+L},toTransition:()=>{}};return R}_u.applyToOptions=t=>{const e=_k(t,100,_u);return t.ease=e.ease,t.duration=Kr(e.duration),t.type="keyframes",t};function Ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},p=w=>a!==void 0&&w<a||l!==void 0&&w>l,S=w=>a===void 0?l:l===void 0||Math.abs(a-w)<Math.abs(l-w)?a:l;let E=n*e;const P=h+E,v=o===void 0?P:o(P);v!==P&&(E=v-h);const y=w=>-E*Math.exp(-w/r),T=w=>v+y(w),R=w=>{const A=y(w),N=T(w);m.done=Math.abs(A)<=c,m.value=m.done?v:N};let C,L;const x=w=>{p(m.value)&&(C=w,L=_u({keyframes:[m.value,S(m.value)],velocity:Pk(T,w,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:w=>{let A=!1;return!L&&C===void 0&&(A=!0,R(w),x(w)),C!==void 0&&w>=C?L.next(w-C):(!A&&R(w),m)}}}function I$(t,e,n){const r=[],s=n||Bs.mix||Ek,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Pr:e;a=ed(l,a)}r.push(a)}return r}function Ak(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Tx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=I$(e,r,s),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=hl(t[h],t[h+1],u);return a[h](m)};return n?u=>c($s(t[0],t[i-1],u)):c}function Ck(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=hl(0,e,r);t.push(yt(n,1,s))}}function Ik(t){const e=[0];return Ck(e,t.length-1),e}function k$(t,e){return t.map(n=>n*e)}function N$(t,e){return t.map(()=>e||dk).splice(0,t.length-1)}function Mc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=fk(r)?r.map(v2):v2(r),i={done:!1,value:e[0]},o=k$(n&&n.length===e.length?n:Ik(e),t),a=Ak(o,e,{ease:Array.isArray(s)?s:N$(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const j$=t=>t!==null;function Mx(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(j$),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const R$={decay:Ny,inertia:Ny,tween:Mc,keyframes:Mc,spring:_u};function kk(t){typeof t.type=="string"&&(t.type=R$[t.type])}class Vx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const D$=t=>t/100;class Lx extends Vx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==qn.now()&&this.tick(qn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;kk(e);const{type:n=Mc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Mc;l!==Mc&&typeof a[0]!="number"&&(this.mixKeyframes=ed(D$,Ek(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Dx(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:p,type:S,onUpdate:E,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?v<0:v>s;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,R=r;if(h){const w=Math.min(this.currentTime,s)/a;let A=Math.floor(w),N=w%1;!N&&w>=1&&(N=1),N===1&&A--,A=Math.min(A,h+1),!!(A%2)&&(m==="reverse"?(N=1-N,p&&(N-=p/a)):m==="mirror"&&(R=o)),T=$s(0,1,N)*a}const C=y?{done:!1,value:u[0]}:R.next(T);i&&(C.value=i(C.value));let{done:L}=C;!y&&l!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return x&&S!==Ny&&(C.value=Mx(u,this.options,P,this.speed)),E&&E(C.value),x&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Tr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tr(e)}get time(){return Tr(this.currentTime)}set time(e){var n;e=Kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(qn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Tr(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=b$,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(qn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function M$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const So=t=>t*180/Math.PI,jy=t=>{const e=So(Math.atan2(t[1],t[0]));return Ry(e)},V$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jy,rotateZ:jy,skewX:t=>So(Math.atan(t[1])),skewY:t=>So(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ry=t=>(t=t%360,t<0&&(t+=360),t),T2=jy,_2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),P2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),L$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:_2,scaleY:P2,scale:t=>(_2(t)+P2(t))/2,rotateX:t=>Ry(So(Math.atan2(t[6],t[5]))),rotateY:t=>Ry(So(Math.atan2(-t[2],t[0]))),rotateZ:T2,rotate:T2,skewX:t=>So(Math.atan(t[4])),skewY:t=>So(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Dy(t){return t.includes("scale")?1:0}function My(t,e){if(!t||t==="none")return Dy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=L$,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=V$,s=a}if(!s)return Dy(e);const i=r[e],o=s[1].split(",").map(F$);return typeof i=="function"?i(o):o[i]}const O$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return My(n,e)};function F$(t){return parseFloat(t.trim())}const Nl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jl=new Set(Nl),A2=t=>t===kl||t===_e,$$=new Set(["x","y","z"]),B$=Nl.filter(t=>!$$.has(t));function z$(t){const e=[];return B$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Io={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>My(e,"x"),y:(t,{transform:e})=>My(e,"y")};Io.translateX=Io.x;Io.translateY=Io.y;const ko=new Set;let Vy=!1,Ly=!1,Oy=!1;function Nk(){if(Ly){const t=Array.from(ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=z$(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ly=!1,Vy=!1,ko.forEach(t=>t.complete(Oy)),ko.clear()}function jk(){ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ly=!0)})}function U$(){Oy=!0,jk(),Nk(),Oy=!1}class Ox{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ko.add(this),Vy||(Vy=!0,dt.read(jk),dt.resolveKeyframes(Nk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}M$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ko.delete(this)}cancel(){this.state==="scheduled"&&(ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const H$=t=>t.startsWith("--");function W$(t,e,n){H$(e)?t.style.setProperty(e,n):t.style[e]=n}const K$=_x(()=>window.ScrollTimeline!==void 0),q$={};function G$(t,e){const n=_x(t);return()=>q$[e]??n()}const Rk=G$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,C2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pc([0,.65,.55,1]),circOut:pc([.55,0,1,.45]),backIn:pc([.31,.01,.66,-.59]),backOut:pc([.33,1.53,.69,.99])};function Dk(t,e){if(t)return typeof t=="function"?Rk()?Tk(t,e):"ease-out":mk(t)?pc(t):Array.isArray(t)?t.map(n=>Dk(n,e)||C2.easeOut):C2[t]}function Y$(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const h=Dk(a,s);Array.isArray(h)&&(u.easing=h);const m={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(u,m)}function Fx(t){return typeof t=="function"&&"applyToOptions"in t}function X$({type:t,...e}){return Fx(t)&&Rk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q$ extends Vx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Tx(typeof e.type!="string");const c=X$(e);this.animation=Y$(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Mx(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):W$(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Tr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tr(e)}get time(){return Tr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&K$()?(this.animation.timeline=e,Pr):n(this)}}const Mk={anticipate:lk,backInOut:ak,circInOut:uk};function J$(t){return t in Mk}function Z$(t){typeof t.ease=="string"&&J$(t.ease)&&(t.ease=Mk[t.ease])}const I2=10;class e9 extends Q${constructor(e){Z$(e),kk(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Lx({...o,autoplay:!1}),l=Kr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-I2).value,a.sample(l).value,I2),a.stop()}}const k2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mi.test(t)||t==="0")&&!t.startsWith("url("));function t9(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function n9(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=k2(s,e),a=k2(i,e);return!o||!a?!1:t9(t)||(n==="spring"||Fx(n))&&r}function Fy(t){t.duration=0,t.type="keyframes"}const r9=new Set(["opacity","clipPath","filter","transform"]),s9=_x(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i9(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return s9()&&n&&r9.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const o9=40;class a9 extends Vx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){var S;super(),this.stop=()=>{var E,P;this._animation&&(this._animation.stop(),(E=this.stopTimeline)==null||E.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=qn.now();const m={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:u,...h},p=(u==null?void 0:u.KeyframeResolver)||Ox;this.keyframeResolver=new p(a,(E,P,v)=>this.onKeyframesResolved(E,P,m,!v),l,c,u),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=qn.now(),n9(e,i,o,a)||((Bs.instantAnimations||!l)&&(u==null||u(Mx(e,r,n))),e[0]=e[e.length-1],Fy(r),r.repeat=0);const m={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>o9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!c&&i9(m)?new e9({...m,element:m.motionValue.owner.current}):new Lx(m);p.finished.then(()=>this.notifyFinished()).catch(Pr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),U$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}class l9{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>r.attachTimeline(e));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return N2(this.animations,"duration")}get iterationDuration(){return N2(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function N2(t,e){let n=0;for(let r=0;r<t.length;r++){const s=t[r][e];s!==null&&s>n&&(n=s)}return n}class c9 extends l9{then(e,n){return this.finished.finally(e).then(()=>{})}}const u9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d9(t){const e=u9.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Vk(t,e,n=1){const[r,s]=d9(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return ZI(o)?parseFloat(o):o}return kx(s)?Vk(s,e,n+1):s}function $x(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Lk=new Set(["width","height","top","left","right","bottom",...Nl]),f9={test:t=>t==="auto",parse:t=>t},Ok=t=>e=>e.test(t),Fk=[kl,_e,us,ai,i$,s$,f9],j2=t=>Fk.find(Ok(t));function h9(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tk(t):!0}const m9=new Set(["brightness","contrast","saturate","opacity"]);function p9(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Nx)||[];if(!r)return t;const s=n.replace(r,"");let i=m9.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const g9=/\b([a-z-]*)\(.*?\)/gu,$y={...Mi,getAnimatableNone:t=>{const e=t.match(g9);return e?e.map(p9).join(" "):t}},R2={...kl,transform:Math.round},y9={rotate:ai,rotateX:ai,rotateY:ai,rotateZ:ai,scale:Wd,scaleX:Wd,scaleY:Wd,scaleZ:Wd,skew:ai,skewX:ai,skewY:ai,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:Eu,originX:x2,originY:x2,originZ:_e},Bx={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e,...y9,zIndex:R2,fillOpacity:Eu,strokeOpacity:Eu,numOctaves:R2},v9={...Bx,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:$y,WebkitFilter:$y},$k=t=>v9[t];function Bk(t,e){let n=$k(t);return n!==$y&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const x9=new Set(["auto","none","0"]);function w9(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!x9.has(i)&&Tu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Bk(n,s)}class b9 extends Ox{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),kx(c))){const u=Vk(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Lk.has(r)||e.length!==2)return;const[s,i]=e,o=j2(s),a=j2(i);if(o!==a)if(A2(o)&&A2(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Io[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||h9(e[s]))&&r.push(s);r.length&&w9(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Io[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Io[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function zk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Uk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function S9(t){return ek(t)&&"offsetHeight"in t}const D2=30,E9=t=>!isNaN(parseFloat(t)),Vc={current:void 0};class T9{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=qn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E9(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Px);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Vc.current&&Vc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>D2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,D2);return nk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Fo(t,e){return new T9(t,e)}const{schedule:zx}=pk(queueMicrotask,!1),Vr={x:!1,y:!1};function Hk(){return Vr.x||Vr.y}function _9(t){return t==="x"||t==="y"?Vr[t]?null:(Vr[t]=!0,()=>{Vr[t]=!1}):Vr.x||Vr.y?null:(Vr.x=Vr.y=!0,()=>{Vr.x=Vr.y=!1})}function Wk(t,e){const n=zk(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function M2(t){return!(t.pointerType==="touch"||Hk())}function P9(t,e,n={}){const[r,s,i]=Wk(t,n),o=a=>{if(!M2(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=h=>{M2(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Kk=(t,e)=>e?t===e?!0:Kk(t,e.parentElement):!1,Ux=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,A9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C9(t){return A9.has(t.tagName)||t.tabIndex!==-1}const _f=new WeakSet;function V2(t){return e=>{e.key==="Enter"&&t(e)}}function Fp(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const I9=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=V2(()=>{if(_f.has(n))return;Fp(n,"down");const s=V2(()=>{Fp(n,"up")}),i=()=>Fp(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function L2(t){return Ux(t)&&!Hk()}function k9(t,e,n={}){const[r,s,i]=Wk(t,n),o=a=>{const l=a.currentTarget;if(!L2(a))return;_f.add(l);const c=e(l,a),u=(p,S)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),_f.has(l)&&_f.delete(l),L2(p)&&typeof c=="function"&&c(p,{success:S})},h=p=>{u(p,l===window||l===document||n.useGlobalTarget||Kk(l,p.target))},m=p=>{u(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),S9(a)&&(a.addEventListener("focus",c=>I9(c,s)),!C9(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Hx(t){return ek(t)&&"ownerSVGElement"in t}function qk(t){return Hx(t)&&t.tagName==="svg"}function Pf(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],a=Ak(s,i,o);return e?a(r):a}const an=t=>!!(t&&t.getVelocity),N9=[...Fk,Wt,Mi],j9=t=>N9.find(Ok(t)),Wx=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function R9(t=!0){const e=_.useContext(Sx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=_.useId();_.useEffect(()=>{if(t)return s(i)},[t]);const o=_.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Gk=_.createContext({strict:!1}),O2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ml={};for(const t in O2)ml[t]={isEnabled:e=>O2[t].some(n=>!!e[n])};function D9(t){for(const e in t)ml[e]={...ml[e],...t[e]}}const M9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||M9.has(t)}let Yk=t=>!Eh(t);function V9(t){typeof t=="function"&&(Yk=e=>e.startsWith("on")?!Eh(e):t(e))}try{V9(require("@emotion/is-prop-valid").default)}catch{}function L9(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Yk(s)||n===!0&&Eh(s)||!e&&!Eh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const mm=_.createContext({});function pm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Pu(t){return typeof t=="string"||Array.isArray(t)}const Kx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qx=["initial",...Kx];function gm(t){return pm(t.animate)||qx.some(e=>Pu(t[e]))}function Xk(t){return!!(gm(t)||t.variants)}function O9(t,e){if(gm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function F9(t){const{initial:e,animate:n}=O9(t,_.useContext(mm));return _.useMemo(()=>({initial:e,animate:n}),[F2(e),F2(n)])}function F2(t){return Array.isArray(t)?t.join(" "):t}const Au={};function $9(t){for(const e in t)Au[e]=t[e],Ix(e)&&(Au[e].isCSSVariable=!0)}function Qk(t,{layout:e,layoutId:n}){return jl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Au[t]||t==="opacity")}const B9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},z9=Nl.length;function U9(t,e,n){let r="",s=!0;for(let i=0;i<z9;i++){const o=Nl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Uk(a,Bx[o]);if(!l){s=!1;const u=B9[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Gx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(jl.has(l)){o=!0;continue}else if(Ix(l)){s[l]=c;continue}else{const u=Uk(c,Bx[l]);l.startsWith("origin")?(a=!0,i[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=U9(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${c} ${u}`}}const Yx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jk(t,e,n){for(const r in e)!an(e[r])&&!Qk(r,n)&&(t[r]=e[r])}function H9({transformTemplate:t},e){return _.useMemo(()=>{const n=Yx();return Gx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function W9(t,e){const n=t.style||{},r={};return Jk(r,n,t),Object.assign(r,H9(t,e)),r}function K9(t,e){const n={},r=W9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const q9={offset:"stroke-dashoffset",array:"stroke-dasharray"},G9={offset:"strokeDashoffset",array:"strokeDasharray"};function Y9(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?q9:G9;t[i.offset]=_e.transform(-r);const o=_e.transform(e),a=_e.transform(n);t[i.array]=`${o} ${a}`}function Zk(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,u){if(Gx(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),s!==void 0&&Y9(h,s,i,o,!1)}const eN=()=>({...Yx(),attrs:{}}),tN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function X9(t,e,n,r){const s=_.useMemo(()=>{const i=eN();return Zk(i,e,tN(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Jk(i,t.style,t),s.style={...i,...s.style}}return s}const Q9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xx(t){return typeof t!="string"||t.includes("-")?!1:!!(Q9.indexOf(t)>-1||/[A-Z]/u.test(t))}function J9(t,e,n,{latestValues:r},s,i=!1){const a=(Xx(t)?X9:K9)(e,r,s,t),l=L9(e,typeof t=="string",i),c=t!==_.Fragment?{...l,...a,ref:n}:{},{children:u}=e,h=_.useMemo(()=>an(u)?u.get():u,[u]);return _.createElement(t,{...c,children:h})}function $2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Qx(t,e,n,r){if(typeof e=="function"){const[s,i]=$2(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=$2(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Af(t){return an(t)?t.get():t}function Z9({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:e7(n,r,s,t),renderState:e()}}function e7(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Af(i[m]);let{initial:o,animate:a}=t;const l=gm(t),c=Xk(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!pm(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const S=Qx(t,m[p]);if(S){const{transitionEnd:E,transition:P,...v}=S;for(const y in v){let T=v[y];if(Array.isArray(T)){const R=u?T.length-1:0;T=T[R]}T!==null&&(s[y]=T)}for(const y in E)s[y]=E[y]}}}return s}const nN=t=>(e,n)=>{const r=_.useContext(mm),s=_.useContext(Sx),i=()=>Z9(t,e,r,s);return n?i():wx(i)};function Jx(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(an(r[o])||e.style&&an(e.style[o])||Qk(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const t7=nN({scrapeMotionValuesFromProps:Jx,createRenderState:Yx});function rN(t,e,n){const r=Jx(t,e,n);for(const s in t)if(an(t[s])||an(e[s])){const i=Nl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const n7=nN({scrapeMotionValuesFromProps:rN,createRenderState:eN}),r7=Symbol.for("motionComponentSymbol");function Na(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function s7(t,e,n){return _.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Na(n)&&(n.current=r))},[e])}const Zx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i7="framerAppearId",sN="data-"+Zx(i7),iN=_.createContext({});function o7(t,e,n,r,s){var E,P;const{visualElement:i}=_.useContext(mm),o=_.useContext(Gk),a=_.useContext(Sx),l=_.useContext(Wx).reducedMotion,c=_.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=_.useContext(iN);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&a7(c.current,n,s,h);const m=_.useRef(!1);_.useInsertionEffect(()=>{u&&m.current&&u.update(n,a)});const p=n[sN],S=_.useRef(!!p&&!((E=window.MotionHandoffIsComplete)!=null&&E.call(window,p))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,p)));return JI(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),S.current&&u.animationState&&u.animationState.animateChanges())}),_.useEffect(()=>{u&&(!S.current&&u.animationState&&u.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),S.current=!1),u.enteringChildren=void 0)}),u}function a7(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oN(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Na(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function oN(t){if(t)return t.options.allowProjection!==!1?t.projection:oN(t.parent)}function $p(t,{forwardMotionProps:e=!1}={},n,r){n&&D9(n);const s=Xx(t)?n7:t7;function i(a,l){let c;const u={..._.useContext(Wx),...a,layoutId:l7(a)},{isStatic:h}=u,m=F9(a),p=s(a,h);if(!h&&bx){c7();const S=u7(u);c=S.MeasureLayout,m.visualElement=o7(t,p,u,r,S.ProjectionNode)}return f.jsxs(mm.Provider,{value:m,children:[c&&m.visualElement?f.jsx(c,{visualElement:m.visualElement,...u}):null,J9(t,a,s7(p,m.visualElement,l),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=_.forwardRef(i);return o[r7]=t,o}function l7({layoutId:t}){const e=_.useContext(QI).id;return e&&t!==void 0?e+"-"+t:t}function c7(t,e){_.useContext(Gk).strict}function u7(t){const{drag:e,layout:n}=ml;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function d7(t,e){if(typeof Proxy>"u")return $p;const n=new Map,r=(i,o)=>$p(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,$p(o,void 0,t,e)),n.get(o))})}function aN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function f7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function h7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bp(t){return t===void 0||t===1}function By({scale:t,scaleX:e,scaleY:n}){return!Bp(t)||!Bp(e)||!Bp(n)}function co(t){return By(t)||lN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lN(t){return B2(t.x)||B2(t.y)}function B2(t){return t&&t!=="0%"}function Th(t,e,n){const r=t-n,s=e*r;return n+s}function z2(t,e,n,r,s){return s!==void 0&&(t=Th(t,s,r)),Th(t,n,r)+e}function zy(t,e=0,n=1,r,s){t.min=z2(t.min,e,n,r,s),t.max=z2(t.max,e,n,r,s)}function cN(t,{x:e,y:n}){zy(t.x,e.translate,e.scale,e.originPoint),zy(t.y,n.translate,n.scale,n.originPoint)}const U2=.999999999999,H2=1.0000000000001;function m7(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ra(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,cN(t,o)),r&&co(i.latestValues)&&Ra(t,i.latestValues))}e.x<H2&&e.x>U2&&(e.x=1),e.y<H2&&e.y>U2&&(e.y=1)}function ja(t,e){t.min=t.min+e,t.max=t.max+e}function W2(t,e,n,r,s=.5){const i=yt(t.min,t.max,s);zy(t,e,n,i,r)}function Ra(t,e){W2(t.x,e.x,e.scaleX,e.scale,e.originX),W2(t.y,e.y,e.scaleY,e.scale,e.originY)}function uN(t,e){return aN(h7(t.getBoundingClientRect(),e))}function p7(t,e,n){const r=uN(t,n),{scroll:s}=e;return s&&(ja(r.x,s.offset.x),ja(r.y,s.offset.y)),r}const K2=()=>({translate:0,scale:1,origin:0,originPoint:0}),Da=()=>({x:K2(),y:K2()}),q2=()=>({min:0,max:0}),It=()=>({x:q2(),y:q2()}),_h={current:null},e1={current:!1};function dN(){if(e1.current=!0,!!bx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_h.current=t.matches;t.addEventListener("change",e),e()}else _h.current=!1}const Cu=new WeakMap;function g7(t,e,n){for(const r in e){const s=e[r],i=n[r];if(an(s))t.addValue(r,s);else if(an(i))t.addValue(r,Fo(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Fo(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const G2=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ox,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=qn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=gm(n),this.isVariantNode=Xk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];l[m]!==void 0&&an(p)&&p.set(l[m])}}mount(e){var n;this.current=e,Cu.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),e1.current||dN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_h.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zs(this.notifyUpdate),zs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ml){const n=ml[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<G2.length;r++){const s=G2[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=g7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Fo(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(ZI(r)||tk(r))?r=parseFloat(r):!j9(r)&&Mi.test(n)&&(r=Bk(e,n)),this.setBaseTarget(e,an(r)?r.get():r)),an(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Qx(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!an(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Px),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zx.render(this.render)}}class hN extends fN{constructor(){super(...arguments),this.KeyframeResolver=b9}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;an(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mN(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function y7(t){return window.getComputedStyle(t)}class pN extends hN{constructor(){super(...arguments),this.type="html",this.renderInstance=mN}readValueFromInstance(e,n){var r;if(jl.has(n))return(r=this.projection)!=null&&r.isProjecting?Dy(n):O$(e,n);{const s=y7(e),i=(Ix(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uN(e,n)}build(e,n,r){Gx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Jx(e,n,r)}}const gN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v7(t,e,n,r){mN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(gN.has(s)?s:Zx(s),e.attrs[s])}class yN extends hN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jl.has(n)){const r=$k(n);return r&&r.default||0}return n=gN.has(n)?n:Zx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return rN(e,n,r)}build(e,n,r){Zk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){v7(e,n,r,s)}mount(e){this.isSVGTag=tN(e.tagName),super.mount(e)}}const x7=(t,e)=>Xx(t)?new yN(e):new pN(e,{allowProjection:t!==_.Fragment});function Ga(t,e,n){const r=t.getProps();return Qx(r,e,n!==void 0?n:r.custom,t)}const Uy=t=>Array.isArray(t);function w7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Fo(n))}function b7(t){return Uy(t)?t[t.length-1]||0:t}function S7(t,e){const n=Ga(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=b7(i[o]);w7(t,o,a)}}function E7(t){return!!(an(t)&&t.add)}function Hy(t,e){const n=t.getValue("willChange");if(E7(n))return n.add(e);if(!n&&Bs.WillChange){const r=new Bs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function vN(t){return t.props[sN]}const T7=t=>t!==null;function _7(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(T7),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const P7={type:"spring",stiffness:500,damping:25,restSpeed:10},A7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),C7={type:"keyframes",duration:.8},I7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k7=(t,{keyframes:e})=>e.length>2?C7:jl.has(t)?t.startsWith("scale")?A7(e[1]):P7:I7;function N7({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const t1=(t,e,n,r={},s,i)=>o=>{const a=$x(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Kr(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};N7(a)||Object.assign(u,k7(t,u)),u.duration&&(u.duration=Kr(u.duration)),u.repeatDelay&&(u.repeatDelay=Kr(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Fy(u),u.delay===0&&(h=!0)),(Bs.instantAnimations||Bs.skipAnimations)&&(h=!0,Fy(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!i&&e.get()!==void 0){const m=_7(u.keyframes,a);if(m!==void 0){dt.update(()=>{u.onUpdate(m),u.onComplete()});return}}return a.isSync?new Lx(u):new a9(u)};function j7({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function n1(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const u in a){const h=t.getValue(u,t.latestValues[u]??null),m=a[u];if(m===void 0||c&&j7(c,u))continue;const p={delay:n,...$x(i||{},u)},S=h.get();if(S!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===S&&!p.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const v=vN(t);if(v){const y=window.MotionHandoffAnimation(v,u,dt);y!==null&&(p.startTime=y,E=!0)}}Hy(t,u),h.start(t1(u,h,m,t.shouldReduceMotion&&Lk.has(u)?{type:!1}:p,t,E));const P=h.animation;P&&l.push(P)}return o&&Promise.all(l).then(()=>{dt.update(()=>{o&&S7(t,o)})}),l}function xN(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function Wy(t,e,n={}){var l;const r=Ga(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(n1(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=s;return R7(t,e,c,u,h,m,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function R7(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Wy(l,e,{...o,delay:n+(typeof r=="function"?0:r)+xN(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function D7(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Wy(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Wy(t,e,n);else{const s=typeof e=="function"?Ga(t,e,n.custom):e;r=Promise.all(n1(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const M7=qx.length;function bN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?bN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<M7;n++){const r=qx[n],s=t.props[r];(Pu(s)||s===!1)&&(e[r]=s)}return e}const V7=[...Kx].reverse(),L7=Kx.length;function O7(t){return e=>Promise.all(e.map(({animation:n,options:r})=>D7(t,n,r)))}function F7(t){let e=O7(t),n=Y2(),r=!0;const s=l=>(c,u)=>{var m;const h=Ga(t,u,l==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:p,transitionEnd:S,...E}=h;c={...c,...E,...S}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,u=bN(t.parent)||{},h=[],m=new Set;let p={},S=1/0;for(let P=0;P<L7;P++){const v=V7[P],y=n[v],T=c[v]!==void 0?c[v]:u[v],R=Pu(T),C=v===l?y.isActive:null;C===!1&&(S=P);let L=T===u[v]&&T!==c[v]&&R;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),y.protectedKeys={...p},!y.isActive&&C===null||!T&&!y.prevProp||pm(T)||typeof T=="boolean")continue;const x=$7(y.prevProp,T);let w=x||v===l&&y.isActive&&!L&&R||P>S&&R,A=!1;const N=Array.isArray(T)?T:[T];let D=N.reduce(s(v),{});C===!1&&(D={});const{prevResolvedValues:V={}}=y,k={...V,...D},U=J=>{w=!0,m.has(J)&&(A=!0,m.delete(J)),y.needsAnimating[J]=!0;const F=t.getValue(J);F&&(F.liveStyle=!1)};for(const J in k){const F=D[J],B=V[J];if(p.hasOwnProperty(J))continue;let G=!1;Uy(F)&&Uy(B)?G=!wN(F,B):G=F!==B,G?F!=null?U(J):m.add(J):F!==void 0&&m.has(J)?U(J):y.protectedKeys[J]=!0}y.prevProp=T,y.prevResolvedValues=D,y.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(w=!1);const te=L&&x;w&&(!te||A)&&h.push(...N.map(J=>{const F={type:v};if(typeof J=="string"&&r&&!te&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,G=Ga(B,J);if(B.enteringChildren&&G){const{delayChildren:X}=G.transition||{};F.delay=xN(B.enteringChildren,t,X)}}return{animation:J,options:F}}))}if(m.size){const P={};if(typeof c.initial!="boolean"){const v=Ga(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(P.transition=v.transition)}m.forEach(v=>{const y=t.getBaseTarget(v),T=t.getValue(v);T&&(T.liveStyle=!0),P[v]=y??null}),h.push({animation:P})}let E=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(h):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(m=>{var p;return(p=m.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Y2()}}}function $7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wN(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y2(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class Xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class B7 extends Xi{constructor(e){super(e),e.animationState||(e.animationState=F7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let z7=0;class U7 extends Xi{constructor(){super(...arguments),this.id=z7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const H7={animation:{Feature:B7},exit:{Feature:U7}};function Iu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function rd(t){return{point:{x:t.pageX,y:t.pageY}}}const W7=t=>e=>Ux(e)&&t(e,rd(e));function Lc(t,e,n,r){return Iu(t,e,W7(n),r)}const SN=1e-4,K7=1-SN,q7=1+SN,EN=.01,G7=0-EN,Y7=0+EN;function Dn(t){return t.max-t.min}function X7(t,e,n){return Math.abs(t-e)<=n}function X2(t,e,n,r=.5){t.origin=r,t.originPoint=yt(e.min,e.max,t.origin),t.scale=Dn(n)/Dn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=K7&&t.scale<=q7||isNaN(t.scale))&&(t.scale=1),(t.translate>=G7&&t.translate<=Y7||isNaN(t.translate))&&(t.translate=0)}function Oc(t,e,n,r){X2(t.x,e.x,n.x,r?r.originX:void 0),X2(t.y,e.y,n.y,r?r.originY:void 0)}function Q2(t,e,n){t.min=n.min+e.min,t.max=t.min+Dn(e)}function Q7(t,e,n){Q2(t.x,e.x,n.x),Q2(t.y,e.y,n.y)}function J2(t,e,n){t.min=e.min-n.min,t.max=t.min+Dn(e)}function Fc(t,e,n){J2(t.x,e.x,n.x),J2(t.y,e.y,n.y)}function xr(t){return[t("x"),t("y")]}const TN=({current:t})=>t?t.ownerDocument.defaultView:null,Z2=(t,e)=>Math.abs(t-e);function J7(t,e){const n=Z2(t.x,e.x),r=Z2(t.y,e.y);return Math.sqrt(n**2+r**2)}class _N{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Up(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,S=J7(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!S)return;const{point:E}=m,{timestamp:P}=hn;this.history.push({...E,timestamp:P});const{onStart:v,onMove:y}=this.handlers;p||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=zp(p,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Up(m.type==="pointercancel"?this.lastMoveEventInfo:zp(p,this.transformPagePoint),this.history);this.startEvent&&S&&S(m,v),E&&E(m,v)},!Ux(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=rd(e),l=zp(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=hn;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,Up(l,this.history)),this.removeListeners=ed(Lc(this.contextWindow,"pointermove",this.handlePointerMove),Lc(this.contextWindow,"pointerup",this.handlePointerUp),Lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zs(this.updatePoint)}}function zp(t,e){return e?{point:e(t.point)}:t}function eE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Up({point:t},e){return{point:t,delta:eE(t,PN(e)),offset:eE(t,Z7(e)),velocity:e8(e,.1)}}function Z7(t){return t[0]}function PN(t){return t[t.length-1]}function e8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=PN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Kr(e)));)n--;if(!r)return{x:0,y:0};const i=Tr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function t8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yt(n,t,r.max):Math.min(t,n)),t}function tE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function n8(t,{top:e,left:n,bottom:r,right:s}){return{x:tE(t.x,n,s),y:tE(t.y,e,r)}}function nE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function r8(t,e){return{x:nE(t.x,e.x),y:nE(t.y,e.y)}}function s8(t,e){let n=.5;const r=Dn(t),s=Dn(e);return s>r?n=hl(e.min,e.max-r,t.min):r>s&&(n=hl(t.min,t.max-s,e.min)),$s(0,1,n)}function i8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ky=.35;function o8(t=Ky){return t===!1?t=0:t===!0&&(t=Ky),{x:rE(t,"left","right"),y:rE(t,"top","bottom")}}function rE(t,e,n){return{min:sE(t,e),max:sE(t,n)}}function sE(t,e){return typeof t=="number"?t:t[e]||0}const a8=new WeakMap;class l8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rd(h).point)},o=(h,m)=>{const{drag:p,dragPropagation:S,onDragStart:E}=this.getProps();if(p&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_9(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xr(v=>{let y=this.getAxisMotionValue(v).get()||0;if(us.test(y)){const{projection:T}=this.visualElement;if(T&&T.layout){const R=T.layout.layoutBox[v];R&&(y=Dn(R)*(parseFloat(y)/100))}}this.originPoint[v]=y}),E&&dt.postRender(()=>E(h,m)),Hy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},a=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:S,onDirectionLock:E,onDrag:P}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=m;if(S&&this.currentDirection===null){this.currentDirection=c8(v),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),P&&P(h,m)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>xr(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new _N(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:TN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&dt.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Kd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=t8(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Na(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=n8(r.layoutBox,e):this.constraints=!1,this.elastic=o8(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=i8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Na(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=p7(r,s.root,this.visualElement.getTransformPagePoint());let o=r8(s.layout.layoutBox,i);if(n){const a=n(f7(o));this.hasMutatedConstraints=!!a,a&&(o=aN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xr(u=>{if(!Kd(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,S={type:"inertia",velocity:r?e[u]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,S)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Hy(this.visualElement,e),r.start(t1(e,r,0,n,this.visualElement,!1))}stopAnimation(){xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xr(n=>{const{drag:r}=this.getProps();if(!Kd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-yt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Na(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};xr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=s8({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xr(o=>{if(!Kd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(yt(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;a8.set(this.visualElement,this);const e=this.visualElement.current,n=Lc(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Na(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),dt.read(r);const o=Iu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ky,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Kd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function c8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class u8 extends Xi{constructor(e){super(e),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new l8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const iE=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class d8 extends Xi{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(e){this.session=new _N(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:iE(e),onStart:iE(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&dt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const n=oE(t,e.target.x),r=oE(t,e.target.y);return`${n}% ${r}%`}},f8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Mi.parse(t);if(s.length>5)return r;const i=Mi.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=yt(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let Hp=!1;class h8 extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;$9(m8),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Hp&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Hp=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||dt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Hp=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AN(t){const[e,n]=R9(),r=_.useContext(QI);return f.jsx(h8,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(iN),isPresent:e,safeToRemove:n})}const m8={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:f8};function CN(t,e,n){const r=an(t)?t:Fo(t);return r.start(t1("",r,e,n)),r.animation}const p8=(t,e)=>t.depth-e.depth;class g8{constructor(){this.children=[],this.isDirty=!1}add(e){Ex(this.children,e),this.isDirty=!0}remove(e){hm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(p8),this.isDirty=!1,this.children.forEach(e)}}function y8(t,e){const n=qn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(zs(r),t(i-e))};return dt.setup(r,!0),()=>zs(r)}const IN=["TopLeft","TopRight","BottomLeft","BottomRight"],v8=IN.length,aE=t=>typeof t=="string"?parseFloat(t):t,lE=t=>typeof t=="number"||_e.test(t);function x8(t,e,n,r,s,i){s?(t.opacity=yt(0,n.opacity??1,w8(r)),t.opacityExit=yt(e.opacity??1,0,b8(r))):i&&(t.opacity=yt(e.opacity??1,n.opacity??1,r));for(let o=0;o<v8;o++){const a=`border${IN[o]}Radius`;let l=cE(e,a),c=cE(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||lE(l)===lE(c)?(t[a]=Math.max(yt(aE(l),aE(c),r),0),(us.test(c)||us.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,r))}function cE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w8=kN(0,.5,ck),b8=kN(.5,.95,Pr);function kN(t,e,n){return r=>r<t?0:r>e?1:n(hl(t,e,r))}function uE(t,e){t.min=e.min,t.max=e.max}function yr(t,e){uE(t.x,e.x),uE(t.y,e.y)}function dE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function fE(t,e,n,r,s){return t-=e,t=Th(t,1/n,r),s!==void 0&&(t=Th(t,1/s,r)),t}function S8(t,e=0,n=1,r=.5,s,i=t,o=t){if(us.test(e)&&(e=parseFloat(e),e=yt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=yt(i.min,i.max,r);t===i&&(a-=e),t.min=fE(t.min,e,n,a,s),t.max=fE(t.max,e,n,a,s)}function hE(t,e,[n,r,s],i,o){S8(t,e[n],e[r],e[s],e.scale,i,o)}const E8=["x","scaleX","originX"],T8=["y","scaleY","originY"];function mE(t,e,n,r){hE(t.x,e,E8,n?n.x:void 0,r?r.x:void 0),hE(t.y,e,T8,n?n.y:void 0,r?r.y:void 0)}function pE(t){return t.translate===0&&t.scale===1}function NN(t){return pE(t.x)&&pE(t.y)}function gE(t,e){return t.min===e.min&&t.max===e.max}function _8(t,e){return gE(t.x,e.x)&&gE(t.y,e.y)}function yE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jN(t,e){return yE(t.x,e.x)&&yE(t.y,e.y)}function vE(t){return Dn(t.x)/Dn(t.y)}function xE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class P8{constructor(){this.members=[]}add(e){Ex(this.members,e),e.scheduleRender()}remove(e){if(hm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:m,skewX:p,skewY:S}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Wp=["","X","Y","Z"],C8=1e3;let I8=0;function Kp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RN(r)}function DN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=I8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j8),this.nodes.forEach(V8),this.nodes.forEach(L8),this.nodes.forEach(R8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new g8)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Px),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Hx(o)&&!qk(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=y8(m,250),Cf.hasAnimatedSinceResize&&(Cf.hasAnimatedSinceResize=!1,this.nodes.forEach(SE)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||c.getDefaultTransition()||z8,{onLayoutAnimationStart:E,onLayoutAnimationComplete:P}=c.getProps(),v=!this.targetLayout||!jN(this.targetLayout,p),y=!h&&m;if(this.options.layoutRoot||this.resumeFrom||y||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...$x(S,"layout"),onPlay:E,onComplete:P};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(u,y)}else h||SE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(M8),this.nodes.forEach(k8),this.nodes.forEach(N8)):this.nodes.forEach(bE),this.clearAllSnapshots();const a=qn.now();hn.delta=$s(0,1e3/60,a-hn.timestamp),hn.timestamp=a,hn.isProcessing=!0,Dp.update.process(hn),Dp.preRender.process(hn),Dp.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D8),this.sharedNodes.forEach(F8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!NN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||co(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),U8(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return It();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(H8))){const{scroll:u}=this.root;u&&(ja(a.x,u.offset.x),ja(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=It();if(yr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&yr(a,o),ja(a.x,h.offset.x),ja(a.y,h.offset.y))}return a}applyTransform(o,a=!1){const l=It();yr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ra(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),co(u.latestValues)&&Ra(l,u.latestValues)}return co(this.latestValues)&&Ra(l,this.latestValues),l}removeTransform(o){const a=It();yr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!co(c.latestValues))continue;By(c.latestValues)&&c.updateSnapshot();const u=It(),h=c.measurePageBox();yr(u,h),mE(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return co(this.latestValues)&&mE(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fc(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),cN(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Fc(this.relativeTargetOrigin,this.target,p.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||By(this.parent.latestValues)||lN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;yr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;m7(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=It());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dE(this.prevProjectionDelta.x,this.projectionDelta.x),dE(this.prevProjectionDelta.y,this.projectionDelta.y)),Oc(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!xE(this.projectionDelta.x,this.prevProjectionDelta.x)||!xE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Da(),this.projectionDelta=Da(),this.projectionDeltaWithTransform=Da()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=It(),p=l?l.source:void 0,S=this.layout?this.layout.source:void 0,E=p!==S,P=this.getStack(),v=!P||P.members.length<=1,y=!!(E&&!v&&this.options.crossfade===!0&&!this.path.some(B8));this.animationProgress=0;let T;this.mixTargetDelta=R=>{const C=R/1e3;EE(h.x,o.x,C),EE(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fc(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$8(this.relativeTarget,this.relativeTargetOrigin,m,C),T&&_8(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=It()),yr(T,this.relativeTarget)),E&&(this.animationValues=u,x8(u,c,this.latestValues,C,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Cf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Fo(0)),this.currentAnimation=CN(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&MN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||It();const h=Dn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=Dn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}yr(a,l),Ra(a,u),Oc(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new P8),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Kp("z",o,c,this.animationValues);for(let u=0;u<Wp.length;u++)Kp(`rotate${Wp[u]}`,o,c,this.animationValues),Kp(`skew${Wp[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Af(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Af(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=A8(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const S in Au){if(u[S]===void 0)continue;const{correct:E,applyTo:P,isCSSVariable:v}=Au[S],y=h==="none"?u[S]:E(u[S],c);if(P){const T=P.length;for(let R=0;R<T;R++)o[P[R]]=y}else v?this.options.visualElement.renderState.vars[S]=y:o[S]=y}this.options.layoutId&&(o.pointerEvents=c===this?Af(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(wE),this.root.sharedNodes.clear()}}}function k8(t){t.updateLayout()}function N8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?xr(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],p=Dn(m);m.min=r[h].min,m.max=m.min+p}):MN(i,e.layoutBox,r)&&xr(h=>{const m=o?e.measuredBox[h]:e.layoutBox[h],p=Dn(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Da();Oc(a,r,e.layoutBox);const l=Da();o?Oc(l,t.applyTransform(s,!0),e.measuredBox):Oc(l,r,e.layoutBox);const c=!NN(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const S=It();Fc(S,e.layoutBox,m.layoutBox);const E=It();Fc(E,r,p.layoutBox),jN(S,E)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=S,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function j8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function R8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function D8(t){t.clearSnapshot()}function wE(t){t.clearMeasurements()}function bE(t){t.isLayoutDirty=!1}function M8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V8(t){t.resolveTargetDelta()}function L8(t){t.calcProjection()}function O8(t){t.resetSkewAndRotation()}function F8(t){t.removeLeadSnapshot()}function EE(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TE(t,e,n,r){t.min=yt(e.min,n.min,r),t.max=yt(e.max,n.max,r)}function $8(t,e,n,r){TE(t.x,e.x,n.x,r),TE(t.y,e.y,n.y,r)}function B8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const z8={duration:.45,ease:[.4,0,.1,1]},_E=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),PE=_E("applewebkit/")&&!_E("chrome/")?Math.round:Pr;function AE(t){t.min=PE(t.min),t.max=PE(t.max)}function U8(t){AE(t.x),AE(t.y)}function MN(t,e,n){return t==="position"||t==="preserve-aspect"&&!X7(vE(e),vE(n),.2)}function H8(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const W8=DN({attachResizeListener:(t,e)=>Iu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qp={current:void 0},VN=DN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qp.current){const t=new W8({});t.mount(window),t.setOptions({layoutScroll:!0}),qp.current=t}return qp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),K8={pan:{Feature:d8},drag:{Feature:u8,ProjectionNode:VN,MeasureLayout:AN}};function CE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&dt.postRender(()=>i(e,rd(e)))}class q8 extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=P9(e,(n,r)=>(CE(this.node,r,"Start"),s=>CE(this.node,s,"End"))))}unmount(){}}class G8 extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ed(Iu(this.node.current,"focus",()=>this.onFocus()),Iu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function IE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&dt.postRender(()=>i(e,rd(e)))}class Y8 extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=k9(e,(n,r)=>(IE(this.node,r,"Start"),(s,{success:i})=>IE(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qy=new WeakMap,Gp=new WeakMap,X8=t=>{const e=qy.get(t.target);e&&e(t)},Q8=t=>{t.forEach(X8)};function J8({root:t,...e}){const n=t||document;Gp.has(n)||Gp.set(n,{});const r=Gp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Q8,{root:t,...e})),r[s]}function Z8(t,e,n){const r=J8(e);return qy.set(t,n),r.observe(t),()=>{qy.delete(t),r.unobserve(t)}}const eB={some:0,all:1};class tB extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:eB[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=c?u:h;m&&m(l)};return Z8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nB(e,n))&&this.startObserver()}unmount(){}}function nB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rB={inView:{Feature:tB},tap:{Feature:Y8},focus:{Feature:G8},hover:{Feature:q8}},sB={layout:{ProjectionNode:VN,MeasureLayout:AN}},iB={...H7,...rB,...K8,...sB},Us=d7(iB,x7);function Gy(t){const e=wx(()=>Fo(t)),{isStatic:n}=_.useContext(Wx);if(n){const[,r]=_.useState(t);_.useEffect(()=>e.on("change",r),[])}return e}function LN(t,e){const n=Gy(e()),r=()=>n.set(e());return r(),JI(()=>{const s=()=>dt.preRender(r,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),zs(r)}}),n}function oB(t){Vc.current=[],t();const e=LN(Vc.current,t);return Vc.current=void 0,e}function $c(t,e,n,r){if(typeof t=="function")return oB(t);const s=typeof e=="function"?e:Pf(e,n,r);return Array.isArray(t)?kE(t,s):kE([t],([i])=>s(i))}function kE(t,e){const n=wx(()=>[]);return LN(t,()=>{n.length=0;const r=t.length;for(let s=0;s<r;s++)n[s]=t[s].get();return e(n)})}function aB(){!e1.current&&dN();const[t]=_.useState(_h.current);return t}function r1(t){return typeof t=="object"&&!Array.isArray(t)}function ON(t,e,n,r){return typeof t=="string"&&r1(e)?zk(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function lB(t,e,n){return t*(e+1)}function NE(t,e,n,r){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):r.get(e)??t}function cB(t,e,n){for(let r=0;r<t.length;r++){const s=t[r];s.at>e&&s.at<n&&(hm(t,s),r--)}}function uB(t,e,n,r,s,i){cB(t,s,i);for(let o=0;o<e.length;o++)t.push({value:e[o],at:yt(s,i,r[o]),easing:hk(n,o)})}function dB(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function fB(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const hB="easeInOut";function mB(t,{defaultTransition:e={},...n}={},r,s){const i=e.duration||.3,o=new Map,a=new Map,l={},c=new Map;let u=0,h=0,m=0;for(let p=0;p<t.length;p++){const S=t[p];if(typeof S=="string"){c.set(S,h);continue}else if(!Array.isArray(S)){c.set(S.name,NE(h,S.at,u,c));continue}let[E,P,v={}]=S;v.at!==void 0&&(h=NE(h,v.at,u,c));let y=0;const T=(R,C,L,x=0,w=0)=>{const A=pB(R),{delay:N=0,times:D=Ik(A),type:V="keyframes",repeat:k,repeatType:U,repeatDelay:te=0,...Q}=C;let{ease:J=e.ease||"easeOut",duration:F}=C;const B=typeof N=="function"?N(x,w):N,G=A.length,X=Fx(V)?V:s==null?void 0:s[V||"keyframes"];if(G<=2&&X){let xe=100;if(G===2&&vB(A)){const et=A[1]-A[0];xe=Math.abs(et)}const Ie={...Q};F!==void 0&&(Ie.duration=Kr(F));const $e=_k(Ie,xe,X);J=$e.ease,F=$e.duration}F??(F=i);const se=h+B;D.length===1&&D[0]===0&&(D[1]=1);const ve=D.length-A.length;if(ve>0&&Ck(D,ve),A.length===1&&A.unshift(null),k){F=lB(F,k);const xe=[...A],Ie=[...D];J=Array.isArray(J)?[...J]:[J];const $e=[...J];for(let et=0;et<k;et++){A.push(...xe);for(let Gt=0;Gt<xe.length;Gt++)D.push(Ie[Gt]+(et+1)),J.push(Gt===0?"linear":hk($e,Gt-1))}dB(D,k)}const me=se+F;uB(L,A,J,D,se,me),y=Math.max(B+F,y),m=Math.max(me,m)};if(an(E)){const R=jE(E,a);T(P,v,RE("default",R))}else{const R=ON(E,P,r,l),C=R.length;for(let L=0;L<C;L++){P=P,v=v;const x=R[L],w=jE(x,a);for(const A in P)T(P[A],gB(v,A),RE(A,w),L,C)}}u=h,h+=y}return a.forEach((p,S)=>{for(const E in p){const P=p[E];P.sort(fB);const v=[],y=[],T=[];for(let C=0;C<P.length;C++){const{at:L,value:x,easing:w}=P[C];v.push(x),y.push(hl(0,m,L)),T.push(w||"easeOut")}y[0]!==0&&(y.unshift(0),v.unshift(v[0]),T.unshift(hB)),y[y.length-1]!==1&&(y.push(1),v.push(null)),o.has(S)||o.set(S,{keyframes:{},transition:{}});const R=o.get(S);R.keyframes[E]=v,R.transition[E]={...e,duration:m,ease:T,times:y,...n}}}),o}function jE(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function RE(t,e){return e[t]||(e[t]=[]),e[t]}function pB(t){return Array.isArray(t)?t:[t]}function gB(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const yB=t=>typeof t=="number",vB=t=>t.every(yB);function xB(t,e){return t in e}class wB extends fN{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(xB(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return It()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function bB(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Hx(t)&&!qk(t)?new yN(e):new pN(e);n.mount(t),Cu.set(t,n)}function SB(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new wB(e);n.mount(t),Cu.set(t,n)}function EB(t,e){return an(t)||typeof t=="number"||typeof t=="string"&&!r1(e)}function FN(t,e,n,r){const s=[];if(EB(t,e))s.push(CN(t,r1(e)&&e.default||e,n&&(n.default||n)));else{const i=ON(t,e,r),o=i.length;for(let a=0;a<o;a++){const l=i[a],c=l instanceof Element?bB:SB;Cu.has(l)||c(l);const u=Cu.get(l),h={...n};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(a,o)),s.push(...n1(u,{...e,transition:h},{}))}}return s}function TB(t,e,n){const r=[];return mB(t,e,n,{spring:_u}).forEach(({keyframes:i,transition:o},a)=>{r.push(...FN(a,i,o))}),r}function _B(t){return Array.isArray(t)&&t.some(Array.isArray)}function PB(t){function e(n,r,s){let i=[],o;if(_B(n))i=TB(n,r,t);else{const{onComplete:l,...c}=s||{};typeof l=="function"&&(o=l),i=FN(n,r,c,t)}const a=new c9(i);return o&&a.finished.then(o),a}return e}const qd=PB();function DE(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function AB({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,o]=_.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=_.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=_.useRef(!1);_.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[h,m,p]=_.useMemo(()=>{const v=()=>{if(!a.current.element)return;const{left:y,top:T,width:R,height:C,bottom:L,right:x,x:w,y:A}=a.current.element.getBoundingClientRect(),N={left:y,top:T,width:R,height:C,bottom:L,right:x,x:w,y:A};a.current.element instanceof HTMLElement&&r&&(N.height=a.current.element.offsetHeight,N.width=a.current.element.offsetWidth),Object.freeze(N),u.current&&!NB(a.current.lastBounds,N)&&o(a.current.lastBounds=N)};return[v,c?DE(v,c):v,l?DE(v,l):v]},[o,r,l,c]);function S(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",p,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function E(){a.current.element&&(a.current.resizeObserver=new s(p),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(v=>v.addEventListener("scroll",p,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const P=v=>{!v||v===a.current.element||(S(),a.current.element=v,a.current.scrollContainers=$N(v),E())};return IB(p,!!e),CB(m),_.useEffect(()=>{S(),E()},[e,p,m]),_.useEffect(()=>S,[]),[P,i,h]}function CB(t){_.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function IB(t,e){_.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function $N(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:s}=window.getComputedStyle(t);return[n,r,s].some(i=>i==="auto"||i==="scroll")&&e.push(t),[...e,...$N(t.parentElement)]}const kB=["x","y","top","bottom","left","right","width","height"],NB=(t,e)=>kB.every(n=>t[n]===e[n]);var BN=_.createContext(void 0);function sd(){const t=_.useContext(BN);if(!t)throw new Error("Sheet context error");return t}var Hs={root:{base:{position:"fixed",top:0,bottom:0,left:0,right:0,overflow:"hidden",pointerEvents:"none"},decorative:{}},backdrop:{base:{zIndex:1,position:"fixed",top:0,left:0,width:"100%",height:"100%",touchAction:"none",userSelect:"none"},decorative:{backgroundColor:"rgba(0, 0, 0, 0.2)",border:"none",WebkitTapHighlightColor:"transparent"}},container:{base:{zIndex:2,position:"absolute",left:0,bottom:0,width:"100%",pointerEvents:"auto",display:"flex",flexDirection:"column"},decorative:{backgroundColor:"#fff",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",boxShadow:"0px -2px 16px rgba(0, 0, 0, 0.3)"}},headerWrapper:{base:{width:"100%"},decorative:{}},header:{base:{width:"100%",position:"relative"},decorative:{height:"40px",display:"flex",alignItems:"center",justifyContent:"center"}},indicatorWrapper:{base:{display:"flex"},decorative:{}},indicator:{base:{display:"inline-block"},decorative:{width:"18px",height:"4px",borderRadius:"99px",backgroundColor:"#ddd"}},content:{base:{minHeight:"0px",position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},decorative:{}},scroller:{base:{height:"100%",overflowY:"auto",overscrollBehaviorY:"none"},decorative:{}}},ME="calc(100% - env(safe-area-inset-top) - 34px)",ku=typeof window>"u",jB={ease:"easeOut",duration:.2},RB={ease:"linear",duration:.01},DB=.6,MB=500;function Ws(t,e){return e?t.base:{...t.base,...t.decorative}}function VB(t){for(let e=0;e<t.length;e++)if(t[e+1]<t[e])return!1;return!0}function Ph(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})}}function s1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform):!1}function ym(t){let e=null;return()=>(e==null&&(e=t()),e)}var LB=ym(function(){return s1(/^Mac/i)}),OB=ym(function(){return s1(/^iPhone/i)}),FB=ym(function(){return s1(/^iPad/i)||LB()&&navigator.maxTouchPoints>1}),$B=ym(function(){return OB()||FB()});function BB(t,e=50,n=20){return new Promise(r=>{let s=0;const i=setInterval(()=>{const o=document.getElementsByClassName(t)[0];s++,(o||s>=n)&&(clearInterval(i),r(o))},e)})}var zB=t=>!!t.onClick||!!t.onTap,zN=_.forwardRef(({style:t,className:e="",unstyled:n,...r},s)=>{const i=sd(),o=zB(r),a=o?Us.button:Us.div,l=o?"auto":"none",c=n??i.unstyled,u={...Ws(Hs.backdrop,c),...t,pointerEvents:l};return ln.createElement(a,{...r,ref:s,className:`react-modal-sheet-backdrop ${e}`,style:u,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1}})});zN.displayName="SheetBackdrop";var UN=_.forwardRef(({children:t,style:e,className:n="",unstyled:r,...s},i)=>{const o=sd(),a=r??o.unstyled,l={...Ws(Hs.container,a),...e,y:o.y};return o.detent==="default"&&(l.height=ME),o.detent==="full"&&(l.height="100%",l.maxHeight="100%"),o.detent==="content"&&(l.height="auto",l.maxHeight=ME),ln.createElement(Us.div,{...s,ref:Ph([i,o.sheetRef,o.sheetBoundsRef]),className:`react-modal-sheet-container ${n}`,style:l},t)});UN.displayName="SheetContainer";var UB={bottom:0,top:0,left:0,right:0};function HN(){const t=_.useRef(null),e=_.useCallback(()=>UB,[]);return{ref:t,onMeasure:e}}function HB(t={}){const{debounceDelay:e=32,isEnabled:n=!0}=t,[r,s]=_.useState(null),[i,o]=_.useState(void 0);return _.useEffect(()=>{if(!r||!n)return;let a=null;function l(h){const{scrollTop:m,scrollHeight:p,clientHeight:S}=h;if(!(p>S)){i&&o(void 0);return}const P=m<=0,v=Math.ceil(p)-Math.ceil(m)===Math.ceil(S);let y;P?y="top":v?y="bottom":y="middle",y!==i&&o(y)}function c(h){if(h.currentTarget instanceof HTMLElement){const m=h.currentTarget;a&&clearTimeout(a),e===0?l(m):a=setTimeout(()=>l(m),e)}}function u(h){h.currentTarget instanceof HTMLElement&&l(h.currentTarget)}return l(r),r.addEventListener("scroll",c),r.addEventListener("touchstart",u),()=>{a&&clearTimeout(a),r.removeEventListener("scroll",c),r.removeEventListener("touchstart",u)}},[r,n]),{scrollRef:a=>s(a),scrollPosition:i}}var WN=_.forwardRef(({disableScroll:t,disableDrag:e,children:n,style:r,className:s="",scrollClassName:i="",scrollStyle:o,scrollRef:a=null,unstyled:l,...c},u)=>{const h=sd(),m=HN(),p=HB(),S=typeof t=="function"?t({scrollPosition:p.scrollPosition,currentSnap:h.currentSnap}):!!t,E=!S&&p.scrollPosition&&p.scrollPosition!=="top",y=(typeof e=="function"?e({scrollPosition:p.scrollPosition,currentSnap:h.currentSnap}):!!e)||E||h.disableDrag||h.disableDrag?void 0:h.dragProps,T=l??h.unstyled,R={...Ws(Hs.content,T),...r},C=Ws(Hs.scroller,T);return h.avoidKeyboard&&(C.paddingBottom="env(keyboard-inset-height, var(--keyboard-inset-height, 0px))"),S&&(C.overflowY="hidden"),ln.createElement(Us.div,{...c,ref:Ph([u,m.ref]),className:`react-modal-sheet-content ${s}`,style:R,...y,dragConstraints:m.ref,onMeasureDragConstraints:m.onMeasure},ln.createElement(Us.div,{ref:Ph([p.scrollRef,a]),style:{...C,...o},className:`react-modal-sheet-content-scroller ${i}`},n))});WN.displayName="SheetContent";function KN({style:t,className:e="",unstyled:n,...r}){const s=sd(),i=$c(s.indicatorRotation,u=>`translateX(2px) rotate(${u}deg)`),o=$c(s.indicatorRotation,u=>`translateX(-2px) rotate(${-1*u}deg)`),a=n??s.unstyled,l={...Ws(Hs.indicatorWrapper,a),...t},c=Ws(Hs.indicator,a);return ln.createElement("div",{className:`react-modal-sheet-drag-indicator-container ${e}`,style:l,...r},ln.createElement(Us.span,{className:"react-modal-sheet-drag-indicator",style:{...c,transform:i}}),ln.createElement(Us.span,{className:"react-modal-sheet-drag-indicator",style:{...c,transform:o}}))}var qN=_.forwardRef(({children:t,style:e,disableDrag:n,unstyled:r,className:s="",...i},o)=>{const a=sd(),l=HN(),c=n||a.disableDrag?void 0:a.dragProps,u=r??a.unstyled,h={...Ws(Hs.headerWrapper,u),...e},m=Ws(Hs.header,u);return ln.createElement(Us.div,{...i,ref:Ph([o,l.ref]),style:h,className:`react-modal-sheet-header-container ${s}`,...c,dragConstraints:l.ref,onMeasureDragConstraints:l.onMeasure},t||ln.createElement("div",{className:"react-modal-sheet-header",style:m},ln.createElement(KN,null)))});qN.displayName="SheetHeader";var Nu=ku?_.useEffect:_.useLayoutEffect;function WB(){const[t,e]=_.useState(()=>({windowHeight:ku?0:window.innerHeight,windowWidth:ku?0:window.innerWidth}));return Nu(()=>{function n(){e({windowHeight:window.innerHeight,windowWidth:window.innerWidth})}return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t}function KB(){const[t]=_.useState(()=>{const e={top:0,left:0,right:0,bottom:0};if(ku)return e;const n=document.querySelector(":root");if(!n)return e;n.style.setProperty("--rms-sat","env(safe-area-inset-top)"),n.style.setProperty("--rms-sal","env(safe-area-inset-left)"),n.style.setProperty("--rms-sar","env(safe-area-inset-right)"),n.style.setProperty("--rms-sab","env(safe-area-inset-bottom)");const r=getComputedStyle(n),s=Gd(r,"--rms-sat"),i=Gd(r,"--rms-sal"),o=Gd(r,"--rms-sar"),a=Gd(r,"--rms-sab");return n.style.removeProperty("--rms-sat"),n.style.removeProperty("--rms-sal"),n.style.removeProperty("--rms-sar"),n.style.removeProperty("--rms-sab"),{top:s,left:i,right:o,bottom:a}});return t}function Gd(t,e){const n=t.getPropertyValue(e).replace("px","").trim();return parseInt(n,10)||0}function qB({y:t,detent:e,rootId:n,sheetHeight:r,snapPoints:s,startThreshold:i}){const o=KB().top;let a=n;a&&e==="full"&&(console.warn('Using "full" detent with modal effect is not supported.'),a=void 0),Nu(()=>()=>{a&&VE(a)},[]),Nu(()=>{if(!a)return;const l=document.querySelector(`#${a}`);if(!l)return;const c=t.on("animationStart",()=>{GB(a)}),u=t.on("change",S=>{if(!l)return;let E=Math.max(0,1-S/r);const P=s.length>1?s[s.length-2]:void 0;if(P!==void 0){const C=P.snapValueY;S<=C?E=(C-S)/C:E=0}if(i!==void 0){const C=r-Math.min(Math.floor(i*r),r);S<=C?E=(C-S)/C:E=0}E=Math.max(0,Math.min(1,E));const v=window.innerWidth,y=Pf(E,[0,1],[0,24+o]),T=Pf(E,[0,1],[1,(v-16)/v]),R=Pf(E,[0,1],[0,10]);l.style.transform=`scale(${T}) translate3d(0, ${y}px, 0)`,l.style.borderTopRightRadius=`${R}px`,l.style.borderTopLeftRadius=`${R}px`});function h(){t.get()-5>=r&&VE(a)}const m=t.on("animationComplete",h),p=t.on("animationCancel",h);return()=>{c(),u(),m(),p()}},[t,a,o,i,r])}function GB(t){const e=document.querySelector(`#${t}`),n=document.querySelector("body");e&&(n.style.backgroundColor="#000",e.style.overflow="hidden",e.style.transitionTimingFunction="cubic-bezier(0.32, 0.72, 0, 1)",e.style.transitionProperty="transform, border-radius",e.style.transitionDuration="0.5s",e.style.transformOrigin="center top")}function VE(t){const e=document.querySelector(`#${t}`),n=document.querySelector("body");e&&(n.style.removeProperty("background-color"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-timing-function"),e.style.removeProperty("transition-property"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transform-origin"),e.style.removeProperty("transform"),e.style.removeProperty("border-top-right-radius"),e.style.removeProperty("border-top-left-radius"))}var YB=24;function Yy(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}var Yp=typeof document<"u"&&window.visualViewport;function LE(t,e){if(!t)return!1;const n=window.getComputedStyle(t);let r=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return r&&e&&(r=t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth),r}function GN(t,e){let n=t;for(LE(n,e)&&(n=n.parentElement);n&&!LE(n,e);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}var XB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Yd=0,Xd;function QB(t={}){const{isDisabled:e}=t;Nu(()=>{if(!e)return Yd++,Yd===1&&($B()?Xd=ZB():Xd=JB()),()=>{Yd--,Yd===0&&(Xd==null||Xd())}},[e])}function JB(){return Yy(Bc(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Bc(document.documentElement,"overflow","hidden"))}function ZB(){let t,e=0;const n=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];t=GN(p,!0),!(t===document.documentElement&&t===document.body)&&(e=h.changedTouches[0].pageY)},r=h=>{if(t===void 0)return;if(!t||t===document.documentElement||t===document.body){h.preventDefault();return}const m=h.changedTouches[0].pageY,p=t.scrollTop,S=t.scrollHeight-t.clientHeight;S!==0&&((p<=0&&m>e||p>=S&&m<e)&&h.preventDefault(),e=m)},s=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];FE(p)&&p!==document.activeElement&&(h.preventDefault(),p.style.transform="translateY(-2000px)",p.focus(),requestAnimationFrame(()=>{p.style.transform=""}))},i=h=>{var m;const p=(m=h.composedPath())==null?void 0:m[0];FE(p)&&(p.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{p.style.transform="",Yp&&(Yp.height<window.innerHeight?requestAnimationFrame(()=>{OE(p)}):Yp.addEventListener("resize",()=>OE(p),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=Yy(Bc(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Bc(document.documentElement,"overflow","hidden"),Bc(document.body,"marginTop",`-${l}px`));window.scrollTo(0,0);const u=Yy(ic(document,"touchstart",n,{passive:!1,capture:!0}),ic(document,"touchmove",r,{passive:!1,capture:!0}),ic(document,"touchend",s,{passive:!1,capture:!0}),ic(document,"focus",i,!0),ic(window,"scroll",o));return()=>{c(),u(),window.scrollTo(a,l)}}function Bc(t,e,n){const r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function ic(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function OE(t){const e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){const n=GN(t);if(n!==document.documentElement&&n!==document.body&&n!==t){const r=n.getBoundingClientRect().top,s=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom,o=n.getBoundingClientRect().bottom+YB;i>o&&(n.scrollTop+=s-r)}t=n.parentElement}}function FE(t){return t instanceof HTMLInputElement&&!XB.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function wr(t){const e=_.useRef(void 0);return Nu(()=>{e.current=t}),_.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}function ez({isOpen:t,onClosed:e,onOpening:n,onOpen:r,onClosing:s}){const[i,o]=_.useState(t?"opening":"closed"),a=wr(()=>e==null?void 0:e()),l=wr(()=>n==null?void 0:n()),c=wr(()=>r==null?void 0:r()),u=wr(()=>s==null?void 0:s());return _.useEffect(()=>{t&&i==="closed"?o("opening"):!t&&(i==="open"||i==="opening")&&o("closing")},[t,i]),_.useEffect(()=>{async function h(){switch(i){case"closed":await(a==null?void 0:a());break;case"opening":await(l==null?void 0:l()),o("open");break;case"open":await(c==null?void 0:c());break;case"closing":await(u==null?void 0:u()),o("closed");break}}h().catch(m=>{console.error("Internal sheet state error:",m)})},[i]),i}function tz(t={}){const{containerRef:e,isEnabled:n=!0,debounceDelay:r=100,includeContentEditable:s=!0,visualViewportThreshold:i=100}=t,[o,a]=_.useState({isVisible:!1,height:0}),l=_.useRef(null),c=_.useRef(null),u=wr(h=>(h==null?void 0:h.tagName)==="INPUT"||(h==null?void 0:h.tagName)==="TEXTAREA"||s&&h instanceof HTMLElement&&h.isContentEditable);return _.useEffect(()=>{if(!n)return;const h=window.visualViewport,m=navigator.virtualKeyboard;function p(y){const T=(e==null?void 0:e.current)||document.documentElement;window.isSecureContext?T.style.setProperty("--keyboard-inset-height",`env(keyboard-inset-height, ${y}px)`):T.style.setProperty("--keyboard-inset-height",`${y}px`)}function S(y){y.target instanceof HTMLElement&&u(y.target)&&(l.current=y.target,P())}function E(){l.current=null,P()}function P(){c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{const y=l.current;if(!u(y)){p(0),a({isVisible:!1,height:0});return}if(h){const R=window.innerHeight-h.height;R>i?(p(R),a({isVisible:!0,height:R})):(p(0),a({isVisible:!1,height:0}))}},r)}window.addEventListener("focusin",S),window.addEventListener("focusout",E),h&&(h.addEventListener("resize",P),h.addEventListener("scroll",P));let v=!1;return m&&(v=m.overlaysContent,m.overlaysContent=!0),()=>{window.removeEventListener("focusin",S),window.removeEventListener("focusout",E),h&&(h.removeEventListener("resize",P),h.removeEventListener("scroll",P)),m&&(m.overlaysContent=v),c.current&&clearTimeout(c.current)}},[r,s,n,i]),{keyboardHeight:o.height,isKeyboardOpen:o.isVisible}}function nz({snapPointsProp:t,sheetHeight:e}){if(t[0]!==0&&(console.error(`First snap point should be 0 to ensure the sheet can be fully closed. Got: [${t.join(", ")}]`),t.unshift(0)),t[t.length-1]!==1&&(console.error(`Last snap point should be 1 to ensure the sheet can be fully opened. Got: [${t.join(", ")}]`),t.push(1)),e<=0)return console.error(`Sheet height is ${e}, cannot compute snap points. Make sure the sheet is mounted and has a valid height.`),[];const n=t.map(r=>r>0&&r<=1?Math.round(r*e):r<0?e+r:r);return console.assert(VB(n),`Snap points need to be in ascending order got: [${t.join(", ")}]`),n.forEach(r=>{(r<0||r>e)&&console.warn(`Snap point ${r} is outside of the sheet height ${e}. This can cause unexpected behavior. Consider adjusting your snap points.`)}),n.includes(e)||(console.warn("Snap points do not include the sheet height.Please include `1` as the last snap point or it will be included automatically.This is to ensure the sheet can be fully opened."),n.push(e)),n.map((r,s)=>({snapIndex:s,snapValue:r,snapValueY:e-r}))}function rz({snapPoints:t,currentY:e}){return t.reduce((n,r)=>Math.abs(r.snapValueY-e)<Math.abs(n.snapValueY-e)?r:n)}function sz({y:t,snapPoints:e,dragDirection:n}){return n==="down"?e.slice().reverse().find(r=>r.snapValueY>t):e.find(r=>r.snapValueY<t)}function iz({dragDirection:t,snapPoints:e}){const n=e[0],r=e[e.length-1];return t==="down"?{yTo:n.snapValueY,snapIndex:n.snapIndex}:{yTo:r.snapValueY,snapIndex:r.snapIndex}}function oz({currentSnapPoint:t,currentY:e,dragDirection:n,snapPoints:r,velocity:s}){const i=rz({snapPoints:r,currentY:e});if(Math.abs(s)<20)return{yTo:i.snapValueY,snapIndex:i.snapIndex};const o=sz({y:e,snapPoints:r,dragDirection:n});return o?{yTo:o.snapValueY,snapIndex:o.snapIndex}:{yTo:t.snapValueY,snapIndex:t.snapIndex}}var YN=_.forwardRef(({avoidKeyboard:t=!0,children:e,className:n="",detent:r="default",disableDismiss:s=!1,disableDrag:i=!1,disableScrollLocking:o=!1,dragCloseThreshold:a=DB,dragVelocityThreshold:l=MB,initialSnap:c,isOpen:u,modalEffectRootId:h,modalEffectThreshold:m,mountPoint:p,prefersReducedMotion:S=!1,snapPoints:E,style:P,tweenConfig:v=jB,unstyled:y=!1,onOpenStart:T,onOpenEnd:R,onClose:C,onCloseStart:L,onCloseEnd:x,onSnap:w,onDrag:A,onDragStart:N,onDragEnd:D,...V},k)=>{const[U,te]=AB(),Q=_.useRef(null),J=Math.round(te.height),[F,B]=_.useState(c),G=E&&J>0?nz({sheetHeight:J,snapPointsProp:E}):[],{windowHeight:X}=WB(),se=J>0?J:X,ve=Gy(se),me=$c(ve,Ee=>Math.max(J-Ee,0)),xe=Gy(0),Ie=aB(),et={type:"tween",...!!(S||Ie)?RB:v},ms=tz({isEnabled:u&&t,containerRef:Q}).isKeyboardOpen||i,Ir=$c(ve,Ee=>Ee+2>=se?-1:(P==null?void 0:P.zIndex)??9999),tt=$c(ve,Ee=>Ee+2>=se?"hidden":"visible"),vt=wr(Ee=>{B(Ee),w==null||w(Ee)}),Ye=wr(Ee=>E&&G?Ee<0||Ee>=G.length?(console.warn(`Invalid snap index ${Ee}. Snap points are: [${E.join(", ")}] and their computed values are: [${G.map(De=>De.snapValue).join(", ")}]`),null):G[Ee]:null),ps=wr(async Ee=>{if(!E){console.warn("Snapping is not possible without `snapPoints` prop.");return}const De=Ye(Ee);if(De===null){console.warn(`Invalid snap index ${Ee}.`);return}if(Ee===0){C();return}await qd(ve,De.snapValueY,{...et,onComplete:()=>vt(Ee)})}),mt=wr(()=>{const Ee=document.activeElement;if(!Ee||!Q.current)return;(Ee.tagName==="INPUT"||Ee.tagName==="TEXTAREA")&&Q.current.contains(Ee)&&Ee.blur()}),Qn=wr((Ee,De)=>{A==null||A(Ee,De);const wn=ve.get(),Rt=ve.getVelocity();Rt>0&&xe.set(10),Rt<0&&xe.set(-10),ve.set(Math.max(wn+De.delta.y,0))}),fr=wr((Ee,De)=>{mt(),N==null||N(Ee,De)}),nt=wr((Ee,De)=>{mt(),D==null||D(Ee,De);const wn=ve.get();let Rt=0;const Yt=F!==void 0?Ye(F):null;if(Yt){const Dt=De.offset.y>0?"down":"up",Xr=De.velocity.y>0?"down":"up",mr=Math.abs(De.velocity.y)>l;let Jn;if(mr?Jn=iz({snapPoints:G,dragDirection:Xr}):Jn=oz({currentSnapPoint:Yt,currentY:wn,dragDirection:Dt,snapPoints:G,velocity:De.velocity.y}),Rt=Jn.yTo,s&&Rt+1>=J){const $t=G.find(Fn=>Fn.snapValue>0);$t?(Rt=$t.snapValueY,vt($t.snapIndex)):Rt=wn}else Jn.snapIndex!==void 0&&vt(Jn.snapIndex)}else(De.velocity.y>l||wn>J*a)&&(s?Rt=0:Rt=se);qd(ve,Rt,et),Rt+1>=J&&!s&&C(),xe.set(0)});_.useImperativeHandle(k,()=>({y:ve,yInverted:me,height:J,snapTo:ps})),qB({y:ve,detent:r,sheetHeight:J,snapPoints:G,rootId:h,startThreshold:m}),QB({isDisabled:o||!u});const rt=ez({isOpen:u,onOpen:async()=>{T==null||T(),await BB("react-modal-sheet-container");const Ee=c!==void 0?Ye(c):null,De=(Ee==null?void 0:Ee.snapValueY)??0;await qd(ve,De,et),c!==void 0&&vt(c),R==null||R()},onClosing:async()=>{L==null||L(),await qd(ve,se,et),x==null||x()}}),Yr={currentSnap:F,detent:r,disableDrag:ms,dragProps:{drag:"y",dragElastic:0,dragMomentum:!1,dragPropagation:!1,onDrag:Qn,onDragStart:fr,onDragEnd:nt},indicatorRotation:xe,avoidKeyboard:t,sheetBoundsRef:U,sheetRef:Q,unstyled:y,y:ve},hr=ln.createElement(BN.Provider,{value:Yr},ln.createElement(Us.div,{...V,ref:k,"data-sheet-state":rt,className:`react-modal-sheet-root ${n}`,style:{...Ws(Hs.root,y),zIndex:Ir,visibility:tt,...P}},rt!=="closed"?e:null));return ku?hr:qu.createPortal(hr,p??document.body)});YN.displayName="Sheet";var on=Object.assign(YN,{Container:UN,Header:qN,DragIndicator:KN,Content:WN,Backdrop:zN});const ze=({children:t,onClick:e,variant:n="primary",size:r="medium",disabled:s=!1,fullWidth:i=!1,className:o="",type:a="button"})=>{const l="font-semibold rounded-full transition-all duration-200 focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed touch-manipulation relative overflow-hidden",c={primary:"bg-[#5E57AC] text-white hover:bg-[#4e47a0] active:bg-[#463f8f] active:opacity-95 focus:ring-[#5E57AC]/30 disabled:hover:bg-[#5E57AC]",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-300 active:opacity-95 focus:ring-gray-300/50 disabled:hover:bg-gray-200",outline:"bg-transparent border-2 border-gray-300 text-[#5E57AC] hover:bg-[#5E57AC] hover:text-white hover:border-[#5E57AC] active:bg-[#5E57AC] active:text-white active:border-[#5E57AC] active:opacity-95 focus:ring-[#5E57AC]/30 disabled:hover:bg-transparent disabled:hover:text-[#5E57AC] disabled:hover:border-gray-300",ghost:"bg-transparent text-[#5E57AC] hover:bg-[#5E57AC]/10 active:bg-[#5E57AC]/20 active:opacity-95 focus:ring-[#5E57AC]/20 disabled:hover:bg-transparent",cta:"bg-gradient-to-r from-[#4A4490] via-[#5E57AC] to-[#7C6FBE] bg-[length:200%_auto] text-white font-bold focus:ring-[#5E57AC]/40 animate-gradient-slide overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent before:translate-x-[-200%] hover:before:translate-x-[200%] before:transition-transform before:duration-[1500ms] disabled:animate-none disabled:opacity-60"},u={small:"px-5 py-2 text-sm",medium:"px-7 py-3.5 text-base",large:"px-9 py-4 text-lg"},h=i?"w-full":"",m="",p=o.replace(/\brounded-\w+\b/g,"").trim();return f.jsx("button",{type:a,onClick:e,disabled:s,className:`${l} ${c[n]} ${u[r]} ${h} ${m} ${p} rounded-full`,children:f.jsx("span",{className:"relative z-10",children:t})})},az=({label:t,options:e,selectedValue:n,onChange:r,className:s=""})=>f.jsxs("div",{className:`w-full ${s}`,children:[t&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 whitespace-nowrap",children:t}),f.jsx("div",{className:"flex flex-col gap-2.5 pb-1",children:e.map(i=>{const o=n===i.value;return f.jsxs("button",{type:"button",onClick:()=>r(i.value),className:`w-full px-6 py-4 rounded-full text-base font-medium transition-all duration-200 flex items-center justify-between
                                ${o?"bg-[#5E57AC] text-white border-2 border-[#5E57AC]":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}
                            `,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[i.emoji&&f.jsx("span",{className:"text-2xl",children:i.emoji}),f.jsx("span",{children:i.label})]}),o&&f.jsx(WI,{size:20,className:"text-white flex-shrink-0"})]},i.value)})})]}),lz=[{value:"mother",label:"Mother",emoji:""},{value:"father",label:"Father",emoji:""},{value:"partner",label:"Partner",emoji:""},{value:"brother",label:"Brother",emoji:""},{value:"sister",label:"Sister",emoji:""},{value:"son",label:"Son",emoji:""},{value:"daughter",label:"Daughter",emoji:""},{value:"cousin",label:"Cousin",emoji:""},{value:"friend",label:"Friend",emoji:""},{value:"other",label:"Other",emoji:""}],cz=[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"},{value:"prefer-not-to-say",label:"Prefer not to say"}],uz=[{value:"xs",label:"XS"},{value:"s",label:"S"},{value:"m",label:"M"},{value:"l",label:"L"},{value:"xl",label:"XL"},{value:"xxl",label:"XXL"},{value:"not-sure",label:"Not sure"}],dz=[{value:"coffee",label:"Coffee"},{value:"tea",label:"Tea"},{value:"wine",label:"Wine"},{value:"beer",label:"Beer"},{value:"cocktails",label:"Cocktails"},{value:"whiskey",label:"Whiskey"},{value:"soft-drinks",label:"Soft Drinks"},{value:"other",label:"Other"}],fi=[{value:"tech",label:"Tech",emoji:""},{value:"sports-fan",label:"Sports Fan",emoji:""},{value:"diy-tools",label:"DIY & Tools",emoji:""},{value:"gaming",label:"Gaming",emoji:""},{value:"bbq-grilling",label:"BBQ & Grilling",emoji:""},{value:"fiction-reading",label:"Fiction Reading",emoji:""},{value:"non-fiction-reading",label:"Non-Fiction Reading",emoji:""},{value:"fitness-gym",label:"Fitness & Gym",emoji:""},{value:"movies-tv",label:"Movies & TV",emoji:""},{value:"music",label:"Music",emoji:""},{value:"automotive",label:"Automotive",emoji:""},{value:"camping",label:"Camping",emoji:""},{value:"cooking",label:"Cooking",emoji:""},{value:"coffee",label:"Coffee",emoji:""},{value:"fishing",label:"Fishing",emoji:""},{value:"golf",label:"Golf",emoji:""},{value:"watches",label:"Watches",emoji:""},{value:"sneakers",label:"Sneakers",emoji:""},{value:"photography",label:"Photography",emoji:""},{value:"travel",label:"Travel",emoji:""},{value:"cycling",label:"Cycling",emoji:""},{value:"gardening",label:"Gardening",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"grooming",label:"Grooming",emoji:""},{value:"hiking",label:"Hiking",emoji:""}],Es=[{value:"beauty-makeup",label:"Beauty & Makeup",emoji:""},{value:"home-decor",label:"Home Decor",emoji:""},{value:"tech",label:"Tech",emoji:""},{value:"cozy-homebody",label:"Cozy & Homebody",emoji:""},{value:"fiction-reading",label:"Fiction Reading",emoji:""},{value:"non-fiction-reading",label:"Non-Fiction Reading",emoji:""},{value:"cooking",label:"Cooking",emoji:""},{value:"fitness",label:"Fitness",emoji:""},{value:"skincare",label:"Skincare",emoji:""},{value:"jewelry",label:"Jewelry",emoji:""},{value:"gardening",label:"Gardening",emoji:""},{value:"fashion-accessories",label:"Fashion Accessories",emoji:""},{value:"baking",label:"Baking",emoji:""},{value:"coffee",label:"Coffee",emoji:""},{value:"tea",label:"Tea",emoji:""},{value:"crafting",label:"Crafting",emoji:""},{value:"yoga",label:"Yoga",emoji:""},{value:"travel",label:"Travel",emoji:""},{value:"art-painting",label:"Art & Painting",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"bath-spa",label:"Bath & Spa",emoji:""},{value:"perfume",label:"Perfume",emoji:""},{value:"knitting",label:"Knitting",emoji:""},{value:"journaling",label:"Journaling",emoji:""}],ju=[{value:"video-games",label:"Video Games",emoji:""},{value:"lego",label:"LEGO",emoji:""},{value:"superheroes",label:"Superheroes",emoji:""},{value:"cars-vehicles",label:"Cars & Vehicles",emoji:""},{value:"science-fiction",label:"Science Fiction",emoji:""},{value:"sports",label:"Sports",emoji:""},{value:"novels",label:"Novels",emoji:""},{value:"dinosaurs",label:"Dinosaurs",emoji:""},{value:"space",label:"Space",emoji:""},{value:"construction-toys",label:"Construction Toys",emoji:""},{value:"minecraft",label:"Minecraft",emoji:""},{value:"science-stem",label:"Science & STEM",emoji:""},{value:"star-wars",label:"Star Wars",emoji:""},{value:"outdoor-play",label:"Outdoor Play",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"drawing",label:"Drawing",emoji:""},{value:"comics",label:"Comics",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"skateboarding",label:"Skateboarding",emoji:""},{value:"magic",label:"Magic",emoji:""},{value:"coding",label:"Coding",emoji:""},{value:"pranks",label:"Pranks",emoji:""},{value:"nerf",label:"Nerf",emoji:""},{value:"music",label:"Music",emoji:""},{value:"camping",label:"Camping",emoji:""}],Ru=[{value:"arts-crafts",label:"Arts & Crafts",emoji:""},{value:"dolls-plushies",label:"Dolls & Plushies",emoji:""},{value:"fashion-style",label:"Fashion & Style",emoji:""},{value:"teen-fiction",label:"Teen Fiction",emoji:""},{value:"novels",label:"Novels",emoji:""},{value:"jewelry-making",label:"Jewelry Making",emoji:""},{value:"lego",label:"LEGO",emoji:""},{value:"room-decor",label:"Room Decor",emoji:""},{value:"baking",label:"Baking",emoji:""},{value:"makeup-beauty",label:"Makeup & Beauty",emoji:""},{value:"disney",label:"Disney",emoji:""},{value:"animals-fantasy",label:"Animals & Fantasy",emoji:""},{value:"science-stem",label:"Science & STEM",emoji:""},{value:"diaries-writing",label:"Diaries & Writing",emoji:""},{value:"dance",label:"Dance",emoji:""},{value:"board-games",label:"Board Games",emoji:""},{value:"video-games",label:"Video Games",emoji:""},{value:"photography",label:"Photography",emoji:""},{value:"gymnastics",label:"Gymnastics",emoji:""},{value:"puzzles",label:"Puzzles",emoji:""},{value:"outdoor-play",label:"Outdoor Play",emoji:""},{value:"anime",label:"Anime",emoji:""},{value:"harry-potter",label:"Harry Potter",emoji:""},{value:"squishmallows",label:"Squishmallows",emoji:""},{value:"nail-art",label:"Nail Art",emoji:""}],fz=(t,e,n)=>{const r=e!==void 0&&e<=12;if(t==="father")return{primary:fi};if(t==="mother")return{primary:Es};if(r){if(t==="brother"||t==="son")return{primary:ju};if(t==="sister"||t==="daughter")return{primary:Ru}}if(!r){if(n==="male")return{primary:fi};if(n==="female")return{primary:Es}}if(!n){if(t==="brother"||t==="son")return r?{primary:ju}:{primary:fi};if(t==="sister"||t==="daughter")return r?{primary:Ru}:{primary:Es}}const s=fi.slice(0,12),i=Es.slice(0,12),o=[],a=Math.max(s.length,i.length);for(let m=0;m<a;m++)m<s.length&&o.push(s[m]),m<i.length&&o.push(i[m]);const l=fi.slice(12),c=Es.slice(12),u=[],h=Math.max(l.length,c.length);for(let m=0;m<h;m++)m<l.length&&u.push(l[m]),m<c.length&&u.push(c[m]);return{primary:o,other:u}};[...fi,...Es,...ju,...Ru].filter((t,e,n)=>e===n.findIndex(r=>r.value===t.value));Array.from({length:100},(t,e)=>({value:String(e+1),label:String(e+1)}));const hz=({onNext:t})=>{const[e,n]=_.useState(""),r=()=>{e&&t({relationship:e})};return f.jsxs("div",{className:"flex flex-col h-full py-4",children:[f.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:f.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 1"})}),f.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:f.jsx(az,{options:lz,selectedValue:e,onChange:n})}),f.jsx("div",{className:"flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:f.jsx(ze,{fullWidth:!0,size:"large",onClick:r,disabled:!e,children:"Next"})})]})},rr=({label:t,placeholder:e="Select an option",value:n,options:r,onChange:s,error:i,disabled:o=!1,className:a=""})=>{const[l,c]=_.useState(!1),[u,h]=_.useState(null),m=_.useRef(null),p=_.useRef(null),S=_.useRef(null);_.useEffect(()=>{if(l&&p.current){const P=()=>{if(p.current){const v=p.current.getBoundingClientRect();h({top:Math.round(v.bottom)+8,left:Math.round(v.left),width:Math.round(v.width)})}};requestAnimationFrame(()=>{requestAnimationFrame(P)})}else h(null)},[l]),_.useEffect(()=>{var P,v;if(l){let y=((P=p.current)==null?void 0:P.closest('[style*="overflow-y"]'))||null;if(y||(y=((v=p.current)==null?void 0:v.closest(".overflow-y-auto"))||null),y){const T=y.style.overflow;return y.style.overflow="hidden",()=>{y.style.overflow=T}}}},[l]),_.useEffect(()=>{const P=v=>{const y=v.target;m.current&&!m.current.contains(y)&&S.current&&!S.current.contains(y)&&c(!1)};if(l){const v=setTimeout(()=>{document.addEventListener("mousedown",P)},0);return()=>{clearTimeout(v),document.removeEventListener("mousedown",P)}}},[l]);const E=r.find(P=>P.value===n);return f.jsxs("div",{className:`w-full ${a}`,ref:m,children:[t&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 whitespace-nowrap",children:t}),f.jsxs("div",{className:"relative",children:[f.jsxs("button",{ref:p,type:"button",onClick:()=>!o&&c(!l),disabled:o,className:`w-full px-6 py-4 rounded-full border-2 transition-all duration-200 font-medium text-left flex items-center justify-between
            ${i?"border-red-500 focus:border-red-600":"border-gray-200 focus:border-[#5E57AC]"}
            ${o?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-gray-300"}
            focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/20
          `,children:[f.jsx("span",{className:E?"text-gray-800":"text-gray-400",children:E?E.label:e}),f.jsx(KI,{size:20,className:`transition-transform duration-200 ${l?"rotate-180":""} ${o?"text-gray-400":"text-gray-600"}`})]}),l&&!o&&u&&typeof document<"u"&&qu.createPortal(f.jsx("div",{ref:S,className:"fixed bg-white border-2 border-gray-200 rounded-3xl shadow-lg overflow-hidden z-[10000] sheet-scrollable",style:{top:`${u.top}px`,left:`${u.left}px`,width:`${u.width}px`,maxHeight:"180px",overflowY:"auto",WebkitOverflowScrolling:"touch",transform:"translateZ(0)"},onClick:P=>P.stopPropagation(),onMouseDown:P=>P.stopPropagation(),children:r.map(P=>f.jsx("button",{type:"button",onClick:()=>{s(P.value),c(!1)},className:`w-full px-6 py-4 text-left transition-colors duration-200 font-medium
                  ${P.value===n?"bg-[#5E57AC] text-white":"hover:bg-gray-100 text-gray-800"}
                `,children:P.label},P.value))}),document.body)]}),i&&f.jsx("p",{className:"mt-2 text-sm text-red-600 px-2",children:i})]})},Ma=({label:t,placeholder:e="",value:n,onChange:r,type:s="text",error:i,disabled:o=!1,className:a="",onKeyDown:l,inputMode:c})=>f.jsxs("div",{className:`w-full ${a}`,children:[t&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),f.jsx("input",{type:s,value:n,onChange:u=>r(u.target.value),onKeyDown:l,placeholder:e,disabled:o,inputMode:c,className:`w-full px-6 py-4 rounded-full border-2 transition-all duration-200 font-medium text-gray-900
          ${i?"border-red-500 focus:border-red-600":"border-gray-200 focus:border-[#5E57AC]"}
          ${o?"bg-gray-100 cursor-not-allowed text-gray-500":"bg-white hover:border-gray-300"}
          focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/20
          placeholder:text-gray-400
        `}),i&&f.jsx("p",{className:"mt-2 text-sm text-red-600 px-2",children:i})]}),mz=["mother","father","brother","sister","son","daughter"],pz=["mother","father"],gz=({onBack:t,onNext:e,relationship:n=""})=>{const[r,s]=_.useState(""),[i,o]=_.useState(""),a=!pz.includes(n),l=!mz.includes(n),c=()=>{const u={};a&&r&&(u.name=r),l&&i&&(u.gender=i),e(u)};return f.jsxs("div",{className:"flex flex-col h-full py-4",children:[f.jsx("div",{className:"text-left mb-6 flex-shrink-0",children:f.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 2"})}),f.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:f.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[a&&f.jsx("div",{className:"space-y-2",children:f.jsx(Ma,{label:"Name",placeholder:"Enter their name",value:r,onChange:s})}),l&&f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Gender (optional)",placeholder:"Select gender",value:i,options:cz,onChange:o})}),!a&&!l&&f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("p",{className:"text-gray-500 text-sm text-center",children:"All information can be inferred from the relationship."})})]})}),f.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[f.jsx(ze,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,children:"Back"}),f.jsx(ze,{fullWidth:!0,size:"large",onClick:c,children:"Next"})]})]})},$E=Array.from({length:31},(t,e)=>({value:String(e+1),label:String(e+1)})),BE=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],zE=new Date().getFullYear(),yz=Array.from({length:100},(t,e)=>({value:String(zE-e),label:String(zE-e)})),vz=({onBack:t,onNext:e})=>{const[n,r]=_.useState(!1),[s,i]=_.useState(""),[o,a]=_.useState(""),[l,c]=_.useState(""),[u,h]=_.useState(""),[m,p]=_.useState(""),[S,E]=_.useState(""),[P,v]=_.useState(null),[y,T]=_.useState(null);_.useEffect(()=>{if(n&&u&&u.trim()!==""){const L=parseInt(u.trim());if(!isNaN(L)&&L>0&&L<=120){const w=new Date().getFullYear()-L;v(w)}else v(null)}else v(null)},[u,n]),_.useEffect(()=>{if(!n&&s&&o&&l)try{const L=new Date(parseInt(l),parseInt(o)-1,parseInt(s)),x=new Date;let w=x.getFullYear()-L.getFullYear();const A=x.getMonth()-L.getMonth();(A<0||A===0&&x.getDate()<L.getDate())&&w--,w>=0&&w<=120?T(w):T(null)}catch{T(null)}else T(null)},[s,o,l,n]),_.useEffect(()=>{initialDob&&n?r(!1):!initialDob&&initialAge&&!n&&r(!0)},[initialDob,initialAge,n]);const R=()=>{if(n&&u&&u.trim()!==""){const L=parseInt(u.trim());if(!isNaN(L)&&L>0&&L<=120){const x={age:L};m&&(x.ageMonth=m),S&&(x.ageDay=S),e(x)}}else if(s&&o&&l){const L=`${s.padStart(2,"0")}/${o.padStart(2,"0")}/${l}`;e({dob:L})}},C=n?u&&u.trim()!==""&&!isNaN(parseInt(u.trim()))&&parseInt(u.trim())>0&&parseInt(u.trim())<=120:s&&o&&l;return f.jsxs("div",{className:"flex flex-col h-full py-4",children:[f.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:f.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 3"})}),f.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:f.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[f.jsxs("div",{className:"flex gap-2 mb-2",children:[f.jsx("button",{type:"button",onClick:()=>{r(!1),h(""),p(""),E("")},className:`flex-1 px-4 py-3 rounded-full text-sm font-medium transition-all duration-200 ${n?"bg-gray-100 text-gray-700":"bg-[#5E57AC] text-white"}`,children:"Date of Birth"}),f.jsx("button",{type:"button",onClick:()=>{r(!0),i(""),a(""),c("")},className:`flex-1 px-4 py-3 rounded-full text-sm font-medium transition-all duration-200 ${n?"bg-[#5E57AC] text-white":"bg-gray-100 text-gray-700"}`,children:"Current Age"})]}),n?f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx(Ma,{label:"Current Age",placeholder:"Enter age",value:u,onChange:L=>{const x=L.replace(/[^0-9]/g,"");h(x)},type:"text",inputMode:"numeric"}),u&&u.trim()!==""&&P===null&&f.jsx("p",{className:"text-sm text-red-600 px-2",children:"Please enter a valid age (1-120)"}),f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Month (optional)",placeholder:"Select month",value:m,options:BE,onChange:p})}),f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Day (optional)",placeholder:"Select day",value:S,options:$E,onChange:E})}),P!==null&&f.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full border-2 border-purple-200/50 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("span",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Year of birth"}),f.jsx("span",{className:"text-2xl font-bold text-[#5E57AC]",children:P})]})})]}):f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Day",placeholder:"Day",value:s,options:$E,onChange:i})}),f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Month",placeholder:"Month",value:o,options:BE,onChange:a})}),f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Year",placeholder:"Year",value:l,options:yz,onChange:c})}),y!==null&&f.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-full border-2 border-purple-200/50 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsx("span",{className:"text-xs font-medium text-purple-600 uppercase tracking-wide",children:"Age"}),f.jsx("span",{className:"text-2xl font-bold text-[#5E57AC]",children:y})]})})]})]})}),f.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[f.jsx(ze,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,children:"Back"}),f.jsx(ze,{fullWidth:!0,size:"large",onClick:R,disabled:!C,children:"Next"})]})]})},Xy=({label:t,options:e,selectedValues:n,onChange:r,className:s=""})=>{const i=o=>{n.includes(o)?r(n.filter(a=>a!==o)):r([...n,o])};return f.jsxs("div",{className:`w-full ${s}`,children:[t&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 whitespace-nowrap",children:t}),f.jsx("div",{className:"flex flex-col gap-2.5 pb-1",children:e.map(o=>{const a=n.includes(o.value);return f.jsxs("button",{type:"button",onClick:()=>i(o.value),className:`w-full px-6 py-4 rounded-full text-base font-medium transition-all duration-200 flex items-center justify-between
                                ${a?"bg-[#5E57AC] text-white border-2 border-[#5E57AC]":"bg-white text-gray-700 border-2 border-gray-200 hover:border-gray-300"}
                            `,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[o.emoji&&f.jsx("span",{className:"text-2xl",children:o.emoji}),f.jsx("span",{children:o.label})]}),a&&f.jsx(WI,{size:20,className:"text-white flex-shrink-0"})]},o.value)})})]})},xz=({onBack:t,onNext:e,relationship:n,age:r,gender:s})=>{const[i,o]=_.useState([]),{primary:a,other:l}=_.useMemo(()=>fz(n,r,s),[n,r,s]),c=()=>{e({interests:i})};return f.jsxs("div",{className:"flex flex-col h-full py-4",children:[f.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:f.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 4"})}),f.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsx(Xy,{options:a,selectedValues:i,onChange:o}),l&&l.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-600 mb-3 font-medium",children:"Other"}),f.jsx(Xy,{options:l,selectedValues:i,onChange:o})]})]})}),f.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[f.jsx(ze,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,children:"Back"}),f.jsx(ze,{fullWidth:!0,size:"large",onClick:c,children:"Next"})]})]})},wz=({onBack:t,onNext:e})=>{const[n,r]=_.useState(""),[s,i]=_.useState(""),o=()=>{n&&s&&e({clothingSize:n,favouriteDrink:s})},a=n&&s;return f.jsxs("div",{className:"flex flex-col h-full py-4",children:[f.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:f.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 5"})}),f.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{overflowX:"visible",minHeight:0},children:f.jsxs("div",{className:"flex flex-col gap-6",style:{position:"relative",zIndex:1},children:[f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Clothing Size",placeholder:"Select size",value:n,options:uz,onChange:r})}),f.jsx("div",{style:{position:"relative",zIndex:10},children:f.jsx(rr,{label:"Favourite Drink",placeholder:"Select drink",value:s,options:dz,onChange:i})})]})}),f.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[f.jsx(ze,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,children:"Back"}),f.jsx(ze,{fullWidth:!0,size:"large",onClick:o,disabled:!a,children:"Next"})]})]})},i1=({min:t,max:e,minValue:n,maxValue:r,onChange:s,label:i,className:o=""})=>{const[a,l]=_.useState(!1),[c,u]=_.useState(!1),h=_.useRef(null),m=v=>(v-t)/(e-t)*100,p=_.useCallback(v=>{if(!h.current)return t;const y=h.current.getBoundingClientRect(),T=Math.max(0,Math.min(1,(v-y.left)/y.width)),R=Math.round(t+T*(e-t)),C=Math.round(R/5)*5;return Math.max(t,Math.min(e,C))},[t,e]),S=v=>{v==="min"?l(!0):u(!0)};_.useEffect(()=>{const v=R=>{if(a||c){R.preventDefault();const C=p(R.clientX);if(a){const L=Math.min(C,r-1);s(Math.max(t,L),r)}else if(c){const L=Math.max(C,n+1);s(n,Math.min(e,L))}}},y=()=>{l(!1),u(!1)},T=R=>{if(a||c){R.preventDefault();const C=R.touches[0],L=p(C.clientX);if(a){const x=Math.min(L,r-1);s(Math.max(t,x),r)}else if(c){const x=Math.max(L,n+1);s(n,Math.min(e,x))}}};return(a||c)&&(document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.addEventListener("touchmove",T,{passive:!1}),document.addEventListener("touchend",y)),()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",y)}},[a,c,n,r,t,e,s,p]);const E=m(n),P=m(r);return f.jsxs("div",{className:`w-full ${o}`,children:[i&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:i}),f.jsxs("div",{className:"px-2",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"bg-[#5E57AC] text-white px-5 py-2 rounded-full font-semibold",children:["",n]}),f.jsx("span",{className:"text-gray-500 font-medium",children:"to"}),f.jsxs("div",{className:"bg-[#5E57AC] text-white px-5 py-2 rounded-full font-semibold",children:["",r]})]}),f.jsxs("div",{className:"relative",ref:h,children:[f.jsx("div",{className:"h-3 bg-gray-200 rounded-full"}),f.jsx("div",{className:"absolute top-0 h-3 bg-[#5E57AC] rounded-full",style:{left:`${E}%`,right:`${100-P}%`}}),f.jsx("button",{type:"button",className:"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-white border-4 border-[#5E57AC] rounded-full cursor-grab active:cursor-grabbing hover:scale-110 transition-transform shadow-lg focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/30",style:{left:`calc(${E}% - 14px)`},onMouseDown:()=>S("min"),onTouchStart:()=>S("min"),"aria-label":`Minimum value: ${n}`,children:f.jsxs("span",{className:"sr-only",children:["Min: ",n]})}),f.jsx("button",{type:"button",className:"absolute top-1/2 -translate-y-1/2 w-7 h-7 bg-white border-4 border-[#5E57AC] rounded-full cursor-grab active:cursor-grabbing hover:scale-110 transition-transform shadow-lg focus:outline-none focus:ring-4 focus:ring-[#5E57AC]/30",style:{left:`calc(${P}% - 14px)`},onMouseDown:()=>S("max"),onTouchStart:()=>S("max"),"aria-label":`Maximum value: ${r}`,children:f.jsxs("span",{className:"sr-only",children:["Max: ",r]})})]}),f.jsxs("div",{className:"flex justify-between items-center mt-3 px-1",children:[f.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["",t]}),f.jsxs("span",{className:"text-sm text-gray-500 font-medium",children:["",e]})]})]})]})},bz=({onBack:t,onNext:e,isSubmitting:n=!1})=>{const[r,s]=_.useState(50),[i,o]=_.useState(300),a=(c,u)=>{s(c),o(u)},l=()=>{e({minBudget:r,maxBudget:i})};return f.jsxs("div",{className:"flex flex-col h-full py-4",children:[f.jsx("div",{className:"text-left mb-3 flex-shrink-0",children:f.jsx("p",{className:"text-gray-700 text-base font-semibold",children:"Step 6"})}),f.jsx("div",{className:"flex-1 overflow-y-auto sheet-scrollable",style:{minHeight:0},children:f.jsx(i1,{label:"Budget Range",min:10,max:500,minValue:r,maxValue:i,onChange:a})}),f.jsxs("div",{className:"flex flex-col gap-3 flex-shrink-0 mt-4 pb-3",style:{overflow:"visible",padding:"0 4px"},children:[f.jsx(ze,{fullWidth:!0,size:"large",variant:"secondary",onClick:t,disabled:n,children:"Back"}),f.jsx(ze,{fullWidth:!0,size:"large",variant:"cta",onClick:l,disabled:n,children:n?f.jsxs("span",{className:"flex items-center justify-center gap-2",children:[f.jsx(SF,{className:"animate-spin",size:20}),"Finding perfect gifts..."]}):" Show Gift Ideas "})]})]})},Sz=[0,1],XN=({open:t,onOpenChange:e,title:n="Add Person",children:r,snapPoints:s=Sz,initialSnap:i=1,onComplete:o})=>{const a=_.useRef(null),l=ln.useMemo(()=>{var h;if(typeof window>"u")return"90vh";const c=(h=window.visualViewport)!=null&&h.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(c*.9+12)}px`},[t]);return _.useEffect(()=>{if(t){const c=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=c,document.body.classList.remove("sheet-open")}}},[t]),f.jsx(f.Fragment,{children:f.jsxs(on,{ref:a,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[f.jsxs(on.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${l} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[f.jsx(on.Header,{children:f.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[f.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:f.jsx(on.DragIndicator,{style:{display:"none"}})}),f.jsx("h2",{className:"m-0 text-xl font-bold text-gray-800 select-none",children:n}),f.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:f.jsx(um,{size:24,className:"text-gray-600"})})]})}),f.jsx(on.Content,{style:{padding:"0 24px 24px 24px",paddingBottom:"calc(36px + env(safe-area-inset-bottom))",display:"flex",flexDirection:"column",flex:1,minHeight:0,overflow:"hidden"},children:r??f.jsx(Ez,{onClose:()=>e(!1),onComplete:o})})]}),t&&f.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,height:"env(safe-area-inset-bottom)",background:"#ff0000",pointerEvents:"none",zIndex:999999}}),f.jsx(on.Backdrop,{onTap:()=>e(!1)})]})})},Ez=({onClose:t,onComplete:e})=>{const n=Go(),[r,s]=_.useState(1),[i,o]=_.useState(!1),[a,l]=_.useState({}),c=C=>{const L={...a,relationship:C.relationship};L.name||(C.relationship==="mother"?L.name="Mum":C.relationship==="father"&&(L.name="Dad")),l(L),C.relationship==="mother"||C.relationship==="father"?s(3):s(2)},u=()=>s(1),h=C=>{l({...a,...C}),s(3)},m=()=>{a.relationship==="mother"||a.relationship==="father"?s(1):s(2)},p=C=>{l({...a,...C}),s(4)},S=()=>s(3),E=C=>{l({...a,interests:C.interests}),s(5)},P=()=>s(4),v=C=>{l({...a,...C}),s(6)},y=()=>s(5),T=async C=>{const L={...a,...C};console.log("All data collected:",L),o(!0);try{const x=G=>`15/03/${new Date().getFullYear()-G}`,w=G=>{const X={xs:"XS",small:"S",s:"S",medium:"M",m:"M",large:"L",l:"L",xlarge:"XL",xl:"XL",xxlarge:"XXL",xxl:"XXL","not-sure":"M"},se=G.toLowerCase().trim();return X[se]||"M"};let A;L.dob?A=L.dob:L.age!==void 0?A=x(L.age):A=x(30);const N=L.interests&&L.interests.length>0?L.interests:["General"],D={context:{name:L.name||"Friend",relationship:L.relationship?L.relationship.charAt(0).toUpperCase()+L.relationship.slice(1).toLowerCase():"Friend",gender:(L.gender||"male").toLowerCase(),dob:A,interests:N,budget_min:L.minBudget||10,budget_max:L.maxBudget||110,other:{clothing_size:w(L.clothingSize||"medium"),favourite_drink:(L.favouriteDrink||"beer").toLowerCase()}}},k=new URLSearchParams(window.location.search).get("client_origin"),U=new URLSearchParams;k&&U.append("client_origin",k);const te=qa(),Q=Ia("/recommend",U),J=Rc(te||void 0);console.log("Making API call to:",Q),console.log("Request headers:",J),console.log("Request body:",D),console.log("Mode:",te);const F=await zr(Q,{method:"POST",headers:J,body:JSON.stringify(D)},"POST /recommend");if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const B=await F.json();console.log("API Response:",B);try{const G={id:B.recommendation_id||`person-${Date.now()}`,name:L.name||"Friend",relationship:L.relationship,gender:L.gender,interests:L.interests||[],minBudget:L.minBudget,maxBudget:L.maxBudget,createdAt:Date.now()},X=localStorage.getItem("saved_persons"),se=X?JSON.parse(X):[];se.push(G),localStorage.setItem("saved_persons",JSON.stringify(se)),window.dispatchEvent(new CustomEvent("person-added",{detail:G}))}catch(G){console.warn("Failed to save person:",G)}t(),e?e():n("/")}catch(x){console.error("Error calling /recommend:",x),alert("Failed to get recommendations. Please try again."),o(!1)}};if(r===1)return f.jsx(hz,{onNext:c});if(r===2)return f.jsx(gz,{onBack:u,onNext:h,relationship:a.relationship});if(r===3)return f.jsx(vz,{onBack:m,onNext:p});const R=()=>{if(a.age!==void 0)return a.age;if(a.dob){const C=a.dob.split("/");if(C.length===3){const L=parseInt(C[0]),x=parseInt(C[1])-1,w=parseInt(C[2]);try{const A=new Date(w,x,L),N=new Date;let D=N.getFullYear()-A.getFullYear();const V=N.getMonth()-A.getMonth();return(V<0||V===0&&N.getDate()<A.getDate())&&D--,D>=0&&D<=120?D:void 0}catch{return}}}};return r===4?f.jsx(xz,{onBack:S,onNext:E,relationship:a.relationship,age:R(),gender:a.gender}):r===5?f.jsx(wz,{onBack:P,onNext:v}):r===6?f.jsx(bz,{onBack:y,onNext:T,isSubmitting:i}):null};function Tz(){const t=Go(),[e,n]=_.useState(!1),[r,s]=_.useState(!1),i=()=>{n(!1),Ka(!1),Wa(!0),setTimeout(()=>{t("/person")},200)},o=async()=>{if(!r){s(!0);try{const a={id:`person-${Date.now()}`,name:"Dad",relationship:"father",gender:"male",interests:["tech","golf"],minBudget:10,maxBudget:200,createdAt:Date.now()},l=localStorage.getItem("saved_persons"),c=l?JSON.parse(l):[];c.push(a),localStorage.setItem("saved_persons",JSON.stringify(c)),Ka(!1),Wa(!0),window.dispatchEvent(new CustomEvent("person-added",{detail:a})),t("/person")}catch(a){console.error("Error in autofill:",a),s(!1)}}};return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 py-8 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#faf9ff] via-[#f5f3ff] to-[#fef7ff]"}),f.jsx("div",{className:"absolute top-0 left-0 w-full h-2/5 bg-gradient-to-b from-purple-50/60 via-purple-50/30 to-transparent"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-full h-2/5 bg-gradient-to-t from-pink-50/40 via-pink-50/20 to-transparent"}),f.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:`
                            radial-gradient(circle at 20% 30%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                            radial-gradient(circle at 80% 70%, rgba(236, 72, 153, 0.1) 0%, transparent 50%)
                        `}})]}),f.jsxs("div",{className:"w-full max-w-7xl flex flex-col items-center relative z-10",children:[f.jsx(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-12 md:mb-16",children:f.jsx("h1",{className:"font-notch font-bold text-3xl md:text-4xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent tracking-tight drop-shadow-sm",children:"SimplySent"})}),f.jsxs("div",{className:"w-full flex flex-col items-center gap-8 md:gap-12",children:[f.jsxs(ye.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"relative w-full max-w-xl md:max-w-2xl pt-8 md:pt-12",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-100/20 via-transparent to-pink-100/20 rounded-3xl -z-10 transform scale-105"}),f.jsx("img",{src:"/undraw_gifts.svg",alt:"Gift illustration",className:"w-full h-auto relative z-10",style:{filter:"drop-shadow(0 20px 40px rgba(139, 92, 246, 0.15))"}})]}),f.jsxs(ye.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4,ease:"easeOut"},className:"flex flex-col items-center space-y-6 max-w-2xl text-center pt-4 md:pt-6",children:[f.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-headline font-medium leading-tight",children:f.jsx("span",{className:"bg-gradient-to-r from-gray-900 via-purple-800 to-gray-900 bg-clip-text text-transparent",children:"Find the perfect gift in 3 minutes"})}),f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"pt-4 flex flex-col gap-4 items-center",children:[f.jsxs(ye.div,{className:"relative min-w-[240px]",whileHover:{scale:1.02},whileTap:{scale:.98},children:[f.jsx(ye.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-600 via-pink-500 via-purple-600 to-pink-500 bg-[length:200%_100%] opacity-90 blur-sm -z-10"}),f.jsxs("div",{className:"relative overflow-hidden rounded-full",children:[f.jsx(ye.div,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-500 to-purple-600 bg-[length:200%_100%]"}),f.jsxs(ze,{onClick:()=>n(!0),variant:"primary",size:"large",className:"relative w-full min-w-[240px] shadow-xl shadow-purple-500/30 hover:shadow-2xl hover:shadow-purple-500/40 transition-all duration-300 bg-transparent border-0 overflow-hidden group",children:[f.jsx(ye.span,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"relative z-10 block bg-gradient-to-r from-white via-white/90 to-white bg-[length:200%_100%] bg-clip-text text-transparent",style:{WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Get Started"}),f.jsx(ye.div,{animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]})]})]}),vx()&&f.jsx(ze,{onClick:o,variant:"ghost",size:"medium",disabled:r,className:"text-sm text-gray-500 hover:text-gray-700",children:r?"Loading...":"Autofill (dev only)"})]})]})]})]}),f.jsx(XN,{open:e,onOpenChange:n,title:"Add Person",onComplete:i})]})}function _z(){return _.useEffect(()=>{window.scrollTo(0,0)},[]),f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[f.jsxs(Vv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[f.jsx(js,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"About SimplySent"}),f.jsxs("div",{className:"prose max-w-none",children:[f.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Welcome to SimplySent, where finding the perfect gift becomes a delightful experience rather than a stressful task."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Mission"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"At SimplySent, we believe that the perfect gift has the power to strengthen relationships and create lasting memories. Our mission is to help you discover thoughtful, personalized gifts for every person in your life, no matter the occasion."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Story"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent was born from a simple frustration: gift-giving should be joyful, not stressful. Our founder spent countless hours searching for the perfect gifts for friends and family, only to end up with generic, uninspired options."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"That's when the idea struckwhat if AI could help match people's unique interests and personalities with truly thoughtful gifts? After months of development, SimplySent launched with a mission to revolutionize how we discover and give gifts."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"How It Works"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Our AI-powered recommendation engine analyzes thousands of products and matches them with the recipient's interests, age, occasion, and your budget. The result? Personalized gift suggestions that feel thoughtful and unique."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"We've carefully curated our product selection to include items from independent creators, popular brands, and everything in between. Each product is vetted for quality, value, and gift-worthiness."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Our Values"}),f.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Thoughtfulness:"})," We believe gifts should reflect genuine care and consideration."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Simplicity:"})," Finding the perfect gift shouldn't be complicated or time-consuming."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Personalization:"})," The best gifts are tailored to the individual's unique personality and interests."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Quality:"})," We only recommend products we'd be proud to give ourselves."]})]}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Join Us"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Whether you're shopping for a birthday, holiday, or just because, SimplySent is here to make gift-giving a joyful experience. Try our AI Gift Finder today and discover the perfect present for someone special."}),f.jsxs("p",{className:"text-gray-700 mb-4",children:["Have questions or feedback? We'd love to hear from you! Contact us at"," ",f.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}function Pz(){return _.useEffect(()=>{window.scrollTo(0,0)},[]),f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[f.jsxs(Vv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[f.jsx(js,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Privacy Policy"}),f.jsx("p",{className:"text-gray-500 mb-8",children:"Last Updated: June 1, 2023"}),f.jsxs("div",{className:"prose max-w-none",children:[f.jsx("p",{className:"text-gray-700 mb-4",children:"At SimplySent, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our AI Gift Finder service."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the site."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Information We Collect"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"We collect information that you voluntarily provide to us when you use our AI Gift Finder, subscribe to our newsletter, or contact us."}),f.jsxs("p",{className:"text-gray-700 mb-4",children:[f.jsx("strong",{children:"Personal Data:"})," When using our AI Gift Finder, we may ask for information about gift recipients, such as their age, interests, and preferences. This information is used solely to provide personalized gift recommendations."]}),f.jsxs("p",{className:"text-gray-700 mb-4",children:[f.jsx("strong",{children:"Usage Data:"})," We may also collect information on how the website is accessed and used. This usage data may include information such as your computer's IP address, browser type, browser version, the pages of our website that you visit, the time and date of your visit, the time spent on those pages, and other diagnostic data."]}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"How We Use Your Information"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"We use the information we collect in various ways, including to:"}),f.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[f.jsx("li",{children:"Provide, operate, and maintain our website"}),f.jsx("li",{children:"Generate personalized gift recommendations"}),f.jsx("li",{children:"Improve, personalize, and expand our website and services"}),f.jsx("li",{children:"Understand and analyze how you use our website"}),f.jsx("li",{children:"Develop new products, services, features, and functionality"}),f.jsx("li",{children:"Communicate with you about updates, promotions, and news"}),f.jsx("li",{children:"Send you emails and newsletters if you've subscribed"}),f.jsx("li",{children:"Find and prevent fraud"})]}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Cookies and Tracking Technologies"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"We use cookies and similar tracking technologies to track activity on our website and store certain information. Cookies are files with a small amount of data which may include an anonymous unique identifier."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our website."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Third-Party Disclosure"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"We do not sell, trade, or otherwise transfer your personally identifiable information to outside parties except as described below:"}),f.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Service Providers:"})," We may share your information with third-party vendors, service providers, and other third parties who perform services on our behalf."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Business Transfers:"})," If SimplySent is involved in a merger, acquisition, or sale of assets, your information may be transferred as part of that transaction."]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Legal Requirements:"})," We may disclose your information if required to do so by law or in response to valid requests by public authorities."]})]}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Your Rights"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),f.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[f.jsx("li",{children:"The right to access the personal information we hold about you"}),f.jsx("li",{children:"The right to request correction of inaccurate information"}),f.jsx("li",{children:"The right to request deletion of your personal information"}),f.jsx("li",{children:"The right to restrict or object to processing of your personal information"}),f.jsx("li",{children:"The right to data portability"})]}),f.jsxs("p",{className:"text-gray-700 mb-4",children:["To exercise any of these rights, please contact us at"," ",f.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Changes to This Privacy Policy"}),f.jsx("p",{className:"text-gray-700 mb-4",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date at the top of this page.'}),f.jsx("p",{className:"text-gray-700 mb-4",children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Contact Us"}),f.jsxs("p",{className:"text-gray-700 mb-4",children:["If you have any questions about this Privacy Policy, please contact us at"," ",f.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}function Az(){return _.useEffect(()=>{window.scrollTo(0,0)},[]),f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"max-w-4xl mx-auto py-8 px-4",children:[f.jsxs(Vv,{to:"/",className:"text-purple-600 hover:text-purple-700 font-medium flex items-center mb-8",children:[f.jsx(js,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms of Service"}),f.jsx("p",{className:"text-gray-500 mb-8",children:"Last Updated: June 1, 2023"}),f.jsxs("div",{className:"prose max-w-none",children:[f.jsx("p",{className:"text-gray-700 mb-4",children:'Please read these Terms of Service ("Terms", "Terms of Service") carefully before using the SimplySent website and AI Gift Finder service operated by SimplySent ("us", "we", or "our").'}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms. These Terms apply to all visitors, users, and others who access or use the Service."}),f.jsx("p",{className:"text-gray-700 mb-6",children:"By accessing or using the Service you agree to be bound by these Terms. If you disagree with any part of the terms, you may not access the Service."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Use of Service"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent provides an AI-powered gift recommendation service. Our service is designed to help users find appropriate gifts based on information provided about the recipient and occasion."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"You agree to use the Service only for lawful purposes and in accordance with these Terms. You agree not to:"}),f.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[f.jsx("li",{children:"Use the Service in any way that violates any applicable national or international law or regulation"}),f.jsx("li",{children:"Use the Service for the purpose of exploiting, harming, or attempting to exploit or harm minors"}),f.jsx("li",{children:"Attempt to gain unauthorized access to our servers or any part of the Service"}),f.jsx("li",{children:"Interfere with or disrupt the Service or servers or networks connected to the Service"}),f.jsx("li",{children:"Collect or track the personal information of others"}),f.jsx("li",{children:"Impersonate or attempt to impersonate SimplySent, a SimplySent employee, another user, or any other person or entity"}),f.jsx("li",{children:"Engage in any other conduct that restricts or inhibits anyone's use or enjoyment of the Service"})]}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Affiliate Disclosure"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent is a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for sites to earn advertising fees by advertising and linking to Amazon.com."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"As an Amazon Associate, we earn from qualifying purchases. This means that when you click on links to products on Amazon from our website and make a purchase, we receive a small commission at no additional cost to you."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"We only recommend products that we believe will be of value to our users. However, we cannot guarantee that all products will meet your expectations or needs."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Intellectual Property"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"The Service and its original content, features, and functionality are and will remain the exclusive property of SimplySent and its licensors. The Service is protected by copyright, trademark, and other laws of both the United States and foreign countries."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Our trademarks and trade dress may not be used in connection with any product or service without the prior written consent of SimplySent."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Limitation of Liability"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"In no event shall SimplySent, nor its directors, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from:"}),f.jsxs("ul",{className:"list-disc pl-6 text-gray-700 mb-6 space-y-2",children:[f.jsx("li",{children:"Your access to or use of or inability to access or use the Service"}),f.jsx("li",{children:"Any conduct or content of any third party on the Service"}),f.jsx("li",{children:"Any content obtained from the Service"}),f.jsx("li",{children:"Unauthorized access, use or alteration of your transmissions or content"}),f.jsx("li",{children:"The quality, appropriateness, or satisfaction with products purchased based on our recommendations"})]}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Disclaimer"}),f.jsx("p",{className:"text-gray-700 mb-4",children:'Your use of the Service is at your sole risk. The Service is provided on an "AS IS" and "AS AVAILABLE" basis. The Service is provided without warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement, or course of performance.'}),f.jsx("p",{className:"text-gray-700 mb-4",children:"SimplySent does not warrant that the Service will be uninterrupted, timely, secure, or error-free, or that any defects will be corrected. We do not warrant that the results that may be obtained from the use of the Service will be accurate or reliable."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Changes"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. If a revision is material, we will try to provide at least 30 days' notice prior to any new terms taking effect. What constitutes a material change will be determined at our sole discretion."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"By continuing to access or use our Service after those revisions become effective, you agree to be bound by the revised terms. If you do not agree to the new terms, please stop using the Service."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Governing Law"}),f.jsx("p",{className:"text-gray-700 mb-4",children:"These Terms shall be governed and construed in accordance with the laws of the United Kingdom, without regard to its conflict of law provisions."}),f.jsx("p",{className:"text-gray-700 mb-4",children:"Our failure to enforce any right or provision of these Terms will not be considered a waiver of those rights. If any provision of these Terms is held to be invalid or unenforceable by a court, the remaining provisions of these Terms will remain in effect."}),f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mt-8 mb-4",children:"Contact Us"}),f.jsxs("p",{className:"text-gray-700 mb-4",children:["If you have any questions about these Terms, please contact us at"," ",f.jsx("a",{href:"mailto:hello@simplysent.co",className:"text-purple-600 hover:text-purple-800",children:"hello@simplysent.co"}),"."]})]})]})]})}/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Cz(t){if(Array.isArray(t))return t}function Iz(t){if(Array.isArray(t))return Qy(t)}function kz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QN(r.key),r)}}function jz(t,e,n){return e&&Nz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function If(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o1(t))||e){n&&(t=n);var r=0,s=function(){};return{s,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,i=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw i}}}}function Ne(t,e,n){return(e=QN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,a=[],l=!0,c=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function Mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UE(Object(n),!0).forEach(function(r){Ne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vm(t,e){return Cz(t)||Dz(t,e)||o1(t,e)||Mz()}function Gr(t){return Iz(t)||Rz(t)||o1(t)||Vz()}function Lz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QN(t){var e=Lz(t,"string");return typeof e=="symbol"?e:e+""}function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function o1(t,e){if(t){if(typeof t=="string")return Qy(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qy(t,e):void 0}}var HE=function(){},a1={},JN={},ZN=null,e4={mark:HE,measure:HE};try{typeof window<"u"&&(a1=window),typeof document<"u"&&(JN=document),typeof MutationObserver<"u"&&(ZN=MutationObserver),typeof performance<"u"&&(e4=performance)}catch{}var Oz=a1.navigator||{},WE=Oz.userAgent,KE=WE===void 0?"":WE,Vi=a1,ft=JN,qE=ZN,Qd=e4;Vi.document;var Js=!!ft.documentElement&&!!ft.head&&typeof ft.addEventListener=="function"&&typeof ft.createElement=="function",t4=~KE.indexOf("MSIE")||~KE.indexOf("Trident/"),Xp,Fz=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|usb|ufsb|udsb|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,$z=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Utility|Utility Fill|Utility Duo|Slab Press|Slab|Whiteboard)?.*/i,n4={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"},utility:{"fa-semibold":"semibold",fausb:"semibold"},"utility-duo":{"fa-semibold":"semibold",faudsb:"semibold"},"utility-fill":{"fa-semibold":"semibold",faufsb:"semibold"}},Bz={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},r4=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],yn="classic",id="duotone",s4="sharp",i4="sharp-duotone",o4="chisel",a4="etch",l4="jelly",c4="jelly-duo",u4="jelly-fill",d4="notdog",f4="notdog-duo",h4="slab",m4="slab-press",p4="thumbprint",g4="utility",y4="utility-duo",v4="utility-fill",x4="whiteboard",zz="Classic",Uz="Duotone",Hz="Sharp",Wz="Sharp Duotone",Kz="Chisel",qz="Etch",Gz="Jelly",Yz="Jelly Duo",Xz="Jelly Fill",Qz="Notdog",Jz="Notdog Duo",Zz="Slab",eU="Slab Press",tU="Thumbprint",nU="Utility",rU="Utility Duo",sU="Utility Fill",iU="Whiteboard",w4=[yn,id,s4,i4,o4,a4,l4,c4,u4,d4,f4,h4,m4,p4,g4,y4,v4,x4];Xp={},Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Xp,yn,zz),id,Uz),s4,Hz),i4,Wz),o4,Kz),a4,qz),l4,Gz),c4,Yz),u4,Xz),d4,Qz),Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Xp,f4,Jz),h4,Zz),m4,eU),p4,tU),g4,nU),y4,rU),v4,sU),x4,iU);var oU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"},utility:{600:"fausb"},"utility-duo":{600:"faudsb"},"utility-fill":{600:"faufsb"}},aU={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"},"Font Awesome 7 Utility":{600:"fausb",normal:"fausb"},"Font Awesome 7 Utility Duo":{600:"faudsb",normal:"faudsb"},"Font Awesome 7 Utility Fill":{600:"faufsb",normal:"faufsb"}},lU=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["utility",{defaultShortPrefixId:"fausb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-duo",{defaultShortPrefixId:"faudsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["utility-fill",{defaultShortPrefixId:"faufsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),cU={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},utility:{semibold:"fausb"},"utility-duo":{semibold:"faudsb"},"utility-fill":{semibold:"faufsb"},whiteboard:{semibold:"fawsb"}},b4=["fak","fa-kit","fakd","fa-kit-duotone"],GE={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},uU=["kit"],dU="kit",fU="kit-duotone",hU="Kit",mU="Kit Duotone";Ne(Ne({},dU,hU),fU,mU);var pU={kit:{"fa-kit":"fak"}},gU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},yU={kit:{fak:"fa-kit"}},YE={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Qp,Jd={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},vU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press","fa-utility","fa-utility-duo","fa-utility-fill"],xU="classic",wU="duotone",bU="sharp",SU="sharp-duotone",EU="chisel",TU="etch",_U="jelly",PU="jelly-duo",AU="jelly-fill",CU="notdog",IU="notdog-duo",kU="slab",NU="slab-press",jU="thumbprint",RU="utility",DU="utility-duo",MU="utility-fill",VU="whiteboard",LU="Classic",OU="Duotone",FU="Sharp",$U="Sharp Duotone",BU="Chisel",zU="Etch",UU="Jelly",HU="Jelly Duo",WU="Jelly Fill",KU="Notdog",qU="Notdog Duo",GU="Slab",YU="Slab Press",XU="Thumbprint",QU="Utility",JU="Utility Duo",ZU="Utility Fill",eH="Whiteboard";Qp={},Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Qp,xU,LU),wU,OU),bU,FU),SU,$U),EU,BU),TU,zU),_U,UU),PU,HU),AU,WU),CU,KU),Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Qp,IU,qU),kU,GU),NU,YU),jU,XU),RU,QU),DU,JU),MU,ZU),VU,eH);var tH="kit",nH="kit-duotone",rH="Kit",sH="Kit Duotone";Ne(Ne({},tH,rH),nH,sH);var iH={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"},utility:{"fa-semibold":"fausb"},"utility-duo":{"fa-semibold":"faudsb"},"utility-fill":{"fa-semibold":"faufsb"}},oH={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"],utility:["fausb"],"utility-duo":["faudsb"],"utility-fill":["faufsb"]},Jy={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"},utility:{fausb:"fa-semibold"},"utility-duo":{faudsb:"fa-semibold"},"utility-fill":{faufsb:"fa-semibold"}},aH=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],S4=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr","fausb","faudsb","faufsb"].concat(vU,aH),lH=["solid","regular","light","thin","duotone","brands","semibold"],E4=[1,2,3,4,5,6,7,8,9,10],cH=E4.concat([11,12,13,14,15,16,17,18,19,20]),uH=["aw","fw","pull-left","pull-right"],dH=[].concat(Gr(Object.keys(oH)),lH,uH,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Jd.GROUP,Jd.SWAP_OPACITY,Jd.PRIMARY,Jd.SECONDARY]).concat(E4.map(function(t){return"".concat(t,"x")})).concat(cH.map(function(t){return"w-".concat(t)})),fH={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Ks="___FONT_AWESOME___",Zy=16,T4="fa",_4="svg-inline--fa",$o="data-fa-i2svg",e0="data-fa-pseudo-element",hH="data-fa-pseudo-element-pending",l1="data-prefix",c1="data-icon",XE="fontawesome-i2svg",mH="async",pH=["HTML","HEAD","STYLE","SCRIPT"],P4=["::before","::after",":before",":after"],A4=function(){try{return!0}catch{return!1}}();function od(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[yn]}})}var C4=re({},n4);C4[yn]=re(re(re(re({},{"fa-duotone":"duotone"}),n4[yn]),GE.kit),GE["kit-duotone"]);var gH=od(C4),t0=re({},cU);t0[yn]=re(re(re(re({},{duotone:"fad"}),t0[yn]),YE.kit),YE["kit-duotone"]);var QE=od(t0),n0=re({},Jy);n0[yn]=re(re({},n0[yn]),yU.kit);var u1=od(n0),r0=re({},iH);r0[yn]=re(re({},r0[yn]),pU.kit);od(r0);var yH=Fz,I4="fa-layers-text",vH=$z,xH=re({},oU);od(xH);var wH=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Jp=Bz,bH=[].concat(Gr(uU),Gr(dH)),zc=Vi.FontAwesomeConfig||{};function SH(t){var e=ft.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function EH(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(ft&&typeof ft.querySelector=="function"){var TH=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];TH.forEach(function(t){var e=vm(t,2),n=e[0],r=e[1],s=EH(SH(n));s!=null&&(zc[r]=s)})}var k4={styleDefault:"solid",familyDefault:yn,cssPrefix:T4,replacementClass:_4,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};zc.familyPrefix&&(zc.cssPrefix=zc.familyPrefix);var pl=re(re({},k4),zc);pl.autoReplaceSvg||(pl.observeMutations=!1);var pe={};Object.keys(k4).forEach(function(t){Object.defineProperty(pe,t,{enumerable:!0,set:function(n){pl[t]=n,Uc.forEach(function(r){return r(pe)})},get:function(){return pl[t]}})});Object.defineProperty(pe,"familyPrefix",{enumerable:!0,set:function(e){pl.cssPrefix=e,Uc.forEach(function(n){return n(pe)})},get:function(){return pl.cssPrefix}});Vi.FontAwesomeConfig=pe;var Uc=[];function _H(t){return Uc.push(t),function(){Uc.splice(Uc.indexOf(t),1)}}var ra=Zy,is={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function PH(t){if(!(!t||!Js)){var e=ft.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=ft.head.childNodes,r=null,s=n.length-1;s>-1;s--){var i=n[s],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=i)}return ft.head.insertBefore(e,r),t}}var AH="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function JE(){for(var t=12,e="";t-- >0;)e+=AH[Math.random()*62|0];return e}function Rl(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function d1(t){return t.classList?Rl(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function N4(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function CH(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(N4(t[n]),'" ')},"").trim()}function xm(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function f1(t){return t.size!==is.size||t.x!==is.x||t.y!==is.y||t.rotate!==is.rotate||t.flipX||t.flipY}function IH(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(a)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:l,path:c}}function kH(t){var e=t.transform,n=t.width,r=n===void 0?Zy:n,s=t.height,i=s===void 0?Zy:s,o="";return t4?o+="translate(".concat(e.x/ra-r/2,"em, ").concat(e.y/ra-i/2,"em) "):o+="translate(calc(-50% + ".concat(e.x/ra,"em), calc(-50% + ").concat(e.y/ra,"em)) "),o+="scale(".concat(e.size/ra*(e.flipX?-1:1),", ").concat(e.size/ra*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var NH=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
  --fa-font-utility-semibold: normal 600 1em/1 "Font Awesome 7 Utility";
  --fa-font-utility-duo-semibold: normal 600 1em/1 "Font Awesome 7 Utility Duo";
  --fa-font-utility-fill-semibold: normal 600 1em/1 "Font Awesome 7 Utility Fill";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  --fa-width: 1.25em;
  height: 1em;
  width: var(--fa-width);
}
.svg-inline--fa.fa-stack-2x {
  --fa-width: 2.5em;
  height: 2em;
  width: var(--fa-width);
}

.fa-stack-1x,
.fa-stack-2x {
  inset: 0;
  margin: auto;
  position: absolute;
  z-index: var(--fa-stack-z-index, auto);
}`;function j4(){var t=T4,e=_4,n=pe.cssPrefix,r=pe.replacementClass,s=NH;if(n!==t||r!==e){var i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");s=s.replace(i,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return s}var ZE=!1;function Zp(){pe.autoAddCss&&!ZE&&(PH(j4()),ZE=!0)}var jH={mixout:function(){return{dom:{css:j4,insertCss:Zp}}},hooks:function(){return{beforeDOMElementCreation:function(){Zp()},beforeI2svg:function(){Zp()}}}},qs=Vi||{};qs[Ks]||(qs[Ks]={});qs[Ks].styles||(qs[Ks].styles={});qs[Ks].hooks||(qs[Ks].hooks={});qs[Ks].shims||(qs[Ks].shims=[]);var Ur=qs[Ks],R4=[],D4=function(){ft.removeEventListener("DOMContentLoaded",D4),Ch=1,R4.map(function(e){return e()})},Ch=!1;Js&&(Ch=(ft.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ft.readyState),Ch||ft.addEventListener("DOMContentLoaded",D4));function RH(t){Js&&(Ch?setTimeout(t,0):R4.push(t))}function ad(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,s=t.children,i=s===void 0?[]:s;return typeof t=="string"?N4(t):"<".concat(e," ").concat(CH(r),">").concat(i.map(ad).join(""),"</").concat(e,">")}function eT(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var eg=function(e,n,r,s){var i=Object.keys(e),o=i.length,a=n,l,c,u;for(r===void 0?(l=1,u=e[i[0]]):(l=0,u=r);l<o;l++)c=i[l],u=a(u,e[c],c,e);return u};function M4(t){return Gr(t).length!==1?null:t.codePointAt(0).toString(16)}function tT(t){return Object.keys(t).reduce(function(e,n){var r=t[n],s=!!r.icon;return s?e[r.iconName]=r.icon:e[n]=r,e},{})}function s0(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,s=r===void 0?!1:r,i=tT(e);typeof Ur.hooks.addPack=="function"&&!s?Ur.hooks.addPack(t,tT(e)):Ur.styles[t]=re(re({},Ur.styles[t]||{}),i),t==="fas"&&s0("fa",e)}var Du=Ur.styles,DH=Ur.shims,V4=Object.keys(u1),MH=V4.reduce(function(t,e){return t[e]=Object.keys(u1[e]),t},{}),h1=null,L4={},O4={},F4={},$4={},B4={};function VH(t){return~bH.indexOf(t)}function LH(t,e){var n=e.split("-"),r=n[0],s=n.slice(1).join("-");return r===t&&s!==""&&!VH(s)?s:null}var z4=function(){var e=function(i){return eg(Du,function(o,a,l){return o[l]=eg(a,i,{}),o},{})};L4=e(function(s,i,o){if(i[3]&&(s[i[3]]=o),i[2]){var a=i[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),O4=e(function(s,i,o){if(s[o]=o,i[2]){var a=i[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),B4=e(function(s,i,o){var a=i[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in Du||pe.autoFetchSvg,r=eg(DH,function(s,i){var o=i[0],a=i[1],l=i[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});F4=r.names,$4=r.unicodes,h1=wm(pe.styleDefault,{family:pe.familyDefault})};_H(function(t){h1=wm(t.styleDefault,{family:pe.familyDefault})});z4();function m1(t,e){return(L4[t]||{})[e]}function OH(t,e){return(O4[t]||{})[e]}function Eo(t,e){return(B4[t]||{})[e]}function U4(t){return F4[t]||{prefix:null,iconName:null}}function FH(t){var e=$4[t],n=m1("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Li(){return h1}var H4=function(){return{prefix:null,iconName:null,rest:[]}};function $H(t){var e=yn,n=V4.reduce(function(r,s){return r[s]="".concat(pe.cssPrefix,"-").concat(s),r},{});return w4.forEach(function(r){(t.includes(n[r])||t.some(function(s){return MH[r].includes(s)}))&&(e=r)}),e}function wm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?yn:n,s=gH[r][t];if(r===id&&!t)return"fad";var i=QE[r][t]||QE[r][s],o=t in Ur.styles?t:null,a=i||o||null;return a}function BH(t){var e=[],n=null;return t.forEach(function(r){var s=LH(pe.cssPrefix,r);s?n=s:r&&e.push(r)}),{iconName:n,rest:e}}function nT(t){return t.sort().filter(function(e,n,r){return r.indexOf(e)===n})}var rT=S4.concat(b4);function bm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.skipLookups,r=n===void 0?!1:n,s=null,i=nT(t.filter(function(p){return rT.includes(p)})),o=nT(t.filter(function(p){return!rT.includes(p)})),a=i.filter(function(p){return s=p,!r4.includes(p)}),l=vm(a,1),c=l[0],u=c===void 0?null:c,h=$H(i),m=re(re({},BH(o)),{},{prefix:wm(u,{family:h})});return re(re(re({},m),WH({values:t,family:h,styles:Du,config:pe,canonical:m,givenPrefix:s})),zH(r,s,m))}function zH(t,e,n){var r=n.prefix,s=n.iconName;if(t||!r||!s)return{prefix:r,iconName:s};var i=e==="fa"?U4(s):{},o=Eo(r,s);return s=i.iconName||o||s,r=i.prefix||r,r==="far"&&!Du.far&&Du.fas&&!pe.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}var UH=w4.filter(function(t){return t!==yn||t!==id}),HH=Object.keys(Jy).filter(function(t){return t!==yn}).map(function(t){return Object.keys(Jy[t])}).flat();function WH(t){var e=t.values,n=t.family,r=t.canonical,s=t.givenPrefix,i=s===void 0?"":s,o=t.styles,a=o===void 0?{}:o,l=t.config,c=l===void 0?{}:l,u=n===id,h=e.includes("fa-duotone")||e.includes("fad"),m=c.familyDefault==="duotone",p=r.prefix==="fad"||r.prefix==="fa-duotone";if(!u&&(h||m||p)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&UH.includes(n)){var S=Object.keys(a).find(function(P){return HH.includes(P)});if(S||c.autoFetchSvg){var E=lU.get(n).defaultShortPrefixId;r.prefix=E,r.iconName=Eo(r.prefix,r.iconName)||r.iconName}}return(r.prefix==="fa"||i==="fa")&&(r.prefix=Li()||"fas"),r}var KH=function(){function t(){kz(this,t),this.definitions={}}return jz(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=re(re({},n.definitions[a]||{}),o[a]),s0(a,o[a]);var l=u1[yn][a];l&&s0(l,o[a]),z4()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(i){var o=s[i],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(n[a][h]=c)}),n[a][l]=c}),n}}])}(),sT=[],Va={},Ya={},qH=Object.keys(Ya);function GH(t,e){var n=e.mixoutsTo;return sT=t,Va={},Object.keys(Ya).forEach(function(r){qH.indexOf(r)===-1&&delete Ya[r]}),sT.forEach(function(r){var s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),Ah(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(o){Va[o]||(Va[o]=[]),Va[o].push(i[o])})}r.provides&&r.provides(Ya)}),n}function i0(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];var i=Va[t]||[];return i.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Bo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var s=Va[t]||[];s.forEach(function(i){i.apply(null,n)})}function Oi(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ya[t]?Ya[t].apply(null,e):void 0}function o0(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Li();if(e)return e=Eo(n,e)||e,eT(W4.definitions,n,e)||eT(Ur.styles,n,e)}var W4=new KH,YH=function(){pe.autoReplaceSvg=!1,pe.observeMutations=!1,Bo("noAuto")},XH={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Js?(Bo("beforeI2svg",e),Oi("pseudoElements2svg",e),Oi("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;pe.autoReplaceSvg===!1&&(pe.autoReplaceSvg=!0),pe.observeMutations=!0,RH(function(){JH({autoReplaceSvgRoot:n}),Bo("watch",e)})}},QH={icon:function(e){if(e===null)return null;if(Ah(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Eo(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=wm(e[0]);return{prefix:r,iconName:Eo(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(pe.cssPrefix,"-"))>-1||e.match(yH))){var s=bm(e.split(" "),{skipLookups:!0});return{prefix:s.prefix||Li(),iconName:Eo(s.prefix,s.iconName)||s.iconName}}if(typeof e=="string"){var i=Li();return{prefix:i,iconName:Eo(i,e)||e}}}},dr={noAuto:YH,config:pe,dom:XH,parse:QH,library:W4,findIconDefinition:o0,toHtml:ad},JH=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?ft:n;(Object.keys(Ur.styles).length>0||pe.autoFetchSvg)&&Js&&pe.autoReplaceSvg&&dr.dom.i2svg({node:r})};function Sm(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return ad(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Js){var r=ft.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function ZH(t){var e=t.children,n=t.main,r=t.mask,s=t.attributes,i=t.styles,o=t.transform;if(f1(o)&&n.found&&!r.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};s.style=xm(re(re({},i),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function eW(t){var e=t.prefix,n=t.iconName,r=t.children,s=t.attributes,i=t.symbol,o=i===!0?"".concat(e,"-").concat(pe.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:re(re({},s),{},{id:o}),children:r}]}]}function tW(t){var e=["aria-label","aria-labelledby","title","role"];return e.some(function(n){return n in t})}function p1(t){var e=t.icons,n=e.main,r=e.mask,s=t.prefix,i=t.iconName,o=t.transform,a=t.symbol,l=t.maskId,c=t.extra,u=t.watchable,h=u===void 0?!1:u,m=r.found?r:n,p=m.width,S=m.height,E=[pe.replacementClass,i?"".concat(pe.cssPrefix,"-").concat(i):""].filter(function(C){return c.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(c.classes).join(" "),P={children:[],attributes:re(re({},c.attributes),{},{"data-prefix":s,"data-icon":i,class:E,role:c.attributes.role||"img",viewBox:"0 0 ".concat(p," ").concat(S)})};!tW(c.attributes)&&!c.attributes["aria-hidden"]&&(P.attributes["aria-hidden"]="true"),h&&(P.attributes[$o]="");var v=re(re({},P),{},{prefix:s,iconName:i,main:n,mask:r,maskId:l,transform:o,symbol:a,styles:re({},c.styles)}),y=r.found&&n.found?Oi("generateAbstractMask",v)||{children:[],attributes:{}}:Oi("generateAbstractIcon",v)||{children:[],attributes:{}},T=y.children,R=y.attributes;return v.children=T,v.attributes=R,a?eW(v):ZH(v)}function iT(t){var e=t.content,n=t.width,r=t.height,s=t.transform,i=t.extra,o=t.watchable,a=o===void 0?!1:o,l=re(re({},i.attributes),{},{class:i.classes.join(" ")});a&&(l[$o]="");var c=re({},i.styles);f1(s)&&(c.transform=kH({transform:s,width:n,height:r}),c["-webkit-transform"]=c.transform);var u=xm(c);u.length>0&&(l.style=u);var h=[];return h.push({tag:"span",attributes:l,children:[e]}),h}function nW(t){var e=t.content,n=t.extra,r=re(re({},n.attributes),{},{class:n.classes.join(" ")}),s=xm(n.styles);s.length>0&&(r.style=s);var i=[];return i.push({tag:"span",attributes:r,children:[e]}),i}var tg=Ur.styles;function a0(t){var e=t[0],n=t[1],r=t.slice(4),s=vm(r,1),i=s[0],o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(pe.cssPrefix,"-").concat(Jp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(Jp.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(Jp.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:n,icon:o}}var rW={found:!1,width:512,height:512};function sW(t,e){!A4&&!pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function l0(t,e){var n=e;return e==="fa"&&pe.styleDefault!==null&&(e=Li()),new Promise(function(r,s){if(n==="fa"){var i=U4(t)||{};t=i.iconName||t,e=i.prefix||e}if(t&&e&&tg[e]&&tg[e][t]){var o=tg[e][t];return r(a0(o))}sW(t,e),r(re(re({},rW),{},{icon:pe.showMissingIcons&&t?Oi("missingIconAbstract")||{}:{}}))})}var oT=function(){},c0=pe.measurePerformance&&Qd&&Qd.mark&&Qd.measure?Qd:{mark:oT,measure:oT},gc='FA "7.1.0"',iW=function(e){return c0.mark("".concat(gc," ").concat(e," begins")),function(){return K4(e)}},K4=function(e){c0.mark("".concat(gc," ").concat(e," ends")),c0.measure("".concat(gc," ").concat(e),"".concat(gc," ").concat(e," begins"),"".concat(gc," ").concat(e," ends"))},g1={begin:iW,end:K4},kf=function(){};function aT(t){var e=t.getAttribute?t.getAttribute($o):null;return typeof e=="string"}function oW(t){var e=t.getAttribute?t.getAttribute(l1):null,n=t.getAttribute?t.getAttribute(c1):null;return e&&n}function aW(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(pe.replacementClass)}function lW(){if(pe.autoReplaceSvg===!0)return Nf.replace;var t=Nf[pe.autoReplaceSvg];return t||Nf.replace}function cW(t){return ft.createElementNS("http://www.w3.org/2000/svg",t)}function uW(t){return ft.createElement(t)}function q4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?cW:uW:n;if(typeof t=="string")return ft.createTextNode(t);var s=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){s.setAttribute(o,t.attributes[o])});var i=t.children||[];return i.forEach(function(o){s.appendChild(q4(o,{ceFn:r}))}),s}function dW(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Nf={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(s){n.parentNode.insertBefore(q4(s),n)}),n.getAttribute($o)===null&&pe.keepOriginalSource){var r=ft.createComment(dW(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~d1(n).indexOf(pe.replacementClass))return Nf.replace(e);var s=new RegExp("".concat(pe.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(a,l){return l===pe.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",i.toNode.join(" "))}var o=r.map(function(a){return ad(a)}).join(`
`);n.setAttribute($o,""),n.innerHTML=o}};function lT(t){t()}function G4(t,e){var n=typeof e=="function"?e:kf;if(t.length===0)n();else{var r=lT;pe.mutateApproach===mH&&(r=Vi.requestAnimationFrame||lT),r(function(){var s=lW(),i=g1.begin("mutate");t.map(s),i(),n()})}}var y1=!1;function Y4(){y1=!0}function u0(){y1=!1}var Ih=null;function cT(t){if(qE&&pe.observeMutations){var e=t.treeCallback,n=e===void 0?kf:e,r=t.nodeCallback,s=r===void 0?kf:r,i=t.pseudoElementsCallback,o=i===void 0?kf:i,a=t.observeMutationsRoot,l=a===void 0?ft:a;Ih=new qE(function(c){if(!y1){var u=Li();Rl(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!aT(h.addedNodes[0])&&(pe.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&pe.searchPseudoElements&&o([h.target],!0),h.type==="attributes"&&aT(h.target)&&~wH.indexOf(h.attributeName))if(h.attributeName==="class"&&oW(h.target)){var m=bm(d1(h.target)),p=m.prefix,S=m.iconName;h.target.setAttribute(l1,p||u),S&&h.target.setAttribute(c1,S)}else aW(h.target)&&s(h.target)})}}),Js&&Ih.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function fW(){Ih&&Ih.disconnect()}function hW(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,s){var i=s.split(":"),o=i[0],a=i.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function mW(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",s=bm(d1(t));return s.prefix||(s.prefix=Li()),e&&n&&(s.prefix=e,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=OH(s.prefix,t.innerText)||m1(s.prefix,M4(t.innerText))),!s.iconName&&pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=t.firstChild.data)),s}function pW(t){var e=Rl(t.attributes).reduce(function(n,r){return n.name!=="class"&&n.name!=="style"&&(n[r.name]=r.value),n},{});return e}function gW(){return{iconName:null,prefix:null,transform:is,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function uT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=mW(t),r=n.iconName,s=n.prefix,i=n.rest,o=pW(t),a=i0("parseNodeAttributes",{},t),l=e.styleParser?hW(t):[];return re({iconName:r,prefix:s,transform:is,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:o}},a)}var yW=Ur.styles;function X4(t){var e=pe.autoReplaceSvg==="nest"?uT(t,{styleParser:!1}):uT(t);return~e.extra.classes.indexOf(I4)?Oi("generateLayersText",t,e):Oi("generateSvgReplacementMutation",t,e)}function vW(){return[].concat(Gr(b4),Gr(S4))}function dT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Js)return Promise.resolve();var n=ft.documentElement.classList,r=function(h){return n.add("".concat(XE,"-").concat(h))},s=function(h){return n.remove("".concat(XE,"-").concat(h))},i=pe.autoFetchSvg?vW():r4.concat(Object.keys(yW));i.includes("fa")||i.push("fa");var o=[".".concat(I4,":not([").concat($o,"])")].concat(i.map(function(u){return".".concat(u,":not([").concat($o,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=Rl(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),s("complete");else return Promise.resolve();var l=g1.begin("onTree"),c=a.reduce(function(u,h){try{var m=X4(h);m&&u.push(m)}catch(p){A4||p.name==="MissingIcon"&&console.error(p)}return u},[]);return new Promise(function(u,h){Promise.all(c).then(function(m){G4(m,function(){r("active"),r("complete"),s("pending"),typeof e=="function"&&e(),l(),u()})}).catch(function(m){l(),h(m)})})}function xW(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X4(t).then(function(n){n&&G4([n],e)})}function wW(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:o0(e||{}),s=n.mask;return s&&(s=(s||{}).icon?s:o0(s||{})),t(r,re(re({},n),{},{mask:s}))}}var bW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,s=r===void 0?is:r,i=n.symbol,o=i===void 0?!1:i,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,h=n.classes,m=h===void 0?[]:h,p=n.attributes,S=p===void 0?{}:p,E=n.styles,P=E===void 0?{}:E;if(e){var v=e.prefix,y=e.iconName,T=e.icon;return Sm(re({type:"icon"},e),function(){return Bo("beforeDOMElementCreation",{iconDefinition:e,params:n}),p1({icons:{main:a0(T),mask:l?a0(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v,iconName:y,transform:re(re({},is),s),symbol:o,maskId:u,extra:{attributes:S,styles:P,classes:m}})})}},SW={mixout:function(){return{icon:wW(bW)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=dT,n.nodeCallback=xW,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,s=r===void 0?ft:r,i=n.callback,o=i===void 0?function(){}:i;return dT(s,o)},e.generateSvgReplacementMutation=function(n,r){var s=r.iconName,i=r.prefix,o=r.transform,a=r.symbol,l=r.mask,c=r.maskId,u=r.extra;return new Promise(function(h,m){Promise.all([l0(s,i),l.iconName?l0(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(p){var S=vm(p,2),E=S[0],P=S[1];h([n,p1({icons:{main:E,mask:P},prefix:i,iconName:s,transform:o,symbol:a,maskId:c,extra:u,watchable:!0})])}).catch(m)})},e.generateAbstractIcon=function(n){var r=n.children,s=n.attributes,i=n.main,o=n.transform,a=n.styles,l=xm(a);l.length>0&&(s.style=l);var c;return f1(o)&&(c=Oi("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),r.push(c||i.icon),{children:r,attributes:s}}}},EW={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.classes,i=s===void 0?[]:s;return Sm({type:"layer"},function(){Bo("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(pe.cssPrefix,"-layers")].concat(Gr(i)).join(" ")},children:o}]})}}}},TW={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r.title;var s=r.classes,i=s===void 0?[]:s,o=r.attributes,a=o===void 0?{}:o,l=r.styles,c=l===void 0?{}:l;return Sm({type:"counter",content:n},function(){return Bo("beforeDOMElementCreation",{content:n,params:r}),nW({content:n.toString(),extra:{attributes:a,styles:c,classes:["".concat(pe.cssPrefix,"-layers-counter")].concat(Gr(i))}})})}}}},_W={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.transform,i=s===void 0?is:s,o=r.classes,a=o===void 0?[]:o,l=r.attributes,c=l===void 0?{}:l,u=r.styles,h=u===void 0?{}:u;return Sm({type:"text",content:n},function(){return Bo("beforeDOMElementCreation",{content:n,params:r}),iT({content:n,transform:re(re({},is),i),extra:{attributes:c,styles:h,classes:["".concat(pe.cssPrefix,"-layers-text")].concat(Gr(a))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var s=r.transform,i=r.extra,o=null,a=null;if(t4){var l=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();o=c.width/l,a=c.height/l}return Promise.resolve([n,iT({content:n.innerHTML,width:o,height:a,transform:s,extra:i,watchable:!0})])}}},Q4=new RegExp('"',"ug"),fT=[1105920,1112319],hT=re(re(re(re({},{FontAwesome:{normal:"fas",400:"fas"}}),aU),fH),gU),d0=Object.keys(hT).reduce(function(t,e){return t[e.toLowerCase()]=hT[e],t},{}),PW=Object.keys(d0).reduce(function(t,e){var n=d0[e];return t[e]=n[900]||Gr(Object.entries(n))[0][1],t},{});function AW(t){var e=t.replace(Q4,"");return M4(Gr(e)[0]||"")}function CW(t){var e=t.getPropertyValue("font-feature-settings").includes("ss01"),n=t.getPropertyValue("content"),r=n.replace(Q4,""),s=r.codePointAt(0),i=s>=fT[0]&&s<=fT[1],o=r.length===2?r[0]===r[1]:!1;return i||o||e}function IW(t,e){var n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),s=isNaN(r)?"normal":r;return(d0[n]||{})[s]||PW[n]}function mT(t,e){var n="".concat(hH).concat(e.replace(":","-"));return new Promise(function(r,s){if(t.getAttribute(n)!==null)return r();var i=Rl(t.children),o=i.filter(function(L){return L.getAttribute(e0)===e})[0],a=Vi.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),c=l.match(vH),u=a.getPropertyValue("font-weight"),h=a.getPropertyValue("content");if(o&&!c)return t.removeChild(o),r();if(c&&h!=="none"&&h!==""){var m=a.getPropertyValue("content"),p=IW(l,u),S=AW(m),E=c[0].startsWith("FontAwesome"),P=CW(a),v=m1(p,S),y=v;if(E){var T=FH(S);T.iconName&&T.prefix&&(v=T.iconName,p=T.prefix)}if(v&&!P&&(!o||o.getAttribute(l1)!==p||o.getAttribute(c1)!==y)){t.setAttribute(n,y),o&&t.removeChild(o);var R=gW(),C=R.extra;C.attributes[e0]=e,l0(v,p).then(function(L){var x=p1(re(re({},R),{},{icons:{main:L,mask:H4()},prefix:p,iconName:y,extra:C,watchable:!0})),w=ft.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(w,t.firstChild):t.appendChild(w),w.outerHTML=x.map(function(A){return ad(A)}).join(`
`),t.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function kW(t){return Promise.all([mT(t,"::before"),mT(t,"::after")])}function NW(t){return t.parentNode!==document.head&&!~pH.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(e0)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var jW=function(e){return!!e&&P4.some(function(n){return e.includes(n)})},RW=function(e){if(!e)return[];var n=new Set,r=e.split(/,(?![^()]*\))/).map(function(l){return l.trim()});r=r.flatMap(function(l){return l.includes("(")?l:l.split(",").map(function(c){return c.trim()})});var s=If(r),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;if(jW(o)){var a=P4.reduce(function(l,c){return l.replace(c,"")},o);a!==""&&a!=="*"&&n.add(a)}}}catch(l){s.e(l)}finally{s.f()}return n};function pT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Js){var n;if(e)n=t;else if(pe.searchPseudoElementsFullScan)n=t.querySelectorAll("*");else{var r=new Set,s=If(document.styleSheets),i;try{for(s.s();!(i=s.n()).done;){var o=i.value;try{var a=If(o.cssRules),l;try{for(a.s();!(l=a.n()).done;){var c=l.value,u=RW(c.selectorText),h=If(u),m;try{for(h.s();!(m=h.n()).done;){var p=m.value;r.add(p)}}catch(E){h.e(E)}finally{h.f()}}}catch(E){a.e(E)}finally{a.f()}}catch(E){pe.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(E.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(E){s.e(E)}finally{s.f()}if(!r.size)return;var S=Array.from(r).join(", ");try{n=t.querySelectorAll(S)}catch{}}return new Promise(function(E,P){var v=Rl(n).filter(NW).map(kW),y=g1.begin("searchPseudoElements");Y4(),Promise.all(v).then(function(){y(),u0(),E()}).catch(function(){y(),u0(),P()})})}}var DW={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=pT,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,s=r===void 0?ft:r;pe.searchPseudoElements&&pT(s)}}},gT=!1,MW={mixout:function(){return{dom:{unwatch:function(){Y4(),gT=!0}}}},hooks:function(){return{bootstrap:function(){cT(i0("mutationObserverCallbacks",{}))},noAuto:function(){fW()},watch:function(n){var r=n.observeMutationsRoot;gT?u0():cT(i0("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},yT=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,s){var i=s.toLowerCase().split("-"),o=i[0],a=i.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},n)},VW={mixout:function(){return{parse:{transform:function(n){return yT(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-transform");return s&&(n.transform=yT(s)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,s=n.transform,i=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},m={transform:"translate(".concat(o/2*-1," -256)")},p={outer:a,inner:h,path:m};return{tag:"g",attributes:re({},p.outer),children:[{tag:"g",attributes:re({},p.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:re(re({},r.icon.attributes),p.path)}]}]}}}},ng={x:0,y:0,width:"100%",height:"100%"};function vT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function LW(t){return t.tag==="g"?t.children:[t]}var OW={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-mask"),i=s?bm(s.split(" ").map(function(o){return o.trim()})):H4();return i.prefix||(i.prefix=Li()),n.mask=i,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,s=n.attributes,i=n.main,o=n.mask,a=n.maskId,l=n.transform,c=i.width,u=i.icon,h=o.width,m=o.icon,p=IH({transform:l,containerWidth:h,iconWidth:c}),S={tag:"rect",attributes:re(re({},ng),{},{fill:"white"})},E=u.children?{children:u.children.map(vT)}:{},P={tag:"g",attributes:re({},p.inner),children:[vT(re({tag:u.tag,attributes:re(re({},u.attributes),p.path)},E))]},v={tag:"g",attributes:re({},p.outer),children:[P]},y="mask-".concat(a||JE()),T="clip-".concat(a||JE()),R={tag:"mask",attributes:re(re({},ng),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S,v]},C={tag:"defs",children:[{tag:"clipPath",attributes:{id:T},children:LW(m)},R]};return r.push(C,{tag:"rect",attributes:re({fill:"currentColor","clip-path":"url(#".concat(T,")"),mask:"url(#".concat(y,")")},ng)}),{children:r,attributes:s}}}},FW={provides:function(e){var n=!1;Vi.matchMedia&&(n=Vi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],s={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:re(re({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=re(re({},i),{},{attributeName:"opacity"}),a={tag:"circle",attributes:re(re({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:re(re({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:re(re({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:re(re({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:re(re({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:re(re({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:re(re({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},$W={hooks:function(){return{parseNodeAttributes:function(n,r){var s=r.getAttribute("data-fa-symbol"),i=s===null?!1:s===""?!0:s;return n.symbol=i,n}}}},BW=[jH,SW,EW,TW,_W,DW,MW,VW,OW,FW,$W];GH(BW,{mixoutsTo:dr});dr.noAuto;var Mu=dr.config;dr.library;dr.dom;var J4=dr.parse;dr.findIconDefinition;dr.toHtml;var zW=dr.icon;dr.layer;dr.text;dr.counter;function UW(t){return t=t-0,t===t}function Z4(t){return UW(t)?t:(t=t.replace(/[_-]+(.)?/g,(e,n)=>n?n.toUpperCase():""),t.charAt(0).toLowerCase()+t.slice(1))}function HW(t){return t.charAt(0).toUpperCase()+t.slice(1)}var sa=new Map,WW=1e3;function KW(t){if(sa.has(t))return sa.get(t);const e={};let n=0;const r=t.length;for(;n<r;){const s=t.indexOf(";",n),i=s===-1?r:s,o=t.slice(n,i).trim();if(o){const a=o.indexOf(":");if(a>0){const l=o.slice(0,a).trim(),c=o.slice(a+1).trim();if(l&&c){const u=Z4(l);e[u.startsWith("webkit")?HW(u):u]=c}}}n=i+1}if(sa.size===WW){const s=sa.keys().next().value;s&&sa.delete(s)}return sa.set(t,e),e}function ej(t,e,n={}){if(typeof e=="string")return e;const r=(e.children||[]).map(c=>ej(t,c)),s=e.attributes||{},i={};for(const[c,u]of Object.entries(s))switch(!0){case c==="class":{i.className=u;break}case c==="style":{i.style=KW(String(u));break}case c.startsWith("aria-"):case c.startsWith("data-"):{i[c.toLowerCase()]=u;break}default:i[Z4(c)]=u}const{style:o,"aria-label":a,...l}=n;return o&&(i.style=i.style?{...i.style,...o}:o),a&&(i["aria-label"]=a,i["aria-hidden"]="false"),t(e.tag,{...l,...i},...r)}var qW=ej.bind(null,ln.createElement),xT=(t,e)=>{const n=_.useId();return t||(e?n:void 0)},GW=class{constructor(e="react-fontawesome"){this.enabled=!1;let n=!1;try{n=typeof process<"u"&&!1}catch{}this.scope=e,this.enabled=n}log(...e){this.enabled&&console.log(`[${this.scope}]`,...e)}warn(...e){this.enabled&&console.warn(`[${this.scope}]`,...e)}error(...e){this.enabled&&console.error(`[${this.scope}]`,...e)}},YW="searchPseudoElementsFullScan"in Mu?"7.0.0":"6.0.0",XW=Number.parseInt(YW)>=7,Hc="fa",xs={beat:"fa-beat",fade:"fa-fade",beatFade:"fa-beat-fade",bounce:"fa-bounce",shake:"fa-shake",spin:"fa-spin",spinPulse:"fa-spin-pulse",spinReverse:"fa-spin-reverse",pulse:"fa-pulse"},QW={left:"fa-pull-left",right:"fa-pull-right"},JW={90:"fa-rotate-90",180:"fa-rotate-180",270:"fa-rotate-270"},ZW={"2xs":"fa-2xs",xs:"fa-xs",sm:"fa-sm",lg:"fa-lg",xl:"fa-xl","2xl":"fa-2xl","1x":"fa-1x","2x":"fa-2x","3x":"fa-3x","4x":"fa-4x","5x":"fa-5x","6x":"fa-6x","7x":"fa-7x","8x":"fa-8x","9x":"fa-9x","10x":"fa-10x"},ws={border:"fa-border",fixedWidth:"fa-fw",flip:"fa-flip",flipHorizontal:"fa-flip-horizontal",flipVertical:"fa-flip-vertical",inverse:"fa-inverse",rotateBy:"fa-rotate-by",swapOpacity:"fa-swap-opacity",widthAuto:"fa-width-auto"};function eK(t){const e=Mu.cssPrefix||Mu.familyPrefix||Hc;return e===Hc?t:t.replace(new RegExp(`(?<=^|\\s)${Hc}-`,"g"),`${e}-`)}function tK(t){const{beat:e,fade:n,beatFade:r,bounce:s,shake:i,spin:o,spinPulse:a,spinReverse:l,pulse:c,fixedWidth:u,inverse:h,border:m,flip:p,size:S,rotation:E,pull:P,swapOpacity:v,rotateBy:y,widthAuto:T,className:R}=t,C=[];return R&&C.push(...R.split(" ")),e&&C.push(xs.beat),n&&C.push(xs.fade),r&&C.push(xs.beatFade),s&&C.push(xs.bounce),i&&C.push(xs.shake),o&&C.push(xs.spin),l&&C.push(xs.spinReverse),a&&C.push(xs.spinPulse),c&&C.push(xs.pulse),u&&C.push(ws.fixedWidth),h&&C.push(ws.inverse),m&&C.push(ws.border),p===!0&&C.push(ws.flip),(p==="horizontal"||p==="both")&&C.push(ws.flipHorizontal),(p==="vertical"||p==="both")&&C.push(ws.flipVertical),S!=null&&C.push(ZW[S]),E!=null&&E!==0&&C.push(JW[E]),P!=null&&C.push(QW[P]),v&&C.push(ws.swapOpacity),XW?(y&&C.push(ws.rotateBy),T&&C.push(ws.widthAuto),(Mu.cssPrefix||Mu.familyPrefix||Hc)===Hc?C:C.map(eK)):C}var nK=t=>typeof t=="object"&&"icon"in t&&!!t.icon;function wT(t){if(t)return nK(t)?t:J4.icon(t)}function rK(t){return Object.keys(t)}var bT=new GW("FontAwesomeIcon"),tj={border:!1,className:"",mask:void 0,maskId:void 0,fixedWidth:!1,inverse:!1,flip:!1,icon:void 0,listItem:!1,pull:void 0,pulse:!1,rotation:void 0,rotateBy:!1,size:void 0,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:void 0,transform:void 0,swapOpacity:!1,widthAuto:!1},sK=new Set(Object.keys(tj)),Ut=ln.forwardRef((t,e)=>{const n={...tj,...t},{icon:r,mask:s,symbol:i,title:o,titleId:a,maskId:l,transform:c}=n,u=xT(l,!!s),h=xT(a,!!o),m=wT(r);if(!m)return bT.error("Icon lookup is undefined",r),null;const p=tK(n),S=typeof c=="string"?J4.transform(c):c,E=wT(s),P=zW(m,{...p.length>0&&{classes:p},...S&&{transform:S},...E&&{mask:E},symbol:i,title:o,titleId:h,maskId:u});if(!P)return bT.error("Could not find icon",m),null;const{abstract:v}=P,y={ref:e};for(const T of rK(n))sK.has(T)||(y[T]=n[T]);return qW(v[0],y)});Ut.displayName="FontAwesomeIcon";/*!
 * Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2025 Fonticons, Inc.
 */var Zd={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M136 24c0-13.3 10.7-24 24-24s24 10.7 24 24l0 40 56 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-114.9 0c-24.9 0-45.1 20.2-45.1 45.1 0 22.5 16.5 41.5 38.7 44.7l91.6 13.1c53.8 7.7 93.7 53.7 93.7 108 0 60.3-48.9 109.1-109.1 109.1l-10.9 0 0 40c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-40-72 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l130.9 0c24.9 0 45.1-20.2 45.1-45.1 0-22.5-16.5-41.5-38.7-44.7l-91.6-13.1C55.9 273.5 16 227.4 16 173.1 16 112.9 64.9 64 125.1 64l10.9 0 0-40z"]},iK={prefix:"fas",iconName:"gift",icon:[512,512,[127873],"f06b","M321.5 68.8C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40s-17.9 40-40 40l-73.3 0 34.8-59.2zm-131 0l34.8 59.2-73.3 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zm89.6-24.3l-24.1 41-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0c-48.6 0-88 39.4-88 88 0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 32c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-32c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40 0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4zM480 272l-200 0 0 208 136 0c35.3 0 64-28.7 64-64l0-144zm-248 0l-200 0 0 144c0 35.3 28.7 64 64 64l136 0 0-208z"]},oK={prefix:"fas",iconName:"share-nodes",icon:[512,512,["share-alt"],"f1e0","M384 192c53 0 96-43 96-96s-43-96-96-96-96 43-96 96c0 5.4 .5 10.8 1.3 16L159.6 184.1c-16.9-15-39.2-24.1-63.6-24.1-53 0-96 43-96 96s43 96 96 96c24.4 0 46.6-9.1 63.6-24.1L289.3 400c-.9 5.2-1.3 10.5-1.3 16 0 53 43 96 96 96s96-43 96-96-43-96-96-96c-24.4 0-46.6 9.1-63.6 24.1L190.7 272c.9-5.2 1.3-10.5 1.3-16s-.5-10.8-1.3-16l129.7-72.1c16.9 15 39.2 24.1 63.6 24.1z"]},aK={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},lK=aK,cK={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M241 87.1l15 20.7 15-20.7C296 52.5 336.2 32 378.9 32 452.4 32 512 91.6 512 165.1l0 2.6c0 112.2-139.9 242.5-212.9 298.2-12.4 9.4-27.6 14.1-43.1 14.1s-30.8-4.6-43.1-14.1C139.9 410.2 0 279.9 0 167.7l0-2.6C0 91.6 59.6 32 133.1 32 175.8 32 216 52.5 241 87.1z"]},uK={prefix:"fas",iconName:"golf-ball-tee",icon:[384,512,["golf-ball"],"f450","M298.5 384.1c12.1 1.2 21.5 11.5 21.5 23.9s-9.4 22.6-21.5 23.9l-2.5 .1-80 0 0 88c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-88-80 0c-13.3 0-24-10.7-24-24 0-12.4 9.4-22.6 21.5-23.9l2.5-.1 208 0 2.5 .1zM192 0c106 0 192 86 192 192 0 57.4-25.2 108.8-65.1 144L65.1 336C25.2 300.8 0 249.4 0 192 0 86 86 0 192 0zm32 240c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16zm64-64c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16zm-80-16c-7.7 0-14.2 5.5-15.7 12.8l-.6 6.4c-1.3 6.3-6.2 11.2-12.5 12.5l-6.4 .6c-7.3 1.5-12.8 8-12.8 15.7 0 8.8 7.2 16 16 16 26.5 0 48-21.5 48-48 0-8.8-7.2-16-16-16z"]},dK={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M136 128a120 120 0 1 1 240 0 120 120 0 1 1 -240 0zM48 482.3C48 383.8 127.8 304 226.3 304l59.4 0c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7L77.7 512C61.3 512 48 498.7 48 482.3zM544 96c13.3 0 24 10.7 24 24l0 48 48 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-48 0 0 48c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-48-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0 0-48c0-13.3 10.7-24 24-24z"]},ST={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 17.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 117.3 160 488c0 17.7 14.3 32 32 32s32-14.3 32-32l0-370.7 105.4 105.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},fK={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 224zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384z"]},hK={prefix:"fas",iconName:"tags",icon:[576,512,[],"f02c","M401.2 39.1L549.4 189.4c27.7 28.1 27.7 73.1 0 101.2L393 448.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L515.3 256.8c9.2-9.3 9.2-24.4 0-33.7L367 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM32.1 229.5L32.1 96c0-35.3 28.7-64 64-64l133.5 0c17 0 33.3 6.7 45.3 18.7l144 144c25 25 25 65.5 0 90.5L285.4 418.7c-25 25-65.5 25-90.5 0l-144-144c-12-12-18.7-28.3-18.7-45.3zm144-85.5a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},mK={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M488 192l-144 0c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l46.7-46.7c-75.3-58.6-184.3-53.3-253.5 15.9-75 75-75 196.5 0 271.5s196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c94.3-94.3 243.7-99.6 344.3-16.2L471 7c6.9-6.9 17.2-8.9 26.2-5.2S512 14.3 512 24l0 144c0 13.3-10.7 24-24 24z"]},pK={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M309.5-18.9c-4.1-8-12.4-13.1-21.4-13.1s-17.3 5.1-21.4 13.1L193.1 125.3 33.2 150.7c-8.9 1.4-16.3 7.7-19.1 16.3s-.5 18 5.8 24.4l114.4 114.5-25.2 159.9c-1.4 8.9 2.3 17.9 9.6 23.2s16.9 6.1 25 2L288.1 417.6 432.4 491c8 4.1 17.7 3.3 25-2s11-14.2 9.6-23.2L441.7 305.9 556.1 191.4c6.4-6.4 8.6-15.8 5.8-24.4s-10.1-14.9-19.1-16.3L383 125.3 309.5-18.9z"]},gK={prefix:"fas",iconName:"microchip",icon:[512,512,[],"f2db","M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c-35.3 0-64 28.7-64 64l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c0 35.3 28.7 64 64 64l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c35.3 0 64-28.7 64-64l40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0c0-35.3-28.7-64-64-64l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40zM160 128l192 0c17.7 0 32 14.3 32 32l0 192c0 17.7-14.3 32-32 32l-192 0c-17.7 0-32-14.3-32-32l0-192c0-17.7 14.3-32 32-32zm16 48l0 160 160 0 0-160-160 0z"]},ET={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 502.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 402.7 224 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 370.7-105.4-105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};const po=({id:t,image:e,name:n,price:r,rating:s,numRatings:i,className:o="",badge:a,isFavorite:l,onFavoriteToggle:c,onRemove:u,hideActions:h=!1,compact:m=!1,favouritesVariant:p=!1,onClick:S,isSpecial:E=!1,textColor:P,priceColor:v,isAiPick:y=!1,showWelcomeTrainingAnimation:T=!1,disableRemove:R=!1})=>{const[C,L]=_.useState(!1),[x,w]=_.useState(!1),[A,N]=_.useState(!1),[D,V]=_.useState(!1),[k,U]=_.useState(!1),te=G=>{G.preventDefault(),G.stopPropagation(),!x&&(C?L(!C):(U(!0),R||V(!0),w(!1),L(!0),u&&t&&u(t)))},Q=G=>{if(G.preventDefault(),G.stopPropagation(),C)return;const X=x;U(!0),w(!x),X||(L(!1),V(!1),c&&c())},J=(G,X=20)=>G.length<=X?G:G.slice(0,X)+"...";_.useEffect(()=>{if(D&&u&&t&&!R){const G=setTimeout(()=>{u(t)},600);return()=>clearTimeout(G)}},[D,u,t,R]);const F=p?"175px":"260px",B=p?"240px":"180px";return f.jsx("div",{className:`relative transition-all ${D?"duration-700 w-0 min-w-0 opacity-0 scale-75":"duration-300 opacity-100 scale-100"}`,style:D?{transform:"translateY(-100px)",transition:"all 700ms ease-out",marginLeft:p?"-175px":"-260px"}:{width:F,minWidth:F,marginLeft:"0"},children:p?f.jsxs("div",{className:`bg-white rounded-3xl relative flex flex-col ${o} shadow-[0_4px_20px_rgba(0,0,0,0.06)] ${S?"cursor-pointer":""}`,onClick:S,style:{minHeight:B},children:[f.jsx("div",{className:"w-full flex-shrink-0 relative pt-3 px-3",onClick:S,style:{cursor:S?"pointer":"default"},children:f.jsx("div",{className:"w-full rounded-xl overflow-hidden",style:{aspectRatio:"1 / 1"},children:f.jsx("img",{src:e,alt:n,className:"w-full h-full object-contain",style:{pointerEvents:"none"}})})}),a&&f.jsx("div",{className:"absolute top-3 left-3 z-10",children:a}),f.jsxs("div",{className:"flex flex-col flex-grow font-['Stack_Sans'] px-3 pb-3 pt-2",children:[f.jsx("h3",{className:"font-['Stack_Sans'] font-semibold text-gray-600 mb-0 text-sm leading-tight truncate pl-0.5",style:{minHeight:"32px",fontWeight:600},title:n,children:J(n,18)}),f.jsx("div",{className:"flex items-center justify-between -mt-2 pl-0.5",children:f.jsxs("p",{className:"font-normal text-[#816fe8] text-base",children:["",r.toFixed(2)]})})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-full overflow-visible flex-shrink-0 relative z-10 px-4 pt-0",onClick:S,style:{cursor:S?"pointer":"default"},children:f.jsx("div",{className:"w-full rounded-2xl overflow-visible relative",style:m?{aspectRatio:"10 / 8.5"}:{aspectRatio:"1 / 1"},children:f.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:f.jsx("div",{className:"relative w-full h-full",style:{transform:"scale(1.1)"},children:f.jsx("img",{src:e,alt:n,className:"w-full h-full object-contain relative",style:{pointerEvents:"none",zIndex:10}})})})})}),f.jsxs("div",{className:`${y?"bg-gradient-to-br from-purple-50/50 via-white to-purple-100/30":"bg-white"} rounded-3xl relative flex flex-col overflow-hidden ${o} ${m?y?"":"shadow-[0_8px_30px_rgba(0,0,0,0.08)]":y?"":"shadow-[0_10px_40px_rgba(0,0,0,0.1)]"} ${S?"cursor-pointer":""} ${y?m?"animate-purple-glow":"animate-purple-glow-large":""}`,onClick:S,style:{marginTop:"-50%",minHeight:B},children:[y&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-3xl",style:{background:"radial-gradient(circle at center, rgba(122, 117, 186, 0.25) 0%, rgba(95, 89, 166, 0.15) 40%, rgba(122, 117, 186, 0.08) 70%, transparent 100%)",animation:"purple-inner-glow 3s ease-in-out infinite",zIndex:1}}),f.jsx("div",{className:"absolute inset-0 pointer-events-none rounded-3xl",style:{border:"1px solid",borderColor:"rgba(122, 117, 186, 0.2)",zIndex:1}})]}),a&&f.jsx("div",{className:"absolute top-3 left-3 z-10",children:a}),f.jsxs("div",{className:`flex flex-col flex-grow font-['Stack_Sans'] relative z-10 ${m?"px-5 pt-[58%] pb-3":"px-7 pt-[63%] pb-4"}`,children:[f.jsx("h3",{className:`font-['Stack_Sans'] font-semibold text-gray-600 mb-0 truncate ${m?"text-base leading-tight":"text-xl mb-0"}`,style:m?{minHeight:"40px",fontWeight:600}:{fontWeight:600},title:n,children:m?n:J(n,20)}),f.jsx("div",{className:"flex items-center gap-0.5 mb-1 -mt-3",children:[1,2,3,4,5].map(G=>{const se=G<=(s||0);return f.jsx(gh,{size:m?12:14,className:se?"fill-amber-400 text-amber-400":"text-gray-300"},G)})}),!h&&f.jsxs("div",{className:"flex items-end justify-between gap-2 -mt-3 mb-2",children:[f.jsxs("p",{className:`font-light text-[#816fe8] ${m?"text-lg":"text-xl"}`,children:["",r.toFixed(2)]}),f.jsxs("div",{className:"flex items-center gap-4 -ml-3",children:[f.jsx("button",{onClick:Q,className:`flex items-center justify-center rounded-2xl transition-all duration-200 hover:scale-110 focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 ${T&&!k?"animate-bounce":""}`,style:{padding:m?"12px":"14px",animationDelay:T?"0s":void 0,animationDuration:T?"1s":void 0,animationIterationCount:T?"infinite":void 0},"aria-label":"Thumbs up",children:f.jsx(_y,{size:m?16:18,className:x?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:x?"currentColor":"none"})}),f.jsx("button",{onClick:te,className:`flex items-center justify-center rounded-2xl transition-all duration-200 hover:scale-110 focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 ${T&&!k?"animate-bounce":""}`,style:{padding:m?"12px":"14px",animationDelay:T?"0.5s":void 0,animationDuration:T?"1s":void 0,animationIterationCount:T?"infinite":void 0},"aria-label":"Thumbs down",children:f.jsx(Ty,{size:m?16:18,className:C?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:C?"currentColor":"none"})})]})]})]})]})]})})},yK=({open:t,onOpenChange:e,initialMinBudget:n=50,initialMaxBudget:r=300,onSave:s})=>{const i=_.useRef(null),[o,a]=_.useState(n),[l,c]=_.useState(r);_.useEffect(()=>{a(n),c(r)},[n,r]);const u=ln.useMemo(()=>{var E;if(typeof window>"u")return"50vh";const p=(E=window.visualViewport)!=null&&E.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(p*.5)}px`},[t]);_.useEffect(()=>{if(t){const p=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=p,document.body.classList.remove("sheet-open")}}},[t]);const h=(p,S)=>{a(p),c(S)},m=()=>{s&&s(o,l),e(!1)};return f.jsx(f.Fragment,{children:f.jsxs(on,{ref:i,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[f.jsxs(on.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${u} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[f.jsx(on.Header,{children:f.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[f.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:f.jsx(on.DragIndicator,{style:{display:"none"}})}),f.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Edit Budget"}),f.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:f.jsx(um,{size:24,className:"text-gray-600"})})]})}),f.jsxs(on.Content,{style:{padding:"24px",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[f.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:f.jsx(i1,{min:10,max:500,minValue:o,maxValue:l,onChange:h,label:"Select your budget range (5 steps)"})}),f.jsx("div",{className:"pt-6 pb-4",children:f.jsx(ze,{onClick:m,variant:"primary",size:"large",fullWidth:!0,children:"Save Budget"})})]})]}),f.jsx(on.Backdrop,{onTap:()=>e(!1)})]})})},vK=({open:t,onOpenChange:e,initialInterests:n=[],gender:r,onSave:s})=>{const i=_.useRef(null),[o,a]=_.useState(n);_.useEffect(()=>{a(n)},[n]);const l=()=>{const h=[...fi,...Es,...ju,...Ru];return Array.from(new Map(h.map(p=>[p.value,p])).values())},c=ln.useMemo(()=>{var p;if(typeof window>"u")return"75vh";const h=(p=window.visualViewport)!=null&&p.height&&window.visualViewport.height>0?window.visualViewport.height:window.innerHeight;return`${Math.round(h*.75)}px`},[t]);_.useEffect(()=>{if(t){const h=document.body.style.overflow;return document.body.style.overflow="hidden",document.body.classList.add("sheet-open"),()=>{document.body.style.overflow=h,document.body.classList.remove("sheet-open")}}},[t]);const u=()=>{s&&s(o),e(!1)};return f.jsx(f.Fragment,{children:f.jsxs(on,{ref:i,isOpen:t,onClose:()=>e(!1),snapPoints:[0,1],initialSnap:1,disableDrag:!0,children:[f.jsxs(on.Container,{style:{borderTopLeftRadius:28,borderTopRightRadius:28,boxShadow:"0 4px 24px rgba(0,0,0,0.18)",height:`calc(${c} + env(safe-area-inset-bottom))`,marginBottom:"calc(-1 * env(safe-area-inset-bottom))",background:"#ffffff"},children:[f.jsx(on.Header,{children:f.jsxs("div",{className:"flex items-center justify-center px-6",style:{minHeight:"64px",paddingTop:"calc(env(safe-area-inset-top) + 16px)",position:"relative"},children:[f.jsx("div",{style:{position:"absolute",top:8,left:0,right:0,display:"flex",justifyContent:"center"},children:f.jsx(on.DragIndicator,{style:{display:"none"}})}),f.jsx("h2",{className:"m-0 text-xl font-headline font-medium text-gray-800 select-none",children:"Edit Interests"}),f.jsx("button",{type:"button",onClick:()=>e(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors absolute right-6","aria-label":"Close",children:f.jsx(um,{size:24,className:"text-gray-600"})})]})}),f.jsxs(on.Content,{style:{padding:"16px 24px",paddingBottom:"calc(80px + env(safe-area-inset-bottom))",display:"flex",flexDirection:"column",height:"100%",overflow:"hidden"},children:[f.jsx("div",{className:"flex-1 overflow-y-auto",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-y"},children:f.jsx(Xy,{options:l(),selectedValues:o,onChange:a})}),f.jsx("div",{className:"pt-4 pb-4",children:f.jsx(ze,{onClick:u,variant:"primary",size:"large",fullWidth:!0,children:"Save Interests"})})]})]}),f.jsx(on.Backdrop,{onTap:()=>e(!1)})]})})},xK="rec_history",TT=()=>{try{const t=localStorage.getItem(xK);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e:[]}catch(t){return console.error("Error getting recommendation history:",t),[]}},_T=t=>{const n=[...fi,...Es,...ju,...Ru].find(r=>r.value===t);return n?n.label:t.charAt(0).toUpperCase()+t.slice(1).replace(/-/g," ")},PT=t=>{var e;if(t instanceof Error){const n=t;if((e=n.apiMetadata)!=null&&e.response_text)try{const r=JSON.parse(n.apiMetadata.response_text);if(r.error&&typeof r.error=="string")return r.error;if(r.message&&typeof r.message=="string")return r.message}catch{const r=n.apiMetadata.response_text.trim();if(r&&!r.startsWith("<!"))return r}return"Unable to load recommendations. Please try again later."}return"Unable to load recommendations. Please try again later."},ef="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",wK=()=>{var jr,ys,_t,Qi,Rr,Qr,Ji,vs,Bn,Qo,Jo,O;const t=Go();qo();const[e,n]=_.useState("gifts"),[r,s]=_.useState(new Set),[i,o]=_.useState(new Set),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[h,m]=_.useState(!1),[p,S]=_.useState(null),[E,P]=_.useState(!1),v=_.useRef(null),[y,T]=_.useState([]),[R,C]=_.useState(!0),[L,x]=_.useState(null),[w,A]=_.useState(!1),[N,D]=_.useState([]),[V,k]=_.useState(null),[U,te]=_.useState([]),[Q,J]=_.useState(null),[F,B]=_.useState({}),[G,X]=_.useState({}),[se,ve]=_.useState(0),[me,xe]=_.useState([]),[Ie,$e]=_.useState(0),[et,Gt]=_.useState(!1),[ms,Ir]=_.useState(new Set),[tt,vt]=_.useState(!1),[Ye,ps]=_.useState(0),mt=_.useMemo(()=>{const I=jp(),M=Rp(),$=I&&!M;return console.log(" PersonPage: shouldShowWelcomeTraining - enabled:",I,"completed:",M,"result:",$),$},[Ye]);_.useEffect(()=>{mt&&!wn.current&&($e(0),Ir(new Set),vt(!1))},[mt,Ye]),_.useEffect(()=>{const I=()=>{wn.current=!1,$e(0),Ir(new Set),vt(!1),xe([]),ps(M=>M+1)};return window.addEventListener("reset-welcome-training",I),()=>{window.removeEventListener("reset-welcome-training",I)}},[]);const Qn="person_page_ai_picks_cache",fr="person_page_interest_products_cache",nt="person_page_carousel_scroll",rt="person_page_navigated_from_product",On=_.useRef(null),Yr=_.useRef(!1),hr=_.useRef(!1),Ee=_.useRef(!1),De=_.useRef(null),wn=_.useRef(!1);_.useEffect(()=>{const I=jp(),M=Rp();if(!I||M||!mt){xe([]),Gt(!1);return}if(!(Object.keys(F).length>0&&Object.values(F).some(K=>K.length>0))){Gt(!0);return}const H=[];if(Object.values(F).forEach(K=>{K.length>40&&H.push(...K.slice(40))}),H.length===0){Gt(!0);return}const q=[...H].sort(()=>Math.random()-.5).slice(0,5);console.log(" PersonPage: Selected training products from interest fetches:",q.length),xe(q),Gt(!1)},[F,mt,Ye]);const Rt=(I,M)=>{Ir(H=>new Set(H).add(I));const $=Ie+1;if($e($),$>=5){if(wn.current)return;wn.current=!0,console.log(" PersonPage: Training completed! Marking as completed and loading AI picks..."),Ka(!0),Wa(!1),ps(ne=>ne+1),vt(!0);const H=()=>{try{const ne=localStorage.getItem(Qn);if(ne){const q=JSON.parse(ne);if(q.personId===Q&&q.products&&q.products.length>0)return console.log(" PersonPage: Found cached AI picks, setting them immediately"),T(q.products),vt(!1),setTimeout(()=>{On.current&&On.current.scrollTo({left:0,behavior:"smooth"})},200),!0}return!1}catch(ne){return console.error("Error loading cached recommendations after training:",ne),!1}};if(!H()){console.log(" PersonPage: Cache not ready yet, polling...");let ne=0;const q=20,K=setInterval(()=>{ne++,(H()||ne>=q)&&(clearInterval(K),ne>=q&&(console.warn(" PersonPage: Cache not available after training"),vt(!1)))},500)}}};_.useEffect(()=>{if(!Q){C(!1),De.current=null;return}if(Ee.current){console.log(" PersonPage: Already fetching, skipping duplicate call");return}if(De.current===Q){console.log(" PersonPage: Already fetched for this person, skipping duplicate call");return}if(Ee.current=!0,De.current=Q,!(sessionStorage.getItem(rt)==="true"))try{localStorage.removeItem(nt)}catch{}const M=jp(),$=Rp(),H=M&&!$;try{const q=localStorage.getItem(Qn);if(q&&!H){const K=JSON.parse(q),ie=Date.now()-(K.timestamp||0),le=60*60*1e3,Z=K.personId===Q;if(Z&&ie<le&&K.products&&K.products.length>0){console.log(" PersonPage: Using cached AI picks (browser refresh or navigation back)"),hr.current=!0,De.current=Q,T(K.products),C(!1),x(null);return}else Z?ie>=le&&console.log(" PersonPage: Cache expired, will fetch fresh data"):console.log(" PersonPage: Cache is for different person, will fetch fresh data")}else H&&console.log(" PersonPage: Training active - will fetch /recommend in background")}catch(q){console.warn(" PersonPage: Error reading cache, fetching fresh data:",q)}hr.current=!1,(async()=>{if(C(!0),x(null),!mo()&&TT().length===0){C(!1),x("Please fill out the onboarding form or add a person to get recommendations."),T([]);return}try{let K=null;const ie=st=>`15/03/${new Date().getFullYear()-st}`,le=st=>{const Ce={small:"S",medium:"M",large:"L",xlarge:"XL",xxlarge:"XXL",s:"S",m:"M",l:"L",xl:"XL",xxl:"XXL"},it=st.toLowerCase().trim();return Ce[it]||"M"},Z=U.find(st=>st.id===Q);if(Z)K={personAge:(Z.createdAt?Math.floor((Date.now()-Z.createdAt)/31536e6):30).toString(),gender:Z.gender||"male",relationship:Z.relationship||"friend",interests:Z.interests||[],favoritedrink:"beer",clothesSize:"medium",minBudget:Z.minBudget||10,maxBudget:Z.maxBudget||50,name:Z.name||"Friend"};else{C(!1),x("Please select a person to get recommendations."),T([]);return}const fe=K.interests&&K.interests.length>0?K.interests:["General"],Se=parseInt(K.personAge||"30"),Ge=ie(Se),ce={context:{name:K.name||"Friend",relationship:K.relationship?K.relationship.charAt(0).toUpperCase()+K.relationship.slice(1).toLowerCase():"Friend",gender:(K.gender||"male").toLowerCase(),dob:Ge,interests:fe,budget_min:K.minBudget||10,budget_max:K.maxBudget||50,other:{clothing_size:le(K.clothesSize||"medium"),favourite_drink:(K.favoritedrink||"beer").toLowerCase()}}},Me=new URLSearchParams(window.location.search).get("client_origin"),Bt=new URLSearchParams;Me&&Bt.append("client_origin",Me);const Xe=qa(),qe=Ia("/recommend",Bt),Te=Rc(Xe||void 0);console.log("Making API call to:",qe),console.log("Request headers:",Te),console.log("Request body:",ce),console.log("Mode:",Xe);const Re=await zr(qe,{method:"POST",headers:Te,body:JSON.stringify(ce)},"POST /recommend");if(!Re.ok)throw new Error(`HTTP error! status: ${Re.status}`);const Xt=await Re.json();if(Xt.products&&Xt.products.length>0){const st=Xt.products.map(Ce=>{const it=Ce.asin||`ai-${Ce.rank||Math.random().toString(36).substr(2,9)}`,ke=Ce.product_title||`Product ${Ce.rank||"Unknown"}`,Oe=Ce.product_photo||`https://storage.googleapis.com/simplysent-product-images/${it}/t_${it}_1.png`;let zn=0;if(Ce.price_numeric!==void 0&&Ce.price_numeric!==null)zn=typeof Ce.price_numeric=="number"?Ce.price_numeric:parseFloat(String(Ce.price_numeric))||0;else if(Ce.product_price){const Pt=String(Ce.product_price).replace(/[$,]/g,"");zn=parseFloat(Pt)||0}let pr;if(Ce.rating_numeric!==void 0&&Ce.rating_numeric!==null){const Pt=typeof Ce.rating_numeric=="number"?Ce.rating_numeric:parseFloat(String(Ce.rating_numeric));!isNaN(Pt)&&Pt>0&&Pt<=5&&(pr=Pt)}const at=Ce.num_ratings_numeric!==void 0&&Ce.num_ratings_numeric!==null?typeof Ce.num_ratings_numeric=="number"?Ce.num_ratings_numeric:parseInt(String(Ce.num_ratings_numeric))||0:Ce.product_num_ratings||0;return console.log(` Product ${it}:`,{name:ke,image:Oe,price:zn,rating:pr,numRatings:at}),{id:it,image:Oe,name:ke,price:zn,rating:pr,numRatings:at,description:ef}});console.log(" PersonPage: Transformed products from API:",st),De.current=Q;try{localStorage.setItem(Qn,JSON.stringify({products:st,timestamp:Date.now(),recommendationId:Xt.recommendation_id,personId:Q})),console.log(" PersonPage: Saved AI picks to cache")}catch(Ce){console.warn(" PersonPage: Error saving to cache:",Ce)}H?console.log(" PersonPage: Training active - results cached but not displayed yet"):T(st)}else throw new Error("No product recommendations received")}catch(K){console.error("Error fetching AI picks:",K),x(PT(K)),T([])}finally{C(!1),A(!1),Ee.current=!1}})()},[Q]);const Yt=()=>{A(!0);try{localStorage.removeItem(Qn),localStorage.removeItem(fr),console.log(" PersonPage: Cleared all caches for refresh")}catch(M){console.warn(" PersonPage: Error clearing cache:",M)}Ee.current=!1,De.current=null,B({}),Dt.current.clear(),hr.current=!1,ve(M=>M+1),(async()=>{if(C(!0),x(null),!mo()&&TT().length===0){C(!1),x("Please fill out the onboarding form or add a person to get recommendations."),T([]),A(!1);return}try{let $=null;const H=qe=>`15/03/${new Date().getFullYear()-qe}`,ne=qe=>{const Te={small:"S",medium:"M",large:"L",xlarge:"XL",xxlarge:"XXL",s:"S",m:"M",l:"L",xl:"XL",xxl:"XXL"},Re=qe.toLowerCase().trim();return Te[Re]||"M"},q=U.find(qe=>qe.id===Q);if(q)$={personAge:(q.createdAt?Math.floor((Date.now()-q.createdAt)/31536e6):30).toString(),gender:q.gender||"male",relationship:q.relationship||"friend",interests:q.interests||[],favoritedrink:"beer",clothesSize:"medium",minBudget:q.minBudget||10,maxBudget:q.maxBudget||50,name:q.name||"Friend"};else{C(!1),x("Please select a person to get recommendations."),T([]),A(!1);return}const K=$.interests&&$.interests.length>0?$.interests:["General"],ie=parseInt($.personAge||"30"),le=H(ie),Z={context:{name:$.name||"Friend",relationship:$.relationship?$.relationship.charAt(0).toUpperCase()+$.relationship.slice(1).toLowerCase():"Friend",gender:($.gender||"male").toLowerCase(),dob:le,interests:K,budget_min:$.minBudget||10,budget_max:$.maxBudget||50,other:{clothing_size:ne($.clothesSize||"medium"),favourite_drink:($.favoritedrink||"beer").toLowerCase()}}},Se=new URLSearchParams(window.location.search).get("client_origin"),Ge=new URLSearchParams;Se&&Ge.append("client_origin",Se);const ce=qa(),we=Ia("/recommend",Ge),Me=Rc(ce||void 0),Bt=await zr(we,{method:"POST",headers:Me,body:JSON.stringify(Z)},"POST /recommend");if(!Bt.ok)throw new Error(`HTTP error! status: ${Bt.status}`);const Xe=await Bt.json();if(Xe.products&&Xe.products.length>0){const qe=Xe.products.map(Te=>{const Re=Te.asin||`ai-${Te.rank||Math.random().toString(36).substr(2,9)}`,Xt=Te.product_title||`Product ${Te.rank||"Unknown"}`,st=Te.product_photo||`https://storage.googleapis.com/simplysent-product-images/${Re}/t_${Re}_1.png`;let Ce=0;if(Te.price_numeric!==void 0&&Te.price_numeric!==null)Ce=typeof Te.price_numeric=="number"?Te.price_numeric:parseFloat(String(Te.price_numeric))||0;else if(Te.product_price){const Oe=String(Te.product_price).replace(/[$,]/g,"");Ce=parseFloat(Oe)||0}let it;if(Te.rating_numeric!==void 0&&Te.rating_numeric!==null){const Oe=typeof Te.rating_numeric=="number"?Te.rating_numeric:parseFloat(String(Te.rating_numeric));!isNaN(Oe)&&Oe>0&&Oe<=5&&(it=Oe)}const ke=Te.num_ratings_numeric!==void 0&&Te.num_ratings_numeric!==null?typeof Te.num_ratings_numeric=="number"?Te.num_ratings_numeric:parseInt(String(Te.num_ratings_numeric))||0:Te.product_num_ratings||0;return{id:Re,image:st,name:Xt,price:Ce,rating:it,numRatings:ke,description:ef}});T(qe);try{localStorage.setItem(Qn,JSON.stringify({products:qe,timestamp:Date.now(),recommendationId:Xe.recommendation_id,personId:Q})),console.log(" PersonPage: Saved AI picks to cache (refresh)")}catch(Te){console.warn(" PersonPage: Error saving to cache:",Te)}}else throw new Error("No product recommendations received")}catch($){console.error("Error fetching AI picks:",$),x(PT($)),T([])}finally{C(!1),A(!1)}})()};_.useEffect(()=>{const M=!sessionStorage.getItem("persons_cleared_on_app_load");if(M)try{localStorage.removeItem("saved_persons"),sessionStorage.setItem("persons_cleared_on_app_load","true"),Ka(!1),Wa(!0)}catch(K){console.warn("Error clearing saved persons:",K)}let $=null,H=!1;const ne=()=>{try{const K=localStorage.getItem("saved_persons");if(K){const ie=JSON.parse(K);if(ie.length>0)return H=!0,te(ie),Q||J(ie[ie.length-1].id),$&&(clearTimeout($),$=null),!0}return H=!1,!1}catch(K){return console.warn("Error loading saved persons:",K),H=!1,!1}},q=()=>{console.log("Person added event received"),Ka(!1),Wa(!0),ps(K=>K+1),ne()};return window.addEventListener("person-added",q),ne(),!H&&!M&&($=setTimeout(()=>{const K=localStorage.getItem("saved_persons");(K?JSON.parse(K):[]).length===0?(console.log("No persons found, redirecting to onboarding"),t("/")):(console.log("Persons found after timeout, loading them"),ne())},1500)),()=>{window.removeEventListener("person-added",q),$&&clearTimeout($)}},[t,Q]),_.useEffect(()=>{const I=()=>{try{const $=localStorage.getItem("rapidapi_products");if($){const H=JSON.parse($);H.products&&Array.isArray(H.products)&&D(H.products)}}catch($){console.warn("Error loading RapidAPI products:",$)}};I();const M=()=>{I()};return window.addEventListener("rapidapi-products-updated",M),()=>{window.removeEventListener("rapidapi-products-updated",M)}},[]);const Dt=_.useRef(new Set),Xr=_.useMemo(()=>{if(!Q)return[];const I=U.find(M=>M.id===Q);return(I==null?void 0:I.interests)||[]},[Q,U]);_.useEffect(()=>{if(!Q||Xr.length===0)return;const I=async M=>{if(Dt.current.has(M)){console.log(` PersonPage: Already fetching products for interest "${M}", skipping duplicate call`);return}const $=new Set(y.map(H=>H.id));try{const H=localStorage.getItem(fr);if(H){const ne=JSON.parse(H),q=`${Q}_${M}`,K=ne[q];if(K){const ie=Date.now()-(K.timestamp||0),le=60*60*1e3;if(ie<le&&K.products&&K.products.length>0){const Z=K.products.filter(fe=>!$.has(fe.id));if(Z.length<40)console.log(` PersonPage: Cached products for "${M}" have ${Z.length} after filtering, fetching fresh`);else{console.log(` PersonPage: Using cached products for interest "${M}"`),B(fe=>({...fe,[M]:Z})),X(fe=>({...fe,[M]:!1}));return}}}}}catch(H){console.warn(` PersonPage: Error reading cache for interest "${M}", fetching fresh data:`,H)}Dt.current.add(M),X(H=>({...H,[M]:!0}));try{const H=new URLSearchParams;H.append("interest",M.toLowerCase()),H.append("limit","80"),H.append("offset","0"),H.append("collection","amazon");const ne=qa(),q=Ia("/products",H),K=Rc(ne||void 0);console.log(` PersonPage: Fetching products for interest "${M}" from:`,q);const ie=await zr(q,{method:"GET",headers:K},`GET /products?interest=${M}`);if(!ie.ok){const fe=await ie.text();throw console.error(` PersonPage: API error for interest "${M}":`,ie.status,fe),new Error(`HTTP error! status: ${ie.status}`)}const Z=(await ie.json()).products||[];if(console.log(` PersonPage: Received ${Array.isArray(Z)?Z.length:0} products for interest "${M}"`),Array.isArray(Z)&&Z.length>0){let Se=Z.map(ce=>{let we=0;if(ce.price_numeric!==void 0&&ce.price_numeric!==null)we=typeof ce.price_numeric=="number"?ce.price_numeric:parseFloat(ce.price_numeric.toString())||0;else if(ce.product_price){const Xe=ce.product_price.toString().replace(/[$,]/g,"");we=parseFloat(Xe)||0}let Me;if(ce.rating_numeric!==void 0&&ce.rating_numeric!==null){const Xe=typeof ce.rating_numeric=="number"?ce.rating_numeric:parseFloat(ce.rating_numeric.toString());!isNaN(Xe)&&Xe>0&&Xe<=5&&(Me=Xe)}const Bt=ce.num_ratings_numeric!==void 0&&ce.num_ratings_numeric!==null?typeof ce.num_ratings_numeric=="number"?ce.num_ratings_numeric:parseInt(ce.num_ratings_numeric.toString())||0:0;return{id:ce.asin||`${M}-${Math.random().toString(36).substr(2,9)}`,image:ce.product_photo||"",name:ce.product_title||"Unknown Product",price:we,rating:Me,numRatings:Bt,description:ef}}).filter(ce=>!$.has(ce.id)),Ge=80;for(;Se.length<40&&Ge<500;){const ce=new URLSearchParams;ce.append("interest",M.toLowerCase()),ce.append("limit","80"),ce.append("offset",String(Ge)),ce.append("collection","amazon");try{const we=Ia("/products",ce),Me=await zr(we,{method:"GET",headers:K},`GET /products?interest=${M}&offset=${Ge}`);if(!Me.ok)break;const Xe=(await Me.json()).products||[];if(Xe.length===0)break;const Te=Xe.map(Re=>{let Xt=0;if(Re.price_numeric!==void 0&&Re.price_numeric!==null)Xt=typeof Re.price_numeric=="number"?Re.price_numeric:parseFloat(String(Re.price_numeric))||0;else if(Re.product_price){const it=String(Re.product_price).replace(/[$,]/g,"");Xt=parseFloat(it)||0}let st;if(Re.rating_numeric!==void 0&&Re.rating_numeric!==null){const it=typeof Re.rating_numeric=="number"?Re.rating_numeric:parseFloat(String(Re.rating_numeric));!isNaN(it)&&it>0&&it<=5&&(st=it)}const Ce=Re.num_ratings_numeric!==void 0&&Re.num_ratings_numeric!==null?typeof Re.num_ratings_numeric=="number"?Re.num_ratings_numeric:parseInt(String(Re.num_ratings_numeric))||0:0;return{id:Re.asin||`${M}-${Math.random().toString(36).substr(2,9)}`,image:Re.product_photo||"",name:Re.product_title||"Unknown Product",price:Xt,rating:st,numRatings:Ce,description:ef}}).filter(Re=>!$.has(Re.id));if(Se=[...Se,...Te],Se.length>=40)break;Ge+=80}catch(we){console.warn(` PersonPage: Error fetching additional products for "${M}":`,we);break}}console.log(` PersonPage: Fetched ${Se.length} products for interest "${M}"`),B(ce=>({...ce,[M]:Se}));try{const ce=localStorage.getItem(fr),we=ce?JSON.parse(ce):{},Me=`${Q}_${M}`;we[Me]={products:Se,timestamp:Date.now()},localStorage.setItem(fr,JSON.stringify(we)),console.log(` PersonPage: Saved products for interest "${M}" to cache`)}catch(ce){console.warn(` PersonPage: Error saving to cache for interest "${M}":`,ce)}}else console.log(` PersonPage: No products returned for interest "${M}"`),B(fe=>({...fe,[M]:[]}))}catch(H){console.error(` PersonPage: Error fetching products for interest "${M}":`,H),B(ne=>({...ne,[M]:[]}))}finally{X(H=>({...H,[M]:!1})),Dt.current.delete(M)}};Xr.forEach(M=>{const $=F[M]||[],H=new Set(y.map(q=>q.id)),ne=$.filter(q=>!H.has(q.id)).length;(!$.length||ne<40)&&!G[M]&&!Dt.current.has(M)&&(console.log(` PersonPage: Refetching "${M}" - current: ${$.length}, filtered: ${ne}, need: 40`),B(q=>{const K={...q};return delete K[M],K}),Dt.current.delete(M),I(M))})},[Q,Xr.join(","),se,y.length]);const mr=_.useMemo(()=>{if(!p)return y;const I=[...y];return p==="highest"?I.sort((M,$)=>$.price-M.price):I.sort((M,$)=>M.price-$.price)},[y,p]),Jn=_.useMemo(()=>{if(!V)return N;const I=[...N];return V==="highest"?I.sort((M,$)=>$.price-M.price):I.sort((M,$)=>M.price-$.price)},[N,V]),$t=_.useMemo(()=>{const I={};return Object.keys(F).forEach(M=>{const $=[...F[M]];let H=$;p==="highest"?H=$.sort((ne,q)=>q.price-ne.price):p==="lowest"&&(H=$.sort((ne,q)=>ne.price-q.price)),I[M]=H.slice(0,40)}),I},[F,p]),Fn=_.useMemo(()=>new Set(y.map(I=>I.id)),[y]),$n=_.useMemo(()=>({"ai-picks":mr,rapidapi:Jn.filter(I=>!Fn.has(I.id))}),[mr,Jn,Fn]),bn=_.useMemo(()=>Object.values($n).flat(),[$n]),gs=I=>{s(M=>{const $=new Set(M);return $.has(I)?$.delete(I):$.add(I),$})},kr=I=>{o(M=>{const $=new Set(M);return $.add(I),$})},Nr=I=>{const M=On.current||document.querySelector('[data-carousel="ai-picks"]');if(M){const $=M.scrollLeft;console.log(` PersonPage: Saving scroll position: ${$}`,{element:M,scrollLeft:M.scrollLeft,scrollWidth:M.scrollWidth,clientWidth:M.clientWidth});try{localStorage.setItem(nt,$.toString()),sessionStorage.setItem(rt,"true"),console.log(` PersonPage: Saved carousel scroll position: ${$}`)}catch(H){console.warn(" PersonPage: Error saving scroll position:",H)}}else console.warn(" PersonPage: Could not find carousel element to save scroll position");t(`/product/${I}`)};return _.useEffect(()=>{const I=M=>{v.current&&!v.current.contains(M.target)&&l(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]),_.useEffect(()=>{if(c||h||E){const I=document.createElement("div");return I.style.position="fixed",I.style.bottom="0",I.style.left="0",I.style.right="0",I.style.height="34px",I.style.background="#ffffff",I.style.pointerEvents="none",I.style.zIndex="9999999",I.id="sheet-bottom-safe-area",document.body.appendChild(I),()=>{const M=document.getElementById("sheet-bottom-safe-area");M&&M.remove()}}},[c,h,E]),_.useEffect(()=>{bn.length>=2&&s(I=>I.size===0?new Set([bn[0].id,bn[1].id]):I)},[bn]),_.useLayoutEffect(()=>{if(y.length===0||R||Yr.current)return;if(!(sessionStorage.getItem(rt)==="true")){try{localStorage.removeItem(nt),sessionStorage.removeItem(rt)}catch{}Yr.current=!1;return}const M=On.current;if(M)try{const $=localStorage.getItem(nt);if($){const H=parseInt($,10);if(!isNaN(H)&&H>0){const ne=M.style.visibility,q=M.style.opacity;M.style.visibility="hidden",M.style.opacity="0";const K=M.querySelectorAll("*"),ie=[];K.forEach(Z=>{Z instanceof HTMLElement&&(ie.push({element:Z,transition:Z.style.transition}),Z.style.transition="none")});const le=M.style.transition;M.style.transition="none",M.scrollLeft=H,M.offsetHeight,requestAnimationFrame(()=>{M.style.visibility=ne||"",M.style.opacity=q||"",M.style.transition=le||"",ie.forEach(({element:Z,transition:fe})=>{Z.style.transition=fe||""}),sessionStorage.removeItem(rt),Yr.current=!0})}}}catch($){console.warn(" PersonPage: Error restoring scroll:",$)}},[y,R]),_.useEffect(()=>{hr.current||(Yr.current=!1)},[y.length]),f.jsxs("div",{className:"overscroll-contain bg-gradient-to-b from-[#f7f6fe] to-[#f1eefe] min-h-screen",children:[f.jsx("header",{id:"topnav",className:"bg-[#f7f6fe]",style:{paddingTop:"env(safe-area-inset-top)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:f.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[f.jsx("h1",{className:"font-notch font-bold text-2xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent tracking-tight drop-shadow-sm",children:"SimplySent"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"relative",ref:v,children:[f.jsxs("button",{type:"button",onClick:()=>l(!a),id:"person-select-button",className:"inline-flex items-center gap-3 bg-white rounded-full border border-gray-200 px-5 py-2.5 hover:bg-gray-50 transition-colors shadow-[0_8px_30px_rgba(0,0,0,0.08)]","aria-label":"Select person",children:[f.jsx(Ut,{icon:iK,className:"w-6 h-6 text-gray-700"}),f.jsx("span",{className:"font-semibold text-gray-800 text-base",children:Q&&((jr=U.find(I=>I.id===Q))==null?void 0:jr.name)||"Kevin"})]}),a&&f.jsxs("div",{className:"absolute left-0 mt-2 bg-white rounded-3xl shadow-[0_8px_30px_rgba(0,0,0,0.08)] border border-gray-200 z-50 min-w-[120px] overflow-hidden max-h-[400px] overflow-y-auto",children:[U.map(I=>f.jsx("button",{type:"button",onClick:()=>{J(I.id),l(!1)},className:`block w-full pl-5 pr-4 py-2.5 font-semibold transition-colors text-left text-gray-800 hover:bg-purple-50 ${Q===I.id?"bg-purple-50":""}`,children:I.name},I.id)),U.length===0&&f.jsx("div",{className:"px-5 py-2.5 text-sm text-gray-500",children:"No persons added yet"})]})]}),f.jsx("button",{type:"button",onClick:()=>P(!0),id:"add-person-button",className:"flex items-center justify-center w-12 h-12 rounded-full bg-simplysent-purple hover:bg-simplysent-purple-dark transition-colors shadow-[0_8px_30px_rgba(0,0,0,0.08)]","aria-label":"Add person",children:f.jsx(Ut,{icon:dK,className:"w-6 h-6 text-white"})})]})]})}),f.jsx("div",{className:"px-4 pb-4",style:{paddingLeft:"max(1rem, env(safe-area-inset-left))",paddingRight:"max(1rem, env(safe-area-inset-right))",paddingBottom:"calc(env(safe-area-inset-bottom) + 80px)"},children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[e==="gifts"&&f.jsxs("div",{children:[f.jsxs("div",{className:"mt-6",children:[!mt&&f.jsxs("div",{className:"flex items-center gap-1.5 mb-4 overflow-x-auto no-scrollbar -mx-4 px-4",children:[f.jsxs(ze,{variant:p==="highest"?"primary":"outline",size:"small",onClick:()=>S("highest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 border-gray-300","aria-label":"Sort by highest price",children:[f.jsx(Ut,{icon:Zd,className:"w-2.5 h-2.5"}),f.jsx(Ut,{icon:ST,className:"w-2.5 h-2.5"}),f.jsx("span",{children:"High"})]}),f.jsxs(ze,{variant:p==="lowest"?"primary":"outline",size:"small",onClick:()=>S("lowest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 border-gray-300","aria-label":"Sort by lowest price",children:[f.jsx(Ut,{icon:Zd,className:"w-2.5 h-2.5"}),f.jsx(Ut,{icon:ET,className:"w-2.5 h-2.5"}),f.jsx("span",{children:"Low"})]}),f.jsxs(ze,{variant:"outline",size:"small",onClick:()=>u(!0),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 border-gray-300","aria-label":"Edit budget",children:[f.jsx(Ut,{icon:fK,className:"w-2.5 h-2.5"}),f.jsx("span",{children:"Budget"})]}),f.jsxs(ze,{variant:"outline",size:"small",onClick:()=>m(!0),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap flex-shrink-0 border-gray-300","aria-label":"Edit interests",children:[f.jsx(Ut,{icon:hK,className:"w-2.5 h-2.5"}),f.jsx("span",{children:"Interests"})]})]}),f.jsxs("div",{className:"flex items-center justify-between gap-3 mb-0",children:[f.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:["AI Picks For ",Q&&((ys=U.find(I=>I.id===Q))==null?void 0:ys.name)||"Kevin",mo()&&f.jsxs("span",{className:"ml-2 text-base font-normal text-gray-500",children:["(",((_t=$n["ai-picks"])==null?void 0:_t.filter(I=>!i.has(I.id)).length)||0,")"]})]}),f.jsx("div",{className:"flex items-center gap-2",children:mt?f.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Ie,"/5"]}):f.jsx("button",{type:"button",onClick:Yt,disabled:w||R,className:"flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Refresh recommendations",children:f.jsx(Ut,{icon:mK,className:`w-4 h-4 text-gray-500 ${w?"animate-spin":""}`})})})]}),mt&&et?f.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:f.jsxs("div",{className:"text-center px-4",children:[f.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),f.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("svg",{className:"w-8 h-8 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),f.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Loading products..."})]})}):tt?f.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:f.jsxs("div",{className:"text-center px-4",children:[f.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),f.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("svg",{className:"w-8 h-8 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),f.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Getting your recommendations..."}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Just a moment while we find the perfect picks for you"})]})}):!mt&&R?f.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:f.jsxs("div",{className:"text-center px-4",children:[f.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),f.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("svg",{className:"w-8 h-8 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),f.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Loading AI recommendations..."}),f.jsx("p",{className:"text-gray-500 text-sm",children:"Finding the perfect picks for you"})]})}):L?f.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:f.jsxs("div",{className:"text-center px-4 max-w-md",children:[f.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-red-100 to-red-50"}),f.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),f.jsx("p",{className:"text-red-600 font-semibold text-lg mb-2",children:"Unable to load recommendations"}),f.jsx("p",{className:"text-gray-500 text-sm",children:L})]})}):mt?f.jsx("div",{ref:On,"data-carousel":"ai-picks",className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-12 mt-[10px]",children:f.jsxs("div",{className:"flex gap-4 transition-all duration-700 ease-out",children:[f.jsx("div",{className:"flex-shrink-0 w-[260px]",children:f.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-3xl p-6 h-full flex flex-col justify-center items-center text-center border-2 border-purple-200",children:[f.jsx("div",{className:"mb-4",children:f.jsx("svg",{className:"w-12 h-12 text-purple-600 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Rate 5 products"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Rate 5 products to unlock AI recommendations"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex-1 bg-white/60 rounded-full h-2",children:f.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Ie/5*100}%`}})}),f.jsxs("span",{className:"text-sm font-bold text-purple-700",children:[Ie,"/5"]})]})]})}),me.length>0&&me.map(I=>f.jsx("div",{className:"flex-shrink-0 w-[260px] transition-all duration-700 ease-out",children:f.jsx(po,{id:I.id,image:I.image,name:I.name,price:I.price,rating:I.rating,numRatings:I.numRatings,compact:!0,isAiPick:!1,isFavorite:!1,onFavoriteToggle:()=>Rt(I.id),onRemove:()=>Rt(I.id),hideActions:!1,showWelcomeTrainingAnimation:!ms.has(I.id),disableRemove:!0})},I.id))]})}):((Qi=$n["ai-picks"])==null?void 0:Qi.filter(I=>!i.has(I.id)).length)===0?f.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"311px"},children:f.jsxs("div",{className:"text-center px-4",children:[f.jsxs("div",{className:"relative mx-auto mb-6 w-20 h-20",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50"}),f.jsx("div",{className:"absolute inset-2 rounded-full bg-white"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-simplysent-purple",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})]}),f.jsx("p",{className:"text-simplysent-purple font-semibold text-lg mb-2",children:"Swipe down to generate new recommendations"}),f.jsx("p",{className:"text-gray-500 text-sm",children:"We'll find more great picks for you"})]})}):f.jsx("div",{ref:On,"data-carousel":"ai-picks",className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-12 mt-[10px]",children:f.jsx("div",{className:"flex gap-4 transition-all duration-700 ease-out",children:(Rr=$n["ai-picks"])==null?void 0:Rr.filter(I=>!i.has(I.id)).map((I,M)=>f.jsx("div",{className:"flex-shrink-0 w-[260px] transition-all duration-700 ease-out",style:{animation:`fadeInSlide 0.6s ease-out ${M*.05}s both`},children:f.jsx(po,{id:I.id,image:I.image,name:I.name,price:I.price,rating:I.rating,numRatings:I.numRatings,compact:!0,isAiPick:!0,isFavorite:r.has(I.id),onFavoriteToggle:()=>gs(I.id),onRemove:kr,onClick:()=>Nr(I.id)})},I.id))})})]}),Q&&((Qr=U.find(I=>I.id===Q))==null?void 0:Qr.interests.map(I=>{const M=$t[I]||[];if((G[I]||!1)&&M.length===0)return f.jsxs("div",{className:"mt-[10px]",children:[f.jsx("div",{className:"flex items-center gap-3 mb-0",children:f.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:[_T(I),mo()&&f.jsx("span",{className:"ml-2 text-base font-normal text-gray-500",children:"(loading...)"})]})}),f.jsx("div",{className:"mt-[10px] flex items-center justify-center",style:{minHeight:"200px"},children:f.jsx("div",{className:"text-center px-4",children:f.jsxs("div",{className:"relative mx-auto mb-4 w-12 h-12",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-100 to-purple-50 animate-pulse"}),f.jsx("div",{className:"absolute inset-1 rounded-full bg-white"}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("svg",{className:"w-6 h-6 text-simplysent-purple animate-spin",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})})]},I);if(M.filter(q=>!i.has(q.id)&&!Fn.has(q.id)).length===0)return null;const ne=M.filter(q=>!i.has(q.id)&&!Fn.has(q.id)).length;return f.jsxs("div",{className:"mt-[10px]",children:[f.jsx("div",{className:"flex items-center gap-3 mb-0",children:f.jsxs("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:[_T(I),mo()&&f.jsxs("span",{className:"ml-2 text-base font-normal text-gray-500",children:["(",ne,")"]})]})}),f.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-8 mt-[10px]",children:f.jsx("div",{className:"flex gap-4 transition-all duration-1000",children:M.filter(q=>!i.has(q.id)&&!Fn.has(q.id)).map(q=>f.jsx("div",{className:"flex-shrink-0 w-[260px]",children:f.jsx(po,{id:q.id,image:q.image,name:q.name,price:q.price,rating:q.rating,numRatings:q.numRatings,compact:!0,className:"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",isFavorite:r.has(q.id),onFavoriteToggle:()=>gs(q.id),onRemove:kr,onClick:()=>Nr(q.id)})},q.id))})})]},I)})),N.length>0&&f.jsxs("div",{className:"mt-[10px]",children:[f.jsxs("div",{className:"flex items-center justify-between gap-3 mb-0",children:[f.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"From RapidAPI"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs(ze,{variant:V==="highest"?"primary":"outline",size:"small",onClick:()=>k("highest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap border-gray-300","aria-label":"Sort by highest price",children:[f.jsx(Ut,{icon:Zd,className:"w-2.5 h-2.5"}),f.jsx(Ut,{icon:ST,className:"w-2.5 h-2.5"}),f.jsx("span",{children:"High"})]}),f.jsxs(ze,{variant:V==="lowest"?"primary":"outline",size:"small",onClick:()=>k("lowest"),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs whitespace-nowrap border-gray-300","aria-label":"Sort by lowest price",children:[f.jsx(Ut,{icon:Zd,className:"w-2.5 h-2.5"}),f.jsx(Ut,{icon:ET,className:"w-2.5 h-2.5"}),f.jsx("span",{children:"Low"})]})]})]}),((Ji=$n.rapidapi)==null?void 0:Ji.filter(I=>!i.has(I.id)).length)===0?f.jsx("div",{className:"flex items-center justify-center py-12 px-4",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("p",{className:"text-gray-400 text-lg font-medium",children:"No more recommendations here."}),f.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for new picks!"})]})}):f.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-4 px-4 pt-3 pb-8 mt-[10px]",children:f.jsx("div",{className:"flex gap-4 transition-all duration-1000",children:(vs=$n.rapidapi)==null?void 0:vs.filter(I=>!i.has(I.id)).map(I=>f.jsx("div",{className:"flex-shrink-0 w-[260px]",children:f.jsx(po,{id:I.id,image:I.image,name:I.name,price:I.price,rating:I.rating,numRatings:I.numRatings,compact:!0,className:"shadow-[0_8px_30px_rgba(0,0,0,0.08)] hover:shadow-[0_15px_50px_rgba(0,0,0,0.12)] transition-all duration-300 hover:-translate-y-1 bg-white",isFavorite:r.has(I.id),onFavoriteToggle:()=>gs(I.id),onRemove:kr})},I.id))})})]})]}),e==="favourites"&&f.jsxs("div",{children:[f.jsx("div",{className:"mt-6",children:f.jsx("div",{className:"flex items-center gap-3 mb-0",children:f.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"Favourites"})})}),Array.from(r).length===0?f.jsx("div",{className:"mt-6",children:f.jsx("p",{className:"text-center text-gray-600",children:"No favourites yet. Tap the heart on any product to add it here."})}):f.jsx("div",{className:"mt-6 grid grid-cols-2 gap-3 sm:gap-4",children:bn.filter(I=>r.has(I.id)).map(I=>{const M=y.some($=>$.id===I.id);return f.jsx("div",{className:"flex justify-center w-full",children:f.jsx(po,{id:I.id,image:I.image,name:I.name,price:I.price,rating:I.rating,numRatings:I.numRatings,isFavorite:!0,onFavoriteToggle:()=>gs(I.id),hideActions:!0,favouritesVariant:!0,onClick:M?()=>Nr(I.id):void 0})},I.id)})})]}),e==="share"&&f.jsxs("div",{children:[f.jsx("div",{className:"mt-6",children:f.jsx("div",{className:"flex items-center gap-3 mb-0",children:f.jsx("h2",{className:"text-[22px] font-medium font-headline text-simplysent-grey-heading",children:"Share"})})}),f.jsxs("div",{className:"mt-6 flex flex-col items-center",children:[f.jsxs("div",{className:"w-full max-w-xl flex items-center gap-3 bg-white rounded-xl border-2 border-gray-200 p-3",children:[f.jsx("input",{value:"https://simplysent.co/1234",readOnly:!0,className:"flex-1 bg-transparent outline-none text-gray-800"}),f.jsx(ze,{size:"small",onClick:()=>navigator.clipboard.writeText("https://simplysent.co/1234"),variant:"secondary",children:"Copy"})]}),f.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Share this link with friends and family"})]})]})]})}),f.jsx(yK,{open:c,onOpenChange:u,initialMinBudget:Q&&((Bn=U.find(I=>I.id===Q))==null?void 0:Bn.minBudget)||50,initialMaxBudget:Q&&((Qo=U.find(I=>I.id===Q))==null?void 0:Qo.maxBudget)||300,onSave:(I,M)=>{if(Q){const $=U.map(H=>H.id===Q?{...H,minBudget:I,maxBudget:M}:H);te($),localStorage.setItem("saved_persons",JSON.stringify($)),Yt()}}}),f.jsx(vK,{open:h,onOpenChange:m,initialInterests:Q?((Jo=U.find(I=>I.id===Q))==null?void 0:Jo.interests)||[]:[],gender:Q?(O=U.find(I=>I.id===Q))==null?void 0:O.gender:void 0,onSave:I=>{if(Q){const M=U.map($=>$.id===Q?{...$,interests:I}:$);te(M),localStorage.setItem("saved_persons",JSON.stringify(M));try{localStorage.removeItem(fr)}catch($){console.warn("Error clearing interest products cache:",$)}B({}),Dt.current.clear(),ve($=>$+1),Yt()}}}),f.jsx("div",{id:"floating-nav",className:`fixed inset-x-0 z-40 transition-opacity duration-300 ${c||h?"opacity-0 pointer-events-none":"opacity-100"}`,style:{bottom:"calc(env(safe-area-inset-bottom) + 16px)",paddingLeft:"env(safe-area-inset-left)",paddingRight:"env(safe-area-inset-right)"},children:f.jsx("div",{className:"w-full flex justify-center",children:f.jsxs("div",{className:"relative inline-flex items-center bg-white/95 backdrop-blur-lg rounded-full border border-gray-200 p-1.5 shadow-lg overflow-hidden will-change-transform gap-1.5",children:[f.jsx("div",{className:"absolute rounded-full transition-transform duration-300 ease-[cubic-bezier(.32,.72,.33,.99)] pointer-events-none",style:{width:"60px",height:"60px",left:"4px",top:"50%",transform:`translateY(-50%) translateX(${e==="gifts"?0:e==="favourites"?62:124}px)`},children:f.jsx("div",{className:"w-full h-full bg-simplysent-purple rounded-full shadow-md"})}),f.jsx("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>n("gifts"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="gifts"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:f.jsx(Ut,{icon:lK,size:"lg"})}),f.jsx("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>n("favourites"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="favourites"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:f.jsx(Ut,{icon:cK,size:"lg"})}),f.jsx("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>n("share"),className:`flex items-center justify-center w-14 h-14 rounded-full transition-colors duration-200 relative z-10 hover:scale-105 ${e==="share"?"text-white":"text-simplysent-purple hover:text-simplysent-purple-dark"}`,children:f.jsx(Ut,{icon:oK,size:"lg"})})]})})}),f.jsx(XN,{open:E,onOpenChange:P,title:"Add Person"})]})},bK="modulepreload",SK=function(t){return"/"+t},AT={},EK=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=SK(l),l in AT)return;AT[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bK,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},TK=()=>{};var CT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_K=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(n[u],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_K(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new PK;const m=i<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const S=c<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AK=function(t){const e=nj(t);return rj.encodeByteArray(e,!0)},kh=function(t){return AK(t).replace(/\./g,"")},CK=function(t){try{return rj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=()=>IK().__FIREBASE_DEFAULTS__,NK=()=>{if(typeof process>"u"||typeof CT>"u")return;const t=CT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CK(t[1]);return e&&JSON.parse(e)},v1=()=>{try{return TK()||kK()||NK()||jK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RK=t=>{var e,n;return(n=(e=v1())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},DK=t=>{const e=RK(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sj=()=>{var t;return(t=v1())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VK(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LK(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[kh(JSON.stringify(n)),kh(JSON.stringify(o)),""].join(".")}const Wc={};function OK(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wc))Wc[e]?t.emulator.push(e):t.prod.push(e);return t}function FK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let IT=!1;function $K(t,e){if(typeof window>"u"||typeof document>"u"||!x1(window.location.host)||Wc[t]===e||Wc[t]||IT)return;Wc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=OK().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{IT=!0,o()},m}function u(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=FK(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),E=n("learnmore"),P=document.getElementById(E)||document.createElement("a"),v=n("preprendIcon"),y=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),u(P,E);const R=c();l(y,v),T.append(y,S,P,R),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zK(){var e;const t=(e=v1())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UK(){return!zK()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HK(){try{return typeof indexedDB=="object"}catch{return!1}}function WK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK="FirebaseError";class Dl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KK,Object.setPrototypeOf(this,Dl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ij.prototype.create)}}class ij{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?qK(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Dl(s,a,r)}}function qK(t,e){return t.replace(GK,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GK=/\{\$([^}]+)}/g;function Nh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kT(i)&&kT(o)){if(!Nh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){return t&&t._delegate?t._delegate:t}class Vu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MK;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JK(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QK(t){return t===uo?void 0:t}function JK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const eq={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},tq=Ue.INFO,nq={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},rq=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=nq[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class oj{constructor(e){this.name=e,this._logLevel=tq,this._logHandler=rq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const sq=(t,e)=>e.some(n=>t instanceof n);let NT,jT;function iq(){return NT||(NT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oq(){return jT||(jT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aj=new WeakMap,f0=new WeakMap,lj=new WeakMap,rg=new WeakMap,w1=new WeakMap;function aq(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ai(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&aj.set(n,t)}).catch(()=>{}),w1.set(e,t),e}function lq(t){if(f0.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});f0.set(t,e)}let h0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return f0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cq(t){h0=t(h0)}function uq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sg(this),e,...n);return lj.set(r,e.sort?e.sort():[e]),Ai(r)}:oq().includes(t)?function(...e){return t.apply(sg(this),e),Ai(aj.get(this))}:function(...e){return Ai(t.apply(sg(this),e))}}function dq(t){return typeof t=="function"?uq(t):(t instanceof IDBTransaction&&lq(t),sq(t,iq())?new Proxy(t,h0):t)}function Ai(t){if(t instanceof IDBRequest)return aq(t);if(rg.has(t))return rg.get(t);const e=dq(t);return e!==t&&(rg.set(t,e),w1.set(e,t)),e}const sg=t=>w1.get(t);function fq(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ai(o.result),l.oldVersion,l.newVersion,Ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hq=["get","getKey","getAll","getAllKeys","count"],mq=["put","add","delete","clear"],ig=new Map;function RT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ig.get(e))return ig.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||hq.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return ig.set(e,i),i}cq(t=>({...t,get:(e,n,r)=>RT(e,n)||t.get(e,n,r),has:(e,n)=>!!RT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const m0="@firebase/app",DT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new oj("@firebase/app"),yq="@firebase/app-compat",vq="@firebase/analytics-compat",xq="@firebase/analytics",wq="@firebase/app-check-compat",bq="@firebase/app-check",Sq="@firebase/auth",Eq="@firebase/auth-compat",Tq="@firebase/database",_q="@firebase/data-connect",Pq="@firebase/database-compat",Aq="@firebase/functions",Cq="@firebase/functions-compat",Iq="@firebase/installations",kq="@firebase/installations-compat",Nq="@firebase/messaging",jq="@firebase/messaging-compat",Rq="@firebase/performance",Dq="@firebase/performance-compat",Mq="@firebase/remote-config",Vq="@firebase/remote-config-compat",Lq="@firebase/storage",Oq="@firebase/storage-compat",Fq="@firebase/firestore",$q="@firebase/ai",Bq="@firebase/firestore-compat",zq="firebase",Uq="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="[DEFAULT]",Hq={[m0]:"fire-core",[yq]:"fire-core-compat",[xq]:"fire-analytics",[vq]:"fire-analytics-compat",[bq]:"fire-app-check",[wq]:"fire-app-check-compat",[Sq]:"fire-auth",[Eq]:"fire-auth-compat",[Tq]:"fire-rtdb",[_q]:"fire-data-connect",[Pq]:"fire-rtdb-compat",[Aq]:"fire-fn",[Cq]:"fire-fn-compat",[Iq]:"fire-iid",[kq]:"fire-iid-compat",[Nq]:"fire-fcm",[jq]:"fire-fcm-compat",[Rq]:"fire-perf",[Dq]:"fire-perf-compat",[Mq]:"fire-rc",[Vq]:"fire-rc-compat",[Lq]:"fire-gcs",[Oq]:"fire-gcs-compat",[Fq]:"fire-fst",[Bq]:"fire-fst-compat",[$q]:"fire-vertex","fire-js":"fire-js",[zq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Map,Wq=new Map,g0=new Map;function MT(t,e){try{t.container.addComponent(e)}catch(n){Gs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jh(t){const e=t.name;if(g0.has(e))return Gs.debug(`There were multiple attempts to register component ${e}.`),!1;g0.set(e,t);for(const n of Lu.values())MT(n,t);for(const n of Wq.values())MT(n,t);return!0}function Kq(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qq(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new ij("app","Firebase",Gq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=Uq;function cj(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:p0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ci.create("bad-app-name",{appName:String(s)});if(n||(n=sj()),!n)throw Ci.create("no-options");const i=Lu.get(s);if(i){if(Nh(n,i.options)&&Nh(r,i.config))return i;throw Ci.create("duplicate-app",{appName:s})}const o=new ZK(s);for(const l of g0.values())o.addComponent(l);const a=new Yq(n,r,o);return Lu.set(s,a),a}function Qq(t=p0){const e=Lu.get(t);if(!e&&t===p0&&sj())return cj();if(!e)throw Ci.create("no-app",{appName:t});return e}function Jq(){return Array.from(Lu.values())}function Xa(t,e,n){let r=Hq[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gs.warn(o.join(" "));return}jh(new Vu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="firebase-heartbeat-database",eG=1,Ou="firebase-heartbeat-store";let og=null;function uj(){return og||(og=fq(Zq,eG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),og}async function tG(t){try{const n=(await uj()).transaction(Ou),r=await n.objectStore(Ou).get(dj(t));return await n.done,r}catch(e){if(e instanceof Dl)Gs.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gs.warn(n.message)}}}async function VT(t,e){try{const r=(await uj()).transaction(Ou,"readwrite");await r.objectStore(Ou).put(e,dj(t)),await r.done}catch(n){if(n instanceof Dl)Gs.warn(n.message);else{const r=Ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gs.warn(r.message)}}}function dj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=1024,rG=30;class sG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=LT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>rG){const o=aG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Gs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=LT(),{heartbeatsToSend:r,unsentEntries:s}=iG(this._heartbeatsCache.heartbeats),i=kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gs.warn(n),""}}}function LT(){return new Date().toISOString().substring(0,10)}function iG(t,e=nG){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),OT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HK()?WK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tG(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return VT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OT(t){return kh(JSON.stringify({version:2,heartbeats:t})).length}function aG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){jh(new Vu("platform-logger",e=>new pq(e),"PRIVATE")),jh(new Vu("heartbeat",e=>new sG(e),"PRIVATE")),Xa(m0,DT,t),Xa(m0,DT,"esm2020"),Xa("fire-js","")}lG("");var cG="firebase",uG="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(cG,uG,"app");var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,fj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function A(){}A.prototype=w.prototype,x.F=w.prototype,x.prototype=new A,x.prototype.constructor=x,x.D=function(N,D,V){for(var k=Array(arguments.length-2),U=2;U<arguments.length;U++)k[U-2]=arguments[U];return w.prototype[D].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,w,A){A||(A=0);const N=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)N[D]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(D=0;D<16;++D)N[D]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=x.g[0],A=x.g[1],D=x.g[2];let V=x.g[3],k;k=w+(V^A&(D^V))+N[0]+3614090360&4294967295,w=A+(k<<7&4294967295|k>>>25),k=V+(D^w&(A^D))+N[1]+3905402710&4294967295,V=w+(k<<12&4294967295|k>>>20),k=D+(A^V&(w^A))+N[2]+606105819&4294967295,D=V+(k<<17&4294967295|k>>>15),k=A+(w^D&(V^w))+N[3]+3250441966&4294967295,A=D+(k<<22&4294967295|k>>>10),k=w+(V^A&(D^V))+N[4]+4118548399&4294967295,w=A+(k<<7&4294967295|k>>>25),k=V+(D^w&(A^D))+N[5]+1200080426&4294967295,V=w+(k<<12&4294967295|k>>>20),k=D+(A^V&(w^A))+N[6]+2821735955&4294967295,D=V+(k<<17&4294967295|k>>>15),k=A+(w^D&(V^w))+N[7]+4249261313&4294967295,A=D+(k<<22&4294967295|k>>>10),k=w+(V^A&(D^V))+N[8]+1770035416&4294967295,w=A+(k<<7&4294967295|k>>>25),k=V+(D^w&(A^D))+N[9]+2336552879&4294967295,V=w+(k<<12&4294967295|k>>>20),k=D+(A^V&(w^A))+N[10]+4294925233&4294967295,D=V+(k<<17&4294967295|k>>>15),k=A+(w^D&(V^w))+N[11]+2304563134&4294967295,A=D+(k<<22&4294967295|k>>>10),k=w+(V^A&(D^V))+N[12]+1804603682&4294967295,w=A+(k<<7&4294967295|k>>>25),k=V+(D^w&(A^D))+N[13]+4254626195&4294967295,V=w+(k<<12&4294967295|k>>>20),k=D+(A^V&(w^A))+N[14]+2792965006&4294967295,D=V+(k<<17&4294967295|k>>>15),k=A+(w^D&(V^w))+N[15]+1236535329&4294967295,A=D+(k<<22&4294967295|k>>>10),k=w+(D^V&(A^D))+N[1]+4129170786&4294967295,w=A+(k<<5&4294967295|k>>>27),k=V+(A^D&(w^A))+N[6]+3225465664&4294967295,V=w+(k<<9&4294967295|k>>>23),k=D+(w^A&(V^w))+N[11]+643717713&4294967295,D=V+(k<<14&4294967295|k>>>18),k=A+(V^w&(D^V))+N[0]+3921069994&4294967295,A=D+(k<<20&4294967295|k>>>12),k=w+(D^V&(A^D))+N[5]+3593408605&4294967295,w=A+(k<<5&4294967295|k>>>27),k=V+(A^D&(w^A))+N[10]+38016083&4294967295,V=w+(k<<9&4294967295|k>>>23),k=D+(w^A&(V^w))+N[15]+3634488961&4294967295,D=V+(k<<14&4294967295|k>>>18),k=A+(V^w&(D^V))+N[4]+3889429448&4294967295,A=D+(k<<20&4294967295|k>>>12),k=w+(D^V&(A^D))+N[9]+568446438&4294967295,w=A+(k<<5&4294967295|k>>>27),k=V+(A^D&(w^A))+N[14]+3275163606&4294967295,V=w+(k<<9&4294967295|k>>>23),k=D+(w^A&(V^w))+N[3]+4107603335&4294967295,D=V+(k<<14&4294967295|k>>>18),k=A+(V^w&(D^V))+N[8]+1163531501&4294967295,A=D+(k<<20&4294967295|k>>>12),k=w+(D^V&(A^D))+N[13]+2850285829&4294967295,w=A+(k<<5&4294967295|k>>>27),k=V+(A^D&(w^A))+N[2]+4243563512&4294967295,V=w+(k<<9&4294967295|k>>>23),k=D+(w^A&(V^w))+N[7]+1735328473&4294967295,D=V+(k<<14&4294967295|k>>>18),k=A+(V^w&(D^V))+N[12]+2368359562&4294967295,A=D+(k<<20&4294967295|k>>>12),k=w+(A^D^V)+N[5]+4294588738&4294967295,w=A+(k<<4&4294967295|k>>>28),k=V+(w^A^D)+N[8]+2272392833&4294967295,V=w+(k<<11&4294967295|k>>>21),k=D+(V^w^A)+N[11]+1839030562&4294967295,D=V+(k<<16&4294967295|k>>>16),k=A+(D^V^w)+N[14]+4259657740&4294967295,A=D+(k<<23&4294967295|k>>>9),k=w+(A^D^V)+N[1]+2763975236&4294967295,w=A+(k<<4&4294967295|k>>>28),k=V+(w^A^D)+N[4]+1272893353&4294967295,V=w+(k<<11&4294967295|k>>>21),k=D+(V^w^A)+N[7]+4139469664&4294967295,D=V+(k<<16&4294967295|k>>>16),k=A+(D^V^w)+N[10]+3200236656&4294967295,A=D+(k<<23&4294967295|k>>>9),k=w+(A^D^V)+N[13]+681279174&4294967295,w=A+(k<<4&4294967295|k>>>28),k=V+(w^A^D)+N[0]+3936430074&4294967295,V=w+(k<<11&4294967295|k>>>21),k=D+(V^w^A)+N[3]+3572445317&4294967295,D=V+(k<<16&4294967295|k>>>16),k=A+(D^V^w)+N[6]+76029189&4294967295,A=D+(k<<23&4294967295|k>>>9),k=w+(A^D^V)+N[9]+3654602809&4294967295,w=A+(k<<4&4294967295|k>>>28),k=V+(w^A^D)+N[12]+3873151461&4294967295,V=w+(k<<11&4294967295|k>>>21),k=D+(V^w^A)+N[15]+530742520&4294967295,D=V+(k<<16&4294967295|k>>>16),k=A+(D^V^w)+N[2]+3299628645&4294967295,A=D+(k<<23&4294967295|k>>>9),k=w+(D^(A|~V))+N[0]+4096336452&4294967295,w=A+(k<<6&4294967295|k>>>26),k=V+(A^(w|~D))+N[7]+1126891415&4294967295,V=w+(k<<10&4294967295|k>>>22),k=D+(w^(V|~A))+N[14]+2878612391&4294967295,D=V+(k<<15&4294967295|k>>>17),k=A+(V^(D|~w))+N[5]+4237533241&4294967295,A=D+(k<<21&4294967295|k>>>11),k=w+(D^(A|~V))+N[12]+1700485571&4294967295,w=A+(k<<6&4294967295|k>>>26),k=V+(A^(w|~D))+N[3]+2399980690&4294967295,V=w+(k<<10&4294967295|k>>>22),k=D+(w^(V|~A))+N[10]+4293915773&4294967295,D=V+(k<<15&4294967295|k>>>17),k=A+(V^(D|~w))+N[1]+2240044497&4294967295,A=D+(k<<21&4294967295|k>>>11),k=w+(D^(A|~V))+N[8]+1873313359&4294967295,w=A+(k<<6&4294967295|k>>>26),k=V+(A^(w|~D))+N[15]+4264355552&4294967295,V=w+(k<<10&4294967295|k>>>22),k=D+(w^(V|~A))+N[6]+2734768916&4294967295,D=V+(k<<15&4294967295|k>>>17),k=A+(V^(D|~w))+N[13]+1309151649&4294967295,A=D+(k<<21&4294967295|k>>>11),k=w+(D^(A|~V))+N[4]+4149444226&4294967295,w=A+(k<<6&4294967295|k>>>26),k=V+(A^(w|~D))+N[11]+3174756917&4294967295,V=w+(k<<10&4294967295|k>>>22),k=D+(w^(V|~A))+N[2]+718787259&4294967295,D=V+(k<<15&4294967295|k>>>17),k=A+(V^(D|~w))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+V&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const A=w-this.blockSize,N=this.C;let D=this.h,V=0;for(;V<w;){if(D==0)for(;V<=A;)s(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<w;)if(N[D++]=x.charCodeAt(V++),D==this.blockSize){s(this,N),D=0;break}}else for(;V<w;)if(N[D++]=x[V++],D==this.blockSize){s(this,N),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var A=x.length-8;A<x.length;++A)x[A]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,A=0;A<4;++A)for(let N=0;N<32;N+=8)x[w++]=this.g[A]>>>N&255;return x};function i(x,w){var A=a;return Object.prototype.hasOwnProperty.call(A,x)?A[x]:A[x]=w(x)}function o(x,w){this.h=w;const A=[];let N=!0;for(let D=x.length-1;D>=0;D--){const V=x[D]|0;N&&V==w||(A[D]=V,N=!1)}this.g=A}var a={};function l(x){return-128<=x&&x<128?i(x,function(w){return new o([w|0],w<0?-1:0)}):new o([x|0],x<0?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(x<0)return P(c(-x));const w=[];let A=1;for(let N=0;x>=A;N++)w[N]=x/A|0,A*=4294967296;return new o(w,0)}function u(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return P(u(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(w,8));let N=h;for(let V=0;V<x.length;V+=8){var D=Math.min(8,x.length-V);const k=parseInt(x.substring(V,V+D),w);D<8?(D=c(Math.pow(w,D)),N=N.j(D).add(c(k))):(N=N.j(A),N=N.add(c(k)))}return N}var h=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-P(this).m();let x=0,w=1;for(let A=0;A<this.g.length;A++){const N=this.i(A);x+=(N>=0?N:4294967296+N)*w,w*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(E(this))return"-"+P(this).toString(x);const w=c(Math.pow(x,6));var A=this;let N="";for(;;){const D=R(A,w).g;A=v(A,D.j(w));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(x);if(A=D,S(A))return V+N;for(;V.length<6;)V="0"+V;N=V+N}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function E(x){return x.h==-1}t.l=function(x){return x=v(this,x),E(x)?-1:S(x)?0:1};function P(x){const w=x.g.length,A=[];for(let N=0;N<w;N++)A[N]=~x.g[N];return new o(A,~x.h).add(m)}t.abs=function(){return E(this)?P(this):this},t.add=function(x){const w=Math.max(this.g.length,x.g.length),A=[];let N=0;for(let D=0;D<=w;D++){let V=N+(this.i(D)&65535)+(x.i(D)&65535),k=(V>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);N=k>>>16,V&=65535,k&=65535,A[D]=k<<16|V}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(x,w){return x.add(P(w))}t.j=function(x){if(S(this)||S(x))return h;if(E(this))return E(x)?P(this).j(P(x)):P(P(this).j(x));if(E(x))return P(this.j(P(x)));if(this.l(p)<0&&x.l(p)<0)return c(this.m()*x.m());const w=this.g.length+x.g.length,A=[];for(var N=0;N<2*w;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<x.g.length;D++){const V=this.i(N)>>>16,k=this.i(N)&65535,U=x.i(D)>>>16,te=x.i(D)&65535;A[2*N+2*D]+=k*te,y(A,2*N+2*D),A[2*N+2*D+1]+=V*te,y(A,2*N+2*D+1),A[2*N+2*D+1]+=k*U,y(A,2*N+2*D+1),A[2*N+2*D+2]+=V*U,y(A,2*N+2*D+2)}for(x=0;x<w;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=w;x<2*w;x++)A[x]=0;return new o(A,0)};function y(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function T(x,w){this.g=x,this.h=w}function R(x,w){if(S(w))throw Error("division by zero");if(S(x))return new T(h,h);if(E(x))return w=R(P(x),w),new T(P(w.g),P(w.h));if(E(w))return w=R(x,P(w)),new T(P(w.g),w.h);if(x.g.length>30){if(E(x)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var A=m,N=w;N.l(x)<=0;)A=C(A),N=C(N);var D=L(A,1),V=L(N,1);for(N=L(N,2),A=L(A,2);!S(N);){var k=V.add(N);k.l(x)<=0&&(D=D.add(A),V=k),N=L(N,1),A=L(A,1)}return w=v(x,D.j(w)),new T(D,w)}for(D=h;x.l(w)>=0;){for(A=Math.max(1,Math.floor(x.m()/w.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),V=c(A),k=V.j(w);E(k)||k.l(x)>0;)A-=N,V=c(A),k=V.j(w);S(V)&&(V=m),D=D.add(V),x=v(x,k)}return new T(D,x)}t.B=function(x){return R(this,x).h},t.and=function(x){const w=Math.max(this.g.length,x.g.length),A=[];for(let N=0;N<w;N++)A[N]=this.i(N)&x.i(N);return new o(A,this.h&x.h)},t.or=function(x){const w=Math.max(this.g.length,x.g.length),A=[];for(let N=0;N<w;N++)A[N]=this.i(N)|x.i(N);return new o(A,this.h|x.h)},t.xor=function(x){const w=Math.max(this.g.length,x.g.length),A=[];for(let N=0;N<w;N++)A[N]=this.i(N)^x.i(N);return new o(A,this.h^x.h)};function C(x){const w=x.g.length+1,A=[];for(let N=0;N<w;N++)A[N]=x.i(N)<<1|x.i(N-1)>>>31;return new o(A,x.h)}function L(x,w){const A=w>>5;w%=32;const N=x.g.length-A,D=[];for(let V=0;V<N;V++)D[V]=w>0?x.i(V+A)>>>w|x.i(V+A+1)<<32-w:x.i(V+A);return new o(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fj=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Ii=o}).apply(typeof FT<"u"?FT:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hj,yc,mj,jf,y0,pj,gj,yj;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var g=0;g<d.length;++g){var b=d[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var b=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var z=d[j];if(!(z in b))break e;b=b[z]}d=d[d.length-1],j=b[d],g=g(j),g!=j&&g!=null&&e(b,d,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(g){var b=[],j;for(j in g)Object.prototype.hasOwnProperty.call(g,j)&&b.push([j,g[j]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function l(d,g,b){return d.call.apply(d.bind,arguments)}function c(d,g,b){return c=l,c.apply(null,arguments)}function u(d,g){var b=Array.prototype.slice.call(arguments,1);return function(){var j=b.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function h(d,g){function b(){}b.prototype=g.prototype,d.Z=g.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(j,z,W){for(var ae=Array(arguments.length-2),je=2;je<arguments.length;je++)ae[je-2]=arguments[je];return g.prototype[z].apply(j,ae)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const g=d.length;if(g>0){const b=Array(g);for(let j=0;j<g;j++)b[j]=d[j];return b}return[]}function S(d,g){for(let j=1;j<arguments.length;j++){const z=arguments[j];var b=typeof z;if(b=b!="object"?b:z?Array.isArray(z)?"array":b:"null",b=="array"||b=="object"&&typeof z.length=="number"){b=d.length||0;const W=z.length||0;d.length=b+W;for(let ae=0;ae<W;ae++)d[b+ae]=z[ae]}else d.push(z)}}class E{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(d){o.setTimeout(()=>{throw d},0)}function v(){var d=x;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class y{constructor(){this.h=this.g=null}add(g,b){const j=T.get();j.set(g,b),this.h?this.h.next=j:this.g=j,this.h=j}}var T=new E(()=>new R,d=>d.reset());class R{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let C,L=!1,x=new y,w=()=>{const d=Promise.resolve(void 0);C=()=>{d.then(A)}};function A(){for(var d;d=v();){try{d.h.call(d.g)}catch(b){P(b)}var g=T;g.j(d),g.h<100&&(g.h++,d.next=g.g,g.g=d)}L=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};o.addEventListener("test",b,g),o.removeEventListener("test",b,g)}catch{}return d}();function k(d){return/^[\s\xa0]*$/.test(d)}function U(d,g){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,g)}h(U,D),U.prototype.init=function(d,g){const b=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget,g||(b=="mouseover"?g=d.fromElement:b=="mouseout"&&(g=d.toElement)),this.relatedTarget=g,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),Q=0;function J(d,g,b,j,z){this.listener=d,this.proxy=null,this.src=g,this.type=b,this.capture=!!j,this.ha=z,this.key=++Q,this.da=this.fa=!1}function F(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function B(d,g,b){for(const j in d)g.call(b,d[j],j,d)}function G(d,g){for(const b in d)g.call(void 0,d[b],b,d)}function X(d){const g={};for(const b in d)g[b]=d[b];return g}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ve(d,g){let b,j;for(let z=1;z<arguments.length;z++){j=arguments[z];for(b in j)d[b]=j[b];for(let W=0;W<se.length;W++)b=se[W],Object.prototype.hasOwnProperty.call(j,b)&&(d[b]=j[b])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,g,b,j,z){const W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);const ae=Ie(d,g,j,z);return ae>-1?(g=d[ae],b||(g.fa=!1)):(g=new J(g,this.src,W,!!j,z),g.fa=b,d.push(g)),g};function xe(d,g){const b=g.type;if(b in d.g){var j=d.g[b],z=Array.prototype.indexOf.call(j,g,void 0),W;(W=z>=0)&&Array.prototype.splice.call(j,z,1),W&&(F(g),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Ie(d,g,b,j){for(let z=0;z<d.length;++z){const W=d[z];if(!W.da&&W.listener==g&&W.capture==!!b&&W.ha==j)return z}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),et={};function Gt(d,g,b,j,z){if(Array.isArray(g)){for(let W=0;W<g.length;W++)Gt(d,g[W],b,j,z);return null}return b=fr(b),d&&d[te]?d.J(g,b,a(j)?!!j.capture:!1,z):ms(d,g,b,!1,j,z)}function ms(d,g,b,j,z,W){if(!g)throw Error("Invalid event type");const ae=a(z)?!!z.capture:!!z;let je=mt(d);if(je||(d[$e]=je=new me(d)),b=je.add(g,b,j,ae,W),b.proxy)return b;if(j=Ir(),b.proxy=j,j.src=d,j.listener=b,d.addEventListener)V||(z=ae),z===void 0&&(z=!1),d.addEventListener(g.toString(),j,z);else if(d.attachEvent)d.attachEvent(Ye(g.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ir(){function d(b){return g.call(d.src,d.listener,b)}const g=ps;return d}function tt(d,g,b,j,z){if(Array.isArray(g))for(var W=0;W<g.length;W++)tt(d,g[W],b,j,z);else j=a(j)?!!j.capture:!!j,b=fr(b),d&&d[te]?(d=d.i,W=String(g).toString(),W in d.g&&(g=d.g[W],b=Ie(g,b,j,z),b>-1&&(F(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete d.g[W],d.h--)))):d&&(d=mt(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Ie(g,b,j,z)),(b=d>-1?g[d]:null)&&vt(b))}function vt(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[te])xe(g.i,d);else{var b=d.type,j=d.proxy;g.removeEventListener?g.removeEventListener(b,j,d.capture):g.detachEvent?g.detachEvent(Ye(b),j):g.addListener&&g.removeListener&&g.removeListener(j),(b=mt(g))?(xe(b,d),b.h==0&&(b.src=null,g[$e]=null)):F(d)}}}function Ye(d){return d in et?et[d]:et[d]="on"+d}function ps(d,g){if(d.da)d=!0;else{g=new U(g,this);const b=d.listener,j=d.ha||d.src;d.fa&&vt(d),d=b.call(j,g)}return d}function mt(d){return d=d[$e],d instanceof me?d:null}var Qn="__closure_events_fn_"+(Math.random()*1e9>>>0);function fr(d){return typeof d=="function"?d:(d[Qn]||(d[Qn]=function(g){return d.handleEvent(g)}),d[Qn])}function nt(){N.call(this),this.i=new me(this),this.M=this,this.G=null}h(nt,N),nt.prototype[te]=!0,nt.prototype.removeEventListener=function(d,g,b,j){tt(this,d,g,b,j)};function rt(d,g){var b,j=d.G;if(j)for(b=[];j;j=j.G)b.push(j);if(d=d.M,j=g.type||g,typeof g=="string")g=new D(g,d);else if(g instanceof D)g.target=g.target||d;else{var z=g;g=new D(j,d),ve(g,z)}z=!0;let W,ae;if(b)for(ae=b.length-1;ae>=0;ae--)W=g.g=b[ae],z=On(W,j,!0,g)&&z;if(W=g.g=d,z=On(W,j,!0,g)&&z,z=On(W,j,!1,g)&&z,b)for(ae=0;ae<b.length;ae++)W=g.g=b[ae],z=On(W,j,!1,g)&&z}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var d=this.i;for(const g in d.g){const b=d.g[g];for(let j=0;j<b.length;j++)F(b[j]);delete d.g[g],d.h--}}this.G=null},nt.prototype.J=function(d,g,b,j){return this.i.add(String(d),g,!1,b,j)},nt.prototype.K=function(d,g,b,j){return this.i.add(String(d),g,!0,b,j)};function On(d,g,b,j){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let W=0;W<g.length;++W){const ae=g[W];if(ae&&!ae.da&&ae.capture==b){const je=ae.listener,Qt=ae.ha||ae.src;ae.fa&&xe(d.i,ae),z=je.call(Qt,j)!==!1&&z}}return z&&!j.defaultPrevented}function Yr(d,g){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=c(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(d,g||0)}function hr(d){d.g=Yr(()=>{d.g=null,d.i&&(d.i=!1,hr(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Ee extends N{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(d){N.call(this),this.h=d,this.g={}}h(De,N);var wn=[];function Rt(d){B(d.g,function(g,b){this.g.hasOwnProperty(b)&&vt(g)},d),d.g={}}De.prototype.N=function(){De.Z.N.call(this),Rt(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=o.JSON.stringify,Dt=o.JSON.parse,Xr=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function mr(){}function Jn(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fn(){D.call(this,"d")}h(Fn,D);function $n(){D.call(this,"c")}h($n,D);var bn={},gs=null;function kr(){return gs=gs||new nt}bn.Ia="serverreachability";function Nr(d){D.call(this,bn.Ia,d)}h(Nr,D);function jr(d){const g=kr();rt(g,new Nr(g))}bn.STAT_EVENT="statevent";function ys(d,g){D.call(this,bn.STAT_EVENT,d),this.stat=g}h(ys,D);function _t(d){const g=kr();rt(g,new ys(g,d))}bn.Ja="timingevent";function Qi(d,g){D.call(this,bn.Ja,d),this.size=g}h(Qi,D);function Rr(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},g)}function Qr(){this.g=!0}Qr.prototype.ua=function(){this.g=!1};function Ji(d,g,b,j,z,W){d.info(function(){if(d.g)if(W){var ae="",je=W.split("&");for(let Ze=0;Ze<je.length;Ze++){var Qt=je[Ze].split("=");if(Qt.length>1){const nn=Qt[0];Qt=Qt[1];const Jr=nn.split("_");ae=Jr.length>=2&&Jr[1]=="type"?ae+(nn+"="+Qt+"&"):ae+(nn+"=redacted&")}}}else ae=null;else ae=W;return"XMLHTTP REQ ("+j+") [attempt "+z+"]: "+g+`
`+b+`
`+ae})}function vs(d,g,b,j,z,W,ae){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+z+"]: "+g+`
`+b+`
`+W+" "+ae})}function Bn(d,g,b,j){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+Jo(d,b)+(j?" "+j:"")})}function Qo(d,g){d.info(function(){return"TIMEOUT: "+g})}Qr.prototype.info=function(){};function Jo(d,g){if(!d.g)return g;if(!g)return null;try{const W=JSON.parse(g);if(W){for(d=0;d<W.length;d++)if(Array.isArray(W[d])){var b=W[d];if(!(b.length<2)){var j=b[1];if(Array.isArray(j)&&!(j.length<1)){var z=j[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<j.length;ae++)j[ae]=""}}}}return Yt(W)}catch{return g}}var O={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},I={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},M;function $(){}h($,mr),$.prototype.g=function(){return new XMLHttpRequest},M=new $;function H(d){return encodeURIComponent(String(d))}function ne(d){var g=1;d=d.split(":");const b=[];for(;g>0&&d.length;)b.push(d.shift()),g--;return d.length&&b.push(d.join(":")),b}function q(d,g,b,j){this.j=d,this.i=g,this.l=b,this.S=j||1,this.V=new De(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new K}function K(){this.i=null,this.g="",this.h=!1}var ie={},le={};function Z(d,g,b){d.M=1,d.A=hd(Zn(g)),d.u=b,d.R=!0,fe(d,null)}function fe(d,g){d.F=Date.now(),we(d),d.B=Zn(d.A);var b=d.B,j=d.S;Array.isArray(j)||(j=[String(j)]),Y1(b.i,"t",j),d.C=0,b=d.j.L,d.h=new K,d.g=hw(d.j,b?g:null,!d.u),d.P>0&&(d.O=new Ee(c(d.Y,d,d.g),d.P)),g=d.V,b=d.g,j=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(wn[0]=z.toString()),z=wn);for(let W=0;W<z.length;W++){const ae=Gt(b,z[W],j||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=d.J?X(d.J):{},d.u?(d.v||(d.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,g)):(d.v="GET",d.g.ea(d.B,d.v,null,g)),jr(),Ji(d.i,d.v,d.B,d.l,d.S,d.u)}q.prototype.ba=function(d){d=d.target;const g=this.O;g&&ei(d)==3?g.j():this.Y(d)},q.prototype.Y=function(d){try{if(d==this.g)e:{const je=ei(this.g),Qt=this.g.ya(),Ze=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||nw(this.g)))){this.K||je!=4||Qt==7||(Qt==8||Ze<=0?jr(3):jr(2)),Bt(this);var g=this.g.ca();this.X=g;var b=Se(this);if(this.o=g==200,vs(this.i,this.v,this.B,this.l,this.S,je,g),this.o){if(this.U&&!this.L){t:{if(this.g){var j,z=this.g;if((j=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(j)){var W=j;break t}}W=null}if(d=W)Bn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Te(this,d);else{this.o=!1,this.m=3,_t(12),qe(this),Xe(this);break e}}if(this.R){d=!0;let nn;for(;!this.K&&this.C<b.length;)if(nn=ce(this,b),nn==le){je==4&&(this.m=4,_t(14),d=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==ie){this.m=4,_t(15),Bn(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else Bn(this.i,this.l,nn,null),Te(this,nn);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||b.length!=0||this.h.h||(this.m=1,_t(16),d=!1),this.o=this.o&&d,!d)Bn(this.i,this.l,b,"[Invalid Chunked Response]"),qe(this),Xe(this);else if(b.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Bm(ae),ae.P=!0,_t(11))}}else Bn(this.i,this.l,b,null),Te(this,b);je==4&&qe(this),this.o&&!this.K&&(je==4?cw(this.j,this):(this.o=!1,we(this)))}else DR(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),qe(this),Xe(this)}}}catch{}finally{}};function Se(d){if(!Ge(d))return d.g.la();const g=nw(d.g);if(g==="")return"";let b="";const j=g.length,z=ei(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return qe(d),Xe(d),"";d.h.i=new o.TextDecoder}for(let W=0;W<j;W++)d.h.h=!0,b+=d.h.i.decode(g[W],{stream:!(z&&W==j-1)});return g.length=0,d.h.g+=b,d.C=0,d.h.g}function Ge(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function ce(d,g){var b=d.C,j=g.indexOf(`
`,b);return j==-1?le:(b=Number(g.substring(b,j)),isNaN(b)?ie:(j+=1,j+b>g.length?le:(g=g.slice(j,j+b),d.C=j+b,g)))}q.prototype.cancel=function(){this.K=!0,qe(this)};function we(d){d.T=Date.now()+d.H,Me(d,d.H)}function Me(d,g){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Rr(c(d.aa,d),g)}function Bt(d){d.D&&(o.clearTimeout(d.D),d.D=null)}q.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Qo(this.i,this.B),this.M!=2&&(jr(),_t(17)),qe(this),this.m=2,Xe(this)):Me(this,this.T-d)};function Xe(d){d.j.I==0||d.K||cw(d.j,d)}function qe(d){Bt(d);var g=d.O;g&&typeof g.dispose=="function"&&g.dispose(),d.O=null,Rt(d.V),d.g&&(g=d.g,d.g=null,g.abort(),g.dispose())}function Te(d,g){try{var b=d.j;if(b.I!=0&&(b.g==d||it(b.h,d))){if(!d.L&&it(b.h,d)&&b.I==3){try{var j=b.Ba.g.parse(g)}catch{j=null}if(Array.isArray(j)&&j.length==3){var z=j;if(z[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)vd(b),gd(b);else break e;$m(b),_t(18)}}else b.xa=z[1],0<b.xa-b.K&&z[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Rr(c(b.Va,b),6e3));Ce(b.h)<=1&&b.ta&&(b.ta=void 0)}else to(b,11)}else if((d.L||b.g==d)&&vd(b),!k(g))for(z=b.Ba.g.parse(g),g=0;g<z.length;g++){let Ze=z[g];const nn=Ze[0];if(!(nn<=b.K))if(b.K=nn,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const Jr=Ze[3];Jr!=null&&(b.ka=Jr,b.j.info("VER="+b.ka));const no=Ze[4];no!=null&&(b.za=no,b.j.info("SVER="+b.za));const ti=Ze[5];ti!=null&&typeof ti=="number"&&ti>0&&(j=1.5*ti,b.O=j,b.j.info("backChannelRequestTimeoutMs_="+j)),j=b;const ni=d.g;if(ni){const wd=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wd){var W=j.h;W.g||wd.indexOf("spdy")==-1&&wd.indexOf("quic")==-1&&wd.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ke(W,W.h),W.h=null))}if(j.G){const zm=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;zm&&(j.wa=zm,lt(j.J,j.G,zm))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),j=b;var ae=d;if(j.na=fw(j,j.L?j.ba:null,j.W),ae.L){Oe(j.h,ae);var je=ae,Qt=j.O;Qt&&(je.H=Qt),je.D&&(Bt(je),we(je)),j.g=ae}else aw(j);b.i.length>0&&yd(b)}else Ze[0]!="stop"&&Ze[0]!="close"||to(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?to(b,7):Fm(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}jr(4)}catch{}}var Re=class{constructor(d,g){this.g=d,this.map=g}};function Xt(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function st(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ce(d){return d.h?1:d.g?d.g.size:0}function it(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function ke(d,g){d.g?d.g.add(g):d.h=g}function Oe(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Xt.prototype.cancel=function(){if(this.i=zn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function zn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const b of d.g.values())g=g.concat(b.G);return g}return p(d.i)}var pr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(d,g){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const j=d[b].indexOf("=");let z,W=null;j>=0?(z=d[b].substring(0,j),W=d[b].substring(j+1)):z=d[b],g(z,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Pt(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;d instanceof Pt?(this.l=d.l,Zi(this,d.j),this.o=d.o,this.g=d.g,Ol(this,d.u),this.h=d.h,Vm(this,X1(d.i)),this.m=d.m):d&&(g=String(d).match(pr))?(this.l=!1,Zi(this,g[1]||"",!0),this.o=Fl(g[2]||""),this.g=Fl(g[3]||"",!0),Ol(this,g[4]),this.h=Fl(g[5]||"",!0),Vm(this,g[6]||"",!0),this.m=Fl(g[7]||"")):(this.l=!1,this.i=new Bl(null,this.l))}Pt.prototype.toString=function(){const d=[];var g=this.j;g&&d.push($l(g,W1,!0),":");var b=this.g;return(b||g=="file")&&(d.push("//"),(g=this.o)&&d.push($l(g,W1,!0),"@"),d.push(H(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push($l(b,b.charAt(0)=="/"?_R:TR,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",$l(b,AR)),d.join("")},Pt.prototype.resolve=function(d){const g=Zn(this);let b=!!d.j;b?Zi(g,d.j):b=!!d.o,b?g.o=d.o:b=!!d.g,b?g.g=d.g:b=d.u!=null;var j=d.h;if(b)Ol(g,d.u);else if(b=!!d.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var z=g.h.lastIndexOf("/");z!=-1&&(j=g.h.slice(0,z+1)+j)}if(z=j,z==".."||z==".")j="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){j=z.lastIndexOf("/",0)==0,z=z.split("/");const W=[];for(let ae=0;ae<z.length;){const je=z[ae++];je=="."?j&&ae==z.length&&W.push(""):je==".."?((W.length>1||W.length==1&&W[0]!="")&&W.pop(),j&&ae==z.length&&W.push("")):(W.push(je),j=!0)}j=W.join("/")}else j=z}return b?g.h=j:b=d.i.toString()!=="",b?Vm(g,X1(d.i)):b=!!d.m,b&&(g.m=d.m),g};function Zn(d){return new Pt(d)}function Zi(d,g,b){d.j=b?Fl(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Ol(d,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);d.u=g}else d.u=null}function Vm(d,g,b){g instanceof Bl?(d.i=g,CR(d.i,d.l)):(b||(g=$l(g,PR)),d.i=new Bl(g,d.l))}function lt(d,g,b){d.i.set(g,b)}function hd(d){return lt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Fl(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $l(d,g,b){return typeof d=="string"?(d=encodeURI(d).replace(g,ER),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ER(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var W1=/[#\/\?@]/g,TR=/[#\?:]/g,_R=/[#\?]/g,PR=/[#\?@]/g,AR=/#/g;function Bl(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function eo(d){d.g||(d.g=new Map,d.h=0,d.i&&at(d.i,function(g,b){d.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}t=Bl.prototype,t.add=function(d,g){eo(this),this.i=null,d=Zo(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(g),this.h+=1,this};function K1(d,g){eo(d),g=Zo(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function q1(d,g){return eo(d),g=Zo(d,g),d.g.has(g)}t.forEach=function(d,g){eo(this),this.g.forEach(function(b,j){b.forEach(function(z){d.call(g,z,j,this)},this)},this)};function G1(d,g){eo(d);let b=[];if(typeof g=="string")q1(d,g)&&(b=b.concat(d.g.get(Zo(d,g))));else for(d=Array.from(d.g.values()),g=0;g<d.length;g++)b=b.concat(d[g]);return b}t.set=function(d,g){return eo(this),this.i=null,d=Zo(this,d),q1(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=G1(this,d),d.length>0?String(d[0]):g):g};function Y1(d,g,b){K1(d,g),b.length>0&&(d.i=null,d.g.set(Zo(d,g),p(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(let j=0;j<g.length;j++){var b=g[j];const z=H(b);b=G1(this,b);for(let W=0;W<b.length;W++){let ae=z;b[W]!==""&&(ae+="="+H(b[W])),d.push(ae)}}return this.i=d.join("&")};function X1(d){const g=new Bl;return g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),g}function Zo(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function CR(d,g){g&&!d.j&&(eo(d),d.i=null,d.g.forEach(function(b,j){const z=j.toLowerCase();j!=z&&(K1(this,j),Y1(this,z,b))},d)),d.j=g}function IR(d,g){const b=new Qr;if(o.Image){const j=new Image;j.onload=u(Zs,b,"TestLoadImage: loaded",!0,g,j),j.onerror=u(Zs,b,"TestLoadImage: error",!1,g,j),j.onabort=u(Zs,b,"TestLoadImage: abort",!1,g,j),j.ontimeout=u(Zs,b,"TestLoadImage: timeout",!1,g,j),o.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else g(!1)}function kR(d,g){const b=new Qr,j=new AbortController,z=setTimeout(()=>{j.abort(),Zs(b,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:j.signal}).then(W=>{clearTimeout(z),W.ok?Zs(b,"TestPingServer: ok",!0,g):Zs(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Zs(b,"TestPingServer: error",!1,g)})}function Zs(d,g,b,j,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),j(b)}catch{}}function NR(){this.g=new Xr}function Lm(d){this.i=d.Sb||null,this.h=d.ab||!1}h(Lm,mr),Lm.prototype.g=function(){return new md(this.i,this.h)};function md(d,g){nt.call(this),this.H=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(md,nt),t=md.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=g,this.readyState=1,Ul(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(g.body=d),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ul(this)),this.g&&(this.readyState=3,Ul(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Q1(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Q1(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?zl(this):Ul(this),this.readyState==3&&Q1(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,zl(this))},t.Na=function(d){this.g&&(this.response=d,zl(this))},t.ga=function(){this.g&&zl(this)};function zl(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ul(d)}t.setRequestHeader=function(d,g){this.A.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=g.next();return d.join(`\r
`)};function Ul(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function J1(d){let g="";return B(d,function(b,j){g+=j,g+=":",g+=b,g+=`\r
`}),g}function Om(d,g,b){e:{for(j in b){var j=!1;break e}j=!0}j||(b=J1(b),typeof d=="string"?b!=null&&H(b):lt(d,g,b))}function At(d){nt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(At,nt);var jR=/^https?$/i,RR=["POST","PUT"];t=At.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,g,b,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():M.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(W){Z1(this,W);return}if(d=b||"",b=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var z in j)b.set(z,j[z]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const W of j.keys())b.set(W,j.get(W));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(b.keys()).find(W=>W.toLowerCase()=="content-type"),z=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call(RR,g,void 0)>=0)||j||z||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ae]of b)this.g.setRequestHeader(W,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(W){Z1(this,W)}};function Z1(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.o=5,ew(d),pd(d)}function ew(d){d.A||(d.A=!0,rt(d,"complete"),rt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,rt(this,"complete"),rt(this,"abort"),pd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pd(this,!0)),At.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tw(this):this.Xa())},t.Xa=function(){tw(this)};function tw(d){if(d.h&&typeof i<"u"){if(d.v&&ei(d)==4)setTimeout(d.Ca.bind(d),0);else if(rt(d,"readystatechange"),ei(d)==4){d.h=!1;try{const W=d.ca();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var j;if(j=W===0){let ae=String(d.D).match(pr)[1]||null;!ae&&o.self&&o.self.location&&(ae=o.self.location.protocol.slice(0,-1)),j=!jR.test(ae?ae.toLowerCase():"")}b=j}if(b)rt(d,"complete"),rt(d,"success");else{d.o=6;try{var z=ei(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",ew(d)}}finally{pd(d)}}}}function pd(d,g){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,g||rt(d,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(d){return d.g?d.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Dt(g)}};function nw(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function DR(d){const g={};d=(d.g&&ei(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(k(d[j]))continue;var b=ne(d[j]);const z=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const W=g[z]||[];g[z]=W,W.push(b)}G(g,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hl(d,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||g}function rw(d){this.za=0,this.i=[],this.j=new Qr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hl("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hl("baseRetryDelayMs",5e3,d),this.Za=Hl("retryDelaySeedMs",1e4,d),this.Ta=Hl("forwardChannelMaxRetries",2,d),this.va=Hl("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Xt(d&&d.concurrentRequestLimit),this.Ba=new NR,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rw.prototype,t.ka=8,t.I=1,t.connect=function(d,g,b,j){_t(0),this.W=d,this.H=g||{},b&&j!==void 0&&(this.H.OSID=b,this.H.OAID=j),this.F=this.X,this.J=fw(this,null,this.W),yd(this)};function Fm(d){if(sw(d),d.I==3){var g=d.V++,b=Zn(d.J);if(lt(b,"SID",d.M),lt(b,"RID",g),lt(b,"TYPE","terminate"),Wl(d,b),g=new q(d,d.j,g),g.M=2,g.A=hd(Zn(b)),b=!1,o.navigator&&o.navigator.sendBeacon)try{b=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&o.Image&&(new Image().src=g.A,b=!0),b||(g.g=hw(g.j,null),g.g.ea(g.A)),g.F=Date.now(),we(g)}dw(d)}function gd(d){d.g&&(Bm(d),d.g.cancel(),d.g=null)}function sw(d){gd(d),d.v&&(o.clearTimeout(d.v),d.v=null),vd(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function yd(d){if(!st(d.h)&&!d.m){d.m=!0;var g=d.Ea;C||w(),L||(C(),L=!0),x.add(g,d),d.D=0}}function MR(d,g){return Ce(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=g.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Rr(c(d.Ea,d,g),uw(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new q(this,this.j,d);let W=this.o;if(this.U&&(W?(W=X(W),ve(W,this.U)):W=this.U),this.u!==null||this.R||(z.J=W,W=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var j=this.i[b];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(g+=j,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=ow(this,z,g),b=Zn(this.J),lt(b,"RID",d),lt(b,"CVER",22),this.G&&lt(b,"X-HTTP-Session-Id",this.G),Wl(this,b),W&&(this.R?g="headers="+H(J1(W))+"&"+g:this.u&&Om(b,this.u,W)),ke(this.h,z),this.Ra&&lt(b,"TYPE","init"),this.S?(lt(b,"$req",g),lt(b,"SID","null"),z.U=!0,Z(z,b,null)):Z(z,b,g),this.I=2}}else this.I==3&&(d?iw(this,d):this.i.length==0||st(this.h)||iw(this))};function iw(d,g){var b;g?b=g.l:b=d.V++;const j=Zn(d.J);lt(j,"SID",d.M),lt(j,"RID",b),lt(j,"AID",d.K),Wl(d,j),d.u&&d.o&&Om(j,d.u,d.o),b=new q(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),g&&(d.i=g.G.concat(d.i)),g=ow(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ke(d.h,b),Z(b,j,g)}function Wl(d,g){d.H&&B(d.H,function(b,j){lt(g,j,b)}),d.l&&B({},function(b,j){lt(g,j,b)})}function ow(d,g,b){b=Math.min(d.i.length,b);const j=d.l?c(d.l.Ka,d.l,d):null;e:{var z=d.i;let je=-1;for(;;){const Qt=["count="+b];je==-1?b>0?(je=z[0].g,Qt.push("ofs="+je)):je=0:Qt.push("ofs="+je);let Ze=!0;for(let nn=0;nn<b;nn++){var W=z[nn].g;const Jr=z[nn].map;if(W-=je,W<0)je=Math.max(0,z[nn].g-100),Ze=!1;else try{W="req"+W+"_"||"";try{var ae=Jr instanceof Map?Jr:Object.entries(Jr);for(const[no,ti]of ae){let ni=ti;a(ti)&&(ni=Yt(ti)),Qt.push(W+no+"="+encodeURIComponent(ni))}}catch(no){throw Qt.push(W+"type="+encodeURIComponent("_badmap")),no}}catch{j&&j(Jr)}}if(Ze){ae=Qt.join("&");break e}}ae=void 0}return d=d.i.splice(0,b),g.G=d,ae}function aw(d){if(!d.g&&!d.v){d.Y=1;var g=d.Da;C||w(),L||(C(),L=!0),x.add(g,d),d.A=0}}function $m(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Rr(c(d.Da,d),uw(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,lw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Rr(c(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),gd(this),lw(this))};function Bm(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function lw(d){d.g=new q(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var g=Zn(d.na);lt(g,"RID","rpc"),lt(g,"SID",d.M),lt(g,"AID",d.K),lt(g,"CI",d.F?"0":"1"),!d.F&&d.ia&&lt(g,"TO",d.ia),lt(g,"TYPE","xmlhttp"),Wl(d,g),d.u&&d.o&&Om(g,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=hd(Zn(g)),b.u=null,b.R=!0,fe(b,d)}t.Va=function(){this.C!=null&&(this.C=null,gd(this),$m(this),_t(19))};function vd(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function cw(d,g){var b=null;if(d.g==g){vd(d),Bm(d),d.g=null;var j=2}else if(it(d.h,g))b=g.G,Oe(d.h,g),j=1;else return;if(d.I!=0){if(g.o)if(j==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var z=d.D;j=kr(),rt(j,new Qi(j,b)),yd(d)}else aw(d);else if(z=g.m,z==3||z==0&&g.X>0||!(j==1&&MR(d,g)||j==2&&$m(d)))switch(b&&b.length>0&&(g=d.h,g.i=g.i.concat(b)),z){case 1:to(d,5);break;case 4:to(d,10);break;case 3:to(d,6);break;default:to(d,2)}}}function uw(d,g){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*g}function to(d,g){if(d.j.info("Error code "+g),g==2){var b=c(d.bb,d),j=d.Ua;const z=!j;j=new Pt(j||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Zi(j,"https"),hd(j),z?IR(j.toString(),b):kR(j.toString(),b)}else _t(2);d.I=0,d.l&&d.l.pa(g),dw(d),sw(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function dw(d){if(d.I=0,d.ja=[],d.l){const g=zn(d.h);(g.length!=0||d.i.length!=0)&&(S(d.ja,g),S(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function fw(d,g,b){var j=b instanceof Pt?Zn(b):new Pt(b);if(j.g!="")g&&(j.g=g+"."+j.g),Ol(j,j.u);else{var z=o.location;j=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const W=new Pt(null);j&&Zi(W,j),g&&(W.g=g),z&&Ol(W,z),b&&(W.h=b),j=W}return b=d.G,g=d.wa,b&&g&&lt(j,b,g),lt(j,"VER",d.ka),Wl(d,j),j}function hw(d,g,b){if(g&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Aa&&!d.ma?new At(new Lm({ab:b})):new At(d.ma),g.Fa(d.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mw(){}t=mw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xd(){}xd.prototype.g=function(d,g){return new er(d,g)};function er(d,g){nt.call(this),this.g=new rw(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(d?d["X-WebChannel-Client-Profile"]=g.sa:d={"X-WebChannel-Client-Profile":g.sa}),this.g.U=d,(d=g&&g.Qb)&&!k(d)&&(this.g.u=d),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!k(g)&&(this.g.G=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ea(this)}h(er,nt),er.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},er.prototype.close=function(){Fm(this.g)},er.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=Yt(d),d=b);g.i.push(new Re(g.Ya++,d)),g.I==3&&yd(g)},er.prototype.N=function(){this.g.l=null,delete this.j,Fm(this.g),delete this.g,er.Z.N.call(this)};function pw(d){Fn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const b in g){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}h(pw,Fn);function gw(){$n.call(this),this.status=1}h(gw,$n);function ea(d){this.g=d}h(ea,mw),ea.prototype.ra=function(){rt(this.g,"a")},ea.prototype.qa=function(d){rt(this.g,new pw(d))},ea.prototype.pa=function(d){rt(this.g,new gw)},ea.prototype.oa=function(){rt(this.g,"b")},xd.prototype.createWebChannel=xd.prototype.g,er.prototype.send=er.prototype.o,er.prototype.open=er.prototype.m,er.prototype.close=er.prototype.close,yj=function(){return new xd},gj=function(){return kr()},pj=bn,y0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},O.NO_ERROR=0,O.TIMEOUT=8,O.HTTP_ERROR=6,jf=O,I.COMPLETE="complete",mj=I,Jn.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",nt.prototype.listen=nt.prototype.J,yc=Jn,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,hj=At}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const $T="@firebase/firestore",BT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new oj("@firebase/firestore");function la(){return zo.logLevel}function ue(t,...e){if(zo.logLevel<=Ue.DEBUG){const n=e.map(b1);zo.debug(`Firestore (${Ml}): ${t}`,...n)}}function Ys(t,...e){if(zo.logLevel<=Ue.ERROR){const n=e.map(b1);zo.error(`Firestore (${Ml}): ${t}`,...n)}}function Uo(t,...e){if(zo.logLevel<=Ue.WARN){const n=e.map(b1);zo.warn(`Firestore (${Ml}): ${t}`,...n)}}function b1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vj(t,r,n)}function vj(t,e,n){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ys(r),new Error(r)}function Et(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||vj(e,s,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Dl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pn.UNAUTHENTICATED))}shutdown(){}}class dG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fG{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new No;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new No,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new No)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et(typeof r.accessToken=="string",31837,{l:r}),new xj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class hG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new hG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qq(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const r=i=>{i.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gG(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function v0(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return ag(s)===ag(i)?Fe(s,i):ag(s)?1:-1}return Fe(t.length,e.length)}const yG=55296,vG=57343;function ag(t){const e=t.charCodeAt(0);return e>=yG&&e<=vG}function gl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="__name__";class ns{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ns.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ns.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const r=ns.isNumericId(e),s=ns.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ns.extractNumericId(e).compare(ns.extractNumericId(n)):v0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ii.fromString(e.substring(4,e.length-2))}}class wt extends ns{construct(e,n,r){return new wt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const xG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends ns{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return xG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UT}static keyField(){return new In([UT])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new he(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new he(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(wt.fromString(e))}static fromName(e){return new ge(wt.fromString(e).popFirst(5))}static empty(){return new ge(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t,e,n){if(!n)throw new he(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bj(t,e,n,r){if(e===!0&&r===!0)throw new he(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HT(t){if(!ge.isDocumentKey(t))throw new he(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bG(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function SG(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Rh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=SG(t);throw new he(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ld(t,e){if(!bG(t))throw new he(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new he(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,KT=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*KT);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WT)throw new he(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KT}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ld(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:qt("string",Ot._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ot(0,0))}static max(){return new Pe(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=-1;function EG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Fi(s,ge.empty(),e)}function TG(t){return new Fi(t.readTime,t.key,Fu)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(Pe.min(),ge.empty(),Fu)}static max(){return new Fi(Pe.max(),ge.empty(),Fu)}}function _G(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tm(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==PG)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(s=>s?Y.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Y((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function CG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_m.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=-1;function Pm(t){return t==null}function x0(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="";function kG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qT(e)),e=NG(t.get(n),e);return qT(e)}function NG(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Sj:n+="";break;default:n+=i}}return n}function qT(t){return t+Sj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??mn.RED,this.left=s??mn.EMPTY,this.right=i??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new mn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return mn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YT(this.data.getIterator())}getIteratorFrom(e){return new YT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class YT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new yi([])}unionWith(e){let n=new tn(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Ej("Invalid base64 string: "+i):i}}(e);return new un(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const RG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=RG.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="server_timestamp",_j="__type__",Pj="__previous_value__",Aj="__local_write_time__";function S1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_j])==null?void 0:r.stringValue)===Tj}function Am(t){const e=t.mapValue.fields[Pj];return S1(e)?Am(e):e}function $u(t){const e=$i(t.mapValue.fields[Aj].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(e,n,r,s,i,o,a,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const Dh="(default)";class yl{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MG="__type__",VG="__max__",rf={mapValue:{}},LG="__vector__",w0="value";function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S1(t)?4:FG(t)?9007199254740991:OG(t)?10:11:Ae(28295,{value:t})}function fs(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=$i(s.timestampValue),a=$i(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Bi(s.bytesValue).isEqual(Bi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vt(s.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vt(s.integerValue)===Vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vt(s.doubleValue),a=Vt(i.doubleValue);return o===a?x0(o)===x0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(GT(o)!==GT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fs(o[l],a[l])))return!1;return!0}(t,e);default:return Ae(52216,{left:t})}}function Bu(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function vl(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Vt(i.integerValue||i.doubleValue),l=Vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return XT(t.timestampValue,e.timestampValue);case 4:return XT($u(t),$u(e));case 5:return v0(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Bi(i),l=Bi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Fe(a[c],l[c]);if(u!==0)return u}return Fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Fe(Vt(i.latitude),Vt(o.latitude));return a!==0?a:Fe(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return QT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,S,E;const a=i.fields||{},l=o.fields||{},c=(m=a[w0])==null?void 0:m.arrayValue,u=(p=l[w0])==null?void 0:p.arrayValue,h=Fe(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((E=u==null?void 0:u.values)==null?void 0:E.length)||0);return h!==0?h:QT(c,u)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===rf.mapValue&&o===rf.mapValue)return 0;if(i===rf.mapValue)return 1;if(o===rf.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const m=v0(l[h],u[h]);if(m!==0)return m;const p=vl(a[l[h]],c[u[h]]);if(p!==0)return p}return Fe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function XT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=$i(t),r=$i(e),s=Fe(n.seconds,r.seconds);return s!==0?s:Fe(n.nanos,r.nanos)}function QT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=vl(n[s],r[s]);if(i)return i}return Fe(n.length,r.length)}function xl(t){return b0(t)}function b0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=b0(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${b0(n.fields[o])}`;return s+"}"}(t.mapValue):Ae(61005,{value:t})}function Rf(t){switch(zi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Am(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return Bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Rf(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return cd(r.fields,(i,o)=>{s+=i.length+Rf(o)}),s}(t.mapValue);default:throw Ae(13486,{value:t})}}function S0(t){return!!t&&"integerValue"in t}function E1(t){return!!t&&"arrayValue"in t}function JT(t){return!!t&&"nullValue"in t}function ZT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lg(t){return!!t&&"mapValue"in t}function OG(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MG])==null?void 0:r.stringValue)===LG}function Kc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return{...t}}function FG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!lg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=In.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Kc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());lg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];lg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){cd(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ss(Kc(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Cn(e,0,Pe.min(),Pe.min(),Pe.min(),ss.empty(),0)}static newFoundDocument(e,n,r,s){return new Cn(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new Cn(e,2,n,Pe.min(),Pe.min(),ss.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Pe.min(),Pe.min(),ss.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function e_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ge.comparator(ge.fromName(o.referenceValue),n.key):r=vl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function $G(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{}class Zt extends Cj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zG(e,n,r):n==="array-contains"?new WG(e,r):n==="in"?new KG(e,r):n==="not-in"?new qG(e,r):n==="array-contains-any"?new GG(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UG(e,r):new HG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hs extends Cj{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hs(e,n)}matches(e){return Ij(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ij(t){return t.op==="and"}function kj(t){return BG(t)&&Ij(t)}function BG(t){for(const e of t.filters)if(e instanceof hs)return!1;return!0}function E0(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+xl(t.value);if(kj(t))return t.filters.map(e=>E0(e)).join(",");{const e=t.filters.map(n=>E0(n)).join(",");return`${t.op}(${e})`}}function Nj(t,e){return t instanceof Zt?function(r,s){return s instanceof Zt&&r.op===s.op&&r.field.isEqual(s.field)&&fs(r.value,s.value)}(t,e):t instanceof hs?function(r,s){return s instanceof hs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Nj(o,s.filters[a]),!0):!1}(t,e):void Ae(19439)}function jj(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${xl(n.value)}`}(t):t instanceof hs?function(n){return n.op.toString()+" {"+n.getFilters().map(jj).join(" ,")+"}"}(t):"Filter"}class zG extends Zt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class UG extends Zt{constructor(e,n){super(e,"in",n),this.keys=Rj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HG extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=Rj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class WG extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return E1(n)&&Bu(n.arrayValue,this.value)}}class KG extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bu(this.value.arrayValue,n)}}class qG extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bu(this.value.arrayValue,n)}}class GG extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!E1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function n_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new YG(t,e,n,r,s,i,o)}function T1(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>E0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xl(r)).join(",")),e.Te=n}return e.Te}function _1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$G(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t_(t.startAt,e.startAt)&&t_(t.endAt,e.endAt)}function T0(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XG(t,e,n,r,s,i,o,a){return new Cm(t,e,n,r,s,i,o,a)}function P1(t){return new Cm(t)}function r_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QG(t){return t.collectionGroup!==null}function qc(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(In.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Vh(i,r))}),n.has(In.keyField().canonicalString())||e.Ie.push(new Vh(In.keyField(),r))}return e.Ie}function ds(t){const e=He(t);return e.Ee||(e.Ee=JG(e,qc(t))),e.Ee}function JG(t,e){if(t.limitType==="F")return n_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Vh(s.field,i)});const n=t.endAt?new Mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mh(t.startAt.position,t.startAt.inclusive):null;return n_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _0(t,e,n){return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Im(t,e){return _1(ds(t),ds(e))&&t.limitType===e.limitType}function Dj(t){return`${T1(ds(t))}|lt:${t.limitType}`}function ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jj(s)).join(", ")}]`),Pm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>xl(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>xl(s)).join(",")),`Target(${r})`}(ds(t))}; limitType=${t.limitType})`}function km(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ge.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of qc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=e_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,qc(r),s)||r.endAt&&!function(o,a,l){const c=e_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,qc(r),s))}(t,e)}function ZG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mj(t){return(e,n)=>{let r=!1;for(const s of qc(t)){const i=eY(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function eY(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?vl(l,c):Ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){cd(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return jG(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY=new Ft(ge.comparator);function Ui(){return tY}const Vj=new Ft(ge.comparator);function vc(...t){let e=Vj;for(const n of t)e=e.insert(n.key,n);return e}function nY(t){let e=Vj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function To(){return Gc()}function Lj(){return Gc()}function Gc(){return new Xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const rY=new tn(ge.comparator);function We(...t){let e=rY;for(const n of t)e=e.add(n);return e}const sY=new tn(Fe);function iY(){return sY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x0(e)?"-0":e}}function aY(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this._=void 0}}function lY(t,e,n){return t instanceof P0?function(s,i){const o={fields:{[_j]:{stringValue:Tj},[Aj]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&S1(i)&&(i=Am(i)),i&&(o.fields[Pj]=i),{mapValue:o}}(n,e):t instanceof Lh?Oj(t,e):t instanceof Oh?Fj(t,e):function(s,i){const o=uY(s,i),a=s_(o)+s_(s.Ae);return S0(o)&&S0(s.Ae)?aY(a):oY(s.serializer,a)}(t,e)}function cY(t,e,n){return t instanceof Lh?Oj(t,e):t instanceof Oh?Fj(t,e):n}function uY(t,e){return t instanceof A0?function(r){return S0(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class P0 extends Nm{}class Lh extends Nm{constructor(e){super(),this.elements=e}}function Oj(t,e){const n=$j(e);for(const r of t.elements)n.some(s=>fs(s,r))||n.push(r);return{arrayValue:{values:n}}}class Oh extends Nm{constructor(e){super(),this.elements=e}}function Fj(t,e){let n=$j(e);for(const r of t.elements)n=n.filter(s=>!fs(s,r));return{arrayValue:{values:n}}}class A0 extends Nm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s_(t){return Vt(t.integerValue||t.doubleValue)}function $j(t){return E1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dY(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lh&&s instanceof Lh||r instanceof Oh&&s instanceof Oh?gl(r.elements,s.elements,fs):r instanceof A0&&s instanceof A0?fs(r.Ae,s.Ae):r instanceof P0&&s instanceof P0}(t.transform,e.transform)}class jo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jo}static exists(e){return new jo(void 0,e)}static updateTime(e){return new jo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class A1{}function Bj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hY(t.key,jo.none()):new C1(t.key,t.data,jo.none());{const n=t.data,r=ss.empty();let s=new tn(In.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new jm(t.key,r,new yi(s.toArray()),jo.none())}}function fY(t,e,n){t instanceof C1?function(s,i,o){const a=s.value.clone(),l=o_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof jm?function(s,i,o){if(!Df(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=o_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zj(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yc(t,e,n,r){return t instanceof C1?function(i,o,a,l){if(!Df(i.precondition,o))return a;const c=i.value.clone(),u=a_(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof jm?function(i,o,a,l){if(!Df(i.precondition,o))return a;const c=a_(i.fieldTransforms,l,o),u=o.data;return u.setAll(zj(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Df(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function i_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gl(r,s,(i,o)=>dY(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class C1 extends A1{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class jm extends A1{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function o_(t,e,n){const r=new Map;Et(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,cY(o,a,n[s]))}return r}function a_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,lY(i,o,e))}return r}class hY extends A1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fY(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Lj();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Bj(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,r)=>i_(n,r))&&gl(this.baseMutations,e.baseMutations,(n,r)=>i_(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,Be;function Uj(t){if(t===void 0)return Ys("GRPC error has no .code"),oe.UNKNOWN;switch(t){case zt.OK:return oe.OK;case zt.CANCELLED:return oe.CANCELLED;case zt.UNKNOWN:return oe.UNKNOWN;case zt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case zt.INTERNAL:return oe.INTERNAL;case zt.UNAVAILABLE:return oe.UNAVAILABLE;case zt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case zt.NOT_FOUND:return oe.NOT_FOUND;case zt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case zt.ABORTED:return oe.ABORTED;case zt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case zt.DATA_LOSS:return oe.DATA_LOSS;default:return Ae(39323,{code:t})}}(Be=zt||(zt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY=new Ii([4294967295,4294967295],0);function l_(t){const e=yY().encode(t),n=new fj;return n.update(e),new Uint8Array(n.digest())}function c_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ii([n,r],0),new Ii([s,i],0)]}class I1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(r<0)throw new xc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ii.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ii.fromNumber(r)));return s.compare(vY)===1&&(s=new Ii([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l_(e),[r,s]=c_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new I1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=l_(e),[r,s]=c_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rm(Pe.min(),s,new Ft(Fe),Ui(),We())}}class ud{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ud(r,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Hj{constructor(e,n){this.targetId=e,this.Ce=n}}class Wj{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class u_{constructor(){this.ve=0,this.Fe=d_(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),n=We(),r=We();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:i})}}),new ud(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=d_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xY{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=sf(),this.He=sf(),this.Ye=new Ft(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(T0(i))if(r===0){const o=new ge(i.path);this.et(n,o,Cn.newNoDocument(o,Pe.min()))}else Et(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Bi(r).toUint8Array()}catch(l){if(l instanceof Ej)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new I1(o,s,i)}catch(l){return Uo(l instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&T0(a.target)){const l=new ge(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Cn.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=We();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Rm(e,n,this.Ye,this.je,r);return this.je=Ui(),this.Je=sf(),this.He=sf(),this.Ye=new Ft(Fe),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new u_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tn(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tn(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sf(){return new Ft(ge.comparator)}function d_(){return new Ft(ge.comparator)}const wY={asc:"ASCENDING",desc:"DESCENDING"},bY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SY={and:"AND",or:"OR"};class EY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function C0(t,e){return t.useProto3Json||Pm(e)?e:{value:e}}function TY(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _Y(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qa(t){return Et(!!t,49232),Pe.fromTimestamp(function(n){const r=$i(n);return new Ot(r.seconds,r.nanos)}(t))}function PY(t,e){return I0(t,e).canonicalString()}function I0(t,e){const n=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Kj(t){const e=wt.fromString(t);return Et(Qj(e),10190,{key:e.toString()}),e}function cg(t,e){const n=Kj(e);if(n.get(1)!==t.databaseId.projectId)throw new he(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(Gj(n))}function qj(t,e){return PY(t.databaseId,e)}function AY(t){const e=Kj(t);return e.length===4?wt.emptyPath():Gj(e)}function f_(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gj(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function CY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ae(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Et(u===void 0||typeof u=="string",58123),un.fromBase64String(u||"")):(Et(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),un.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?oe.UNKNOWN:Uj(c.code);return new he(u,c.message||"")}(o);n=new Wj(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cg(t,r.document.name),i=Qa(r.document.updateTime),o=r.document.createTime?Qa(r.document.createTime):Pe.min(),a=new ss({mapValue:{fields:r.document.fields}}),l=Cn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Mf(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cg(t,r.document),i=r.readTime?Qa(r.readTime):Pe.min(),o=Cn.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Mf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cg(t,r.document),i=r.removedTargetIds||[];n=new Mf([],i,s,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gY(s,i),a=r.targetId;n=new Hj(a,o)}}return n}function IY(t,e){return{documents:[qj(t,e.path)]}}function kY(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qj(t,s);const i=function(c){if(c.length!==0)return Xj(hs.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(m){return{field:ua(m.field),direction:RY(m.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=C0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function NY(t){let e=AY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Et(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const m=Yj(h);return m instanceof hs&&kj(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(S){return new Vh(da(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Pm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,p=h.values||[];return new Mh(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,p=h.values||[];return new Mh(p,m)}(n.endAt)),XG(e,s,o,i,a,"F",l,c)}function jY(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Yj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=da(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=da(n.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=da(n.unaryFilter.field);return Zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=da(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(da(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hs.create(n.compositeFilter.filters.map(r=>Yj(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(t):Ae(30097,{filter:t})}function RY(t){return wY[t]}function DY(t){return bY[t]}function MY(t){return SY[t]}function ua(t){return{fieldPath:t.canonicalString()}}function da(t){return In.fromServerFormat(t.fieldPath)}function Xj(t){return t instanceof Zt?function(n){if(n.op==="=="){if(ZT(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(JT(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZT(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(JT(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:DY(n.op),value:n.value}}}(t):t instanceof hs?function(n){const r=n.getFilters().map(s=>Xj(s));return r.length===1?r[0]:{compositeFilter:{op:MY(n.op),filters:r}}}(t):Ae(54877,{filter:t})}function Qj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e){this.yt=e}}function LY(t){const e=NY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(){this.Cn=new FY}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(Fi.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class FY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tn(wt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jj=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(Jj,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wl(0)}static cr(){return new wl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="LruGarbageCollector",$Y=1048576;function p_([t,e],[n,r]){const s=Fe(t,n);return s===0?Fe(e,r):s}class BY{constructor(e){this.Ir=e,this.buffer=new tn(p_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(m_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?ue(m_,"Ignoring IndexedDB error during garbage collection: ",n):await Tm(n)}await this.Vr(3e5)})}}class UY{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(_m.ce);const r=new BY(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(h_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),la()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function HY(t,e){return new UY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Yc(r.mutation,s,yi.empty(),Ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,n,r=We()){const s=To();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=vc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=To();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,We()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ui();const o=Gc(),a=function(){return Gc()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof jm)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Yc(u.mutation,c,u.mutation.getFieldMask(),Ot.now())):o.set(c.key,yi.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>a.set(c,new KY(u,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Gc();let s=new Ft((o,a)=>o-a),i=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||yi.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||We()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Lj();u.forEach(m=>{if(!i.has(m)){const p=Bj(n.get(m),r.get(m));p!==null&&h.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ge.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QG(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Y.resolve(To());let a=Fu,l=i;return o.next(c=>Y.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?Y.resolve():this.remoteDocumentCache.getEntry(e,u).next(m=>{l=l.insert(u,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,We())).next(u=>({batchId:a,changes:nY(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let s=vc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=vc();return this.indexManager.getCollectionParents(e,i).next(a=>Y.forEach(a,l=>{const c=function(h,m){return new Cm(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Cn.newInvalidDocument(u)))});let a=vc();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Yc(u.mutation,c,yi.empty(),Ot.now()),km(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Qa(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:LY(s.bundledQuery),readTime:Qa(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(){this.overlays=new Ft(ge.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=To();return Y.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const s=To(),i=n.length+1,o=new ge(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ft((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=To(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=To(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return Y.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pY(n,r));let i=this.qr.get(n);i===void 0&&(i=We(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.Qr=new tn(rn.$r),this.Ur=new tn(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new rn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new rn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ge(new wt([])),r=new rn(n,e),s=new rn(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new wt([])),r=new rn(n,e),s=new rn(n,e+1);let i=We();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new rn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tn(rn.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mY(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new rn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?IG:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rn(n,0),s=new rn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Fe);return n.forEach(s=>{const i=new rn(s,0),o=new rn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ge.isDocumentKey(i)||(i=i.child(""));const o=new rn(new ge(i),0);let a=new tn(Fe);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),Y.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,s=>{const i=new rn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new rn(n,0),s=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.ri=e,this.docs=function(){return new Ft(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Ui();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Cn.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ui();const o=n.path,a=new ge(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_G(TG(u),r)<=0||(s.has(u.key)||km(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ae(9500)}ii(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZY(this)}getSize(e){return Y.resolve(this.size)}}class ZY extends WY{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.persistence=e,this.si=new Xo(n=>T1(n),_1),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new k1,this.targetCount=0,this.ai=wl.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Y.waitFor(i).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Y.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this.ui={},this.overlays={},this.ci=new _m(0),this.li=!1,this.li=!0,this.hi=new XY,this.referenceDelegate=e(this),this.Pi=new eX(this),this.indexManager=new OY,this.remoteDocumentCache=function(s){return new JY(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new VY(n),this.Ii=new GY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new QY(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new tX(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tX extends AG{constructor(e){super(),this.currentSequenceNumber=e}}class N1{constructor(e){this.persistence=e,this.Ri=new k1,this.Vi=null}static mi(e){return new N1(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const s=ge.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.pi=new Xo(r=>kG(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=HY(this,n)}static mi(e,n){return new Fh(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Y.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?Y.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,Pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Y.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=We(),s=We();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new j1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return UK()?8:CG(BK())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new nX;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(la()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(la()<=Ue.DEBUG&&ue("QueryEngine","Query:",ca(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(la()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):Y.resolve())}ys(e,n){if(r_(n))return Y.resolve(null);let r=ds(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=_0(n,null,"F"),r=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=We(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,_0(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return r_(n)||s.isEqual(Pe.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?Y.resolve(null):(la()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ca(n)),this.vs(e,o,n,EG(s,Fu)).next(a=>a))})}Ds(e,n){let r=new tn(Mj(e));return n.forEach((s,i)=>{km(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return la()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ca(n)),this.ps.getDocumentsMatchingQuery(e,n,Fi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="LocalStore",sX=3e8;class iX{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ft(Fe),this.xs=new Xo(i=>T1(i),_1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qY(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oX(t,e,n,r){return new iX(t,e,n,r)}async function eR(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=We();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function tR(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function aX(t,e){const n=He(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((u,h)=>{const m=s.get(h);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,u.addedDocuments,h)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(un.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(E,P,v){return E.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=sX?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,u)&&a.push(n.Pi.updateTargetData(i,p))});let l=Ui(),c=We();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(lX(i,o,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(Pe.min())){const u=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return Y.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function lX(t,e,n){let r=We(),s=We();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ui();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ue(R1,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function cX(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,Y.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function k0(t,e,n){const r=He(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vl(o))throw o;ue(R1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function g_(t,e,n){const r=He(t);let s=Pe.min(),i=We();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=He(l),m=h.xs.get(u);return m!==void 0?Y.resolve(h.Ms.get(m)):h.Pi.getTargetData(c,u)}(r,o,ds(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:We())).next(a=>(uX(r,ZG(e),a),{documents:a,Qs:i})))}function uX(t,e,n){let r=t.Os.get(e)||Pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class y_{constructor(){this.activeTargetIds=iY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dX{constructor(){this.Mo=new y_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(v_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function N0(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="RestConnection",hX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Dh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=N0(),a=this.zo(e,n.toUriEncodedString());ue(ug,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),u=x1(c);return this.Jo(e,a,l,r,u).then(h=>(ue(ug,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Uo(ug,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=hX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class gX extends mX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=N0();return new Promise((a,l)=>{const c=new hj;c.setWithCredentials(!0),c.listenOnce(mj.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case jf.NO_ERROR:const h=c.getResponseJson();ue(Tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case jf.TIMEOUT:ue(Tn,`RPC '${e}' ${o} timed out`),l(new he(oe.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const m=c.getStatus();if(ue(Tn,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const E=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(y)>=0?y:oe.UNKNOWN}(S.status);l(new he(E,S.message))}else l(new he(oe.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new he(oe.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ue(Tn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);ue(Tn,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",u,r,15)})}T_(e,n,r){const s=N0(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yj(),a=gj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ue(Tn,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);this.I_(h);let m=!1,p=!1;const S=new pX({Yo:P=>{p?ue(Tn,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(m||(ue(Tn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),ue(Tn,`RPC '${e}' stream ${s} sending:`,P),h.send(P))},Zo:()=>h.close()}),E=(P,v,y)=>{P.listen(v,T=>{try{y(T)}catch(R){setTimeout(()=>{throw R},0)}})};return E(h,yc.EventType.OPEN,()=>{p||(ue(Tn,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),E(h,yc.EventType.CLOSE,()=>{p||(p=!0,ue(Tn,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(h))}),E(h,yc.EventType.ERROR,P=>{p||(p=!0,Uo(Tn,`RPC '${e}' stream ${s} transport errored. Name:`,P.name,"Message:",P.message),S.a_(new he(oe.UNAVAILABLE,"The operation could not be completed")))}),E(h,yc.EventType.MESSAGE,P=>{var v;if(!p){const y=P.data[0];Et(!!y,16349);const T=y,R=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(R){ue(Tn,`RPC '${e}' stream ${s} received error:`,R);const C=R.status;let L=function(A){const N=zt[A];if(N!==void 0)return Uj(N)}(C),x=R.message;L===void 0&&(L=oe.INTERNAL,x="Unknown error status: "+C+" with message "+R.message),p=!0,S.a_(new he(L,x)),h.close()}else ue(Tn,`RPC '${e}' stream ${s} received:`,y),S.u_(y)}}),E(a,pj.STAT_EVENT,P=>{P.stat===y0.PROXY?ue(Tn,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===y0.NOPROXY&&ue(Tn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){return new EY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class yX{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ys(n.toString()),Ys("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new he(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vX extends yX{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=CY(this.serializer,e),r=function(i){if(!("targetChange"in i))return Pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?Qa(o.readTime):Pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=f_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=T0(l)?{documents:IY(i,l)}:{query:kY(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=_Y(i,o.resumeToken);const c=C0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=TY(i,o.snapshotVersion.toTimestamp());const c=C0(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=jY(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=f_(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{}class wX extends xX{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new he(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,I0(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(oe.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,I0(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(oe.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class bX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ys(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="RemoteStore";class SX{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{fd(this)&&(ue(bl,"Restarting streams for network reachability change."),await async function(l){const c=He(l);c.Ea.add(4),await dd(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Dm(c)}(this))})}),this.Ra=new bX(r,s)}}async function Dm(t){if(fd(t))for(const e of t.da)await e(!0)}async function dd(t){for(const e of t.da)await e(!1)}function sR(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),L1(n)?V1(n):Ll(n).O_()&&M1(n,e))}function D1(t,e){const n=He(t),r=Ll(n);n.Ia.delete(e),r.O_()&&iR(n,e),n.Ia.size===0&&(r.O_()?r.L_():fd(n)&&n.Ra.set("Unknown"))}function M1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).Y_(e)}function iR(t,e){t.Va.Ue(e),Ll(t).Z_(e)}function V1(t){t.Va=new xY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.Ra.ua()}function L1(t){return fd(t)&&!Ll(t).x_()&&t.Ia.size>0}function fd(t){return He(t).Ea.size===0}function oR(t){t.Va=void 0}async function EX(t){t.Ra.set("Online")}async function TX(t){t.Ia.forEach((e,n)=>{M1(t,e)})}async function _X(t,e){oR(t),L1(t)?(t.Ra.ha(e),V1(t)):t.Ra.set("Unknown")}async function PX(t,e,n){if(t.Ra.set("Online"),e instanceof Wj&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){ue(bl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await b_(t,r)}else if(e instanceof Mf?t.Va.Ze(e):e instanceof Hj?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const r=await tR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(un.EMPTY_BYTE_STRING,u.snapshotVersion)),iR(i,l);const h=new vi(u.target,l,c,u.sequenceNumber);M1(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue(bl,"Failed to raise snapshot:",r),await b_(t,r)}}async function b_(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await dd(t),t.Ra.set("Offline"),n||(n=()=>tR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(bl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dm(t)})}async function S_(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),ue(bl,"RemoteStore received new credentials");const r=fd(n);n.Ea.add(3),await dd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dm(n)}async function AX(t,e){const n=He(t);e?(n.Ea.delete(2),await Dm(n)):e||(n.Ea.add(2),await dd(n),n.Ra.set("Unknown"))}function Ll(t){return t.ma||(t.ma=function(n,r,s){const i=He(n);return i.sa(),new vX(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:EX.bind(null,t),t_:TX.bind(null,t),r_:_X.bind(null,t),H_:PX.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),L1(t)?V1(t):t.Ra.set("Unknown")):(await t.ma.stop(),oR(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new O1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aR(t,e){if(Ys("AsyncQueue",`${e}: ${t}`),Vl(t))return new he(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=vc(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ga=new Ft(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sl(e,n,Ja.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class IX{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=He(n),i=s.queries;s.queries=T_(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new he(oe.ABORTED,"Firestore shutting down"))}}function T_(){return new Xo(t=>Dj(t),Im)}async function kX(t,e){const n=He(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new CX,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=aR(o,`Initialization of query '${ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&F1(n)}async function NX(t,e){const n=He(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jX(t,e){const n=He(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&F1(n)}function RX(t,e,n){const r=He(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function F1(t){t.Ca.forEach(e=>{e.next()})}var j0,__;(__=j0||(j0={})).Ma="default",__.Cache="cache";class DX{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==j0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.key=e}}class cR{constructor(e){this.key=e}}class MX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=Mj(e),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new E_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const m=s.get(u),p=km(this.query,h)?h:null,S=!!m&&this.mutatedKeys.has(m.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let P=!1;m&&p?m.data.isEqual(p.data)?S!==E&&(r.track({type:3,doc:p}),P=!0):this.su(m,p)||(r.track({type:2,doc:p}),P=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),P=!0):m&&!p&&(r.track({type:1,doc:m}),P=!0,(l||c)&&(a=!0)),P&&(p?(o=o.add(p),i=E?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((u,h)=>function(p,S){const E=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:P})}};return E(p)-E(S)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Sl(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new cR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new lR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=We();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $1="SyncEngine";class VX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LX{constructor(e){this.key=e,this.hu=!1}}class OX{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Xo(a=>Dj(a),Im),this.Iu=new Map,this.Eu=new Set,this.du=new Ft(ge.comparator),this.Au=new Map,this.Ru=new k1,this.Vu={},this.mu=new Map,this.fu=wl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FX(t,e,n=!0){const r=mR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await uR(r,e,n,!0),s}async function $X(t,e){const n=mR(t);await uR(n,e,!0,!1)}async function uR(t,e,n,r){const s=await cX(t.localStore,ds(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await BX(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&sR(t.remoteStore,s),a}async function BX(t,e,n,r,s){t.pu=(h,m,p)=>async function(E,P,v,y){let T=P.view.ru(v);T.Cs&&(T=await g_(E.localStore,P.query,!1).then(({documents:x})=>P.view.ru(x,T)));const R=y&&y.targetChanges.get(P.targetId),C=y&&y.targetMismatches.get(P.targetId)!=null,L=P.view.applyChanges(T,E.isPrimaryClient,R,C);return A_(E,P.targetId,L.au),L.snapshot}(t,h,m,p);const i=await g_(t.localStore,e,!0),o=new MX(e,i.Qs),a=o.ru(i.documents),l=ud.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);A_(t,n,c.au);const u=new VX(e,n,o);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function zX(t,e,n){const r=He(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Im(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await k0(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&D1(r.remoteStore,s.targetId),R0(r,s.targetId)}).catch(Tm)):(R0(r,s.targetId),await k0(r.localStore,s.targetId,!0))}async function UX(t,e){const n=He(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D1(n.remoteStore,r.targetId))}async function dR(t,e){const n=He(t);try{const r=await aX(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Et(o.hu,14607):s.removedDocuments.size>0&&(Et(o.hu,42227),o.hu=!1))}),await hR(n,r,e)}catch(r){await Tm(r)}}function P_(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=He(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const m of h.Sa)m.va(a)&&(c=!0)}),c&&F1(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HX(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ft(ge.comparator);o=o.insert(i,Cn.newNoDocument(i,Pe.min()));const a=We().add(i),l=new Rm(Pe.min(),new Map,new Ft(Fe),o,a);await dR(r,l),r.du=r.du.remove(i),r.Au.delete(e),B1(r)}else await k0(r.localStore,e,!1).then(()=>R0(r,e,n)).catch(Tm)}function R0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||fR(t,r)})}function fR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(D1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),B1(t))}function A_(t,e,n){for(const r of n)r instanceof lR?(t.Ru.addReference(r.key,e),WX(t,r)):r instanceof cR?(ue($1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fR(t,r.key)):Ae(19791,{wu:r})}function WX(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ue($1,"New document in limbo: "+n),t.Eu.add(r),B1(t))}function B1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ge(wt.fromString(e)),r=t.fu.next();t.Au.set(r,new LX(n)),t.du=t.du.insert(n,r),sR(t.remoteStore,new vi(ds(P1(n.path)),r,"TargetPurposeLimboResolution",_m.ce))}}async function hR(t,e,n){const r=He(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=j1.As(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const u=He(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Y.forEach(c,m=>Y.forEach(m.Es,p=>u.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>Y.forEach(m.ds,p=>u.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!Vl(h))throw h;ue(R1,"Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const p=u.Ms.get(m),S=p.snapshotVersion,E=p.withLastLimboFreeSnapshotVersion(S);u.Ms=u.Ms.insert(m,E)}}}(r.localStore,i))}async function KX(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){ue($1,"User change. New user:",e.toKey());const r=await eR(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new he(oe.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hR(n,r.Ls)}}function qX(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function mR(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HX.bind(null,e),e.Pu.H_=jX.bind(null,e.eventManager),e.Pu.yu=RX.bind(null,e.eventManager),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nR(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oX(this.persistence,new rX,e.initialUser,this.serializer)}Cu(e){return new Zj(N1.mi,this.serializer)}Du(e){return new dX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class GX extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Et(this.persistence.referenceDelegate instanceof Fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zY(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Zj(r=>Fh.mi(r,n),this.serializer)}}class D0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KX.bind(null,this.syncEngine),await AX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IX}()}createDatastore(e){const n=nR(e.databaseInfo.databaseId),r=function(i){return new gX(i)}(e.databaseInfo);return function(i,o,a,l){return new wX(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new SX(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>P_(this.syncEngine,n,0),function(){return x_.v()?new x_:new fX}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new OX(s,i,o,a,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=He(s);ue(bl,"RemoteStore shutting down."),i.Ea.add(5),await dd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}D0.provider={build:()=>new D0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ys("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class XX{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ue(Hi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue(Hi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fg(t,e){t.asyncQueue.verifyOperationInProgress(),ue(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await eR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function C_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await QX(t);ue(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>S_(e.remoteStore,s)),t._onlineComponents=e}async function QX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(Hi,"Using user provided OfflineComponentProvider");try{await fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await fg(t,new $h)}}else ue(Hi,"Using default OfflineComponentProvider"),await fg(t,new GX(void 0));return t._offlineComponents}async function JX(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(Hi,"Using user provided OnlineComponentProvider"),await C_(t,t._uninitializedComponentsProvider._online)):(ue(Hi,"Using default OnlineComponentProvider"),await C_(t,new D0))),t._onlineComponents}async function ZX(t){const e=await JX(t),n=e.eventManager;return n.onListen=FX.bind(null,e.syncEngine),n.onUnlisten=zX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$X.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UX.bind(null,e.syncEngine),n}function eQ(t,e,n={}){const r=new No;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new YX({next:m=>{u.Nu(),o.enqueueAndForget(()=>NX(i,h));const p=m.docs.has(a);!p&&m.fromCache?c.reject(new he(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?c.reject(new he(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new DX(P1(a.path),u,{includeMetadataChanges:!0,qa:!0});return kX(i,h)}(await ZX(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firestore.googleapis.com",k_=!0;class N_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gR,this.ssl=k_}else this.host=e.host,this.ssl=e.ssl??k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$Y)throw new he(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class z1{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new N_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new N_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wj;switch(r.type){case"firstParty":return new mG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I_.get(n);r&&(ue("ComponentProvider","Removing Datastore"),I_.delete(n),r.terminate())}(this),Promise.resolve()}}function yR(t,e,n,r={}){var c;t=Rh(t,z1);const s=x1(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(VK(`https://${a}`),$K("Firestore",!0)),i.host!==gR&&i.host!==a&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Nh(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Pn.MOCK_USER;else{u=LK(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new he(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Pn(m)}t._authCredentials=new dG(new xj(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mm(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new El(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}toJSON(){return{type:Nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ld(n,Nn._jsonSchema))return new Nn(e,r||null,new ge(wt.fromString(n.referencePath)))}}Nn._jsonSchemaVersion="firestore/documentReference/1.0",Nn._jsonSchema={type:qt("string",Nn._jsonSchemaVersion),referencePath:qt("string")};class El extends Mm{constructor(e,n,r){super(e,n,P1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ge(e))}withConverter(e){return new El(this.firestore,e,this._path)}}function tQ(t,e,...n){if(t=YK(t),arguments.length===1&&(e=Em.newId()),wG("doc","path",e),t instanceof z1){const r=wt.fromString(e,...n);return HT(r),new Nn(t,null,new ge(r))}{if(!(t instanceof Nn||t instanceof El))throw new he(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wt.fromString(e,...n));return HT(r),new Nn(t.firestore,t instanceof El?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rR(this,"async_queue_retry"),this._c=()=>{const r=dg();r&&ue(j_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=dg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new No;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;ue(j_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ys("INTERNAL UNHANDLED ERROR: ",D_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=O1.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ae(47125,{Pc:D_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function D_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class U1 extends z1{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new R_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function M0(t,e){const n=typeof t=="object"?t:Qq(),r=typeof t=="string"?t:e||Dh,s=Kq(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DK("firestore");i&&yR(s,...i)}return s}function vR(t){if(t._terminated)throw new he(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nQ(t),t._firestoreClient}function nQ(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,u){return new DG(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pR(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new XX(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Br(un.fromBase64String(e))}catch(n){throw new he(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Br(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ld(e,Br._jsonSchema))return Br.fromBase64String(e.bytes)}}Br._jsonSchemaVersion="firestore/bytes/1.0",Br._jsonSchema={type:qt("string",Br._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rs._jsonSchemaVersion}}static fromJSON(e){if(ld(e,Rs._jsonSchema))return new Rs(e.latitude,e.longitude)}}Rs._jsonSchemaVersion="firestore/geoPoint/1.0",Rs._jsonSchema={type:qt("string",Rs._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ld(e,Ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ds(e.vectorValues);throw new he(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ds._jsonSchemaVersion="firestore/vectorValue/1.0",Ds._jsonSchema={type:qt("string",Ds._jsonSchemaVersion),vectorValues:qt("object")};const rQ=new RegExp("[~\\*/\\[\\]]");function sQ(t,e,n){if(e.search(rQ)>=0)throw M_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new H1(...e.split("."))._internalPath}catch{throw M_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function M_(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new he(oe.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iQ extends xR{data(){return super.data()}}function wR(t,e){return typeof e=="string"?sQ(t,e):e instanceof H1?e._internalPath:e._delegate._internalPath}class bR{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cd(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[w0].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Vt(o.doubleValue));return new Ds(n)}convertGeoPoint(e){return new Rs(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Am(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=$i(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wt.fromString(e);Et(Qj(r),9688,{name:e});const s=new yl(r.get(1),r.get(3)),i=new ge(r.popFirst(5));return s.isEqual(n)||Ys(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class La{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends xR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ki._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",ki._jsonSchema={type:qt("string",ki._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Xc extends ki{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new La(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xc(this._firestore,this._userDataWriter,r.key,r,new La(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new La(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new La(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:oQ(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t){t=Rh(t,Nn);const e=Rh(t.firestore,U1);return eQ(vR(e),t._key).then(n=>cQ(e,t,n))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:qt("string",Za._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class lQ extends bR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Br(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function cQ(t,e,n){const r=n.docs.get(e._key),s=new lQ(t);return new ki(t,s,e._key,r,new La(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ml=s})(Xq),jh(new Vu("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new U1(new fG(r.getProvider("auth-internal")),new pG(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new he(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(c.options.projectId,u)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xa($T,BT,e),Xa($T,BT,"esm2020")})();const uQ=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:bR,Bytes:Br,CollectionReference:El,DocumentReference:Nn,DocumentSnapshot:ki,FieldPath:H1,Firestore:U1,FirestoreError:he,GeoPoint:Rs,Query:Mm,QueryDocumentSnapshot:Xc,QuerySnapshot:Za,SnapshotMetadata:La,Timestamp:Ot,VectorValue:Ds,_AutoId:Em,_ByteString:un,_DatabaseId:yl,_DocumentKey:ge,_EmptyAuthCredentialsProvider:wj,_FieldPath:In,_cast:Rh,_logWarn:Uo,_validateIsNotUsedTogether:bj,connectFirestoreEmulator:yR,doc:tQ,ensureFirestoreConfigured:vR,getDoc:aQ,getFirestore:M0},Symbol.toStringTag,{value:"Module"})),el={apiKey:"AIzaSyD7TPcyY_FC9J5o0M1hI0H6mYa8aoviKnM",authDomain:"simplysentai.firebaseapp.com",projectId:"simplysentai",storageBucket:"simplysentai.firebasestorage.app",messagingSenderId:"973409790816",appId:"1:973409790816:web:7be67b9afdb75e948b0c05"};typeof window<"u"&&console.log(" Firebase Config Status:",{hasApiKey:!!el.apiKey,hasProjectId:!!el.projectId,projectId:el.projectId});let ia=null,oc=null;const dQ=()=>{if(ia)return ia;const t=Jq();if(t.length>0)return ia=t[0],console.log(" Using existing Firebase app"),ia;if(!el.apiKey||!el.projectId){const e=new Error("Firebase configuration is missing. Please set VITE_FIREBASE_API_KEY and VITE_FIREBASE_PROJECT_ID environment variables.");throw console.error(" Firebase initialization error:",e),e}try{return ia=cj(el),console.log(" Firebase initialized successfully"),ia}catch(e){throw console.error(" Firebase initialization failed:",e),e}},fQ=()=>{if(oc)return oc;const t=dQ(),e="product-catalog";try{oc=M0(t,e)}catch{console.warn(`Database '${e}' not found or using default database, falling back to default`),oc=M0(t)}return oc},hQ=async t=>{try{const e=fQ(),{doc:n,getDoc:r}=await EK(async()=>{const{doc:o,getDoc:a}=await Promise.resolve().then(()=>uQ);return{doc:o,getDoc:a}},void 0),s=n(e,"amazon",t),i=await r(s);if(i.exists()){const o=i.data();return{asin:t,...o}}return null}catch(e){throw console.error(`Error fetching product ${t} from Firestore:`,e),e}},mQ="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt ut labore et dolore magnam aliquam quaerat voluptatem.",pQ=()=>{const{productId:t}=uC(),e=Go(),[n,r]=_.useState(null),[s,i]=_.useState(!0),[o,a]=_.useState(null),[l,c]=_.useState(!1),[u,h]=_.useState(!1),[m,p]=_.useState(!1),[S,E]=_.useState(0),[P,v]=_.useState(null),[y,T]=_.useState(null);_.useEffect(()=>{const V=document.documentElement;return V.style.setProperty("background","#d1ccfb","important"),()=>{V.style.removeProperty("background")}},[]),_.useEffect(()=>{(async()=>{var k,U,te,Q,J;if(!t){console.error(" ProductPage: No productId provided"),e("/person");return}console.log(` ProductPage: Starting fetch for productId: ${t}`),i(!0),a(null);try{console.log(` ProductPage: Fetching product with ID: ${t}`);const F=await hQ(t);if(console.log(` ProductPage: Firebase response for ${t}:`,F?"Found":"Not found"),F&&console.log(" ProductPage: Firebase product data keys:",Object.keys(F)),!F){const Ye=`Product ${t} not found in Firebase`;console.warn(` ProductPage: ${Ye}`),a(Ye),i(!1),setTimeout(()=>{e("/person")},3e3);return}const B=F.data||F,G=(B==null?void 0:B.name)||(B==null?void 0:B.product_title)||(B==null?void 0:B.title)||F.name||F.productTitle||`Product ${t}`;let X=mQ;const se=(B==null?void 0:B.description)||(B==null?void 0:B.product_description)||(B==null?void 0:B.about)||(B==null?void 0:B.product_about)||(B==null?void 0:B.details)||(B==null?void 0:B.product_details)||(B==null?void 0:B.product_info)||(B==null?void 0:B.info)||F.description;if(se)if(typeof se=="string"&&se.trim()!=="")X=se;else if(Array.isArray(se)&&se.length>0)X=se.join(" ");else if(typeof se=="object"){const Ye=JSON.stringify(se);Ye&&Ye!=="{}"&&(X=Ye)}else{const Ye=String(se);Ye&&Ye.trim()!==""&&(X=Ye)}console.log(" ProductPage: Description extraction:",{productId:t,hasDescription:!!X&&X!=="No description available.",description:typeof X=="string"?X.substring(0,100):String(X).substring(0,100),productDataKeys:Object.keys(B||{})});let ve=0;const me=(B==null?void 0:B.product_price)||(B==null?void 0:B.price)||(B==null?void 0:B.price_amount)||(B==null?void 0:B.current_price)||F.price;me!=null&&(typeof me=="string"?ve=parseFloat(me.replace(/[$,]/g,""))||0:typeof me=="number"&&(ve=me));const xe=(B==null?void 0:B.product_star_rating)||(B==null?void 0:B.rating)||F.rating||F.product_star_rating||0,Ie=(B==null?void 0:B.product_num_ratings)||(B==null?void 0:B.num_ratings)||F.num_ratings||F.product_num_ratings||0,$e=(B==null?void 0:B.product_photo)||((k=B==null?void 0:B.product_photos)==null?void 0:k[0])||((U=B==null?void 0:B.data)==null?void 0:U.product_photo)||((Q=(te=B==null?void 0:B.data)==null?void 0:te.product_photos)==null?void 0:Q[0])||(F==null?void 0:F.product_photo)||((J=F==null?void 0:F.product_photos)==null?void 0:J[0])||(F==null?void 0:F.imageUrl)||(F==null?void 0:F.image_url),et=Ye=>Ye===1&&$e?$e:B!=null&&B.product_photos&&Array.isArray(B.product_photos)&&B.product_photos.length>=Ye?B.product_photos[Ye-1]:`https://storage.googleapis.com/simplysent-product-images/${t}/t_${t}_${Ye}.png`,Gt=et(1),ms=et(2),Ir=et(3),tt=[Gt,ms,Ir].filter(Boolean);tt.length===0&&tt.push(`https://storage.googleapis.com/simplysent-product-images/${t}/t_${t}_1.png`);const vt={id:t,name:G,price:ve,image:Gt,images:tt,description:X,rating:typeof xe=="number"?xe:parseFloat((xe==null?void 0:xe.toString())||"0"),reviews:typeof Ie=="number"?Ie:parseInt((Ie==null?void 0:Ie.toString())||"0"),features:(B==null?void 0:B.features)||[],specifications:(B==null?void 0:B.specifications)||[],inStock:!0,shipping:"Will arrive in time for delivery"};console.log(` ProductPage: Successfully loaded product ${t}`),console.log(` ProductPage: Successfully loaded product ${t}`),r(vt),a(null)}catch(F){const B=F instanceof Error?F.message:String(F);console.error(` ProductPage: Error fetching product ${t}:`,F),console.error("Error details:",B),a(`Failed to load product: ${B}`),i(!1),setTimeout(()=>{e("/recommendations")},3e3)}finally{i(!1)}})()},[t,e]);const R=()=>{c(!l)},C=()=>{alert("Share feature (Demo)")},L=()=>{n&&E(V=>V===0?n.images.length-1:V-1)},x=()=>{n&&E(V=>V===n.images.length-1?0:V+1)},w=V=>{v({x:V.targetTouches[0].clientX,y:V.targetTouches[0].clientY})},A=V=>{if(!P)return;const k=V.targetTouches[0].clientX,U=V.targetTouches[0].clientY,te=Math.abs(k-P.x),Q=Math.abs(U-P.y);te>Q&&te>10&&(V.preventDefault(),V.stopPropagation()),T(k)},N=()=>{if(!P||!y)return;const V=P.x-y,k=V>50,U=V<-50;k&&x(),U&&L(),v(null),T(0)};if(s)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})});if(o||!n)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:f.jsxs("div",{className:"text-center max-w-md px-4",children:[f.jsx("div",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Product Not Found"}),f.jsx("div",{className:"text-gray-600 mb-4",children:o||`Product ${t} could not be loaded.`}),f.jsx("button",{onClick:()=>e("/recommendations"),className:"px-6 py-2 bg-simplysent-purple text-white rounded-lg hover:bg-simplysent-purple-dark transition-colors",children:"Go Back to Recommendations"})]})});const D=`https://www.amazon.co.uk/dp/${t}?tag=simplysent09-21`;return f.jsxs("div",{className:"min-h-screen bg-white overflow-x-hidden",style:{marginTop:"-16px",backgroundColor:"white",minHeight:"100vh",position:"relative",zIndex:1},children:[f.jsx("div",{className:"hidden md:block relative",style:{height:"50vh",minHeight:"400px",overflow:"visible"},children:f.jsxs("div",{className:"flex h-full max-w-6xl mx-auto",style:{overflow:"visible"},children:[f.jsxs("div",{className:"flex-1 bg-simplysent-purple-alt h-full relative overflow-hidden",style:{marginTop:"calc(-1 * env(safe-area-inset-top))"},children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 px-4 pt-8 pb-4",style:{paddingTop:"calc(env(safe-area-inset-top) + 32px)"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:()=>e(-1),className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:f.jsx(js,{size:20,className:"text-gray-800"})}),f.jsx("button",{onClick:C,className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:f.jsx(f2,{size:20,className:"text-gray-800"})})]})}),f.jsx("div",{className:"absolute inset-0 top-[10%] bottom-0 flex flex-col items-center justify-start px-4 pb-20",children:f.jsxs("div",{className:"w-full max-w-sm",children:[f.jsx("div",{className:"aspect-square relative bg-transparent",onTouchStart:w,onTouchMove:A,onTouchEnd:N,style:{touchAction:"pan-y"},children:f.jsx(gi,{mode:"wait",children:f.jsx(ye.div,{className:"absolute inset-0 flex items-center justify-center p-8 bg-transparent",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx("img",{src:n.images[S],alt:`${n.name} - Image ${S+1}`,className:"w-full h-full object-contain scale-110",style:{mixBlendMode:"normal"}})},S)})}),f.jsx("div",{className:"flex items-center justify-center gap-2 mt-2 relative z-30",children:n.images.map((V,k)=>f.jsx("button",{onClick:()=>E(k),className:`h-3 rounded-full transition-all ${k===S?"bg-simplysent-purple w-10":"bg-purple-300 w-3"}`,style:{minWidth:k===S?"40px":"12px"}},k))})]})})]}),f.jsxs("div",{className:"flex-1 bg-white flex flex-col justify-center px-8 pt-16 relative",children:[f.jsx("div",{className:"absolute left-0 top-0 bottom-0 pointer-events-none z-0",style:{width:"120px",left:"-2px"},children:f.jsx("svg",{viewBox:"0 0 240 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",preserveAspectRatio:"none",children:f.jsx("path",{d:"M0 0C40 100 80 300 120 500C160 700 200 900 240 1000L240 1000L0 1000Z",fill:"white"})})}),f.jsxs("div",{className:"relative z-10 space-y-4",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900 break-words line-clamp-3",style:{wordBreak:"break-word",overflowWrap:"break-word"},children:n.name}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((V,k)=>f.jsx(gh,{size:18,className:`${k<Math.floor(n.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},k))}),f.jsxs("span",{className:"text-sm text-gray-600",children:["(",n.reviews," reviews)"]})]}),f.jsx("div",{children:f.jsxs("span",{className:"text-4xl font-bold text-simplysent-purple",children:["",n.price.toFixed(2)]})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"About this item"}),f.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:n.description||"No description available."})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:items-center w-[95%]",children:[f.jsx("button",{onClick:R,className:"flex items-center justify-center rounded-2xl focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50",style:{width:"56px",height:"56px",padding:"16px",flexShrink:0,position:"relative"},"aria-label":"Favorite",children:f.jsx(u2,{size:22,className:l?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:l?"currentColor":"none",style:{width:"22px",height:"22px",flexShrink:0,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"}})}),f.jsxs("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 text-gray-900 hover:from-yellow-500 hover:via-yellow-600 hover:to-amber-600 active:opacity-95 focus:ring-yellow-400/30 shadow-[0_8px_30px_rgba(251,191,36,0.3)] hover:shadow-[0_8px_30px_rgba(251,191,36,0.4)] active:shadow-[0_8px_30px_rgba(251,191,36,0.3)] font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 px-9 py-4 text-lg hover:scale-105 active:scale-95 w-full md:flex-1 flex items-center justify-center gap-2",children:[f.jsx(c2,{size:20}),"Open on Amazon"]})]})]})]})]})}),f.jsx("div",{className:"md:hidden relative",style:{height:"60vh",minHeight:"500px",maxHeight:"700px",marginTop:"calc(-1 * env(safe-area-inset-top))"},children:f.jsxs("div",{className:"bg-simplysent-purple-alt h-full relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 z-20 px-4 pt-8 pb-4",style:{paddingTop:"calc(env(safe-area-inset-top) + 32px)"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:()=>e(-1),className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:f.jsx(js,{size:20,className:"text-gray-800"})}),f.jsx("button",{onClick:C,className:"w-10 h-10 rounded-xl bg-white/80 backdrop-blur-sm flex items-center justify-center shadow-md hover:bg-white transition-all",children:f.jsx(f2,{size:20,className:"text-gray-800"})})]})}),f.jsx("div",{className:"md:hidden absolute inset-0 top-[8%] bottom-0 flex flex-col items-center justify-center px-4 pb-8",children:f.jsxs("div",{className:"w-full max-w-md flex flex-col items-center",children:[f.jsx("div",{className:"w-full aspect-square relative bg-transparent max-w-[85vw]",onTouchStart:w,onTouchMove:A,onTouchEnd:N,style:{touchAction:"pan-y"},children:f.jsx(gi,{mode:"wait",children:f.jsx(ye.div,{className:"absolute inset-0 flex items-center justify-center p-6 sm:p-8 bg-transparent",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:f.jsx("img",{src:n.images[S],alt:`${n.name} - Image ${S+1}`,className:"w-full h-full object-contain",style:{mixBlendMode:"normal",maxWidth:"100%",maxHeight:"100%"}})},S)})}),f.jsx("div",{className:"flex items-center justify-center gap-2 mt-4 relative z-30",children:n.images.map((V,k)=>f.jsx("button",{onClick:()=>E(k),className:`h-3 rounded-full transition-all ${k===S?"bg-white w-8":"bg-white/60 w-3"}`,style:{minWidth:k===S?"32px":"12px"}},k))})]})}),f.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-10",style:{height:"80px"},children:f.jsx("svg",{viewBox:"0 0 1440 160",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",preserveAspectRatio:"none",children:f.jsx("path",{d:"M0 0Q720 160 1440 0L1440 160L0 160Z",fill:"white"})})})]})}),f.jsx("div",{className:"md:hidden w-full pt-4 pb-8 bg-white relative overflow-visible",style:{marginTop:"-1px",marginBottom:"50px"},children:f.jsxs("div",{className:"px-4 space-y-6",style:{marginTop:"-20px"},children:[f.jsxs("div",{className:"flex items-start justify-between gap-4 relative px-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 flex-1 break-words line-clamp-3",style:{wordBreak:"break-word",overflowWrap:"break-word"},children:n.name}),f.jsx("button",{onClick:R,className:"flex items-center justify-center rounded-2xl focus:outline-none shadow-[0_4px_12px_rgba(100,100,100,0.15)] bg-white hover:bg-gray-50 flex-shrink-0",style:{width:"56px",height:"56px",padding:"0",marginTop:"-32px",minWidth:"56px",minHeight:"56px",position:"relative",zIndex:10},"aria-label":"Favorite",onMouseDown:V=>V.preventDefault(),children:f.jsx(u2,{size:22,className:l?"fill-simplysent-purple text-simplysent-purple":"text-simplysent-purple",fill:l?"currentColor":"none",style:{width:"22px",height:"22px",flexShrink:0}})})]}),f.jsxs("div",{className:"flex items-start justify-between px-4",children:[f.jsxs("div",{className:"flex flex-col gap-1",style:{marginTop:"-16px"},children:[f.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((V,k)=>f.jsx(gh,{size:16,className:`${k<Math.floor(n.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},k))}),f.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.reviews," reviews)"]})]}),f.jsxs("span",{className:"text-3xl font-bold text-simplysent-purple",children:["",n.price.toFixed(2)]})]}),f.jsxs("div",{className:"px-4",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-2",children:"About this item"}),f.jsx("p",{className:"text-sm text-gray-600 leading-relaxed whitespace-pre-wrap",children:n.description||"No description available."})]}),f.jsxs("a",{href:D,target:"_blank",rel:"noopener noreferrer",className:"w-[95%] mx-auto block bg-gradient-to-r from-yellow-400 via-yellow-500 to-amber-500 text-gray-900 hover:from-yellow-500 hover:via-yellow-600 hover:to-amber-600 active:opacity-95 focus:ring-yellow-400/30 shadow-[0_8px_30px_rgba(251,191,36,0.3)] hover:shadow-[0_8px_30px_rgba(251,191,36,0.4)] active:shadow-[0_8px_30px_rgba(251,191,36,0.3)] font-semibold rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 px-9 py-4 text-lg hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[f.jsx(c2,{size:20}),"Open on Amazon"]})]})})]})},Ct=({level:t=1,children:e,className:n=""})=>{const r=`h${t}`,s="font-heading text-gray-800",i={1:"text-4xl md:text-5xl font-bold",2:"text-3xl md:text-4xl font-bold",3:"text-2xl md:text-3xl font-semibold",4:"text-xl md:text-2xl font-semibold",5:"text-lg md:text-xl font-medium",6:"text-base md:text-lg font-medium"};return f.jsx(r,{className:`${s} ${i[t]} ${n}`,children:e})},gQ=({tabs:t,activeTab:e,onTabChange:n,className:r=""})=>f.jsx("div",{className:`w-full ${r}`,children:f.jsx("div",{className:"flex gap-8 border-b-2 border-gray-200 overflow-x-auto no-scrollbar",children:t.map(s=>{const i=e===s.id,o=s.id==="ai-picks",a=s.id==="tech",l=s.id==="golf";return f.jsxs("button",{onClick:()=>n(s.id),className:`relative pb-4 px-2 font-semibold text-base transition-colors duration-200 whitespace-nowrap
              ${i?o?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"text-[#5E57AC]":o?"text-purple-600":"text-gray-500 hover:text-gray-700"}
            `,children:[f.jsxs("span",{className:"inline-flex items-center gap-2",children:[o&&f.jsx(Ut,{icon:pK,className:"text-purple-500"}),a&&f.jsx(Ut,{icon:gK,className:`${i?"text-[#5E57AC]":"text-gray-500"}`}),l&&f.jsx(Ut,{icon:uK,className:`${i?"text-[#5E57AC]":"text-gray-500"}`}),s.label]}),i&&f.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 rounded-full ${o?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500":"bg-[#5E57AC]"}`})]},s.id)})})}),yQ=()=>{var L,x;const[t,e]=_.useState(""),[n,r]=_.useState(""),[s,i]=_.useState(""),[o,a]=_.useState([]),[l,c]=_.useState(50),[u,h]=_.useState(300),[m,p]=_.useState("ai-picks"),[S,E]=_.useState("StackSansText"),[P,v]=_.useState("400"),y=[{value:"option1",label:"Electronics"},{value:"option2",label:"Fashion"},{value:"option3",label:"Home & Garden"},{value:"option4",label:"Sports & Outdoors"},{value:"option5",label:"Books & Media"}],T=[{id:"ai-picks",label:"AI Picks"},{id:"tech",label:"Tech"},{id:"golf",label:"Golf"}],R={"ai-picks":[{image:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=800&auto=format&fit=crop",name:"Top-Rated Wireless Headphones",price:189.99},{image:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=800&auto=format&fit=crop",name:"Smart Home Starter Kit",price:139.99},{image:"https://images.unsplash.com/photo-1511988617509-a57c8a288659?q=80&w=800&auto=format&fit=crop",name:"Cosy Deluxe Candle",price:18.99}],tech:[{image:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=800&auto=format&fit=crop",name:"Wireless Headphones Pro Max",price:199.99},{image:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=800&auto=format&fit=crop",name:"Smart Home Hub",price:129.99},{image:"https://images.unsplash.com/photo-1512496015851-a90fb38ba796?q=80&w=800&auto=format&fit=crop",name:"Portable Bluetooth Speaker",price:59.99}],golf:[{image:"https://images.unsplash.com/photo-1502877338535-766e1452684a?q=80&w=800&auto=format&fit=crop",name:"Premium Golf Balls (12 pack)",price:34.99},{image:"https://images.unsplash.com/photo-1535139262971-d2d102b0fb12?q=80&w=800&auto=format&fit=crop",name:"Golf Swing Trainer Aid",price:44.99},{image:"https://images.unsplash.com/photo-1521417531060-7c277f2cc6a3?q=80&w=800&auto=format&fit=crop",name:"Golf Glove Leather",price:19.99}]},C=w=>{a(A=>A.includes(w)?A.filter(N=>N!==w):[...A,w])};return f.jsx("div",{className:"min-h-screen py-8 px-4",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx(Ct,{level:1,className:"mb-4",children:"UI Kit Showcase"}),f.jsx("p",{className:"text-lg text-gray-600 font-medium max-w-2xl mx-auto",children:"A comprehensive collection of reusable components built with modern design principles"})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsx(Ct,{level:3,className:"mb-6",children:"Tab Menu"}),f.jsx(gQ,{tabs:T,activeTab:m,onTabChange:p}),f.jsx("div",{className:"mt-8",children:m==="ai-picks"?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(L=R[m])==null?void 0:L.map((w,A)=>f.jsx(po,{image:w.image,name:w.name,price:w.price,className:"border-2 border-purple-300 ring-1 ring-purple-200/60 hover:ring-purple-300/70 transition-shadow",badge:f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-semibold text-white bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-sm",children:[f.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2l2.39 5.26L20 8.27l-4 3.89L17.18 18 12 15.45 6.82 18 8 12.16 4 8.27l5.61-1.01L12 2z"})}),"AI pick"]})},`${m}-${A}`))}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:(x=R[m])==null?void 0:x.map((w,A)=>f.jsx(po,{image:w.image,name:w.name,price:w.price},`${m}-${A}`))})})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsx(Ct,{level:2,className:"mb-6",children:"Headings"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx(Ct,{level:1,children:"Heading Level 1"}),f.jsx(Ct,{level:2,children:"Heading Level 2"}),f.jsx(Ct,{level:3,children:"Heading Level 3"}),f.jsx(Ct,{level:4,children:"Heading Level 4"}),f.jsx(Ct,{level:5,children:"Heading Level 5"}),f.jsx(Ct,{level:6,children:"Heading Level 6"})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsx(Ct,{level:2,className:"mb-6",children:"Form Inputs"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx(Ct,{level:4,className:"mb-4",children:"Text Inputs"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Ma,{label:"Name",placeholder:"Enter your name",value:t,onChange:e}),f.jsx(Ma,{label:"Email",placeholder:"Enter your email",value:n,onChange:r,type:"email"})]})]}),f.jsx("div",{children:f.jsx(Ma,{label:"With Error State",placeholder:"This field has an error",value:"",onChange:()=>{},error:"This field is required"})}),f.jsx("div",{children:f.jsx(Ma,{label:"Disabled Input",placeholder:"This input is disabled",value:"Disabled content",onChange:()=>{},disabled:!0})})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsx(Ct,{level:2,className:"mb-6",children:"Dropdowns"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(rr,{label:"Category",placeholder:"Select a category",value:s,options:y,onChange:i}),f.jsx(rr,{label:"Disabled Dropdown",placeholder:"This dropdown is disabled",value:"",options:y,onChange:()=>{},disabled:!0})]}),f.jsx(rr,{label:"With Error State",placeholder:"Select an option",value:"",options:y,onChange:()=>{},error:"Please select a valid option"})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx(Ct,{level:2,children:"Multi Select Buttons"}),f.jsx(ze,{variant:"ghost",size:"small",onClick:()=>a([]),disabled:o.length===0,className:"text-[#5E57AC]",children:"Deselect all"})]}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:["Tech","Golf","Outdoors","Home","Books","Fashion","Beauty","Toys"].map(w=>f.jsxs("label",{className:`group flex items-center justify-center px-7 py-3 rounded-full cursor-pointer transition-all duration-200 transform hover:scale-105 ${o.includes(w)?"bg-[#5E57AC] text-white border-2 border-[#5E57AC] shadow-md":"bg-white text-gray-700 border-2 border-gray-200 hover:bg-gray-100"}`,children:[f.jsx("input",{type:"checkbox",checked:o.includes(w),onChange:()=>C(w),className:"sr-only"}),f.jsx("span",{className:"text-sm font-semibold text-center leading-tight",children:w})]},w))})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsx(Ct,{level:2,className:"mb-6",children:"Budget Range Slider"}),f.jsx(i1,{min:10,max:500,minValue:l,maxValue:u,onChange:(w,A)=>{c(w),h(A)},label:"Select your budget range (5 steps)"})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsx(Ct,{level:2,className:"mb-6",children:"Buttons"}),f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{children:[f.jsx(Ct,{level:4,className:"mb-4",children:"Button Variants"}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsx(ze,{variant:"primary",children:"Primary Button"}),f.jsx(ze,{variant:"secondary",children:"Secondary Button"}),f.jsx(ze,{variant:"outline",children:"Outline Button"}),f.jsx(ze,{variant:"ghost",children:"Ghost Button"})]})]}),f.jsxs("div",{children:[f.jsx(Ct,{level:4,className:"mb-4",children:"Button Sizes"}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[f.jsx(ze,{size:"small",children:"Small"}),f.jsx(ze,{size:"medium",children:"Medium"}),f.jsx(ze,{size:"large",children:"Large"})]})]}),f.jsxs("div",{children:[f.jsx(Ct,{level:4,className:"mb-4",children:"Button States"}),f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsx(ze,{children:"Normal"}),f.jsx(ze,{disabled:!0,children:"Disabled"})]})]}),f.jsxs("div",{children:[f.jsx(Ct,{level:4,className:"mb-4",children:"Full Width Button"}),f.jsx(ze,{fullWidth:!0,children:"Full Width Button"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8 mb-8",children:[f.jsx(Ct,{level:2,className:"mb-6",children:"Color Palette"}),f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-full h-32 bg-[#5E57AC] rounded-2xl shadow-md mb-3"}),f.jsx("p",{className:"font-semibold text-gray-800",children:"Primary"}),f.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#5E57AC"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-full h-32 bg-gray-800 rounded-2xl shadow-md mb-3"}),f.jsx("p",{className:"font-semibold text-gray-800",children:"Dark"}),f.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#1F2937"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-2xl shadow-md mb-3"}),f.jsx("p",{className:"font-semibold text-gray-800",children:"Light"}),f.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#E5E7EB"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-full h-32 bg-white border-2 border-gray-200 rounded-2xl shadow-md mb-3"}),f.jsx("p",{className:"font-semibold text-gray-800",children:"White"}),f.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"#FFFFFF"})]})]})]}),f.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8",children:[f.jsx(Ct,{level:2,className:"mb-6",children:"Typography"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Font Family"}),f.jsx(rr,{placeholder:"Select font",value:S,options:[{value:"StackSansText",label:"StackSansText"},{value:"StackSansHeadline",label:"StackSansHeadline"},{value:"StackSansNotch",label:"StackSansNotch (Logo only)"}],onChange:w=>E(w)})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Font Weight"}),f.jsx(rr,{placeholder:"Select weight",value:P,options:[{value:"200",label:"ExtraLight (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Regular (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"SemiBold (600)"},{value:"700",label:"Bold (700)"}],onChange:w=>v(w)})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"p-6 bg-gray-50 rounded-2xl border-2 border-gray-200",children:[f.jsxs("p",{className:"text-sm text-gray-500 mb-4 font-medium",children:["Preview: ",S," - Weight ",P]}),f.jsx("div",{style:{fontFamily:S,fontWeight:parseInt(P)},className:"text-4xl text-gray-900",children:"The quick brown fox jumps over the lazy dog"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansText (Body Text)"}),f.jsx("p",{className:"text-lg text-gray-700",style:{fontFamily:"StackSansText",fontWeight:400},children:"The quick brown fox jumps over the lazy dog. This is a sample paragraph text using StackSansText with regular weight for optimal readability."})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansHeadline (Headings)"}),f.jsx(Ct,{level:2,style:{fontFamily:"StackSansHeadline",fontWeight:500},children:"The quick brown fox jumps over the lazy dog"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"StackSansNotch (Logo Only)"}),f.jsx("div",{className:"font-notch font-bold text-3xl bg-gradient-to-r from-purple-600 via-simplysent-purple to-pink-500 bg-clip-text text-transparent",children:"SimplySent"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-gray-500 mb-2 font-medium",children:"Buttons (StackSansText)"}),f.jsx(ze,{children:"Button Text Example"})]})]})]}),f.jsx("div",{className:"mt-12 text-center",children:f.jsx("p",{className:"text-gray-500 font-medium",children:"All components are mobile-friendly and follow modern design principles"})})]})})};function vQ(){const t=Go(),n=qo().state;return _.useEffect(()=>{(async()=>{var s;try{const i=n!=null&&n.formData?`${window.location.origin}/products`:document.referrer||window.location.href;if((s=n==null?void 0:n.apiError)!=null&&s.apiMetadata)await EF(n.apiError,n.apiError.apiMetadata,i);else if((n==null?void 0:n.errorMessage)==="No recommendations available")await TF(n.errorMessage,i);else{const o=new Error((n==null?void 0:n.errorMessage)||"Unknown error");o.stack=(n==null?void 0:n.errorStack)||o.stack,await qI(o,n==null?void 0:n.componentStack,i)}}catch(i){console.error("Failed to report error:",i)}})()},[n]),f.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"text-center space-y-6",children:[f.jsxs("div",{className:"relative w-40 h-40 mx-auto mb-2",children:[f.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-purple-200/60 to-pink-200/60 blur-2xl"}),f.jsx("div",{className:"relative w-full h-full flex items-center justify-center",children:f.jsx(yh,{className:"w-20 h-20 text-purple-500"})})]}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Something went wrong. This is embarrassing."}),f.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Were working on it. Please try again in a few minutes."}),f.jsxs(ye.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("/"),className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-xl shadow-lg transition-colors",children:[f.jsx(js,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]})}class xQ extends _.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){qI(e,n.componentStack),console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:f.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:f.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),f.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),f.jsx("button",{onClick:()=>window.location.reload(),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Refresh Page"})]})}):this.props.children}}function wQ({measurementId:t}){return _.useEffect(()=>{const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,document.head.appendChild(e);const n=document.createElement("script");n.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${t}', {
        send_page_view: true
      });
    `,document.head.appendChild(n)},[t]),null}function bQ({pixelId:t}){return _.useEffect(()=>{const e=document.createElement("script");e.innerHTML=`
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '${t}');
      fbq('track', 'PageView');
    `,document.head.appendChild(e);const n=document.createElement("noscript"),r=document.createElement("img");r.height=1,r.width=1,r.style.display="none",r.src=`https://www.facebook.com/tr?id=${t}&ev=PageView&noscript=1`,n.appendChild(r),document.body.appendChild(n)},[t]),null}function SQ({className:t=""}){const[e,n]=_.useState(!1),[r,s]=_.useState(!1),[i,o]=_.useState(""),[a,l]=_.useState(!1),[c,u]=_.useState(!1),[h,m]=_.useState(!1),[p,S]=_.useState(!1),E=_.useRef(null),P=_.useRef(null);if(_.useEffect(()=>{const k=()=>{l(vx()),u(fm()),m(xx()),S(GI())};k();const U=setInterval(k,100);return()=>clearInterval(U)},[]),_.useEffect(()=>{const k=U=>{E.current&&!E.current.contains(U.target)&&n(!1),P.current&&P.current.contains(U.target)};if(e)return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[e,r]),!a)return null;const v=kF(),T=c?{color:"bg-yellow-500",text:"Dev"}:h?{color:"bg-green-500",text:"Dev"}:{color:"bg-red-500",text:"Prod"},R=()=>{if(confirm("Are you sure you want to clear cache? This will clear recommendations and products but keep dev mode settings.")){const k={devMode:localStorage.getItem("ss_dev_mode"),sandboxHeader:localStorage.getItem("ss_sandbox_header"),localMode:localStorage.getItem("ss_local_mode"),mockRecommendations:localStorage.getItem("ss_mock_recommendations"),apiMode:localStorage.getItem("ss_api_mode")};localStorage.clear(),k.devMode&&localStorage.setItem("ss_dev_mode",k.devMode),k.sandboxHeader&&localStorage.setItem("ss_sandbox_header",k.sandboxHeader),k.localMode&&localStorage.setItem("ss_local_mode",k.localMode),k.mockRecommendations&&localStorage.setItem("ss_mock_recommendations",k.mockRecommendations),k.apiMode&&localStorage.setItem("ss_api_mode",k.apiMode),n(!1),window.location.reload()}},C=()=>{CF(),n(!1),window.location.reload()},L=()=>{AF(),n(!1),window.location.reload()},x=()=>{IF(),n(!1),window.location.reload()},w=k=>{NF(k)},A=()=>{Ka(!1),Wa(!0),n(!1),setTimeout(()=>{window.dispatchEvent(new CustomEvent("reset-welcome-training"))},50)},N=()=>{n(!1),s(!0)},D=()=>{try{const k=JSON.parse(i);if(!k.data||!k.data.products||!Array.isArray(k.data.products)){alert("Invalid JSON format. Expected structure: { data: { products: [...] } }");return}const U=k.data.products.map(te=>{let Q=0;if(te.product_price){const J=te.product_price.toString().replace(/[$,]/g,"");Q=parseFloat(J)||0}return{id:te.asin||`rapidapi-${Math.random().toString(36).substr(2,9)}`,image:te.product_photo||"",name:te.product_title||"Unknown Product",price:Q,rating:te.product_star_rating?parseFloat(te.product_star_rating.toString()):void 0,numRatings:te.product_num_ratings||0}});localStorage.setItem("rapidapi_products",JSON.stringify({products:U,timestamp:Date.now()})),window.dispatchEvent(new CustomEvent("rapidapi-products-updated")),s(!1),o(""),alert(`Successfully imported ${U.length} products!`)}catch(k){alert(`Error parsing JSON: ${k instanceof Error?k.message:"Unknown error"}`)}},V=async()=>{n(!1);const U=[...Es].sort(()=>.5-Math.random()).slice(0,2).map(Q=>Q.value),te={name:"Mum",relationship:"mother",gender:"female",dob:"15/03/1975",interests:U,budget_min:10,budget_max:200,other:{clothing_size:"L",favourite_drink:"other"}};try{const Q={context:{name:te.name,relationship:te.relationship.charAt(0).toUpperCase()+te.relationship.slice(1).toLowerCase(),gender:te.gender.toLowerCase(),dob:te.dob,interests:te.interests,budget_min:te.budget_min,budget_max:te.budget_max,other:te.other}},J=new URLSearchParams,F=qa(),B=Ia("/recommend",J),G=Rc(F||void 0),X=await zr(B,{method:"POST",headers:G,body:JSON.stringify(Q)},"POST /recommend");if(!X.ok)throw new Error(`HTTP error! status: ${X.status}`);const ve={id:(await X.json()).recommendation_id||`person-${Date.now()}`,name:te.name,relationship:te.relationship,gender:te.gender,interests:te.interests,minBudget:te.budget_min,maxBudget:te.budget_max,createdAt:Date.now()},me=localStorage.getItem("saved_persons"),xe=me?JSON.parse(me):[];xe.push(ve),localStorage.setItem("saved_persons",JSON.stringify(xe)),window.dispatchEvent(new CustomEvent("person-added",{detail:ve})),alert(`Added "${te.name}" with interests: ${U.join(", ")}`)}catch(Q){console.error("Error adding random person:",Q),alert(`Failed to add person: ${Q instanceof Error?Q.message:"Unknown error"}`)}};return f.jsxs("div",{className:`fixed bottom-4 left-4 z-50 ${t}`,ref:E,children:[f.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-lg border border-gray-200 hover:shadow-xl transition-shadow",title:"Dev Mode Settings",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${T.color}`}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:T.text})]}),e&&f.jsx("div",{className:"absolute left-0 bottom-full mb-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden",children:f.jsxs("div",{className:"py-1",children:[f.jsx("button",{onClick:V,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:f.jsx("span",{children:"Add Person"})}),f.jsx("div",{className:"border-t border-gray-200 my-1"}),f.jsxs("button",{onClick:C,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[f.jsx("span",{children:"Local"}),c&&f.jsx("span",{className:"text-green-600",children:""})]}),f.jsxs("button",{onClick:L,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[f.jsx("span",{children:"Sandbox"}),h&&f.jsx("span",{className:"text-green-600",children:""})]}),f.jsxs("button",{onClick:x,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:[f.jsx("span",{children:"Prod"}),v&&f.jsx("span",{className:"text-green-600",children:""})]}),f.jsx("div",{className:"border-t border-gray-200 my-1"}),f.jsx("button",{onClick:A,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:f.jsx("span",{children:"Reset Training"})}),f.jsx("div",{className:"border-t border-gray-200 my-1"}),f.jsxs("label",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between cursor-pointer",children:[f.jsx("span",{children:"Mock Recommender"}),f.jsxs("div",{className:"relative flex items-center",children:[f.jsx("input",{type:"checkbox",checked:p,onChange:k=>w(k.target.checked),className:"sr-only"}),f.jsx("div",{className:`w-10 h-5 rounded-full transition-colors flex items-center ${p?"bg-green-500":"bg-gray-300"}`,children:f.jsx("div",{className:`w-4 h-4 bg-white rounded-full transition-transform transform shadow-sm ${p?"translate-x-5":"translate-x-0.5"}`})})]})]}),f.jsx("div",{className:"border-t border-gray-200 my-1"}),f.jsx("button",{onClick:N,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between",children:f.jsx("span",{children:"Import RapidAPI JSON"})}),f.jsx("div",{className:"border-t border-gray-200 my-1"}),f.jsx("button",{onClick:R,className:"w-full px-4 py-2 text-left text-sm text-orange-600 hover:bg-orange-50 flex items-center justify-between",children:f.jsx("span",{children:"Clear Cache"})})]})}),r&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] p-4",children:f.jsxs("div",{ref:P,className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import RapidAPI JSON"}),f.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Paste the JSON response from RapidAPI"})]}),f.jsx("div",{className:"flex-1 overflow-hidden flex flex-col p-6",children:f.jsx("textarea",{value:i,onChange:k=>o(k.target.value),placeholder:"Paste JSON here...",className:"flex-1 w-full p-4 border border-gray-300 rounded-lg font-mono text-sm resize-none focus:outline-none focus:ring-2 focus:ring-purple-500",style:{minHeight:"300px"}})}),f.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>{s(!1),o("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),f.jsx("button",{onClick:D,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-lg hover:bg-purple-700 transition-colors",children:"Import"})]})]})})]})}const EQ="G-JRT058C4VQ",TQ="907664617393399";function _Q(){const t=document.createElement("style");t.textContent=`
    /* StackSansText Font Faces */
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansText';
      src: url('/fonts/StackSansText-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* StackSansHeadline Font Faces */
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansHeadline';
      src: url('/fonts/StackSansHeadline-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* StackSansNotch Font Faces - Only for logo */
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Light.ttf') format('truetype');
      font-weight: 300;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-SemiBold.ttf') format('truetype');
      font-weight: 600;
      font-style: normal;
    }
    @font-face {
      font-family: 'StackSansNotch';
      src: url('/fonts/StackSansNotch-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }

    /* Global styles */
    html {
      font-family: 'StackSansText', sans-serif;
      font-weight: 400;
    }
    h1, h2, h3, h4, h5, h6, .font-headline {
      font-family: 'StackSansHeadline', sans-serif;
      font-weight: 500;
    }
    .font-notch {
      font-family: 'StackSansNotch', sans-serif;
    }
    p, li, span, div, body {
      font-family: 'StackSansText', sans-serif;
    }
    button, a {
      font-family: 'StackSansText', sans-serif;
    }
    /* Disable hover effects on touch devices */
    @media (hover: none) {
      *:hover {
        transform: none !important;
      }
      .group:hover {
        transform: none !important;
      }
      .group:hover img {
        transform: none !important;
      }
    }
  `,document.head.appendChild(t),("ontouchstart"in window||navigator.maxTouchPoints>0)&&document.documentElement.classList.add("touch-device")}function PQ(){const t=qo(),{toasts:e,removeToast:n,showError:r}=XI();_.useEffect(()=>{_Q(),_F({showError:r})},[r]),_.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),console.log("Current route:",t.pathname);const s=t.pathname==="/person",i=t.pathname.startsWith("/product/");return f.jsxs(f.Fragment,{children:[f.jsx(wQ,{measurementId:EQ}),f.jsx(bQ,{pixelId:TQ}),f.jsx(VF,{toasts:e,onRemove:n}),f.jsx(SQ,{}),f.jsxs("div",{className:`w-full min-h-screen overflow-x-hidden ${s||i?"":"bg-gradient-to-br from-purple-50 to-pink-100 pt-8"}`,children:[f.jsx("style",{children:`
          .no-scrollbar {
            -ms-overflow-style: none; /* IE and Edge */
            scrollbar-width: none; /* Firefox */
          }
          .no-scrollbar::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
          }
          /* Disable hover effects on touch devices */
          .touch-device .no-hover-scale:hover {
            transform: none !important;
          }
          .touch-device .group:hover {
            transform: none !important;
          }
          .touch-device .group:hover img {
            transform: none !important;
          }
        `}),f.jsx("div",{className:s||i?"":"max-w-7xl mx-auto px-2 sm:px-4",children:f.jsx(gi,{mode:"wait",children:f.jsx("div",{children:f.jsx(E5,{})},t.pathname)})})]})]})}const AQ=N5([{path:"/",element:f.jsx(PQ,{}),children:[{index:!0,element:f.jsx(Tz,{})},{path:"person",element:f.jsx(wK,{})},{path:"product/:productId",element:f.jsx(pQ,{})},{path:"about",element:f.jsx(_z,{})},{path:"privacy",element:f.jsx(Pz,{})},{path:"terms",element:f.jsx(Az,{})},{path:"ui",element:f.jsx(yQ,{})},{path:"error",element:f.jsx(vQ,{})},{path:":recId",element:f.jsx(FF,{})}]}]);function CQ(){return f.jsx(xQ,{children:f.jsx(OF,{children:f.jsx($5,{router:AQ,future:{v7_startTransition:!0}})})})}function SR(){const t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${t}px`)}SR();window.addEventListener("resize",SR);const V_=document.getElementById("root");V_&&QA(V_).render(f.jsx(CQ,{}));
