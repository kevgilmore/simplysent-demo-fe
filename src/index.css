@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

/* Top safe area background for iPhone - covers notch area */
html {
    background: #f7f6fe;
}


body {
    background: linear-gradient(to bottom, #f7f6fe 0%, #f1eefe 100%);
    background-attachment: fixed;
}

/* Product page: use white for body background (purple only in top safe area) */
body.product-page {
    background: white;
    background-attachment: fixed;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-top);
    min-height: env(safe-area-inset-top);
    background: #f7f6fe;
    z-index: 99999;
    pointer-events: none;
    display: block;
}

@supports (padding: max(0px)) {
    body::before {
        height: max(env(safe-area-inset-top), 0px);
        min-height: max(env(safe-area-inset-top), 0px);
    }
    
    body.product-page::before {
        height: max(env(safe-area-inset-top), 0px);
        min-height: max(env(safe-area-inset-top), 0px);
        background: #d1ccfb !important;
    }
}

/* Bottom safe area red background - TEST */
body::after {
    content: '';
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-bottom);
    background: #ff0000;
    z-index: 999999;
    pointer-events: none;
    display: none;
}

/* Show red bottom safe area when sheets are open */
body.sheet-open::after {
    display: block;
}


/* Custom Fonts */
@font-face {
    font-family: "Stack Sans";
    src: url("/fonts/StackSansText-Regular.ttf") format("truetype");
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans";
    src: url("/fonts/StackSansText-Light.ttf") format("truetype");
    font-weight: 300;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans";
    src: url("/fonts/StackSansText-ExtraLight.ttf") format("truetype");
    font-weight: 200;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans";
    src: url("/fonts/StackSansText-Medium.ttf") format("truetype");
    font-weight: 500;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans";
    src: url("/fonts/StackSansText-SemiBold.ttf") format("truetype");
    font-weight: 600;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans";
    src: url("/fonts/StackSansText-Bold.ttf") format("truetype");
    font-weight: 700;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Headline";
    src: url("/fonts/StackSansHeadline-Regular.ttf") format("truetype");
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Headline";
    src: url("/fonts/StackSansHeadline-Light.ttf") format("truetype");
    font-weight: 300;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Headline";
    src: url("/fonts/StackSansHeadline-ExtraLight.ttf") format("truetype");
    font-weight: 200;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Headline";
    src: url("/fonts/StackSansHeadline-Medium.ttf") format("truetype");
    font-weight: 500;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Headline";
    src: url("/fonts/StackSansHeadline-SemiBold.ttf") format("truetype");
    font-weight: 600;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Headline";
    src: url("/fonts/StackSansHeadline-Bold.ttf") format("truetype");
    font-weight: 700;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Notch";
    src: url("/fonts/StackSansNotch-Regular.ttf") format("truetype");
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Notch";
    src: url("/fonts/StackSansNotch-Light.ttf") format("truetype");
    font-weight: 300;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Notch";
    src: url("/fonts/StackSansNotch-ExtraLight.ttf") format("truetype");
    font-weight: 200;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Notch";
    src: url("/fonts/StackSansNotch-Medium.ttf") format("truetype");
    font-weight: 500;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Notch";
    src: url("/fonts/StackSansNotch-SemiBold.ttf") format("truetype");
    font-weight: 600;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: "Stack Sans Notch";
    src: url("/fonts/StackSansNotch-Bold.ttf") format("truetype");
    font-weight: 700;
    font-style: normal;
    font-display: swap;
}

/* Smooth gradient animation for CTA button */
@keyframes gradient-slide {
    0% {
        background-position: 0% center;
    }
    100% {
        background-position: 200% center;
    }
}

/* Reversed gradient slide animation */
@keyframes gradient-slide-reverse {
    0% {
        background-position: 200% center;
    }
    100% {
        background-position: 0% center;
    }
}

.animate-gradient-slide-reverse {
    animation: gradient-slide-reverse 4s ease-in-out infinite;
}

@keyframes scale-up {
    0% {
        transform: scale(0.9);
        opacity: 0.5;
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}


/* Rotating gradient for AI picks borders */
@keyframes rotate-gradient {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}


/* Purple glow effect for AI picks card container */
@keyframes purple-glow {
    0% {
        box-shadow: 0 0 20px rgba(95, 89, 166, 0.15), 0 0 40px rgba(95, 89, 166, 0.1), 0 0 60px rgba(95, 89, 166, 0.05);
    }
    50% {
        box-shadow: 0 0 30px rgba(122, 117, 186, 0.25), 0 0 60px rgba(122, 117, 186, 0.15), 0 0 90px rgba(122, 117, 186, 0.1);
    }
    100% {
        box-shadow: 0 0 20px rgba(95, 89, 166, 0.15), 0 0 40px rgba(95, 89, 166, 0.1), 0 0 60px rgba(95, 89, 166, 0.05);
    }
}

@keyframes purple-glow-large {
    0% {
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1), 0 0 20px rgba(95, 89, 166, 0.15), 0 0 40px rgba(95, 89, 166, 0.1), 0 0 60px rgba(95, 89, 166, 0.05);
    }
    50% {
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1), 0 0 30px rgba(122, 117, 186, 0.25), 0 0 60px rgba(122, 117, 186, 0.15), 0 0 90px rgba(122, 117, 186, 0.1);
    }
    100% {
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1), 0 0 20px rgba(95, 89, 166, 0.15), 0 0 40px rgba(95, 89, 166, 0.1), 0 0 60px rgba(95, 89, 166, 0.05);
    }
}

/* Purple inner glow effect for AI picks card */
@keyframes purple-inner-glow {
    0% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
    100% {
        opacity: 0.7;
    }
}


/* Fade in animation for new products */
@keyframes fade-in {
    from {
        opacity: 0;
        transform: scale(0.96) translateY(12px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.animate-fade-in {
    animation: fade-in 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Fade in slide animation for AI picks after training */
@keyframes fadeInSlide {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}


.animate-gradient-slide {
    animation: gradient-slide 4s ease-in-out infinite;
}


.animate-rotate-gradient {
    background-size: 200% 200%;
    animation: rotate-gradient 3s ease infinite;
}

.animate-purple-glow {
    animation: purple-glow 3s ease-in-out infinite;
}

.animate-purple-glow-large {
    animation: purple-glow-large 3s ease-in-out infinite;
}

/* (intentionally left minimal) */
/* Stabilize layout width to prevent floating nav horizontal shifting when vertical scrollbar appears on desktop */
html {
    /* Reserve scrollbar space so content width doesn't change when pages differ in height */
    scrollbar-gutter: stable both-edges;
}

body {
    /* Always show vertical scrollbar space in browsers that ignore scrollbar-gutter */
    overflow-y: scroll;
    /* Background already set above */
}

/* Product page: ensure purple top safe area - placed at end for maximum specificity */
body.product-page::before {
    background: #d1ccfb !important;
}

/* Hide scrollbars on sheet containers */
.sheet-scrollable,
[class*="overflow-y-auto"] {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
}

.sheet-scrollable::-webkit-scrollbar,
[class*="overflow-y-auto"]::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
}
